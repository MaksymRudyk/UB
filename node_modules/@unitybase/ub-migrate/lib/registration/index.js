const predefinedModels = ['uba', 'ubm', 'ubs', 'cdn', 'org']

/**
 * @param {string[]} modelNames
 * @param {MigrationContext} context
 */
module.exports = function (modelNames, context) {
  // Register only models present in domain
  const modelsToRegister = []
  for (const p of modelNames) {
    if (predefinedModels.includes(p)) {
      modelsToRegister.push(p)
    }
  }

  for (const predefinedModel of modelsToRegister) {
    if (!context.options.silent) {
      console.log('Registering model:', predefinedModel, '...')
    }
    const registerModelMetadata = require(`./${predefinedModel}-metadata`)
    registerModelMetadata(context.container, context.domainInfo)
  }
}
