!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Ext=t()}(this,function(){var Ext=Ext||{},lb,fb,gb,hb,ib,jb,kb,Ac,Bc,Cc,Dc,tc,uc,vc,wc,xc,yc,zc,Bi,$m,_m,Gr,Hr,Ir,Jr,Kr,Mr,bz,dz,ez,hA,gA,fA,Xz,Yz,Zz,sE,qE,rE,tE,eG,TP,VP,UP,nP,RR,SR,p$,r$,t$,u$,v$,w$,z$,A$,B$,C$,D$,ksa,lsa,Ghb,tnb,unb,Jqb,Fqb,rid,sid,tid,uid,uHd,rHd,sHd,tHd,vHd,hHd,iJd,jJd,kJd,lJd,zdf,Adf,Gtf;function Ec(e,t){return Ac[t]}function Fc(e,t){return t in Bc?Bc[t]:String.fromCharCode(parseInt(t.substr(2),10))}function Gc(e,t){return null!=e&&null!=t&&t.length<=e.length}function Ai(){}function Wj(e,t){var i;for(i in e)if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;return!0}function an(){}function bn(t,e,i,n){function r(){var e=this.callParent(arguments);return t.apply(this,arguments),e}return r.$name=i,r.$owner=n,e&&(r.$previous=e.$previous,e.$previous=r),r}function $z(e,t){return"\\"+t}function _z(e,t){return"\\00"+t.charCodeAt(0).toString(16)+" "}function uE(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function vE(e){var t=e||tE()-this.time,i=this.accum;++i.count,--i.depth||uE(i.total,t),uE(i.pure,t-this.childTime),(qE=this.parent)&&(++qE.accum.childCount,qE.childTime+=t)}function wE(){return{min:Number.MAX_VALUE,max:0,sum:0}}function xE(i,n){return function(){var e=i.enter(),t=n.apply(this,arguments);return e.leave(),t}}function zE(e,t,i,n){var r={avg:0,min:n.min,max:n.max,sum:0};return e&&(i=i||0,r.sum=n.sum-t*i,r.avg=r.sum/e),r}function dG(e,t){var i=e.ownerDocument.defaultView;return((i?i.getComputedStyle(e,null):e.currentStyle)||e.style)[t]}function XP(e,t){}function TR(e,t,i){return t+"-"+i.toLowerCase()}function RZb(e,t,i,n){e[n?n+i:i]=t[i]}function SZb(e,t,i){delete e[i]}function TZb(e,t,i,n){var r=n?n+i:i,s=e[r];(s||e.hasOwnProperty(r))&&UZb(t,i,s)}function UZb(e,t,i){Ext.isDefined(i)?e[t]=i:delete e[t]}function VZb(e,t,i,n,r){if(t)if(Ext.isArray(n)){var s,o=n.length;for(s=0;s<o;s++)e(t,i,n[s],r)}else e(t,i,n,r)}function vid(e,t){var i=e.toString(16);return i.length>t?i=i.substring(i.length-t):i.length<t&&(i=Ext.String.leftPad(i,t,"0")),i}function wid(e,t){var i=Math.random()*(t-e+1);return Math.floor(i)+e}function xid(e){if("number"!=typeof e)return e;var t=Math.floor(e/uid);return{lo:Math.floor(e-t*uid),hi:t}}function qHd(e){var t,i=Ext.layout.component.field.Field.tip;i&&i.isVisible()&&(t=i.activeTarget)&&t.el===e.getActionEl().dom&&i.toFront(!0)}return Ext._startTime=(new Date).getTime(),function(){function e(){}var t,i,n=Object.prototype,a=n.toString,l=!0,s=function(){var e=s.caller.caller;return e.$owner.prototype[e.$name].apply(this,arguments)},r=/\S/,o=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/;for(t in Ext.global=this,{toString:1})l=null;l=l&&["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"],Ext.enumerables=l;var d,h="function"==typeof Object.assign;function c(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}Ext.apply=function(e,t,i){if(i&&Ext.apply(e,i),e&&t&&"object"==typeof t){var n,r,s;if(h)Object.assign(e,t);else for(n in t)e[n]=t[n];if(l)for(r=l.length;r--;)s=l[r],t.hasOwnProperty(s)&&(e[s]=t[s])}return e},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{}),Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:e,identityFn:function(e){return e},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(e,t){var i;if(e)for(i in t)void 0===e[i]&&(e[i]=t[i]);return e},iterate:function(e,t,i){Ext.isEmpty(e)||(void 0===i&&(i=e),Ext.isIterable(e)?Ext.Array.each.call(Ext.Array,e,t,i):Ext.Object.each.call(Ext.Object,e,t,i))}}),Ext.apply(Ext,{extend:(d=n.constructor,function(t,e,i){function n(){}Ext.isObject(e)&&(i=e,e=t,t=i.constructor!==d?i.constructor:function(){e.apply(this,arguments)});var r,s=e.prototype;return n.prototype=s,(((r=t.prototype=new n).constructor=t).superclass=s).constructor===d&&(s.constructor=e),t.override=function(e){Ext.override(t,e)},r.override=c,r.proto=r,t.override(i),t.extend=function(e){return Ext.extend(t,e)},t}),override:function(e,t){if(e.$isClass)e.override(t);else if("function"==typeof e)Ext.apply(e.prototype,t);else{var i,n,r=e.self;if(r&&r.$isClass)for(i in t)t.hasOwnProperty(i)&&("function"==typeof(n=t[i])&&(n.$name=i,n.$owner=r,n.$previous=e.hasOwnProperty(i)?e[i]:s),e[i]=n);else Ext.apply(e,t)}return e}}),Ext.apply(Ext,{valueFrom:function(e,t,i){return Ext.isEmpty(e,i)?t:e},typeOf:function(e){var t;if(null===e)return"null";if("undefined"==(t=typeof e)||"string"==t||"number"==t||"boolean"==t)return t;switch(a.call(e)){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}return"function"==t?"function":"object"==t?void 0!==e.nodeType?3===e.nodeType?r.test(e.nodeValue)?"textnode":"whitespace":"element":"object":void 0},coerce:function(e,t){var i=Ext.typeOf(e),n=Ext.typeOf(t),r="string"==typeof e;if(i!==n)switch(n){case"string":return String(e);case"number":return Number(e);case"boolean":return!(r&&(!e||"false"===e))&&Boolean(e);case"null":return!r||e&&"null"!==e?e:null;case"undefined":return!r||e&&"undefined"!==e?e:void 0;case"date":return r&&isNaN(e)?Ext.Date.parse(e,Ext.Date.defaultFormat):Date(Number(e))}return e},isEmpty:function(e,t){return null==e||!t&&""===e||Ext.isArray(e)&&0===e.length},isArray:"isArray"in Array?Array.isArray:function(e){return"[object Array]"===a.call(e)},isDate:function(e){return"[object Date]"===a.call(e)},isObject:"[object Object]"===a.call(null)?function(e){return null!=e&&"[object Object]"===a.call(e)&&void 0===e.ownerDocument}:function(e){return"[object Object]"===a.call(e)},isSimpleObject:function(e){return e instanceof Object&&e.constructor===Object},isPrimitive:function(e){var t=typeof e;return"string"==t||"number"==t||"boolean"==t},isFunction:"undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(e){return!!e&&"[object Function]"===a.call(e)}:function(e){return!!e&&"function"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isElement:function(e){return!!e&&1===e.nodeType},isTextNode:function(e){return!!e&&"#text"===e.nodeName},isDefined:function(e){return void 0!==e},isIterable:function(e){return!(!e||"number"!=typeof e.length||"string"==typeof e||Ext.isFunction(e))&&(e.propertyIsEnumerable?!(!e.hasOwnProperty("length")||e.propertyIsEnumerable("length"))||o.test(a.call(e)):!!e.item)}}),Ext.apply(Ext,{clone:function(e){var t,i,n,r,s,o;if(null==e)return e;if(e.nodeType&&e.cloneNode)return e.cloneNode(!0);if("[object Date]"===(t=a.call(e)))return new Date(e.getTime());if("[object Array]"===t)for(i=e.length,s=[];i--;)s[i]=Ext.clone(e[i]);else if("[object Object]"===t&&e.constructor===Object){for(o in s={},e)s[o]=Ext.clone(e[o]);if(l)for(n=l.length;n--;)r=l[n],e.hasOwnProperty(r)&&(s[r]=e[r])}return s||e},getUniqueGlobalNamespace:function(){var e,t=this.uniqueGlobalNamespace;if(void 0===t){for(e=0;t="ExtBox"+ ++e,void 0!==Ext.global[t];);Ext.global[t]=Ext,this.uniqueGlobalNamespace=t}return t},functionFactoryCache:{},cacheableFunctionFactory:function(){var e,t,i,n=Array.prototype.slice.call(arguments),r=this.functionFactoryCache;return Ext.isSandboxed&&0<(i=n.length)&&(n[--i]="var Ext=window."+Ext.name+";"+n[i]),(t=r[e=n.join("")])||(t=Function.prototype.constructor.apply(Function.prototype,n),r[e]=t),t},functionFactory:function(){var e,t=Array.prototype.slice.call(arguments);return Ext.isSandboxed&&0<(e=t.length)&&(t[--e]="var Ext=window."+Ext.name+";"+t[e]),Function.prototype.constructor.apply(Function.prototype,t)},Logger:{verbose:e,log:e,info:e,warn:e,error:function(e){throw new Error(e)},deprecate:e}}),Ext.type=Ext.typeOf,i=(i=Ext.app)||(Ext.app={}),Ext.apply(i,{namespaces:{},collectNamespaces:function(e){var t,i=Ext.app.namespaces;for(t in e)e.hasOwnProperty(t)&&(i[t]=!0)},addNamespaces:function(e){var t,i,n=Ext.app.namespaces;for(Ext.isArray(e)||(e=[e]),t=0,i=e.length;t<i;t++)n[e[t]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(e){var t,i=Ext.app.namespaces,n="";for(t in i)i.hasOwnProperty(t)&&t.length>n.length&&t+"."===e.substring(0,t.length+1)&&(n=t);return""===n?void 0:n}})}(),Ext.globalEval=Ext.global.execScript?function(e){execScript(e)}:function($$code){!function(){var Ext=this.Ext;eval($$code)}()},fb=[""],gb=/([^\d\.])/,hb=/[^\d]/g,ib=/[\-+]/g,jb=/\s/g,kb=/_/g,Ext.Version=lb=Ext.extend(Object,{isVersion:!0,padModes:{"~":NaN,"^":1/0},release:"",constructor:function(e,t){var i,n,r,s,o,a,l,d=this,h=d.padModes;if(e.isVersion)return e;d.version=l=String(e).toLowerCase().replace(kb,".").replace(ib,""),r=(i=l.charAt(0))in h?(l=l.substring(1),h[i]):t?h[t]:0,d.pad=r,a=l.search(gb),d.shortVersion=l,-1!==a&&(d.release=o=l.substr(a,e.length),d.shortVersion=l.substr(0,a),o=lb.releaseValueMap[o]||o),d.releaseValue=o||r,d.shortVersion=d.shortVersion.replace(hb,""),d.parts=s=l.split(".");for(n=s.length;n--;)s[n]=parseInt(s[n],10);return r===1/0&&s.push(r),d.major=s[0]||r,d.minor=s[1]||r,d.patch=s[2]||r,d.build=s[3]||r,d},compareTo:function(e){var t,i,n,r=this.pad,s=this.parts,o=s.length,a=e.isVersion?e:new lb(e),l=a.pad,d=a.parts,h=d.length,c=Math.max(o,h);for(t=0;t<c;t++){if((i=t<o?s[t]:r)<(n=t<h?d[t]:l))return-1;if(n<i)return 1}return(i=this.releaseValue)<(n=a.releaseValue)?-1:n<i?1:0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(e){return 0<this.compareTo(e)},isGreaterThanOrEqual:function(e){return 0<=this.compareTo(e)},isLessThan:function(e){return this.compareTo(e)<0},isLessThanOrEqual:function(e){return this.compareTo(e)<=0},equals:function(e){return 0===this.compareTo(e)},match:function(e){return e=String(e),this.version.substr(0,e.length)===e},toArray:function(){var e=this;return[e.getMajor(),e.getMinor(),e.getPatch(),e.getBuild(),e.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(e){return 0<this.compareTo(e)},lt:function(e){return this.compareTo(e)<0},gtEq:function(e){return 0<=this.compareTo(e)},ltEq:function(e){return this.compareTo(e)<=0}}),Ext.apply(lb,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(e){return e?isNaN(e)?this.releaseValueMap[e]||e:parseInt(e,10):0},compare:function(e,t){return(e.isVersion?e:new lb(e)).compareTo(t)}}),Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(e,t){return Ext.lastRegisteredVersion=Ext.versions[e]=new lb(t),this},getVersion:function(e){return void 0===e?Ext.lastRegisteredVersion:Ext.versions[e]},checkVersion:function(e,t){var i,n,r,s,o,a,l,d,h=Ext.isArray(e),c=h?e:fb,u=c.length,f=Ext.versions,g=f.ext||f.touch;for(h||(fb[0]=e),i=0;i<u;++i){if(Ext.isString(a=c[i])){if(0<=a.indexOf(" ")&&(a=a.replace(jb,"")),(n=a.indexOf("@"))<0)l=a,d=g;else{if(!(d=f[a.substring(0,n)])){if(t)return!1;continue}l=a.substring(n+1)}(n=l.indexOf("-"))<0?"+"===l.charAt(n=l.length-1)?(s=l.substring(0,n),o=null):s=o=l:(s=0<n?l.substring(0,n):null,o=l.substring(n+1)),r=!0,s&&(r=(s=new lb(s,"~")).ltEq(d)),r&&o&&(r=(o=new lb(o,"~")).gtEq(d))}else r=Ext.checkVersion(a.and||a.or,!a.or),a.not&&(r=!r);if(r){if(!t)return!0}else if(t)return!1}return!!t},deprecate:function(e,t,i,n){lb.compare(Ext.getVersion(e),t)<1&&i.call(n)}}),Ext.setVersion("core","4.2.2.1144"),Ext.String=(tc=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,uc=/('|\\)/g,vc=/\{(\d+)\}/g,wc=/([-.*+?\^${}()|\[\]\/\\])/g,xc=/^\s+|\s+$/g,yc=/\s+/,zc=/(^[^a-z]*|[^\w])/gi,{insert:function(e,t,i){if(!e)return t;if(!t)return e;var n=e.length;return i||0===i||(i=n),i<0&&(i=n<=(i*=-1)?0:n-i),0===i?e=t+e:i>=e.length?e+=t:e=e.substr(0,i)+t+e.substr(i),e},startsWith:function(e,t,i){var n=Gc(e,t);return n&&(i&&(e=e.toLowerCase(),t=t.toLowerCase()),n=0===e.lastIndexOf(t,0)),n},endsWith:function(e,t,i){var n=Gc(e,t);return n&&(i&&(e=e.toLowerCase(),t=t.toLowerCase()),n=-1!==e.indexOf(t,e.length-t.length)),n},createVarName:function(e){return e.replace(zc,"")},htmlEncode:function(e){return e?String(e).replace(Cc,Ec):e},htmlDecode:function(e){return e?String(e).replace(Dc,Fc):e},hasHtmlCharacters:function(e){return Cc.test(e)},addCharacterEntities:function(e){var t,i,n=[],r=[];for(t in e)i=e[t],Bc[t]=i,Ac[i]=t,n.push(i),r.push(t);Cc=new RegExp("("+n.join("|")+")","g"),Dc=new RegExp("("+r.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){Ac={},Bc={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(e,t){return Ext.isEmpty(t)?e:e+(-1===e.indexOf("?")?"?":"&")+t},trim:function(e){return e.replace(tc,"")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1)},uncapitalize:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},ellipsis:function(e,t,i){if(e&&e.length>t){if(i){var n=e.substr(0,t-2),r=Math.max(n.lastIndexOf(" "),n.lastIndexOf("."),n.lastIndexOf("!"),n.lastIndexOf("?"));if(-1!==r&&t-15<=r)return n.substr(0,r)+"..."}return e.substr(0,t-3)+"..."}return e},escapeRegex:function(e){return e.replace(wc,"\\$1")},escape:function(e){return e.replace(uc,"\\$1")},toggle:function(e,t,i){return e===t?i:t},leftPad:function(e,t,i){var n=String(e);for(i=i||" ";n.length<t;)n=i+n;return n},format:function(e){var i=Ext.Array.toArray(arguments,1);return e.replace(vc,function(e,t){return i[t]})},repeat:function(e,t,i){t<1&&(t=0);for(var n=[],r=t;r--;)n.push(e);return n.join(i||"")},splitWords:function(e){return e&&"string"==typeof e?e.replace(xc,"").split(yc):e||[]}}),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Number=new function(){var s=this,e="1"!==.9.toFixed(),n=Math;Ext.apply(this,{constrain:function(e,t,i){var n=parseFloat(e);return n<t?t:i<n?i:n},snap:function(e,t,i,n){var r;return void 0===e||e<i?i||0:(t&&0!=(r=e%t)&&(e-=r,t<=2*r?e+=t:2*r<-t&&(e-=t)),s.constrain(e,i,n))},snapInRange:function(e,t,i,n){var r;return i=i||0,void 0===e||e<i?i:(t&&(r=(e-i)%t)&&(e-=r,t<=(r*=2)&&(e+=t)),void 0!==n&&e>(n=s.snapInRange(n,t,i))&&(e=n),e)},toFixed:e?function(e,t){t=t||0;var i=n.pow(10,t);return(n.round(e*i)/i).toFixed(t)}:function(e,t){return e.toFixed(t)},from:function(e,t){return isFinite(e)&&(e=parseFloat(e)),isNaN(e)?t:e},randomInt:function(e,t){return n.floor(n.random()*(t-e+1)+e)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}}),Ext.num=function(){return s.from.apply(this,arguments)}},function(){var g,p,n,e,r=Array.prototype,m=r.slice,s=!0;try{"undefined"!=typeof document&&m.call(document.getElementsByTagName("body"))}catch(e){s=!1}p=function(e,t,i){return e.splice(t,i),e},n=function(e,t,i,n){return n&&n.length?0!==t||i?t<e.length?e.splice.apply(e,[t,i].concat(n)):e.push.apply(e,n):e.unshift.apply(e,n):e.splice(t,i),e},e=function(e){return e.splice.apply(e,m.call(arguments,1))},g=Ext.Array={each:function(e,t,i,n){var r,s=(e=g.from(e)).length;if(!0!==n){for(r=0;r<s;r++)if(!1===t.call(i||e[r],e[r],r,e))return r}else for(r=s-1;-1<r;r--)if(!1===t.call(i||e[r],e[r],r,e))return r;return!0},forEach:function(e,t,i){e.forEach(t,i)},indexOf:function(e,t,i){return r.indexOf.call(e,t,i)},contains:function(e,t){return-1!==r.indexOf.call(e,t)},toArray:function(e,t,i){if(!e||!e.length)return[];if("string"==typeof e&&(e=e.split("")),s)return m.call(e,t||0,i||e.length);var n,r=[];for(t=t||0,i=i?i<0?e.length+i:i:e.length,n=t;n<i;n++)r.push(e[n]);return r},pluck:function(e,t){var i,n,r,s=[];for(i=0,n=e.length;i<n;i++)r=e[i],s.push(r[t]);return s},map:function(e,t,i){return e.map(t,i)},every:function(e,t,i){return e.every(t,i)},some:function(e,t,i){return e.some(t,i)},equals:function(e,t){var i,n=e.length,r=t.length;if(e===t)return!0;if(n!==r)return!1;for(i=0;i<n;++i)if(e[i]!==t[i])return!1;return!0},clean:function(e){for(var t,i=[],n=0,r=e.length;n<r;n++)t=e[n],Ext.isEmpty(t)||i.push(t);return i},unique:function(e){for(var t,i=[],n=0,r=e.length;n<r;n++)t=e[n],-1===g.indexOf(i,t)&&i.push(t);return i},filter:function(e,t,i){return e.filter(t,i)},findBy:function(e,t,i){for(var n=0,r=e.length;n<r;n++)if(t.call(i||e,e[n],n))return e[n];return null},from:function(e,t){if(null==e)return[];if(Ext.isArray(e))return t?m.call(e):e;var i=typeof e;return!e||void 0===e.length||"string"==i||"function"==i&&e.apply?[e]:g.toArray(e)},remove:function(e,t){var i=g.indexOf(e,t);return-1!==i&&p(e,i,1),e},include:function(e,t){g.contains(e,t)||e.push(t)},clone:function(e){return m.call(e)},merge:function(){var e,t,i=m.call(arguments),n=[];for(e=0,t=i.length;e<t;e++)n=n.concat(i[e]);return g.unique(n)},intersect:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u=[],f=m.call(arguments);if(!f.length)return u;for(e=f.length,d=r=0;d<e;d++)s=f[d],(!n||s.length<n.length)&&(n=s,r=d);for(n=g.unique(n),p(f,r,1),o=n.length,e=f.length,d=0;d<o;d++){for(a=n[d],h=l=0;h<e;h++)for(i=(t=f[h]).length,c=0;c<i;c++)if(a===t[c]){l++;break}l===e&&u.push(a)}return u},difference:function(e,t){var i,n,r,s=m.call(e),o=s.length;for(i=0,r=t.length;i<r;i++)for(n=0;n<o;n++)s[n]===t[i]&&(p(s,n,1),n--,o--);return s},slice:[1,2].slice(1,void 0).length?function(e,t,i){return m.call(e,t,i)}:function(e,t,i){return void 0===t?m.call(e):void 0===i?m.call(e,t):m.call(e,t,i)},sort:function(e,t){return t?e.sort(t):e.sort()},flatten:function(e){var s=[];return function e(t){var i,n,r;for(i=0,n=t.length;i<n;i++)r=t[i],Ext.isArray(r)?e(r):s.push(r);return s}(e)},min:function(e,t){var i,n,r,s=e[0];for(i=0,n=e.length;i<n;i++)r=e[i],t?1===t(s,r)&&(s=r):r<s&&(s=r);return s},max:function(e,t){var i,n,r,s=e[0];for(i=0,n=e.length;i<n;i++)r=e[i],t?-1===t(s,r)&&(s=r):s<r&&(s=r);return s},mean:function(e){return 0<e.length?g.sum(e)/e.length:void 0},sum:function(e){var t,i,n=0;for(t=0,i=e.length;t<i;t++)n+=e[t];return n},toMap:function(e,t,i){var n={},r=e.length;if(t)if("string"==typeof t)for(;r--;)n[e[r][t]]=r+1;else for(;r--;)n[t.call(i,e[r])]=r+1;else for(;r--;)n[e[r]]=r+1;return n},toValueMap:function(e,t,i){var n={},r=e.length;if(t)if("string"==typeof t)for(;r--;)n[e[r][t]]=e[r];else for(;r--;)n[t.call(i,e[r])]=e[r];else for(;r--;)n[e[r]]=e[r];return n},erase:p,insert:function(e,t,i){return n(e,t,0,i)},replace:n,splice:e,push:function(e){var t,i=arguments.length,n=1;for(void 0===e?e=[]:Ext.isArray(e)||(e=[e]);n<i;n++)t=arguments[n],Array.prototype.push[Ext.isIterable(t)?"apply":"call"](e,t);return e}},Ext.each=g.each,g.union=g.merge,Ext.min=g.min,Ext.max=g.max,Ext.sum=g.sum,Ext.mean=g.mean,Ext.flatten=g.flatten,Ext.clean=g.clean,Ext.unique=g.unique,Ext.pluck=g.pluck,Ext.toArray=function(){return g.toArray.apply(g,arguments)}}(),Ext.Function={flexSetter:function(r){return function(e,t){var i,n;if(null===e)return this;if("string"!=typeof e){for(i in e)e.hasOwnProperty(i)&&r.call(this,i,e[i]);if(Ext.enumerables)for(n=Ext.enumerables.length;n--;)i=Ext.enumerables[n],e.hasOwnProperty(i)&&r.call(this,i,e[i])}else r.call(this,e,t);return this}},bind:function(e,t,i,n){if(2===arguments.length)return function(){return e.apply(t,arguments)};var r=e,s=Array.prototype.slice;return function(){var e=i||arguments;return!0===n?e=(e=s.call(arguments,0)).concat(i):"number"==typeof n&&(e=s.call(arguments,0),Ext.Array.insert(e,n,i)),r.apply(t||Ext.global,e)}},pass:function(t,i,n){return Ext.isArray(i)||(i=Ext.isIterable(i)?Ext.Array.clone(i):void 0!==i?[i]:[]),function(){var e=[].concat(i);return e.push.apply(e,arguments),t.apply(n||this,e)}},alias:function(e,t){return function(){return e[t].apply(e,arguments)}},clone:function(e){return function(){return e.apply(this,arguments)}},createInterceptor:function(t,i,n,r){return Ext.isFunction(i)?(r=Ext.isDefined(r)?r:null,function(){var e=arguments;return i.target=this,i.method=t,!1!==i.apply(n||this||Ext.global,e)?t.apply(this||Ext.global,e):r}):t},createDelayed:function(i,n,e,t,r){return(e||t)&&(i=Ext.Function.bind(i,e,t,r)),function(){var e=this,t=Array.prototype.slice.call(arguments);setTimeout(function(){i.apply(e,t)},n)}},defer:function(e,t,i,n,r){return e=Ext.Function.bind(e,i,n,r),0<t?setTimeout(Ext.supports.TimeoutActualLateness?function(){e()}:e,t):(e(),0)},createSequence:function(t,i,n){return i?function(){var e=t.apply(this,arguments);return i.apply(n||this,arguments),e}:t},createBuffered:function(i,n,r,s){var o;return function(){var e=s||Array.prototype.slice.call(arguments,0),t=r||this;o&&clearTimeout(o),o=setTimeout(function(){i.apply(t,e)},n)}},createThrottled:function(e,t,i){function n(){e.apply(i||this,o),r=Ext.Date.now()}var r,s,o,a;return function(){s=Ext.Date.now()-r,o=arguments,clearTimeout(a),!r||t<=s?n():a=setTimeout(n,t-s)}},interceptBefore:function(e,t,i,n){var r=e[t]||Ext.emptyFn;return e[t]=function(){var e=i.apply(n||this,arguments);return r.apply(this,arguments),e}},interceptAfter:function(e,t,i,n){var r=e[t]||Ext.emptyFn;return e[t]=function(){return r.apply(this,arguments),i.apply(n||this,arguments)}}},Ext.defer=Ext.Function.alias(Ext.Function,"defer"),Ext.pass=Ext.Function.alias(Ext.Function,"pass"),Ext.bind=Ext.Function.alias(Ext.Function,"bind"),Bi=Ext.Object={chain:Object.create||function(e){Ai.prototype=e;var t=new Ai;return Ai.prototype=null,t},clear:function(e){for(var t=Bi.getKeys(e),i=t.length;i--;)delete e[t[i]];return e},toQueryObjects:function(e,t,i){var n,r,s=Bi.toQueryObjects,o=[];if(Ext.isArray(t))for(n=0,r=t.length;n<r;n++)i?o=o.concat(s(e+"["+n+"]",t[n],!0)):o.push({name:e,value:t[n]});else if(Ext.isObject(t))for(n in t)t.hasOwnProperty(n)&&(i?o=o.concat(s(e+"["+n+"]",t[n],!0)):o.push({name:e,value:t[n]}));else o.push({name:e,value:t});return o},toQueryString:function(e,t){var i,n,r,s,o,a=[],l=[];for(i in e)e.hasOwnProperty(i)&&(a=a.concat(Bi.toQueryObjects(i,e[i],t)));for(n=0,r=a.length;n<r;n++)o=(s=a[n]).value,Ext.isEmpty(o)?o="":Ext.isDate(o)&&(o=Ext.Date.toString(o)),l.push(encodeURIComponent(s.name)+"="+encodeURIComponent(String(o)));return l.join("&")},fromQueryString:function(e,t){var i,n,r,s,o,a,l,d,h,c,u,f,g,p=e.replace(/^\?/,"").split("&"),m={};for(o=0,a=p.length;o<a;o++)if(0<(l=p[o]).length)if(n=l.split("="),r=decodeURIComponent(n[0]),s=void 0!==n[1]?decodeURIComponent(n[1]):"",t){if(c=r.match(/(\[):?([^\]]*)\]/g),r=r.match(/^([^\[]+)/)[0],u=[],null===c){m[r]=s;continue}for(d=0,h=c.length;d<h;d++)f=2===(f=c[d]).length?"":f.substring(1,f.length-1),u.push(f);for(u.unshift(r),i=m,d=0,h=u.length;d<h;d++)f=u[d],d===h-1?Ext.isArray(i)&&""===f?i.push(s):i[f]=s:(void 0!==i[f]&&"string"!=typeof i[f]||(g=u[d+1],i[f]=Ext.isNumeric(g)||""===g?[]:{}),i=i[f])}else m.hasOwnProperty(r)?(Ext.isArray(m[r])||(m[r]=[m[r]]),m[r].push(s)):m[r]=s;return m},each:function(e,t,i){for(var n in e)if(e.hasOwnProperty(n)&&!1===t.call(i||e,n,e[n],e))return},merge:function(e){for(var t,i,n,r,s=1,o=arguments.length,a=Bi.merge,l=Ext.clone;s<o;s++)for(i in t=arguments[s])(n=t[i])&&n.constructor===Object?(r=e[i])&&r.constructor===Object?a(r,n):e[i]=l(n):e[i]=n;return e},mergeIf:function(e){for(var t,i,n,r=1,s=arguments.length,o=Ext.clone;r<s;r++)for(i in t=arguments[r])i in e||((n=t[i])&&n.constructor===Object?e[i]=o(n):e[i]=n);return e},getKey:function(e,t){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t)return i;return null},getValues:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(e[t]);return i},getKeys:"function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},getSize:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},equals:function(e,t){return e===t||(e&&t?Wj(e,t)&&Wj(t,e):!e&&!t&&e===t)},classify:function(e){function t(){for(var e,t=0,i=s.length;t<i;t++)this[e=s[t]]=new o[e]}var i,n,r=e,s=[],o={};for(i in e)e.hasOwnProperty(i)&&(n=e[i])&&n.constructor===Object&&(s.push(i),o[i]=Bi.classify(n));return t.prototype=r,t}},Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf,Ext.urlEncode=function(){var e=Ext.Array.from(arguments),t="";return"string"==typeof e[1]&&(t=e[1]+"&",e[1]=!1),t+Bi.toQueryString.apply(Bi,e)},Ext.urlDecode=function(){return Bi.fromQueryString.apply(Bi,arguments)},Ext.Date=new function(){var i,c=this,t=/(\\.)/g,n=/([gGhHisucUOPZ]|MS)/,r=/([djzmnYycU]|MS)/,s=/\\/gi,o=/\{(\d+)\}/g,a=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),u=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear(),","jan4 = new Date(year, 0, 4, 0, 0, 0),","week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");function f(e){var i=Array.prototype.slice.call(arguments,1);return e.replace(o,function(e,t){return i[t]})}Ext.apply(c,{now:Date.now||function(){return+new Date},toString:function(e){var t=Ext.String.leftPad;return e.getFullYear()+"-"+t(e.getMonth()+1,2,"0")+"-"+t(e.getDate(),2,"0")+"T"+t(e.getHours(),2,"0")+":"+t(e.getMinutes(),2,"0")+":"+t(e.getSeconds(),2,"0")},getElapsed:function(e,t){return Math.abs(e-(t||c.now()))},useStrict:!1,formatCodeToRegex:function(e,t){var i=c.parseCodes[e];return i&&(i="function"==typeof i?i():i,c.parseCodes[e]=i),i?Ext.applyIf({c:i.c?f(i.c,t||"{0}"):i.c},i):{g:0,c:null,s:Ext.String.escapeRegex(e)}},parseFunctions:{MS:function(e,t){var i=(e||"").match(a);return i?new Date(1*((i[1]||"")+i[2])):null},time:function(e,t){var i=parseInt(e,10);return i||0===i?new Date(i):null},timestamp:function(e,t){var i=parseInt(e,10);return i||0===i?new Date(1e3*i):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return c.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(e){return Ext.Date.monthNames[e].substring(0,3)},getShortDayName:function(e){return Ext.Date.dayNames[e].substring(0,3)},getMonthNumber:function(e){return Ext.Date.monthNumbers[e.substring(0,1).toUpperCase()+e.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(e){return n.test(e.replace(t,""))},formatContainsDateInfo:function(e){return r.test(e.replace(t,""))},unescapeFormat:function(e){return e.replace(s,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var e,t,i,n,r;for(t=[],i=0,n=(e="Y-m-dTH:i:sP").length;i<n;++i)r=e.charAt(i),t.push("T"==r?"'T'":c.getFormatCode(r));return t.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(e,t,i,n,r,s,o){n=n||0,r=r||0,s=s||0,o=o||0;var a=c.add(new Date(e<100?100:e,t-1,i,n,r,s,o),c.YEAR,e<100?e-100:0);return e==a.getFullYear()&&t==a.getMonth()+1&&i==a.getDate()&&n==a.getHours()&&r==a.getMinutes()&&s==a.getSeconds()&&o==a.getMilliseconds()},parse:function(e,t,i){var n=c.parseFunctions;return null==n[t]&&c.createParser(t),n[t].call(c,e,Ext.isDefined(i)?i:c.useStrict)},parseDate:function(e,t,i){return c.parse(e,t,i)},getFormatCode:function(e){var t=c.formatCodes[e];return t&&(t="function"==typeof t?t():t,c.formatCodes[e]=t),t||"'"+Ext.String.escape(e)+"'"},createFormat:function(e){var t,i=[],n=!1,r="";for(t=0;t<e.length;++t)r=e.charAt(t),n||"\\"!=r?n?(n=!1,i.push("'"+Ext.String.escape(r)+"'")):i.push(c.getFormatCode(r)):n=!0;c.formatFunctions[e]=Ext.functionFactory("return "+i.join("+"))},createParser:function(e){for(var t,i=c.parseRegexes.length,n=1,r=[],s=[],o=!1,a="",l=0,d=e.length,h=[];l<d;++l)a=e.charAt(l),o||"\\"!=a?o?(o=!1,s.push(Ext.String.escape(a))):(n+=(t=c.formatCodeToRegex(a,n)).g,s.push(t.s),t.g&&t.c&&(t.calcAtEnd?h.push(t.c):r.push(t.c))):o=!0;r=r.concat(h),c.parseRegexes[i]=new RegExp("^"+s.join("")+"$","i"),c.parseFunctions[e]=Ext.functionFactory("input","strict",f(u,i,r.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var e=[],t=0;t<7;e.push(c.getShortDayName(t)),++t);return{g:0,c:null,s:"(?:"+e.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+c.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+c.monthNames.join("|")+")"}},M:function(){for(var e=[],t=0;t<12;e.push(c.getShortMonthName(t)),++t);return Ext.applyIf({s:"("+e.join("|")+")"},c.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var e,t,i=[],n=[c.formatCodeToRegex("Y",1),c.formatCodeToRegex("m",2),c.formatCodeToRegex("d",3),c.formatCodeToRegex("H",4),c.formatCodeToRegex("i",5),c.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",c.formatCodeToRegex("P",8).c,"}else{",c.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];for(e=0,t=n.length;e<t;++e)i.push(n[e].c);return{g:1,c:i.join(""),s:[n[0].s,"(?:","-",n[1].s,"(?:","-",n[2].s,"(?:","(?:T| )?",n[3].s,":",n[4].s,"(?::",n[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(e,t){return c.format(e,t)},isEqual:function(e,t){return e&&t?e.getTime()===t.getTime():!(e||t)},format:function(e,t){var i=c.formatFunctions;return Ext.isDate(e)?(null==i[t]&&c.createFormat(t),i[t].call(e)+""):""},getTimezone:function(e){return e.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(e,t){var i=e.getTimezoneOffset();return(0<i?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(i)/60),2,"0")+(t?":":"")+Ext.String.leftPad(Math.abs(i%60),2,"0")},getDayOfYear:function(e){var t,i=0,n=Ext.Date.clone(e),r=e.getMonth();for(t=0,n.setDate(1),n.setMonth(0);t<r;n.setMonth(++t))i+=c.getDaysInMonth(n);return i+e.getDate()-1},getWeekOfYear:function(e){var t=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()+3)/864e5,i=Math.floor(t/7),n=new Date(6048e5*i).getUTCFullYear();return i-Math.floor(Date.UTC(n,0,7)/6048e5)+1},isLeapYear:function(e){var t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))},getFirstDayOfMonth:function(e){var t=(e.getDay()-(e.getDate()-1))%7;return t<0?7+t:t},getLastDayOfMonth:function(e){return c.getLastDateOfMonth(e).getDay()},getFirstDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},getLastDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),c.getDaysInMonth(e))},getDaysInMonth:(i=[31,28,31,30,31,30,31,31,30,31,30,31],function(e){var t=e.getMonth();return 1==t&&c.isLeapYear(e)?29:i[t]}),getSuffix:function(e){switch(e.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(e){return new Date(e.getTime())},isDST:function(e){return new Date(e.getFullYear(),0,1).getTimezoneOffset()!=e.getTimezoneOffset()},clearTime:function(e,t){if(t)return Ext.Date.clearTime(Ext.Date.clone(e));var i,n,r=e.getDate();if(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getDate()!=r){for(i=1,n=c.add(e,Ext.Date.HOUR,i);n.getDate()!=r;i++,n=c.add(e,Ext.Date.HOUR,i));e.setDate(r),e.setHours(n.getHours())}return e},add:function(e,t,i){var n,r,s=Ext.Date.clone(e),o=(Ext.Date,0);if(!t||0===i)return s;if(r=i-parseInt(i,10),i=parseInt(i,10))switch(t.toLowerCase()){case Ext.Date.MILLI:s.setTime(s.getTime()+i);break;case Ext.Date.SECOND:s.setTime(s.getTime()+1e3*i);break;case Ext.Date.MINUTE:s.setTime(s.getTime()+60*i*1e3);break;case Ext.Date.HOUR:s.setTime(s.getTime()+60*i*60*1e3);break;case Ext.Date.DAY:s.setDate(s.getDate()+i);break;case Ext.Date.MONTH:28<(n=e.getDate())&&(n=Math.min(n,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.MONTH,i)).getDate())),s.setDate(n),s.setMonth(e.getMonth()+i);break;case Ext.Date.YEAR:28<(n=e.getDate())&&(n=Math.min(n,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.YEAR,i)).getDate())),s.setDate(n),s.setFullYear(e.getFullYear()+i)}if(r){switch(t.toLowerCase()){case Ext.Date.MILLI:o=1;break;case Ext.Date.SECOND:o=1e3;break;case Ext.Date.MINUTE:o=6e4;break;case Ext.Date.HOUR:o=36e5;break;case Ext.Date.DAY:o=864e5;break;case Ext.Date.MONTH:o=864e5*(n=c.getDaysInMonth(s));break;case Ext.Date.YEAR:o=864e5*(n=c.isLeapYear(s)?366:365)}o&&s.setTime(s.getTime()+o*r)}return s},subtract:function(e,t,i){return c.add(e,t,-i)},between:function(e,t,i){var n=e.getTime();return t.getTime()<=n&&n<=i.getTime()},compat:function(){var e,t,i,n,r=window.Date,s=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],o=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],a=s.length,l=o.length;for(n=0;n<a;n++)r[t=s[n]]=c[t];for(e=0;e<l;e++)i=o[e],r.prototype[i]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),c[i].apply(c,e)}}})},$m=Ext.Function.flexSetter,_m=[],Ext.apply(an,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(e){var t,i,n,r,s,o,a=e.prototype;if(((i=this.prototype=Ext.Object.chain(a)).self=this).superclass=i.superclass=a,!e.$isClass)for(n in t=Ext.Base.prototype)n in i&&(i[n]=t[n]);if(o=a.$inheritableStatics)for(n=0,r=o.length;n<r;n++)s=o[n],this.hasOwnProperty(s)||(this[s]=e[s]);e.$onExtended&&(this.$onExtended=e.$onExtended.slice()),i.config=new i.configClass,i.initConfigList=i.initConfigList.slice(),i.initConfigMap=Ext.clone(i.initConfigMap),i.configMap=Ext.Object.chain(i.configMap)},$onExtended:[],triggerExtended:function(){var e,t,i=this.$onExtended,n=i.length;if(0<n)for(e=0;e<n;e++)(t=i[e]).fn.apply(t.scope||this,arguments)},onExtended:function(e,t){return this.$onExtended.push({fn:e,scope:t}),this},addConfig:function(e,t){var i,n,r,s=this.prototype,o=Ext.Class.configNameCache,a=s.configMap,l=s.initConfigList,d=s.initConfigMap,h=s.config;for(n in e)e.hasOwnProperty(n)&&(a[n]||(a[n]=!0),r=e[n],i=o[n].initialized,d[n]||null===r||s[i]||(d[n]=!0,l.push(n)));t?Ext.merge(h,e):Ext.mergeIf(h,e),s.configClass=Ext.Object.classify(h)},addStatics:function(e){var t,i;for(i in e)e.hasOwnProperty(i)&&("function"!=typeof(t=e[i])||t.$isClass||t===Ext.emptyFn||t===Ext.identityFn||(t.$owner=this,t.$name=i),this[i]=t);return this},addInheritableStatics:function(e){var t,i,n,r,s=this.prototype;for(n in t=s.$inheritableStatics,i=s.$hasInheritableStatics,t||(t=s.$inheritableStatics=[],i=s.$hasInheritableStatics={}),e)e.hasOwnProperty(n)&&(r=e[n],this[n]=r,i[n]||(i[n]=!0,t.push(n)));return this},addMembers:function(e){var t,i,n,r,s=this.prototype,o=Ext.enumerables,a=Object.keys(e);o&&a.push.apply(a,o);var l={};for(t=0,i=a.length;t<i;t++)"function"!=typeof(r=e[n=a[t]])||r.$isClass||r===Ext.emptyFn||r===Ext.identityFn||(r.$owner=this,r.$name=n),l[n]=r;return Ext.apply(s,l),this},addMember:function(e,t){return"function"!=typeof t||t.$isClass||t===Ext.emptyFn||t===Ext.identityFn||(t.$owner=this,t.$name=e),this.prototype[e]=t,this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(e,t){var i,n,r,s,o,a=this.prototype,l=e.prototype;for(i=0,n=(t=Ext.Array.from(t)).length;i<n;i++)"function"==typeof(o=l[r=t[i]])?((s=Ext.Function.clone(o)).$owner=this,a[s.$name=r]=s):a[r]=o;return this},override:function(e){var t,i,n,r,s,o,a=this,l=Ext.enumerables,d=a.prototype,h=Ext.Function.clone;2===arguments.length&&(t=e,(e={})[t]=arguments[1],l=null);do{for(t in s=[],r=null,e)"statics"==t?r=e[t]:"inheritableStatics"==t?a.addInheritableStatics(e[t]):"config"==t?a.addConfig(e[t],!0):s.push(t);for(l&&s.push.apply(s,l),i=s.length;i--;)t=s[i],e.hasOwnProperty(t)&&("function"!=typeof(n=e[t])||n.$className||n===Ext.emptyFn||n===Ext.identityFn||(void 0!==n.$owner&&(n=h(n)),n.$owner=a,n.$name=t,(o=d.hasOwnProperty(t)&&d[t])&&(n.$previous=o)),d[t]=n);d=a,e=r}while(e);return this},callParent:function(e){var t;return(t=this.callParent.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,e||_m)},callSuper:function(e){var t;return(t=this.callSuper.caller)&&((t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,e||_m)},mixin:function(e,t){var i,n,r,s,o,a,l,d,h=this,c=t.prototype,u=h.prototype;for(i in void 0!==c.onClassMixedIn&&c.onClassMixedIn.call(t,h),u.hasOwnProperty("mixins")||(u.mixins="mixins"in u?Ext.Object.chain(u.mixins):{}),c)if(a=c[i],"mixins"===i)Ext.merge(u.mixins,a);else if("xhooks"===i)for(l in a)(d=a[l]).$previous=Ext.emptyFn,u.hasOwnProperty(l)?bn(d,u[l],l,h):u[l]=bn(d,null,l,h);else"mixinId"!==i&&"config"!==i&&void 0===u[i]&&(u[i]=a);if(n=c.$inheritableStatics)for(r=0,s=n.length;r<s;r++)o=n[r],h.hasOwnProperty(o)||(h[o]=t[o]);return"config"in c&&h.addConfig(c.config,!1),u.mixins[e]=c,h},getName:function(){return Ext.getClassName(this)},createAlias:$m(function(e,t){this.override(e,function(){return this[t].apply(this,arguments)})}),addXtype:function(e){var t=this.prototype,i=t.xtypesMap,n=t.xtypes,r=t.xtypesChain;return t.hasOwnProperty("xtypesMap")||(i=t.xtypesMap=Ext.merge({},t.xtypesMap||{}),n=t.xtypes=t.xtypes?[].concat(t.xtypes):[],r=t.xtypesChain=t.xtypesChain?[].concat(t.xtypesChain):[],t.xtype=e),i[e]||(i[e]=!0,n.push(e),r.push(e),Ext.ClassManager.setAlias(this,"widget."+e)),this}}),an.implement({isInstance:!0,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var e=this.statics.caller,t=this.self;return e?e.$owner:t},callParent:function(e){var t;return((t=this.callParent.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name])).apply(this,e||_m)},callSuper:function(e){var t;return((t=this.callSuper.caller)&&(t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name]).apply(this,e||_m)},self:an,constructor:function(){return this},initConfig:function(e){var t,i,n,r,s,o=e,a=Ext.Class.configNameCache,l=new this.configClass,d=this.initConfigList,h=this.configMap;if(this.initConfig=Ext.emptyFn,this.initialConfig=o||{},this.config=e=o?Ext.merge(l,e):l,o)for(r in d=d.slice(),o)h[r]&&null!==o[r]&&(d.push(r),this[a[r].initialized]=!1);for(i=0,n=d.length;i<n;i++)this[s=(t=a[r=d[i]]).initialized]||(this[s]=!0,this[t.set].call(this,e[r]));return this},hasConfig:function(e){return Boolean(this.configMap[e])},setConfig:function(e,t){if(!e)return this;var i,n,r=Ext.Class.configNameCache,s=this.config,o=this.configMap,a=this.initialConfig;for(i in t=Boolean(t),e)t&&a.hasOwnProperty(i)||(n=e[i],s[i]=n,o[i]&&this[r[i].set](n));return this},getConfig:function(e){return this[Ext.Class.configNameCache[e].get]()},getInitialConfig:function(e){var t=this.config;return e?t[e]:t},onConfigUpdate:function(e,t,i){var n,r,s,o,a,l,d=this.self;for(e=Ext.Array.from(e),i=i||this,n=0,r=e.length;n<r;n++)s=e[n],o="update"+Ext.String.capitalize(s),a=this[o]||Ext.emptyFn,(l=function(){a.apply(this,arguments),i[t].apply(i,arguments)}).$name=o,l.$owner=d,this[o]=l},destroy:function(){this.destroy=Ext.emptyFn}}),an.prototype.callOverridden=an.prototype.callParent,Ext.Base=an,function(){var m,e,r,s=Ext.Base,o=[];for(e in s)s.hasOwnProperty(e)&&o.push(e);r=o.length,Ext.Class=m=function(e,t,i){return"function"!=typeof e&&(i=t,t=e,e=null),t=t||{},e=m.create(e,t),m.process(e,t,i),e},Ext.apply(m,{onBeforeCreated:function(e,t,i){e.addMembers(t),i.onCreated.call(e,e)},create:function(e,t){var i,n;for(e=e||function(){return this.constructor.apply(this,arguments)||null},n=0;n<r;n++)e[i=o[n]]=s[i];return e},process:function(e,t,i){var n,r,s,o,a,l,d,h=t.preprocessors||m.defaultPreprocessors,c=this.preprocessors,u={onBeforeCreated:this.onBeforeCreated},f=[];for(delete t.preprocessors,s=0,o=h.length;s<o;s++)if("string"==typeof(n=h[s])){if(!0===(r=(n=c[n]).properties))f.push(n.fn);else if(r)for(a=0,l=r.length;a<l;a++)if(d=r[a],t.hasOwnProperty(d)){f.push(n.fn);break}}else f.push(n);u.onCreated=i||Ext.emptyFn,u.preprocessors=f,this.doProcess(e,t,u)},doProcess:function(e,t,i){for(var n=i.preprocessors,r=n.shift(),s=this.doProcess;r;r=n.shift())if(!1===r.call(this,e,t,i,s))return;i.onBeforeCreated.apply(this,arguments)},preprocessors:{},registerPreprocessor:function(e,t,i,n,r){return n=n||"last",i=i||[e],this.preprocessors[e]={name:e,properties:i||!1,fn:t},this.setDefaultPreprocessorPosition(e,n,r),this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){return this.defaultPreprocessors=Ext.Array.from(e),this},setDefaultPreprocessorPosition:function(e,t,i){var n,r=this.defaultPreprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return-1!==(n=Ext.Array.indexOf(r,i))&&Ext.Array.splice(r,Math.max(0,n+t),0,e),this},configNameCache:{},getConfigNameMap:function(e){var t,i=this.configNameCache,n=i[e];return n||(t=e.charAt(0).toUpperCase()+e.substr(1),n=i[e]={internal:e,initialized:"_is"+t+"Initialized",apply:"apply"+t,update:"update"+t,set:"set"+t,get:"get"+t,doSet:"doSet"+t,changeEvent:e.toLowerCase()+"change"}),n}}),m.registerPreprocessor("extend",function(e,t,i){var n,r,s,o=Ext.Base,a=o.prototype,l=t.extend;if(delete t.extend,r=(n=l&&l!==Object?l:o).prototype,!n.$isClass)for(s in a)r[s]||(r[s]=a[s]);e.extend(n),e.triggerExtended.apply(e,arguments),t.onClassExtended&&(e.onExtended(t.onClassExtended,e),delete t.onClassExtended)},!0),m.registerPreprocessor("statics",function(e,t){e.addStatics(t.statics),delete t.statics}),m.registerPreprocessor("inheritableStatics",function(e,t){e.addInheritableStatics(t.inheritableStatics),delete t.inheritableStatics}),m.registerPreprocessor("config",function(e,g){var t=g.config,p=e.prototype;delete g.config,Ext.Object.each(t,function(t,e){var i,n,r=m.getConfigNameMap(t),s=r.internal,o=r.initialized,a=r.apply,l=r.update,d=r.set,h=r.get,c=d in p||g.hasOwnProperty(d),u=a in p||g.hasOwnProperty(a),f=l in p||g.hasOwnProperty(l);null!==e&&(c||u||f)?p[o]=!1:(p[s]=e,p[o]=!0),c||(g[d]=function(e){var t=this[s],i=this[a],n=this[l];return this[o]||(this[o]=!0),i&&(e=i.call(this,e,t)),void 0!==e&&(this[s]=e,n&&e!==t&&n.call(this,e,t)),this}),h in p&&!g.hasOwnProperty(h)||(n=g[h]||!1,i=n?function(){return n.apply(this,arguments)}:function(){return this[s]},g[h]=function(){var e;return this[o]||(this[o]=!0,this[d](this.config[t])),"$previous"in(e=this[h])?e.$previous=i:this[h]=i,i.apply(this,arguments)})}),e.addConfig(t,!0)}),m.registerPreprocessor("mixins",function(t,e,i){var n,r,s,o,a=e.mixins;delete e.mixins,Ext.Function.interceptBefore(i,"onCreated",function(){if(a instanceof Array)for(s=0,o=a.length;s<o;s++)r=a[s],n=r.prototype.mixinId||r.$className,t.mixin(n,r);else for(var e in a)a.hasOwnProperty(e)&&t.mixin(e,a[e])})}),Ext.extend=function(e,t,i){var n;if(2===arguments.length&&Ext.isObject(t)&&(i=t,t=e,e=null),!t)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return i.extend=t,i.preprocessors=["extend","statics","inheritableStatics","mixins","config"],e?(n=new m(e,i)).prototype.constructor=e:n=new m(i),n.prototype.override=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},n}}(),Gr=Ext.Class,Hr=Ext.Function.alias,Ir=Array.prototype.slice,Jr=Ext.Array.from,Kr=Ext.global,Mr=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(e){var t,i,n,r,s,o=this.existCache;if(this.classes[e]||o[e])return!0;for(r=Kr,t=0,i=(s=this.parseNamespace(e)).length;t<i;t++)if("string"!=typeof(n=s[t]))r=n;else{if(!r||!r[n])return!1;r=r[n]}return o[e]=!0,this.triggerCreated(e),!0},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(e){var t,i,n,r,s,o,a=this.createdListeners,l=this.nameCreatedListeners,d=this.maps.nameToAlternates[e],h=[e];for(t=0,i=a.length;t<i;t++)(s=a[t]).fn.call(s.scope,e);for(d&&h.push.apply(h,d),t=0,i=h.length;t<i;t++)if(a=l[o=h[t]]){for(n=0,r=a.length;n<r;n++)(s=a[n]).fn.call(s.scope,o);delete l[o]}},onCreated:function(e,t,i){var n=this.createdListeners,r=this.nameCreatedListeners,s={fn:e,scope:t};if(i){if(this.isCreated(i))return void e.call(t,i);r[i]||(r[i]=[]),r[i].push(s)}else n.push(s)},parseNamespace:function(e){var t,i,n,r,s,o,a,l,d,h=this.namespaceParseCache;if(this.enableNamespaceParseCache&&h.hasOwnProperty(e))return h[e];for(t=[],i=this.namespaceRewrites,n=Kr,r=e,l=0,d=i.length;l<d;l++)if(o=(s=i[l]).from,a=s.to,r===o||r.substring(0,o.length)===o){r=r.substring(o.length),"string"!=typeof a?n=a:t=t.concat(a.split("."));break}return t.push(n),t=t.concat(r.split(".")),this.enableNamespaceParseCache&&(h[e]=t),t},setNamespace:function(e,t){var i,n,r=Kr,s=this.parseNamespace(e),o=s.length-1,a=s[o];for(i=0;i<o;i++)r="string"!=typeof(n=s[i])?n:(r[n]||(r[n]={}),r[n]);return r[a]=t,r[a]},createNamespaces:function(){var e,t,i,n,r,s,o=Kr;for(i=0,r=arguments.length;i<r;i++)for(n=0,s=(e=this.parseNamespace(arguments[i])).length;n<s;n++)o="string"!=typeof(t=e[n])?t:(o[t]||(o[t]={}),o[t]);return o},set:function(e,t){var i=this.maps,n=i.nameToAlternates,r=this.getName(t);return this.classes[e]=this.setNamespace(e,t),r&&r!==e&&(n[i.alternateToName[e]=r]||(n[r]=[])).push(e),this},get:function(e){var t,i,n,r,s,o=this.classes;if(o[e])return o[e];for(t=Kr,r=0,s=(i=this.parseNamespace(e)).length;r<s;r++)if("string"!=typeof(n=i[r]))t=n;else{if(!t||!t[n])return null;t=t[n]}return t},setAlias:function(e,t){var i,n=this.maps.aliasToName,r=this.maps.nameToAliases;return i="string"==typeof e?e:this.getName(e),t&&n[t]!==i&&(n[t]=i),r[i]||(r[i]=[]),t&&Ext.Array.include(r[i],t),this},addNameAliasMappings:function(e){var t,i,n,r,s=this.maps.aliasToName,o=this.maps.nameToAliases;for(t in e)for(i=o[t]||(o[t]=[]),r=0;r<e[t].length;r++)s[n=e[t][r]]||(s[n]=t,i.push(n));return this},addNameAlternateMappings:function(e){var t,i,n,r,s=this.maps.alternateToName,o=this.maps.nameToAlternates;for(t in e)for(i=o[t]||(o[t]=[]),r=0;r<e[t].length;r++)s[n=e[t][r]]||(s[n]=t,i.push(n));return this},getByAlias:function(e){return this.get(this.getNameByAlias(e))},getNameByAlias:function(e){return this.maps.aliasToName[e]||""},getNameByAlternate:function(e){return this.maps.alternateToName[e]||""},getAliasesByName:function(e){return this.maps.nameToAliases[e]||[]},getName:function(e){return e&&e.$className||""},getClass:function(e){return e&&e.self||null},create:function(h,c,u){function e(){return this.constructor.apply(this,arguments)||null}return"function"==typeof c&&(c=c(e)),c.$className=h,new Gr(e,c,function(){var e,t,i,n,r,s,o,a=c.postprocessors||Mr.defaultPostprocessors,l=Mr.postprocessors,d=[];for(delete c.postprocessors,t=0,i=a.length;t<i;t++)if("string"==typeof(e=a[t])){if(!0===(s=(e=l[e]).properties))d.push(e.fn);else if(s)for(n=0,r=s.length;n<r;n++)if(o=s[n],c.hasOwnProperty(o)){d.push(e.fn);break}}else d.push(e);c.postprocessors=d,c.createdFn=u,Mr.processCreate(h,this,c)})},processCreate:function(e,t,i){var n=this,r=i.postprocessors.shift(),s=i.createdFn;if(!r)return e&&n.set(e,t),s&&s.call(t,t),void(e&&n.triggerCreated(e));!1!==r.call(n,e,t,i,n.processCreate)&&n.processCreate(e,t,i)},createOverride:function(i,n,r){var s=this,o=n.override,a=n.requires,l=n.uses,e=n.compatibility,d=function(){var e,t;a?(t=a,a=null,Ext.Loader.require(t,d)):(e=s.get(o),delete n.override,delete n.compatibility,delete n.requires,delete n.uses,Ext.override(e,n),s.triggerCreated(i),l&&Ext.Loader.addUsedClasses(l),r&&r.call(e))};return s.existCache[i]=!0,e&&!Ext.checkVersion(e)||s.onCreated(d,s,o),s},instantiateByAlias:function(){var e=arguments[0],t=Ir.call(arguments),i=this.getNameByAlias(e);return i||(i=this.maps.aliasToName[e],Ext.syncRequire(i)),t[0]=i,this.instantiate.apply(this,t)},instantiate:function(){var e,t,i=arguments[0],n=typeof i,r=Ir.call(arguments,1);return(t="function"!=n?("string"!=n&&0===r.length&&(r=[i],i=i.xclass),this.get(i)):i)||(e=this.getNameByAlias(i))&&(i=e,t=this.get(i)),t||(e=this.getNameByAlternate(i))&&(i=e,t=this.get(i)),t||(Ext.syncRequire(i),t=this.get(i)),this.getInstantiator(r.length)(t,r)},dynInstantiate:function(e,t){return(t=Jr(t,!0)).unshift(e),this.instantiate.apply(this,t)},getInstantiator:function(e){var t,i,n,r=this.instantiators;if(!(t=r[e])){for(i=e,n=[],i=0;i<e;i++)n.push("a["+i+"]");t=r[e]=new Function("c","a","return new c("+n.join(",")+")")}return t},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(e,t,i,n,r){return n=n||"last",i=i||[e],this.postprocessors[e]={name:e,properties:i||!1,fn:t},this.setDefaultPostprocessorPosition(e,n,r),this},setDefaultPostprocessors:function(e){return this.defaultPostprocessors=Jr(e),this},setDefaultPostprocessorPosition:function(e,t,i){var n,r=this.defaultPostprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return-1!==(n=Ext.Array.indexOf(r,i))&&Ext.Array.splice(r,Math.max(0,n+t),0,e),this},getNamesByExpression:function(e){var t,i,n,r,s,o,a=this.maps.nameToAliases,l=[];if(-1!==e.indexOf("*")){for(t in e=e.replace(/\*/g,"(.*?)"),r=new RegExp("^"+e+"$"),a)if(a.hasOwnProperty(t))if(i=a[t],-1!==t.search(r))l.push(t);else for(s=0,o=i.length;s<o;s++)if(-1!==i[s].search(r)){l.push(t);break}}else(n=this.getNameByAlias(e))?l.push(n):(n=this.getNameByAlternate(e))?l.push(n):l.push(e);return l}},Mr.registerPostprocessor("alias",function(e,t,i){var n,r,s=i.alias;for(n=0,r=s.length;n<r;n++)Hr=s[n],this.setAlias(t,Hr)},["xtype","alias"]),Mr.registerPostprocessor("singleton",function(e,t,i,n){return!i.singleton||(n.call(this,e,new t,i),!1)}),Mr.registerPostprocessor("alternateClassName",function(e,t,i){var n,r,s,o=i.alternateClassName;for(o instanceof Array||(o=[o]),n=0,r=o.length;n<r;n++)s=o[n],this.set(s,t)}),Ext.apply(Ext,{create:Hr(Mr,"instantiate"),widget:function(e,t){var i,n,r,s,o=e;return"string"!=typeof o?o=(t=e).xtype:t=t||{},t.isComponent?t:(i="widget."+o,(n=Mr.getNameByAlias(i))||(s=!0),r=Mr.get(n),s||!r?Mr.instantiateByAlias(i,t):new r(t))},createByAlias:Hr(Mr,"instantiateByAlias"),define:function(e,t,i){return t.override?Mr.createOverride.apply(Mr,arguments):Mr.create.apply(Mr,arguments)},undefine:function(e){var t,i,n,r,s=Mr.classes,o=Mr.maps,a=o.aliasToName,l=o.nameToAliases,d=o.alternateToName,h=o.nameToAlternates,c=l[e],u=h[e];if(delete Mr.namespaceParseCache[e],delete l[e],delete h[e],delete s[e],c)for(r=c.length;r--;)delete a[c[r]];if(u)for(r=u.length;r--;)delete d[u[r]];for(i=(t=Mr.parseNamespace(e)).length-1,n=t[0],r=1;r<i;r++)if(!(n=n[t[r]]))return;try{delete n[t[i]]}catch(e){n[t[i]]=void 0}},getClassName:Hr(Mr,"getName"),getDisplayName:function(e){if(e){if(e.displayName)return e.displayName;if(e.$name&&e.$class)return Ext.getClassName(e.$class)+"#"+e.$name;if(e.$className)return e.$className}return"Anonymous"},getClass:Hr(Mr,"getClass"),namespace:Hr(Mr,"createNamespaces")}),Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,Gr.registerPreprocessor("className",function(e,t){t.$className&&(e.$className=t.$className)},!0,"first"),Gr.registerPreprocessor("alias",function(e,t){var n,r,i,s,o=e.prototype,a=Jr(t.xtype),l=Jr(t.alias),d="widget.",h=d.length,c=Array.prototype.slice.call(o.xtypesChain||[]),u=Ext.merge({},o.xtypesMap||{});for(n=0,r=l.length;n<r;n++)(i=l[n]).substring(0,h)===d&&(s=i.substring(h),Ext.Array.include(a,s));for(e.xtype=t.xtype=a[0],t.xtypes=a,n=0,r=a.length;n<r;n++)s=a[n],u[s]||(u[s]=!0,c.push(s));for(t.xtypesChain=c,t.xtypesMap=u,Ext.Function.interceptAfter(t,"onClassCreated",function(){var e,t,i=o.mixins;for(e in i)if(i.hasOwnProperty(e)&&(t=i[e],a=t.xtypes))for(n=0,r=a.length;n<r;n++)s=a[n],u[s]||(u[s]=!0,c.push(s))}),n=0,r=a.length;n<r;n++)s=a[n],Ext.Array.include(l,d+s);t.alias=l},["xtype","alias"]),Ext._alternatesMetadata&&(Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata),Ext._alternatesMetadata=null),Ext._aliasMetadata&&(Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata),Ext._aliasMetadata=null),Ext.Loader=new function(){var b=this,C=Ext.ClassManager,e=Ext.Class,t=Ext.Function.flexSetter,i=Ext.Function.alias,w=Ext.Function.pass,l=Ext.Function.defer,s=Ext.Array.erase,f=["extend","mixins","requires"],n={},r=[],o=/\/\.\//g,a=/\./g,d=0;Ext.apply(b,{isInHistory:n,history:r,config:{enabled:!1,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",garbageCollect:!1,paths:{Ext:"."},preserveScripts:!0,scriptCharset:void 0},setConfig:function(e,t){return Ext.isObject(e)&&1===arguments.length?(Ext.merge(b.config,e),"paths"in e&&Ext.app.collectNamespaces(e.paths)):(b.config[e]=Ext.isObject(t)?Ext.merge(b.config[e],t):t,"paths"===e&&Ext.app.collectNamespaces(t)),b},getConfig:function(e){return e?b.config[e]:b.config},setPath:t(function(e,t){return b.config.paths[e]=t,Ext.app.namespaces[e]=!0,d++,b}),addClassPathMappings:function(e){var t;if(0==d)b.config.paths=e;else for(t in e)b.config.paths[t]=e[t];return d++,b},getPath:function(e){var t="",i=b.config.paths,n=b.getPrefix(e);if(0<n.length){if(n===e)return i[n];t=i[n],e=e.substring(n.length+1)}return 0<t.length&&(t+="/"),t.replace(o,"/")+e.replace(a,"/")+".js"},getPrefix:function(e){var t,i=b.config.paths,n="";if(i.hasOwnProperty(e))return e;for(t in i)i.hasOwnProperty(t)&&t+"."===e.substring(0,t.length+1)&&t.length>n.length&&(n=t);return n},isAClassNameWithAKnownPrefix:function(e){var t=b.getPrefix(e);return""!==t&&t!==e},require:function(e,t,i,n){t&&t.call(i)},syncRequire:function(){},exclude:function(n){return{require:function(e,t,i){return b.require(e,t,i,n)},syncRequire:function(e,t,i){return b.syncRequire(e,t,i,n)}}},onReady:function(e,t,i,n){var r;!1!==i&&Ext.onDocumentReady&&(r=e,e=function(){Ext.onDocumentReady(r,t,n)}),e.call(t)}});function h(e,t){return t.priority-e.priority}var S=[],P={},u={},k={},g={},c=[],p=[];Ext.apply(b,{documentHead:"undefined"!=typeof document&&(document.head||document.getElementsByTagName("head")[0]),isLoading:!1,queue:S,isClassFileLoaded:P,isFileLoaded:u,readyListeners:c,optionalRequires:p,requiresMap:{},numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:!1,classNameToFilePathMap:k,scriptsLoading:0,syncModeEnabled:!1,scriptElements:g,refreshQueue:function(){var e,t,i,n,r=S.length;if(!r&&!b.scriptsLoading)return b.triggerReady();for(e=0;e<r;e++)if(t=S[e]){if((n=t.requires).length>b.numLoadedFiles)continue;for(i=0;i<n.length;)C.isCreated(n[i])?s(n,i,1):i++;if(0===t.requires.length){s(S,e,1),t.callback.call(t.scope),b.refreshQueue();break}}return b},injectScriptElement:function(e,t,i,n,r){var s=document.createElement("script"),o=!1,a=b.config;return s.type="text/javascript",s.onerror=function(e){l(i,1,n),b.cleanupScriptElement(s,!1===a.preserveScripts,a.garbageCollect)},(r=r||a.scriptCharset)&&(s.charset=r),s.onload=function(){o||(o=!0,s.onload=s.onreadystatechange=s.onerror=null,"number"==typeof a.scriptChainDelay?l(t,a.scriptChainDelay,n):t.call(n),b.cleanupScriptElement(s,!1===a.preserveScripts,a.garbageCollect))},s.src=e,(b.documentHead||document.getElementsByTagName("head")[0]).appendChild(s),s},removeScriptElement:function(e){return g[e]&&(b.cleanupScriptElement(g[e],!0,!!b.getConfig("garbageCollect")),delete g[e]),b},cleanupScriptElement:function(e,t,i){var n;if(e.onload=e.onreadystatechange=e.onerror=null,t&&(Ext.removeNode(e),i))for(n in e)try{"src"!=n&&(e[n]=null),delete e[n]}catch(e){}return b},loadScript:function(e){var t,i=b.getConfig(),n="string"==typeof e,r=n?e:e.url,s=!n&&e.onError,o=!n&&e.onLoad,a=!n&&e.scope;b.isLoading=!0,b.numPendingFiles++,b.scriptsLoading++,t=i.disableCaching?r+"?"+i.disableCachingParam+"="+Ext.Date.now():r,g[r]=b.injectScriptElement(t,function(){b.numPendingFiles--,b.scriptsLoading--,o&&o.call(a),b.numPendingFiles+b.scriptsLoading===0&&b.refreshQueue()},function(){b.numPendingFiles--,b.scriptsLoading--,s&&s.call(a,"Failed loading '"+r+"', please verify that the file exists"),b.numPendingFiles+b.scriptsLoading===0&&b.refreshQueue()})},loadScriptFile:function(e,t,i,n,r){if(u[e])return b;var s,o,a,l=b.getConfig(),d=e+(l.disableCaching?"?"+l.disableCachingParam+"="+Ext.Date.now():""),h=!1,c="";if(n=n||b,b.isLoading=!0,r){s="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{s.open("GET",d,!1),s.send(null)}catch(e){h=!0}o=1223===s.status?204:0!==s.status||"file:"!=(self.location||{}).protocol&&"ionp:"!=(self.location||{}).protocol?s.status:200,(h=h||0===o)||(200<=o&&o<300||304===o)&&(Ext.isIE||(c="\n//# sourceURL="+e),Ext.globalEval(s.responseText+c),t.call(n)),s=null}else a=function(){},g[e]=b.injectScriptElement(d,t,a,n)},syncRequire:function(){var e=b.syncModeEnabled;e||(b.syncModeEnabled=!0),b.require.apply(b,arguments),e||(b.syncModeEnabled=!1),b.refreshQueue()},require:function(e,n,t,i){var r,s,o,a,l,d,h,c,u,f,g,p={},m={},x=[],y=[],E=[],v=[];if(i)for(c=0,f=(i="string"==typeof i?[i]:i).length;c<f;c++)if("string"==typeof(l=i[c])&&0<l.length)for(u=0,g=(x=C.getNamesByExpression(l)).length;u<g;u++)p[x[u]]=!0;for(e="string"==typeof e?[e]:e||[],r=n?0<n.length?function(){var e,t,i=[];for(e=0,t=v.length;e<t;e++)i.push(C.get(v[e]));return n.apply(this,i)}:n:Ext.emptyFn,t=t||Ext.global,c=0,f=e.length;c<f;c++)if("string"==typeof(a=e[c])&&0<a.length)for(g=(y=C.getNamesByExpression(a)).length,u=0;u<g;u++)!0!==p[h=y[u]]&&(v.push(h),C.isCreated(h)||m[h]||(m[h]=!0,E.push(h)));if(!(0<E.length))return r.call(t),b;if(!b.config.enabled)throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(1<E.length?"es":"")+": "+E.join(", "));for((s=b.syncModeEnabled)||S.push({requires:E.slice(),callback:r,scope:t}),f=E.length,c=0;c<f;c++)d=E[c],o=b.getPath(d),s&&P.hasOwnProperty(d)&&(P[d]||(b.numPendingFiles--,b.removeScriptElement(o),delete P[d])),P.hasOwnProperty(d)||(P[d]=!1,k[d]=o,b.numPendingFiles++,b.loadScriptFile(o,w(b.onFileLoaded,[d,o],b),w(b.onFileLoadError,[d,o],b),b,s));return s&&(r.call(t),1===f)?C.get(d):b},onFileLoaded:function(e,t){var i=P[e];b.numLoadedFiles++,P[e]=!0,u[t]=!0,i||b.numPendingFiles--,0===b.numPendingFiles&&b.refreshQueue()},onFileLoadError:function(e,t,i,n){b.numPendingFiles--,b.hasFileLoadError=!0},addUsedClasses:function(e){var t,i,n;if(e)for(i=0,n=(e="string"==typeof e?[e]:e).length;i<n;i++)"string"!=typeof(t=e[i])||Ext.Array.contains(p,t)||p.push(t);return b},triggerReady:function(){var e,t=p;if(b.isLoading&&(b.isLoading=!1,0!==t.length))return t=t.slice(),p.length=0,b.require(t,b.triggerReady,b),b;for(Ext.Array.sort(c,h);c.length&&!b.isLoading;)(e=c.shift()).fn.call(e.scope);return b},onReady:function(e,t,i,n){var r;!1!==i&&Ext.onDocumentReady&&(r=e,e=function(){Ext.onDocumentReady(r,t,n)}),b.isLoading?c.push({fn:e,scope:t,priority:n&&n.priority||0}):e.call(t)},historyPush:function(e){return e&&P.hasOwnProperty(e)&&!n[e]&&(n[e]=!0,r.push(e)),b}}),Ext.disableCacheBuster=function(e,t){var i=new Date;i.setTime(i.getTime()+24*(e?3650:-1)*60*60*1e3),i=i.toGMTString(),document.cookie="ext-cache=1; expires="+i+"; path="+(t||"/")},Ext.require=i(b,"require"),Ext.syncRequire=i(b,"syncRequire"),Ext.exclude=i(b,"exclude"),Ext.onReady=function(e,t,i){b.onReady(e,t,!0,i)},e.registerPreprocessor("loader",function(t,i,n,r){var s,o,a,l,d,h,c,u=this,e=[];C.getName(t);for(s=0,a=f.length;s<a;s++)if(h=f[s],i.hasOwnProperty(h))if("string"==typeof(c=i[h]))e.push(c);else if(c instanceof Array)for(o=0,l=c.length;o<l;o++)"string"==typeof(d=c[o])&&e.push(d);else if("function"!=typeof c)for(o in c)c.hasOwnProperty(o)&&"string"==typeof(d=c[o])&&e.push(d);if(0!==e.length)return b.require(e,function(){for(s=0,a=f.length;s<a;s++)if(h=f[s],i.hasOwnProperty(h))if("string"==typeof(c=i[h]))i[h]=C.get(c);else if(c instanceof Array)for(o=0,l=c.length;o<l;o++)"string"==typeof(d=c[o])&&(i[h][o]=C.get(d));else if("function"!=typeof c)for(var e in c)c.hasOwnProperty(e)&&"string"==typeof(d=c[e])&&(i[h][e]=C.get(d));r.call(u,t,i,n)}),!1},!0,"after","className"),C.registerPostprocessor("uses",function(e,t,i){var n=i.uses;n&&b.addUsedClasses(n)}),C.onCreated(b.historyPush)},Ext._classPathMetadata&&(Ext.Loader.addClassPathMappings(Ext._classPathMetadata),Ext._classPathMetadata=null),bz=document.getElementsByTagName("script"),dz=bz[bz.length-1].src,ez=dz.substring(0,dz.lastIndexOf("/")+1),Ext.Loader.setConfig({enabled:!0,disableCaching:!0,paths:{Ext:ez+"src"}}),Ext._endTime=(new Date).getTime(),Ext._beforereadyhandler&&Ext._beforereadyhandler(),Ext.Error=Ext.extend(Error,{statics:{ignore:!1,raise:function(e){e=e||{},Ext.isString(e)&&(e={msg:e});var t,i=this.raise.caller;if(i&&(i.$name&&(e.sourceMethod=i.$name),i.$owner&&(e.sourceClass=i.$owner.$className)),!0!==Ext.Error.handle(e))throw t=Ext.Error.prototype.toString.call(e),Ext.log({msg:t,level:"error",dump:e,stack:!0}),new Ext.Error(e)},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(e){Ext.isString(e)&&(e={msg:e});Ext.apply(this,e),this.message=this.message||this.msg},toString:function(){var e=this;return(e.sourceClass?e.sourceClass:"")+(e.sourceMethod?"."+e.sourceMethod+"(): ":"")+(e.msg||"(No description provided)")}}),Ext.deprecated=function(e){return Ext.emptyFn},Ext.JSON=new function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){return null===useNative&&(useNative=Ext.USE_NATIVE_JSON&&window.JSON&&"[object JSON]"==JSON.toString()),useNative},pad=function(e){return e<10?"0"+e:e},doDecode=function(json){return eval("("+json+")")},doEncode=function(e,t){return null==e?"null":Ext.isDate(e)?Ext.JSON.encodeDate(e):Ext.isString(e)?Ext.JSON.encodeString(e):"number"==typeof e?isFinite(e)?String(e):"null":Ext.isBoolean(e)?String(e):e.toJSON?e.toJSON():Ext.isArray(e)?encodeArray(e,t):Ext.isObject(e)?encodeObject(e,t):"function"==typeof e?"null":"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(e){return'"'+e.replace(charToReplace,function(e){var t=m[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(e,t){var i,n=["[",""],r=e.length;for(i=0;i<r;i+=1)n.push(Ext.JSON.encodeValue(e[i]),",");return n[n.length-1]="]",n.join("")},encodeObject=function(e,t){var i,n,r=["{",""];for(i in e)if(n=e[i],!useHasOwn||e.hasOwnProperty(i)){if("function"==typeof n||void 0===n)continue;r.push(Ext.JSON.encodeValue(i),":",Ext.JSON.encodeValue(n),",")}return r[r.length-1]="}",r.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(e){return'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"'},me.encode=function(e){return(encodingFunction=encodingFunction||(isNative()?JSON.stringify:me.encodeValue))(e)},me.decode=function(t,i){decodingFunction=decodingFunction||(isNative()?JSON.parse:doDecode);try{return decodingFunction(t)}catch(e){if(!0===i)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+t})}}},Ext.encode=Ext.JSON.encode,Ext.decode=Ext.JSON.decode,Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,windowId:"ext-window",documentId:"ext-document",isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,rootHierarchyState:{},addCacheEntry:function(e,t,i){i=i||t.dom;var n=Ext.cache,r=e||t&&t.id||i.id,s=n[r]||(n[r]={data:{},events:{},dom:i,skipGarbageCollection:!(!i.getElementById&&!i.navigator)});return t&&((t.$cache=s).el=t),s},updateCacheEntry:function(e,t){return e.dom=t,e.el&&(e.el.dom=t),e},id:function(e,t){var i="";return(e=Ext.getDom(e,!0)||{})===document?e.id=this.documentId:e===window&&(e.id=this.windowId),e.id||(this.isSandboxed&&(i=Ext.sandboxName.toLowerCase()+"-"),e.id=i+(t||"ext-gen")+ ++Ext.idSeed),e.id},escapeId:(Xz=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,Yz=/([\W]{1})/g,Zz=/^(\d)/g,function(e){return Xz.test(e)?e:e.replace(Yz,$z).replace(Zz,_z)}),getBody:function(){return fA=fA||Ext.get(document.body)},getHead:function(){return gA=gA||Ext.get(document.getElementsByTagName("head")[0])},getDoc:function(){return hA=hA||Ext.get(document)},getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var e,t,i=arguments.length;for(e=0;e<i;e++)(t=arguments[e])&&(Ext.isArray(t)?this.destroy.apply(this,t):t.isStore?t.destroyStore():Ext.isFunction(t.destroy)?t.destroy():t.dom&&t.remove())},callback:function(e,t,i,n){var r,s;return Ext.isFunction(e)?r=e:t&&Ext.isString(e)&&(r=t[e]),r&&(i=i||[],t=t||window,n?Ext.defer(r,n,t,i):s=r.apply(t,i)),s},resolveMethod:function(e,t){return Ext.isFunction(e)?e:t[e]},htmlEncode:function(e){return Ext.String.htmlEncode(e)},htmlDecode:function(e){return Ext.String.htmlDecode(e)},urlAppend:function(e,t){return Ext.String.urlAppend(e,t)}}),Ext.ns=Ext.namespace,window.undefined=window.undefined,function(){function e(e){return e.test(Ext.userAgent)}function t(e,t){var i;return e&&(i=t.exec(Ext.userAgent))?parseFloat(i[1]):0}var i,n="CSS1Compat"==document.compatMode,r=document.documentMode,s=e(/opera/),o=s&&e(/version\/10\.5/),a=e(/\bchrome\b/),l=e(/webkit/),d=!a&&e(/safari/),h=d&&e(/applewebkit\/4/),c=d&&e(/version\/3/),u=d&&e(/version\/4/),f=d&&e(/version\/5\.0/),g=d&&e(/version\/5/),p=!s&&(e(/msie/)||e(/trident/)),m=p&&(e(/msie 7/)&&8!=r&&9!=r&&10!=r||7==r),x=p&&(e(/msie 8/)&&7!=r&&9!=r&&10!=r||8==r),y=p&&(e(/msie 9/)&&7!=r&&8!=r&&10!=r||9==r),E=p&&(e(/msie 10/)&&7!=r&&8!=r&&9!=r||10==r),v=p&&(e(/trident\/7\.0/)&&7!=r&&8!=r&&9!=r&&10!=r||11==r),b=p&&e(/msie 6/),C=!l&&!p&&e(/gecko/),w=C&&e(/rv:1\.9/),S=C&&e(/rv:2\.0/),P=C&&e(/rv:5\./),k=C&&e(/rv:10\./),T=w&&e(/rv:1\.9\.0/),I=w&&e(/rv:1\.9\.1/),M=w&&e(/rv:1\.9\.2/),D=e(/windows|win32/),A=e(/macintosh|mac os x/),F=e(/linux/),R=null,L=t(!0,/\bchrome\/(\d+\.\d+)/),O=t(!0,/\bfirefox\/(\d+\.\d+)/),B=t(p,/msie (\d+\.\d+)/),H=t(s,/version\/(\d+\.\d+)/),N=t(d,/version\/(\d+\.\d+)/),z=t(l,/webkit\/(\d+\.\d+)/),W=/^https/i.test(window.location.protocol);try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}(i=function(){}).info=i.warn=i.error=Ext.emptyFn,Ext.setVersion("ext","4.2.2.1144"),Ext.setVersion("extjs","4.2.2.1144"),Ext.apply(Ext,{SSL_SECURE_URL:W&&p?"javascript:''":"about:blank",plainTableCls:Ext.buildSettings.baseCSSPrefix+"table-plain",plainListCls:Ext.buildSettings.baseCSSPrefix+"list-plain",enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,getDom:function(e,t){if(!e||!document)return null;if(e.dom)return e.dom;if("string"!=typeof e)return e;var i=Ext.getElementById(e);return i&&p&&t?e==i.getAttribute("id")?i:null:i},removeNode:function(e){if(e&&e.parentNode&&"BODY"!=e.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(e):Ext.EventManager.removeAll(e);var t=Ext.cache,i=e.id;t[i]&&(delete t[i].dom,delete t[i]),e.parentNode.removeChild(e)}},isStrict:n,isIEQuirks:p&&!n&&(b||m||x||y),isOpera:s,isOpera10_5:o,isWebKit:l,isChrome:a,isSafari:d,isSafari3:c,isSafari4:u,isSafari5:g,isSafari5_0:f,isSafari2:h,isIE:p,isIE6:b,isIE7:m,isIE7m:b||m,isIE7p:p&&!b,isIE8:x,isIE8m:b||m||x,isIE8p:p&&!(b||m),isIE9:y,isIE9m:b||m||x||y,isIE9p:p&&!(b||m||x),isIE10:E,isIE10m:b||m||x||y||E,isIE10p:p&&!(b||m||x||y),isIE11:v,isIE11m:b||m||x||y||E||v,isIE11p:p&&!(b||m||x||y||E),isGecko:C,isGecko3:w,isGecko4:S,isGecko5:P,isGecko10:k,isFF3_0:T,isFF3_5:I,isFF3_6:M,isFF4:4<=O&&O<5,isFF5:5<=O&&O<6,isFF10:10<=O&&O<11,isLinux:F,isWindows:D,isMac:A,chromeVersion:L,firefoxVersion:O,ieVersion:B,operaVersion:H,safariVersion:N,webKitVersion:z,isSecure:W,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(e,t,i){return Ext.isEmpty(e,i)?t:e},escapeRe:function(e){return e.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(e){if(Ext.isReady){var t,i,n,r={};for(i in e)(t=i.split("@"))[1]&&(r[n=t[0]]||(r[n]=Ext.select(n)),r[n].on(t[1],e[i]));r=null}else Ext.onReady(function(){Ext.addBehaviors(e)})},getScrollbarSize:function(e){if(!Ext.isReady)return{};if(e||!R){var t=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.overflow="scroll",i.style.position="absolute",t.appendChild(i),R={width:i.offsetWidth-i.clientWidth,height:i.offsetHeight-i.clientHeight},t.removeChild(i)}return R},getScrollBarWidth:function(e){return Ext.getScrollbarSize(e).width+2},copyTo:function(e,t,i,n){"string"==typeof i&&(i=i.split(/[,;\s]/));var r,s,o=i?i.length:0;for(r=0;r<o;r++)s=i[r],(n||t.hasOwnProperty(s))&&(e[s]=t[s]);return e},destroyMembers:function(e){for(var t=1,i=arguments,n=i.length;t<n;t++)Ext.destroy(e[i[t]]),delete e[i[t]]},log:i,partition:function(e,t){var i,n,r=[[],[]],s=e.length;for(i=0;i<s;i++)n=e[i],r[t&&t(n,i,e)||!t&&n?0:1].push(n);return r},invoke:function(e,t){var i,n,r=[],s=Array.prototype.slice.call(arguments,2),o=e.length;for(i=0;i<o;i++)(n=e[i])&&"function"==typeof n[t]?r.push(n[t].apply(n,s)):r.push(void 0);return r},zip:function(){var e,t,i,n=Ext.partition(arguments,function(e){return"function"!=typeof e}),r=n[0],s=n[1][0],o=Ext.max(Ext.pluck(r,"length")),a=[];for(e=0;e<o;e++)if(a[e]=[],s)a[e]=s.apply(s,Ext.pluck(r,e));else for(t=0,i=r.length;t<i;t++)a[e].push(r[t][e]);return a},toSentence:function(e,t){var i,n,r=e.length;return r<=1?e[0]:(i=e.slice(0,r-1),n=e[r-1],Ext.util.Format.format("{0} {1} {2}",i.join(", "),t||"and",n))},setGlyphFontFamily:function(e){Ext._glyphFontFamily=e},useShims:b})}(),function(){Ext.ns("Ext.util");var f,i,t,g=Ext.util.Format={},n=/<\/?[^>]+>/gi,r=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,s=/\r?\n/g,p=/^#+$/,m=/[\d,\.#]+/,x=/[^\d\.#]/g,y={};Ext.apply(g,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:!1,undef:function(e){return void 0!==e?e:""},defaultValue:function(e,t){return void 0!==e&&""!==e?e:t},substr:"b"!="ab".substr(-1)?function(e,t,i){var n=String(e);return t<0?n.substr(Math.max(n.length+t,0),i):n.substr(t,i)}:function(e,t,i){return String(e).substr(t,i)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},usMoney:function(e){return g.currency(e,"$",2)},currency:function(e,t,i,n){var r="",s=",0",o=0;for((e-=0)<0&&(e=-e,r="-"),s+=0<(i=Ext.isDefined(i)?i:g.currencyPrecision)?".":"";o<i;o++)s+="0";return e=g.number(e,s),!0===(n||g.currencyAtEnd)?Ext.String.format("{0}{1}{2}",r,e,t||g.currencySign):Ext.String.format("{0}{1}{2}",r,t||g.currencySign,e)},date:function(e,t){return e?(Ext.isDate(e)||(e=new Date(Date.parse(e))),Ext.Date.dateFormat(e,t||Ext.Date.defaultFormat)):""},dateRenderer:function(t){return function(e){return g.date(e,t)}},stripTags:function(e){return e?String(e).replace(n,""):e},stripScripts:function(e){return e?String(e).replace(r,""):e},fileSize:(t=1073741824,function(e){return e<1024?1===e?"1 byte":e+" bytes":e<1048576?Math.round(10*e/1024)/10+" KB":e<t?Math.round(10*e/1048576)/10+" MB":Math.round(10*e/t)/10+" GB"}),math:(i={},function(e,t){return i[t]||(i[t]=Ext.functionFactory("v","return v "+t+";")),i[t](e)}),round:function(e,t){var i=Number(e);return"number"==typeof t&&(t=Math.pow(10,t),i=Math.round(e*t)/t),i},number:function(e,t){if(!t)return e;var i=y[t];if(!i){var n,r,s,o,a,l=t,d=g.thousandSeparator,h=g.decimalSeparator,c=0,u="";r="/i"==t.substr(t.length-2)?(f=f||new RegExp("[^\\d\\"+g.decimalSeparator+"]","g"),n=-1!=(t=t.substr(0,t.length-2)).indexOf(d),t.replace(f,"").split(h)):(n=-1!=t.indexOf(","),t.replace(x,"").split(".")),s=t.replace(m,""),2<r.length||2===r.length&&(c=r[1].length,(o=p.test(r[1]))&&(u='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "?0+$")')),a=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(n?",thousandSeparator,thousands=[],j,n,i":"")+(s?',formatString="'+t+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+c+");",u,";"],n?(c&&(a[a.length]='parts=fnum.split(".");',a[a.length]="fnum=parts[0];"),a[a.length]="if(absVal>=1000) {",a[a.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}",c&&(a[a.length]="fnum += utilFormat.decimalSeparator+parts[1];")):c&&(a[a.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'),o&&(a[a.length]='fnum=fnum.replace(trailingZeroes,"");'),a[a.length]='if(neg&&fnum!=="'+(c?"0."+Ext.String.repeat("0",c):"0")+'")fnum="-"+fnum;',a[a.length]="return ",a[a.length]=s?"formatString.replace(formatPattern, fnum);":"fnum;",a[a.length]="};",i=y[l]=Ext.functionFactory("Ext",a.join(""))(Ext)}return i(e)},numberRenderer:function(t){return function(e){return g.number(e,t)}},attributes:function(e){if("object"==typeof e){var t,i=[];for(t in e)i.push(t,'="',"style"===t?Ext.DomHelper.generateStyles(e[t],null,!0):Ext.htmlEncode(e[t]),'"');e=i.join("")}return e||""},plural:function(e,t,i){return e+" "+(1==e?t:i||t+"s")},nl2br:function(e){return Ext.isEmpty(e)?"":e.replace(s,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(e){if("number"==typeof(e=e||0))return{top:e,right:e,bottom:e,left:e};var t=e.split(" "),i=t.length;return 1==i?t[1]=t[2]=t[3]=t[0]:2==i?(t[2]=t[0],t[3]=t[1]):3==i&&(t[3]=t[1]),{top:parseInt(t[0],10)||0,right:parseInt(t[1],10)||0,bottom:parseInt(t[2],10)||0,left:parseInt(t[3],10)||0}},escapeRegex:function(e){return e.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})}(),Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(e){var t=this;"number"==typeof e?t.interval=e:e&&Ext.apply(t,e),t.tasks=[],t.timerFn=Ext.Function.bind(t.onTick,t)},newTask:function(e){var t=new Ext.util.TaskRunner.Task(e);return t.manager=this,t},start:function(e){var t=Ext.Date.now();return e.pending||(this.tasks.push(e),e.pending=!0),e.stopped=!1,e.taskStartTime=t,e.taskRunTime=!1!==e.fireOnStart?0:e.taskStartTime,e.taskRunCount=0,this.firing||(!1!==e.fireOnStart?this.startTimer(0,t):this.startTimer(e.interval,t)),e},stop:function(e){return e.stopped||(e.stopped=!0,e.onStop&&e.onStop.call(e.scope||e,e)),e},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var e,t,i,n,r,s,o=this,a=o.tasks,l=Ext.Date.now(),d=1e99,h=a.length;for(o.timerId=null,o.firing=!0,i=0;i<h||i<(h=a.length);++i){if(!(s=(n=a[i]).stopped)){if((e=n.taskRunTime+n.interval)<=l){r=1;try{r=n.run.apply(n.scope||n,n.args||[++n.taskRunCount])}catch(e){try{n.onError&&(r=n.onError.call(n.scope||n,n,e))}catch(e){}}n.taskRunTime=l,!1===r||n.taskRunCount===n.repeat?(o.stop(n),s=!0):(s=n.stopped,e=l+n.interval)}!s&&n.duration&&n.duration<=l-n.taskStartTime&&(o.stop(n),s=!0)}s?(n.pending=!1,t=t||a.slice(0,i)):(t&&t.push(n),e<d&&(d=e))}t&&(o.tasks=t),o.firing=!1,o.tasks.length&&o.startTimer(d-l,Ext.Date.now()),!1!==o.fireIdleEvent&&Ext.EventManager.idleEvent.fire()},startTimer:function(e,t){var i=this,n=t+e,r=i.timerId;r&&i.nextExpires-n>i.interval&&(clearTimeout(r),r=null),r||(e<i.interval&&(e=i.interval),i.timerId=setTimeout(i.timerFn,e),i.nextExpires=n)}},function(){var e=this.prototype;e.destroy=e.stopAll,Ext.util.TaskManager=Ext.TaskManager=new this,this.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(e){Ext.apply(this,e)},restart:function(e){void 0!==e&&(this.interval=e),this.manager.start(this)},start:function(e){this.stopped&&this.restart(e)},stop:function(){this.manager.stop(this)}}),(e=this.Task.prototype).destroy=e.stop}),Ext.define("Ext.util.TaskManager",{extend:Ext.util.TaskRunner,alternateClassName:["Ext.TaskManager"],singleton:!0}),Ext.define("Ext.perf.Accumulator",(qE=null,rE=Ext.global.chrome,tE=function(){var e,t;if(tE=function(){return(new Date).getTime()},Ext.isChrome&&rE&&rE.Interval)(e=new rE.Interval).start(),tE=function(){return e.microseconds()/1e3};else if(window.ActiveXObject)try{t=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=t,tE=function(){return t.milliseconds}}catch(e){}else Date.now&&(tE=Date.now);return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=tE,tE()},{constructor:function(e){var t=this;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure=wE(),t.total=wE(),t.name=e},statics:{getTimestamp:tE},format:function(e){sE=sE||new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(e){return Math.round(100*e)/100}});var t=this.getData(e);return t.name=this.name,t.pure.type="Pure",t.total.type="Total",t.times=[t.pure,t.total],sE.apply(t)},getData:function(e){var t=this;return{count:t.count,childCount:t.childCount,depth:t.maxDepth,pure:zE(t.count,t.childCount,e,t.pure),total:zE(t.count,t.childCount,e,t.total)}},enter:function(){var e=this,t={accum:e,leave:vE,childTime:0,parent:qE};return++e.depth,e.maxDepth<e.depth&&(e.maxDepth=e.depth),(qE=t).time=tE(),t},monitor:function(e,t,i){var n=this.enter();i?e.apply(t,i):e.call(t),n.leave()},report:function(){Ext.log(this.format())},tap:function(e,t){var i,n,r,s,o,a,l,d,h=this,c="string"==typeof t?[t]:t;return d=function(){if("string"==typeof e)for(i=Ext.global,s=e.split("."),r=0,o=s.length;r<o;++r)i=i[s[r]];else i=e;for(r=0,o=c.length;r<o;++r)a=c[r],(n="!"==a.charAt(0))?a=a.substring(1):n=!(a in i.prototype),(l=n?i:i.prototype)[a]=xE(h,l[a])},Ext.ClassManager.onCreated(d,h,e),h}}),function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){var e,t=new Ext.perf.Accumulator("$"),i=t.total,n=Ext.perf.Accumulator.getTimestamp,r=0;for(e=n();t.enter().leave(),++r,i.sum<100;);return(n()-e)/r},get:function(e){var t=this.accumulatorsByName[e];return t||(this.accumulatorsByName[e]=t=new Ext.perf.Accumulator(e),this.accumulators.push(t)),t},enter:function(e){return this.get(e).enter()},monitor:function(e,t,i){this.get(e).monitor(t,i)},report:function(){var e=this.accumulators,t=this.calibrate();e.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0}),this.updateGC(),Ext.log("Calibration: "+Math.round(100*t)/100+" msec/sample"),Ext.each(e,function(e){Ext.log(e.format(t))})},getData:function(t){var i={},e=this.accumulators;return Ext.each(e,function(e){(t||e.count)&&(i[e.name]=e.getData())}),i},reset:function(){Ext.each(this.accumulators,function(e){var t=e;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure={min:Number.MAX_VALUE,max:0,sum:0},t.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var e,t=this.accumulatorsByName.GC,i=Ext.senchaToolbox;t&&(t.count=i.garbageCollectionCounter||0,t.count&&(e=t.pure,t.total.sum=e.sum=i.garbageCollectionMilliseconds,e.min=e.max=e.sum/t.count,(e=t.total).min=e.max=e.sum/t.count))},watchGC:function(){Ext.perf.getTimestamp();var e=Ext.senchaToolbox;e&&(this.get("GC"),e.watchGarbageCollector(!1))},setup:function(e){var t,i,n,r,s;for(t in e=e||{render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}},this.currentConfig=e)if(e.hasOwnProperty(t))for(r in i=e[t],n=Ext.Perf.get(t),i)i.hasOwnProperty(r)&&(s=i[r],n.tap(r,s));this.watchGC()}}),Ext.is={init:function(e){var t,i,n=this.platforms,r=n.length;for(e=e||window.navigator,t=0;t<r;t++)this[(i=n[t]).identity]=i.regex.test(e[i.property]);this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android,this.Tablet=this.iPad,this.Phone=!this.Desktop&&!this.Tablet,this.iOS=this.iPhone||this.iPad||this.iPod,this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]},Ext.is.init(),eG={"IE6-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE6-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0],"IE7-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE7-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0,0],"IE8-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE8-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,1],"IE9-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE9-strict":[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0,1],"IE10-quirks":[1,1,0,0,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1],"IE10-strict":[1,1,0,0,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1]},Ext.supports={init:function(){var e,t,i,n=this,r=document,s=n.toRun||n.tests,o=s.length,a=o&&Ext.isReady&&r.createElement("div"),l=[],d=function(){var e=Ext.isIE6?"IE6":Ext.isIE7?"IE7":Ext.isIE8?"IE8":Ext.isIE9?"IE9":Ext.isIE10?"IE10":"";return e?e+(Ext.isStrict?"-strict":"-quirks"):""}();for(a&&(a.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join(""),r.body.appendChild(a)),t=eG[d];o--;)e=s[o],void 0!==(i=t&&t[o])?n[e.identity]=i:a||e.early?n[e.identity]=e.fn.call(n,r,a):l.push(e);a&&r.body.removeChild(a),n.toRun=l},PointerEvents:"pointerEvents"in document.documentElement.style,LocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:void 0!==window.orientation&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:void setTimeout(function(){Ext.supports.TimeoutActualLateness=0!==arguments.length},0),tests:[{identity:"Transitions",fn:function(e,t){for(var i=["webkit","Moz","o","ms","khtml"],n="TransitionEnd",r=[i[0]+n,"transitionend",i[2]+n,i[3]+n,i[4]+n],s=i.length,o=0,a=!1;o<s;o++)if(dG(t,i[o]+"TransitionProperty")){Ext.supports.CSS3Prefix=i[o],Ext.supports.CSS3TransitionEnd=r[o],a=!0;break}return a}},{identity:"RightMargin",fn:function(e,t){var i=e.defaultView;return!(i&&"0px"!=i.getComputedStyle(t.firstChild.firstChild,null).marginRight)}},{identity:"DisplayChangeInputSelectionBug",early:!0,fn:function(){var e=Ext.webKitVersion;return 0<e&&e<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:!0,fn:function(){var e=Ext.webKitVersion;return 0<e&&e<534.24}},{identity:"TransparentColor",fn:function(e,t,i){return!((i=e.defaultView)&&"transparent"!=i.getComputedStyle(t.lastChild,null).backgroundColor)}},{identity:"ComputedStyle",fn:function(e,t,i){return(i=e.defaultView)&&i.getComputedStyle}},{identity:"Svg",fn:function(e){return!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(e){return!!e.createElement("canvas").getContext}},{identity:"Vml",fn:function(e){var t=e.createElement("div");return t.innerHTML="\x3c!--[if vml]><br/><br/><![endif]--\x3e",2==t.childNodes.length}},{identity:"Float",fn:function(e,t){return!!t.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(e){return!!e.createElement("audio").canPlayType}},{identity:"History",fn:function(){var e=window.history;return!(!e||!e.pushState)}},{identity:"CSS3DTransform",fn:function(){return"undefined"!=typeof WebKitCSSMatrix&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(e,t){var i="background-image:",n="linear-gradient(left top, black, white)",r=[i+"-webkit-gradient(linear, left top, right bottom, from(black), to(white))",i+n,i+"-moz-linear-gradient(left top, black, white)",i+"-ms-linear-gradient(left top, black, white)",i+"-o-linear-gradient(left top, black, white)"];return t.style.cssText=r.join(";"),-1!==(""+t.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{identity:"CSS3BorderRadius",fn:function(e,t){var i,n=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"];for(i=0;i<n.length;i++)if(void 0!==document.body.style[n[i]])return!0;return!1}},{identity:"GeoLocation",fn:function(){return"undefined"!=typeof navigator&&"geolocation"in navigator||"undefined"!=typeof google&&void 0!==google.gears}},{identity:"MouseEnterLeave",fn:function(e,t){return"onmouseenter"in t&&"onmouseleave"in t}},{identity:"MouseWheel",fn:function(e,t){return"onmousewheel"in t}},{identity:"Opacity",fn:function(e,t){return t.firstChild.style.cssText="opacity:0.73","0.73"==t.firstChild.style.opacity}},{identity:"Placeholder",fn:function(e){return"placeholder"in e.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},{identity:"BoundingClientRect",fn:function(e,t){return Ext.isFunction(t.getBoundingClientRect)}},{identity:"RotatedBoundingClientRect",fn:function(){var e=document.body,t=!1,i=document.createElement("div"),n=i.style;return i.getBoundingClientRect&&(n.WebkitTransform=n.MozTransform=n.OTransform=n.transform="rotate(90deg)",n.width="100px",n.height="30px",e.appendChild(i),t=100!==i.getBoundingClientRect().height,e.removeChild(i)),t}},{identity:"IncludePaddingInWidthCalculation",fn:function(e,t){return 210==t.childNodes[1].firstChild.offsetWidth}},{identity:"IncludePaddingInHeightCalculation",fn:function(e,t){return 210==t.childNodes[1].firstChild.offsetHeight}},{identity:"ArraySort",fn:function(){var e=[1,2,3,4,5].sort(function(){return 0});return 1===e[0]&&2===e[1]&&3===e[2]&&4===e[3]&&5===e[4]}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var e=!!Ext.supports.Range&&document.createRange();return e&&!!e.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||534.16<=Ext.webKitVersion}},{identity:"TextAreaMaxLength",fn:function(){return"maxlength"in document.createElement("textarea")}},{identity:"GetPositionPercentage",fn:function(e,t){return"10%"==dG(t.childNodes[2],"left")}},{identity:"PercentageHeightOverflowBug",fn:function(e){var t,i,n=!1;return Ext.getScrollbarSize().height&&((t=(i=e.createElement("div")).style).height="50px",t.width="50px",t.overflow="auto",t.position="absolute",i.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join(""),e.body.appendChild(i),50===i.firstChild.offsetHeight&&(n=!0),e.body.removeChild(i)),n}},{identity:"xOriginBug",fn:function(e,t){t.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var i=document.getElementById("b1").getBoundingClientRect(),n=document.getElementById("b2").getBoundingClientRect(),r=document.getElementById("b3").getBoundingClientRect();return n.left!==i.left&&r.right!==i.right}},{identity:"ScrollWidthInlinePaddingBug",fn:function(e){var t,i,n=!1;return(t=(i=e.createElement("div")).style).height="50px",t.width="50px",t.padding="10px",t.overflow="hidden",t.position="absolute",i.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>',e.body.appendChild(i),70===i.scrollWidth&&(n=!0),e.body.removeChild(i),n}}]},Ext.supports.init(),Ext.util.DelayedTask=function(r,s,o,a){function l(){clearInterval(h.id),h.id=null,r.apply(s,o||[]),Ext.EventManager.idleEvent.fire()}var d,h=this;a="boolean"!=typeof a||a,h.id=null,h.delay=function(e,t,i,n){a&&h.cancel(),"number"==typeof e&&(d=e),r=t||r,s=i||s,o=n||o,h.id||(h.id=setInterval(l,d))},h.cancel=function(){h.id&&(clearInterval(h.id),h.id=null)}},Ext.define("Ext.util.Event",function(){var a=Array.prototype.slice,f=Ext.Array.insert,s=Ext.Array.toArray,o=Ext.util.DelayedTask;return{isEvent:!0,suspended:0,noOptions:{},constructor:function(e,t){this.name=t,this.observable=e,this.listeners=[]},addListener:function(e,t,i){var n,r,s,o,a,l,d,h,c,u=this;if(t=t||u.observable,!u.isListening(e,t)){if(r=u.createListener(e,t,i),u.firing&&(u.listeners=u.listeners.slice(0)),h=d=(n=u.listeners).length,s=i&&i.priority,l=void 0!==(a=u._highestNegativePriorityIndex),s)if(!(o=s<0)||l){for(c=o?a:0;c<d;c++)if((n[c].o&&n[c].o.priority||0)<s){h=c;break}}else u._highestNegativePriorityIndex=h;else l&&(h=a);!o&&h<=a&&u._highestNegativePriorityIndex++,h===d?u.listeners[d]=r:f(u.listeners,h,[r])}},createListener:function(e,t,i){var n=this,r={fn:e,scope:t=t||this.observable,ev:n},s=e;return i&&((r.o=i).single&&(s=n.createSingle(s,r,i,t)),i.target&&(s=n.createTargeted(s,r,i,t)),i.delay&&(s=n.createDelayed(s,r,i,t)),i.buffer&&(s=n.createBuffered(s,r,i,t))),r.fireFn=s,r},findListener:function(e,t){for(var i,n,r=this.listeners,s=r.length;s--;)if((i=r[s])&&(n=i.scope,i.fn==e&&n==(t||this.observable)))return s;return-1},isListening:function(e,t){return-1!==this.findListener(e,t)},removeListener:function(e,t){var i,n,r,s,o=this;if(-1==(i=o.findListener(e,t)))return!1;if(n=o.listeners[i],r=o._highestNegativePriorityIndex,o.firing&&(o.listeners=o.listeners.slice(0)),n.task&&(n.task.cancel(),delete n.task),s=n.tasks&&n.tasks.length){for(;s--;)n.tasks[s].cancel();delete n.tasks}return o.listeners.splice(i,1),r&&(i<r?o._highestNegativePriorityIndex--:i===r&&i===o.listeners.length&&delete o._highestNegativePriorityIndex),!0},clearListeners:function(){for(var e=this.listeners,t=e.length;t--;)this.removeListener(e[t].fn,e[t].scope)},suspend:function(){this.suspended+=1},resume:function(){this.suspended&&this.suspended--},fire:function(){var e,t,i,n,r=this,s=r.listeners,o=s.length;if(!r.suspended&&0<o)for(r.firing=!0,n=(t=arguments.length?a.call(arguments,0):[]).length,e=0;e<o;e++)if((i=s[e]).o&&(t[n]=i.o),i&&!1===i.fireFn.apply(i.scope||r.observable,t))return r.firing=!1;return!(r.firing=!1)},createTargeted:function(e,t,i,n){return function(){i.target===arguments[0]&&e.apply(n,arguments)}},createBuffered:function(e,t,i,n){return t.task=new o,function(){t.task.delay(i.buffer,e,n,s(arguments))}},createDelayed:function(t,i,n,r){return function(){var e=new o;i.tasks||(i.tasks=[]),i.tasks.push(e),e.delay(n.delay||10,t,r,s(arguments))}},createSingle:function(t,i,e,n){return function(){var e=i.ev;return e.removeListener(i.fn,n)&&e.observable&&e.observable.hasListeners[e.name]--,t.apply(n,arguments)}}}}),Ext.EventManager=new function(){var n,p=this,m=document,s=window,h=/\\/g,a=Ext.baseCSSPrefix,x=!Ext.isIE9&&"addEventListener"in m;Ext.apply(p,{hasBoundOnReady:!1,hasFiredReady:!1,deferReadyEvent:1,onReadyChain:[],readyEvent:((n=new Ext.util.Event).fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime(),n.self.prototype.fire.apply(n,arguments),Ext._afterReadytime=(new Date).getTime()},n),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},bindReadyEvent:function(){p.hasBoundOnReady||("complete"==m.readyState?p.onReadyEvent({type:m.readyState||"body"}):(m.addEventListener("DOMContentLoaded",p.onReadyEvent,!1),s.addEventListener("load",p.onReadyEvent,!1),p.hasBoundOnReady=!0))},onReadyEvent:function(e){e&&e.type&&p.onReadyChain.push(e.type),p.hasBoundOnReady&&(m.removeEventListener("DOMContentLoaded",p.onReadyEvent,!1),s.removeEventListener("load",p.onReadyEvent,!1)),Ext.isReady||p.fireDocReady()},fireDocReady:function(){Ext.isReady||(Ext._readyTime=(new Date).getTime(),Ext.isReady=!0,Ext.supports.init(),p.onWindowUnload(),n.onReadyChain=p.onReadyChain,Ext.isNumber(p.deferReadyEvent)?(Ext.Function.defer(p.fireReadyEvent,p.deferReadyEvent),p.hasDocReadyTimer=!0):p.fireReadyEvent())},fireReadyEvent:function(){for(p.hasDocReadyTimer=!1,p.isFiring=!0;n.listeners.length&&!p.isReadyPaused();)n.fire();p.isFiring=!1,p.hasFiredReady=!0,Ext.EventManager.idleEvent.fire()},onDocumentReady:function(e,t,i){(i=i||{}).single=!0,n.addListener(e,t,i),p.isFiring||p.hasDocReadyTimer||(Ext.isReady?p.fireReadyEvent():p.bindReadyEvent())},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(e){var t;return t=(e=Ext.getDom(e))===m||e===s?e===m?Ext.documentId:Ext.windowId:Ext.id(e),Ext.cache[t]||Ext.addCacheEntry(t,null,e),t},prepareListenerConfig:function(e,t,i){var n,r,s,o=p.propRe;for(n in t)t.hasOwnProperty(n)&&(o.test(n)||(s="function"==typeof(r=t[n])?[e,n,r,t.scope,t]:[e,n,r.fn,r.scope,r],i?p.removeListener.apply(p,s):p.addListener.apply(p,s)))},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(e,t){return p.mouseEnterLeaveRe.test(e)&&!Ext.supports.MouseEnterLeave?(t=t&&Ext.Function.createInterceptor(t,p.contains),e="mouseenter"==e?"mouseover":"mouseout"):"mousewheel"!=e||Ext.supports.MouseWheel||Ext.isOpera||(e="DOMMouseScroll"),{eventName:e,fn:t}},contains:function(e){var t=(e=e.browserEvent||e).currentTarget,i=p.getRelatedTarget(e);if(t&&t.firstChild)for(;i;){if(i===t)return!1;(i=i.parentNode)&&1!=i.nodeType&&(i=null)}return!0},addListener:function(e,t,i,n,r){if("string"==typeof t){var s,o,a,l,d,h,c,u=e.dom||Ext.getDom(e);"string"==typeof i&&(i=Ext.resolveMethod(i,n||e)),r=r||{},o=p.normalizeEvent(t,i),a=p.createListenerWrap(u,t,o.fn,n,r),l=p.getEventListenerCache(e.dom?e:u,t),t=o.eventName,(s=x||Ext.isIE9&&!u.attachEvent)||(d=p.normalizeId(u))&&(h=Ext.cache[d][t])&&h.firing&&(l=p.cloneEventListenerCache(u,t)),c=!!r.capture,l.push({fn:i,wrap:a,scope:n,capture:c}),s?u.addEventListener(t,a,c):1===l.length&&(d=p.normalizeId(u,!0),i=Ext.Function.bind(p.handleSingleEvent,p,[d,t],!0),Ext.cache[d][t]={firing:!1,fn:i},u.attachEvent("on"+t,i)),u==m&&"mousedown"==t&&p.stoppedMouseDownEvent.addListener(a)}else p.prepareListenerConfig(e,t)},normalizeId:function(e,t){var i;return!(i=e===document?Ext.documentId:e===window?Ext.windowId:e.id)&&t&&(i=p.getId(e)),i},handleSingleEvent:function(e,t,i){var n,r,s=p.getEventListenerCache(t,i),o=Ext.cache[t][i];if(!o.firing){for(o.firing=!0,r=0,n=s.length;r<n;++r)s[r].wrap(e);o.firing=!1}},removeListener:function(e,t,i,n){if("string"==typeof t){var r,s,o,a,l,d,h=Ext.getDom(e),c=e.dom?e:Ext.get(h),u=p.getEventListenerCache(c,t),f=p.normalizeEvent(t).eventName,g=u.length;if(h)for(a=x||Ext.isIE9&&!h.detachEvent,"string"==typeof i&&(i=Ext.resolveMethod(i,n||e));g--;)if((l=u[g])&&(!i||l.fn==i)&&(!n||l.scope===n)){if((d=l.wrap).task&&(clearTimeout(d.task),delete d.task),s=d.tasks&&d.tasks.length){for(;s--;)clearTimeout(d.tasks[s]);delete d.tasks}a?h.removeEventListener(f,d,l.capture):(r=p.normalizeId(h,!0),(o=Ext.cache[r][f])&&o.firing&&(u=p.cloneEventListenerCache(h,f)),1===u.length&&(i=o.fn,delete Ext.cache[r][f],h.detachEvent("on"+f,i))),d&&h==m&&"mousedown"==t&&p.stoppedMouseDownEvent.removeListener(d),Ext.Array.erase(u,g,1)}}else p.prepareListenerConfig(e,t,!0)},removeAll:function(e){var t,i,n,r="string"==typeof e?e:e.id;if(r&&(t=Ext.cache[r])){for(n in i=t.events)i.hasOwnProperty(n)&&p.removeListener(e,n);t.events={}}},purgeElement:function(e,t){var i,n,r=Ext.getDom(e),s=0;if(t?p.removeListener(e,t):p.removeAll(e),r&&r.childNodes)for(i=(n=r.childNodes).length;s<i;s++)p.purgeElement(n[s],t)},createListenerWrap:function(n,r,s,o,a){a=a||{};var l,d=function(e,t){var i;return l||(i=["if(!"+Ext.name+") {return;}"],a.buffer||a.delay||a.freezeEvent?(a.freezeEvent&&i.push("e = X.EventObject.setEvent(e);"),i.push("e = new X.EventObjectImpl(e, "+(a.freezeEvent?"true":"false")+");")):i.push("e = X.EventObject.setEvent(e);"),a.delegate?(i.push('var result, t = e.getTarget("'+(a.delegate+"").replace(h,"\\\\")+'", this);'),i.push("if(!t) {return;}")):i.push("var t = e.target, result;"),a.target&&i.push("if(e.target !== options.target) {return;}"),a.stopEvent?i.push("e.stopEvent();"):(a.preventDefault&&i.push("e.preventDefault();"),a.stopPropagation&&i.push("e.stopPropagation();")),!1===a.normalized&&i.push("e = e.browserEvent;"),a.buffer&&(i.push("(wrap.task && clearTimeout(wrap.task));"),i.push("wrap.task = setTimeout(function() {")),a.delay&&(i.push("wrap.tasks = wrap.tasks || [];"),i.push("wrap.tasks.push(setTimeout(function() {")),i.push("result = fn.call(scope || dom, e, t, options);"),a.single&&i.push("evtMgr.removeListener(dom, ename, fn, scope);"),"mousemove"!==r&&"unload"!==r&&(i.push("if (evtMgr.idleEvent.listeners.length) {"),i.push("evtMgr.idleEvent.fire();"),i.push("}")),a.delay&&i.push("}, "+a.delay+"));"),a.buffer&&i.push("}, "+a.buffer+");"),i.push("return result;"),l=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",i.join("\n"))),l.call(n,e,a,s,o,r,n,d,t,Ext,p)};return d},getEventCache:function(e){var t,i;return e?(t=e.$cache?e.$cache:(i="string"==typeof e?e:p.getId(e),Ext.cache[i])).events||(t.events={}):[]},getEventListenerCache:function(e,t){var i=p.getEventCache(e);return i[t]||(i[t]=[])},cloneEventListenerCache:function(e,t){var i,n=p.getEventCache(e);return i=n[t]?n[t].slice(0):[],n[t]=i},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(e){p.stopPropagation(e),p.preventDefault(e)},stopPropagation:function(e){(e=e.browserEvent||e).stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){if((e=e.browserEvent||e).preventDefault)e.preventDefault();else{e.returnValue=!1;try{(e.ctrlKey||111<e.keyCode&&e.keyCode<124)&&(e.keyCode=-1)}catch(e){}}},getRelatedTarget:function(e){var t=(e=e.browserEvent||e).relatedTarget;return t||(p.mouseLeaveRe.test(e.type)?t=e.toElement:p.mouseEnterRe.test(e.type)&&(t=e.fromElement)),p.resolveTextNode(t)},getPageX:function(e){return p.getPageXY(e)[0]},getPageY:function(e){return p.getPageXY(e)[1]},getPageXY:function(e){var t=(e=e.browserEvent||e).pageX,i=e.pageY,n=m.documentElement,r=m.body;return t||0===t||(t=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),i=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),[t,i]},getTarget:function(e){return e=e.browserEvent||e,p.resolveTextNode(e.target||e.srcElement)},resolveTextNode:Ext.isGecko?function(e){if(e){var t=HTMLElement.prototype.toString.call(e);if("[xpconnect wrapped native prototype]"!==t&&"[object XULElement]"!==t)return 3==e.nodeType?e.parentNode:e}}:function(e){return e&&3==e.nodeType?e.parentNode:e},curWidth:0,curHeight:0,onWindowResize:function(e,t,i){var n=p.resizeEvent;n||(p.resizeEvent=n=new Ext.util.Event,p.on(s,"resize",p.fireResize,null,{buffer:100})),n.addListener(e,t,i)},fireResize:function(){var e=Ext.Element.getViewWidth(),t=Ext.Element.getViewHeight();p.curHeight==t&&p.curWidth==e||(p.curHeight=t,p.curWidth=e,p.resizeEvent.fire(e,t))},removeResizeListener:function(e,t){var i=p.resizeEvent;i&&i.removeListener(e,t)},onWindowUnload:function(e,t,i){var n=p.unloadEvent;n||(p.unloadEvent=n=new Ext.util.Event,p.addListener(s,"unload",p.fireUnload)),e&&n.addListener(e,t,i)},fireUnload:function(){try{var e,t,i,n,r;if(m=s=void 0,p.unloadEvent.fire(),Ext.isGecko3)for(e=Ext.ComponentQuery.query("gridview"),t=0,i=e.length;t<i;t++)e[t].scrollToTop();for(n in r=Ext.cache)r.hasOwnProperty(n)&&p.removeAll(n)}catch(e){}},removeUnloadListener:function(e,t){var i=p.unloadEvent;i&&i.removeListener(e,t)},useKeyDown:Ext.isWebKit?525<=parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10):!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera&&Ext.operaVersion<12),getKeyEvent:function(){return p.useKeyDown?"keydown":"keypress"}}),!x&&document.attachEvent&&Ext.apply(p,{pollScroll:function(){var t=!0;try{document.documentElement.doScroll("left")}catch(e){t=!1}return t&&document.body?p.onReadyEvent({type:"doScroll"}):p.scrollTimeout=setTimeout(p.pollScroll,20),t},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var e=document.readyState;p.readyStatesRe.test(e)&&p.onReadyEvent({type:e})},bindReadyEvent:function(){var t=!0;if(!p.hasBoundOnReady){try{t=void 0===window.frameElement}catch(e){t=!1}t&&m.documentElement.doScroll||(p.pollScroll=Ext.emptyFn),!0!==p.pollScroll()&&("complete"==m.readyState?p.onReadyEvent({type:"already "+(m.readyState||"body")}):(m.attachEvent("onreadystatechange",p.checkReadyState),window.attachEvent("onload",p.onReadyEvent),p.hasBoundOnReady=!0))}},onReadyEvent:function(e){e&&e.type&&p.onReadyChain.push(e.type),p.hasBoundOnReady&&(document.detachEvent("onreadystatechange",p.checkReadyState),window.detachEvent("onload",p.onReadyEvent)),Ext.isNumber(p.scrollTimeout)&&(clearTimeout(p.scrollTimeout),delete p.scrollTimeout),Ext.isReady||p.fireDocReady()},onReadyChain:[]}),Ext.onReady=function(e,t,i){Ext.Loader.onReady(e,t,!0,i)},Ext.onDocumentReady=p.onDocumentReady,p.on=p.addListener,p.un=p.removeListener,Ext.onReady(function(){var e,t=m.body||m.getElementsByTagName("body")[0],i=[],n=[],r=Ext.supports.CSS3LinearGradient,s=Ext.supports.CSS3BorderRadius;if(Ext.scopeCss||i.push(a+"body"),!t)return!1;function o(e){i.push(a+e)}return e=t.parentNode,Ext.isGecko&&(o("gecko"),Ext.isGecko3&&o("gecko3"),Ext.isGecko4&&o("gecko4"),Ext.isGecko5&&o("gecko5")),Ext.isOpera&&o("opera"),Ext.isWebKit&&o("webkit"),Ext.isSafari&&(o("safari"),Ext.isSafari2&&o("safari2"),Ext.isSafari3&&o("safari3"),Ext.isSafari4&&o("safari4"),Ext.isSafari5&&o("safari5"),Ext.isSafari5_0&&o("safari5_0")),Ext.isChrome&&o("chrome"),Ext.isMac&&o("mac"),Ext.isLinux&&o("linux"),s||o("nbr"),r||o("nlg"),e&&(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)?Ext.isBorderBox=!1:Ext.isBorderBox=!0,Ext.isBorderBox||n.push(a+"content-box"),Ext.isStrict?n.push(a+"strict"):n.push(a+"quirks"),Ext.fly(e,"_internal").addCls(n)),Ext.fly(t,"_internal").addCls(i),!0})},Ext.define("Ext.util.Observable",function(r){var h=Ext.emptyFn,s=[],n=Array.prototype.slice,l=Ext.util.Event,c=function(e){if(e instanceof c)return e;this.observable=e,arguments[1].isObservable&&(this.managedListeners=!0),this.args=n.call(arguments,1)};return c.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)},{statics:{releaseCapture:function(e){e.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,i,n){this.captureArgs(e,function(e,t){return i.apply(n,[e].concat(t))},n)},captureArgs:function(e,t,i){e.fireEventArgs=Ext.Function.createInterceptor(e.fireEventArgs,t,i)},observe:function(e,t){return e&&(e.isObservable||(Ext.applyIf(e,new this),this.captureArgs(e.prototype,e.fireEventArgs,e)),Ext.isObject(t)&&e.on(t)),e},prepareClass:function(e,t){if(!e.HasListeners){function i(){}var n=e.superclass.HasListeners||t&&t.HasListeners||r.HasListeners;e.prototype.HasListeners=e.HasListeners=i,i.prototype=e.hasListeners=new n}}},isObservable:!0,eventsSuspended:0,constructor:function(e){var t=this;Ext.apply(t,e),t.hasListeners||(t.hasListeners=new t.HasListeners),t.events=t.events||{},t.listeners&&(t.on(t.listeners),t.listeners=null),t.bubbleEvents&&t.enableBubble(t.bubbleEvents)},onClassExtended:function(e){e.HasListeners||r.prepareClass(e)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(e,t,i,n,r,s){var o,a,l=this,d=l.managedListeners=l.managedListeners||[];if("string"!=typeof t){for(t in a=4<arguments.length?r:t,r=t)r.hasOwnProperty(t)&&(o=r[t],l.eventOptionsRe.test(t)||l.addManagedListener(e,t,o.fn||o,o.scope||r.scope||n,o.fn?o:a,!0));if(r&&r.destroyable)return new c(l,e,r)}else if("string"==typeof i&&(n=n||l,i=Ext.resolveMethod(i,n)),i!==h&&(d.push({item:e,ename:t,fn:i,scope:n,options:r}),e.on(t,i,n,r),!s&&r&&r.destroyable))return new c(l,e,t,i,n)},removeManagedListener:function(e,t,i,n){var r,s,o,a,l,d=this;if("string"!=typeof t)for(t in r=t)r.hasOwnProperty(t)&&(s=r[t],d.eventOptionsRe.test(t)||d.removeManagedListener(e,t,s.fn||s,s.scope||r.scope||n));else for(o=d.managedListeners?d.managedListeners.slice():[],"string"==typeof i&&(n=n||d,i=Ext.resolveMethod(i,n)),l=0,a=o.length;l<a;l++)d.removeManagedListenerItem(!1,o[l],e,t,i,n)},fireEvent:function(e){return this.fireEventArgs(e,n.call(arguments,1))},fireEventArgs:function(e,t){e=e.toLowerCase();var i=this.events,n=i&&i[e],r=!0;return n&&this.hasListeners[e]&&(r=this.continueFireEvent(e,t||s,n.bubble)),r},continueFireEvent:function(e,t,i){var n,r,s=this,o=!0;do{if(s.eventsSuspended)return(n=s.eventQueue)&&n.push([e,t,i]),o;if((r=s.events[e])&&!0!==r&&!1===(o=r.fire.apply(r,t)))break}while(i&&(s=s.getBubbleParent()));return o},getBubbleParent:function(){var e=this.getBubbleTarget&&this.getBubbleTarget();return e&&e.isObservable?e:null},addListener:function(e,t,i,n){var r,s,o=this,a=0;if("string"!=typeof e){for(e in n=e)n.hasOwnProperty(e)&&(r=n[e],o.eventOptionsRe.test(e)||o.addListener(e,r.fn||r,r.scope||n.scope,r.fn?r:n));if(n&&n.destroyable)return new c(o,n)}else if(e=e.toLowerCase(),(s=o.events[e])&&s.isEvent?a=s.listeners.length:o.events[e]=s=new l(o,e),"string"==typeof t&&(i=i||o,t=Ext.resolveMethod(t,i)),t!==h&&(s.addListener(t,i,n),s.listeners.length!==a&&o.hasListeners._incr_(e),n&&n.destroyable))return new c(o,e,t,i,n)},removeListener:function(e,t,i){var n,r,s,o=this;if("string"!=typeof e)for(e in s=e)s.hasOwnProperty(e)&&(n=s[e],o.eventOptionsRe.test(e)||o.removeListener(e,n.fn||n,n.scope||s.scope));else e=e.toLowerCase(),(r=o.events[e])&&r.isEvent&&("string"==typeof t&&(i=i||o,t=Ext.resolveMethod(t,i)),r.removeListener(t,i)&&o.hasListeners._decr_(e))},clearListeners:function(){var e,t,i=this.events,n=this.hasListeners;for(t in i)i.hasOwnProperty(t)&&(e=i[t]).isEvent&&(delete n[t],e.clearListeners());this.clearManagedListeners()},clearManagedListeners:function(){for(var e=this.managedListeners||[],t=0,i=e.length;t<i;t++)this.removeManagedListenerItem(!0,e[t]);this.managedListeners=[]},removeManagedListenerItem:function(e,t,i,n,r,s){!e&&(t.item!==i||t.ename!==n||r&&t.fn!==r||s&&t.scope!==s)||(t.item.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(this.managedListeners,t))},addEvents:function(e){var t,i,n,r=this.events||(this.events={});if("string"==typeof e)for(n=(i=arguments).length;n--;)r[t=i[n]]||(r[t]=!0);else Ext.applyIf(this.events,e)},hasListener:function(e){return!!this.hasListeners[e.toLowerCase()]},suspendEvents:function(e){this.eventsSuspended+=1,e&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(e){var t,i,n=arguments.length;for(t=0;t<n;t++)(i=this.events[arguments[t]])&&i.suspend&&i.suspend()},resumeEvent:function(){var e,t,i=arguments.length;for(e=0;e<i;e++)(t=this.events[arguments[e]])&&t.resume&&t.resume()},resumeEvents:function(){var e,t,i=this,n=i.eventQueue;if(i.eventsSuspended&&!--i.eventsSuspended&&(delete i.eventQueue,n))for(e=n.length,t=0;t<e;t++)i.continueFireEvent.apply(i,n[t])},relayEvents:function(e,t,i){for(var n,r=t.length,s=0,o={};s<r;s++)o[n=t[s]]=this.createRelayer(i?i+n:n);return this.mon(e,o,null,null,void 0),new c(this,e,o)},createRelayer:function(e,t){var i=this;return function(){return i.fireEventArgs.call(i,e,t?n.apply(arguments,t):arguments)}},enableBubble:function(e){if(e){var t,i,n,r="string"==typeof e?arguments:e,s=r.length,o=this.events;for(n=0;n<s;++n)(i=o[t=r[n].toLowerCase()])&&"boolean"!=typeof i||(o[t]=i=new l(this,t)),this.hasListeners._incr_(t),i.bubble=!0}}}},function(){function e(){}var t,i=this,n=i.prototype,r=function(e){if(!e.HasListeners){var t=e.prototype;i.prepareClass(e,this),e.onExtended(function(e){i.prepareClass(e)}),t.onClassMixedIn?Ext.override(e,{onClassMixedIn:function(e){r.call(this,e),this.callParent(arguments)}}):t.onClassMixedIn=function(e){r.call(this,e)}}};function s(e){var r,s,o,a,l=(this.methodEvents=this.methodEvents||{})[e],d=this;return l||(this.methodEvents[e]=l={},l.originalFn=this[e],l.methodName=e,l.before=[],l.after=[],a=function(e,t,i){void 0!==(s=e.apply(t||d,i))&&("object"==typeof s?(r=void 0!==s.returnValue?s.returnValue:s,o=!!s.cancel):!1===s?o=!0:r=s)},this[e]=function(){var e,t,i,n=Array.prototype.slice.call(arguments,0);for(r=s=void 0,o=!1,t=0,i=l.before.length;t<i;t++)if(e=l.before[t],a(e.fn,e.scope,n),o)return r;for(void 0!==(s=l.originalFn.apply(d,n))&&(r=s),t=0,i=l.after.length;t<i;t++)if(e=l.after[t],a(e.fn,e.scope,n),o)return r;return r}),l}e.prototype={_decr_:function(e){--this[e]||delete this[e]},_incr_:function(e){this.hasOwnProperty(e)?++this[e]:this[e]=1}},n.HasListeners=i.HasListeners=e,i.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"}),i.observeClass=i.observe,Ext.globalEvents=t=new i({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}}),Ext.on=function(){return t.addListener.apply(t,arguments)},Ext.un=function(){return t.removeListener.apply(t,arguments)},Ext.apply(n,{onClassMixedIn:r,beforeMethod:function(e,t,i){s.call(this,e).before.push({fn:t,scope:i})},afterMethod:function(e,t,i){s.call(this,e).after.push({fn:t,scope:i})},removeMethodListener:function(e,t,i){var n,r,s=this.getMethodEvent(e);for(n=0,r=s.before.length;n<r;n++)if(s.before[n].fn==t&&s.before[n].scope==i)return void Ext.Array.erase(s.before,n,1);for(n=0,r=s.after.length;n<r;n++)if(s.after[n].fn==t&&s.after[n].scope==i)return void Ext.Array.erase(s.after,n,1)},toggleEventLogging:function(e){Ext.util.Observable[e?"capture":"releaseCapture"](this,function(e){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(e,arguments)})}})}),Ext.define("Ext.EventObjectImpl",{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(Ext.isGecko?nP=3:Ext.isMac?(nP=Ext.isSafari&&532<=Ext.webKitVersion?120:12,nP*=3):nP=120,nP),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(e,t){e&&this.setEvent(e.browserEvent||e,t)},setEvent:function(e,t){var i,n=this;return e===n||e&&e.browserEvent?e:((n.browserEvent=e)?(i=e.button?n.btnMap[e.button]:e.which?e.which-1:-1,n.clickRe.test(e.type)&&-1==i&&(i=0),n.type=e.type,n.button=i,n.shiftKey=e.shiftKey,n.ctrlKey=e.ctrlKey||e.metaKey||!1,n.altKey=e.altKey,n.keyCode=e.keyCode,n.charCode=e.charCode,n.target=Ext.EventManager.getTarget(e),n.relatedTarget=Ext.EventManager.getRelatedTarget(e),n.currentTarget=e.currentTarget,n.xy=t?n.getXY():null):(n.button=-1,n.shiftKey=!1,n.ctrlKey=!1,n.altKey=!1,n.keyCode=0,n.charCode=0,n.target=null,n.xy=[0,0]),n)},clone:function(){return new this.self(this.browserEvent,this)},stopEvent:function(){this.stopPropagation(),this.preventDefault()},preventDefault:function(){this.browserEvent&&Ext.EventManager.preventDefault(this.browserEvent)},stopPropagation:function(){var e=this.browserEvent;e&&("mousedown"==e.type&&Ext.EventManager.stoppedMouseDownEvent.fire(this),Ext.EventManager.stopPropagation(e))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(e){return Ext.isWebKit&&this.safariKeys[e]||e},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){return this.xy||(this.xy=Ext.EventManager.getPageXY(this.browserEvent)),this.xy},getTarget:function(e,t,i){return e?Ext.fly(this.target).findParent(e,t,i):i?Ext.get(this.target):this.target},getRelatedTarget:function(e,t,i){return e&&this.relatedTarget?Ext.fly(this.relatedTarget).findParent(e,t,i):i?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(e){var t=this.WHEEL_SCALE,i=Math.round(e/t);return!i&&e&&(i=e<0?-1:1),i},getWheelDeltas:function(){var e=this.browserEvent,t=0,i=0;return Ext.isDefined(e.wheelDeltaX)?(t=e.wheelDeltaX,i=e.wheelDeltaY):e.wheelDelta?i=e.wheelDelta:e.detail&&(100<(i=-e.detail)?i=3:i<-100&&(i=-3),Ext.isDefined(e.axis)&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0)),{x:this.correctWheelDelta(t),y:this.correctWheelDelta(i)}},getWheelDelta:function(){return this.getWheelDeltas().y},within:function(e,t,i){if(e){var n,r=t?this.getRelatedTarget():this.getTarget();if(r)return!(n=Ext.fly(e,"_internal").contains(r))&&i&&(n=r==Ext.getDom(e)),n}return!1},isNavKeyPress:function(){var e=this.normalizeKey(this.keyCode);return 33<=e&&e<=40||e==this.RETURN||e==this.TAB||e==this.ESC},isSpecialKey:function(){var e=this.normalizeKey(this.keyCode);return"keypress"==this.type&&this.ctrlKey||this.isNavKeyPress()||e==this.BACKSPACE||16<=e&&e<=20||44<=e&&e<=46},getPoint:function(){var e=this.getXY();return new Ext.util.Point(e[0],e[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:(UP={},!Ext.isIE9m&&document.createEvent?TP={createHtmlEvent:function(e,t,i,n){var r=e.createEvent("HTMLEvents");return r.initEvent(t,i,n),r},createMouseEvent:function(e,t,i,n,r,s,o,a,l,d,h,c,u){var f=e.createEvent("MouseEvents"),g=e.defaultView||window;return f.initMouseEvent?f.initMouseEvent(t,i,n,g,r,s,o,s,o,a,l,d,h,c,u):((f=e.createEvent("UIEvents")).initEvent(t,i,n),f.view=g,f.detail=r,f.screenX=s,f.screenY=o,f.clientX=s,f.clientY=o,f.ctrlKey=a,f.altKey=l,f.metaKey=h,f.shiftKey=d,f.button=c,f.relatedTarget=u),f},createUIEvent:function(e,t,i,n,r){var s=e.createEvent("UIEvents"),o=e.defaultView||window;return s.initUIEvent(t,i,n,o,r),s},fireEvent:function(e,t,i){e.dispatchEvent(i)},fixTarget:function(e){return e!=window||e.dispatchEvent?e:document}}:document.createEventObject&&(VP={0:1,1:4,2:2},TP={createHtmlEvent:function(e,t,i,n){var r=e.createEventObject();return r.bubbles=i,r.cancelable=n,r},createMouseEvent:function(e,t,i,n,r,s,o,a,l,d,h,c,u){var f=e.createEventObject();return f.bubbles=i,f.cancelable=n,f.detail=r,f.screenX=s,f.screenY=o,f.clientX=s,f.clientY=o,f.ctrlKey=a,f.altKey=l,f.shiftKey=d,f.metaKey=h,f.button=VP[c]||c,f.relatedTarget=u,f},createUIEvent:function(e,t,i,n,r){var s=e.createEventObject();return s.bubbles=i,s.cancelable=n,s},fireEvent:function(e,t,i){e.fireEvent("on"+t,i)},fixTarget:function(e){return e==document?document.documentElement:e}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(n,e){var r=e[0],s=e[1];UP[n]=function(e,t){var i=TP.createHtmlEvent(n,r,s);TP.fireEvent(e,n,i)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(e){UP[e]=function(r,s){var o="mousemove"!=r;return function(e,t){var i=t.getXY(),n=TP.createMouseEvent(e.ownerDocument,r,!0,o,s,i[0],i[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget);TP.fireEvent(e,r,n)}}(e,1)}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(n,e){var r=e[0],s=e[1];UP[n]=function(e,t){var i=TP.createUIEvent(e.ownerDocument,n,r,s,1);TP.fireEvent(e,n,i)}}),TP||(UP={},TP={fixTarget:Ext.identityFn}),function(e){var t=UP[this.type]||XP,i=e?e.dom||e:this.getTarget();t(i=TP.fixTarget(i),this)})},function(){Ext.EventObject=new Ext.EventObjectImpl}),Ext.define("Ext.dom.AbstractQuery",{select:function(e,t){var i,n,r,s,o,a=[];for("string"==typeof(t=t||document)&&(t=document.getElementById(t)),n=0,s=(e=e.split(",")).length;n<s;n++)if("string"==typeof e[n])if("@"==typeof e[n][0])i=t.getAttributeNode(e[n].substring(1)),a.push(i);else for(r=0,o=(i=t.querySelectorAll(e[n])).length;r<o;r++)a.push(i[r]);return a},selectNode:function(e,t){return this.select(e,t)[0]},is:function(e,t){return"string"==typeof e&&(e=document.getElementById(e)),-1!==this.select(t).indexOf(e)}}),Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:(RR=/([a-z])([A-Z])/g,SR={},function(e){return SR[e]||(SR[e]=e.replace(RR,TR))}),generateMarkup:function(e,t){var i,n,r,s,o,a=this,l=typeof e;if("string"==l||"number"==l)t.push(e);else if(Ext.isArray(e))for(s=0;s<e.length;s++)e[s]&&a.generateMarkup(e[s],t);else{for(i in r=e.tag||"div",t.push("<",r),e)e.hasOwnProperty(i)&&(n=e[i],a.confRe.test(i)||("object"==typeof n?(t.push(" ",i,'="'),a.generateStyles(n,t,!0).push('"')):t.push(" ",a.attributeTransform[i]||i,'="',n,'"')));a.emptyTags.test(r)?t.push("/>"):(t.push(">"),(n=e.tpl)&&n.applyOut(e.tplData,t),(n=e.html)&&t.push(n),(n=e.cn||e.children)&&a.generateMarkup(n,t),o=a.closeTags,t.push(o[r]||(o[r]="</"+r+">")))}return t},generateStyles:function(e,t,i){var n,r,s=t||[];for(n in e)e.hasOwnProperty(n)&&(r=e[n],n=this.decamelizeName(n),i&&Ext.String.hasHtmlCharacters(r)&&(r=Ext.String.htmlEncode(r)),s.push(n,":",r,";"));return t||s.join("")},markup:function(e){return"string"==typeof e?e:this.generateMarkup(e,[]).join("")},applyStyles:function(e,t){if(t){var i,n=0;if(e=Ext.fly(e,"_applyStyles"),"function"==typeof t&&(t=t.call()),"string"==typeof t)for(i=(t=Ext.util.Format.trim(t).split(this.styleSepRe)).length;n<i;)e.setStyle(t[n++],t[n++]);else Ext.isObject(t)&&e.setStyle(t)}},insertHtml:function(e,t,i){var n,r,s,o,a={};return e=e.toLowerCase(),a.beforebegin=["BeforeBegin","previousSibling"],a.afterend=["AfterEnd","nextSibling"],r=t.ownerDocument.createRange(),n="setStart"+(this.endRe.test(e)?"After":"Before"),a[e]?(r[n](t),s=r.createContextualFragment(i),t.parentNode.insertBefore(s,"beforebegin"==e?t:t.nextSibling),t[("beforebegin"==e?"previous":"next")+"Sibling"]):(o=("afterbegin"==e?"first":"last")+"Child",t.firstChild?(r[n](t[o]),s=r.createContextualFragment(i),"afterbegin"==e?t.insertBefore(s,t.firstChild):t.appendChild(s)):t.innerHTML=i,t[o])},insertBefore:function(e,t,i){return this.doInsert(e,t,i,"beforebegin")},insertAfter:function(e,t,i){return this.doInsert(e,t,i,"afterend","nextSibling")},insertFirst:function(e,t,i){return this.doInsert(e,t,i,"afterbegin","firstChild")},append:function(e,t,i){return this.doInsert(e,t,i,"beforeend","",!0)},overwrite:function(e,t,i){return(e=Ext.getDom(e)).innerHTML=this.markup(t),i?Ext.get(e.firstChild):e.firstChild},doInsert:function(e,t,i,n,r,s){var o=this.insertHtml(n,Ext.getDom(e),this.markup(t));return i?Ext.get(o,!0):o}}),Ext.define("Ext.dom.AbstractElement_static",{override:"Ext.dom.AbstractElement",inheritableStatics:{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,msRe:/^-ms-/,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(e,t){return"number"==typeof e?e+(t||this.defaultUnit||"px"):""===e||"auto"==e||null==e?e||"":this.unitRe.test(e)?e:e||""},isAncestor:function(e,t){var i=!1;if(e=Ext.getDom(e),t=Ext.getDom(t),e&&t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(;t=t.parentNode;)i=t==e||i}return i},parseBox:function(e){var t,i,n=typeof(e=e||0);return"number"==n?{top:e,right:e,bottom:e,left:e}:"string"!=n?e:(1==(i=(t=e.split(" ")).length)?t[1]=t[2]=t[3]=t[0]:2==i?(t[2]=t[0],t[3]=t[1]):3==i&&(t[3]=t[1]),{top:parseFloat(t[0])||0,right:parseFloat(t[1])||0,bottom:parseFloat(t[2])||0,left:parseFloat(t[3])||0})},unitizeBox:function(e,t){var i=this.addUnits,n=this.parseBox(e);return i(n.top,t)+" "+i(n.right,t)+" "+i(n.bottom,t)+" "+i(n.left,t)},camelReplaceFn:function(e,t){return t.charAt(1).toUpperCase()},normalize:function(e){return"float"==e&&(e=Ext.supports.Float?"cssFloat":"styleFloat"),this.propertyCache[e]||(this.propertyCache[e]=e.replace(this.msRe,"ms-").replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(Ext.isStrict?document.documentElement.scrollHeight:document.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?document.documentElement.scrollWidth:document.body.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?0==window.orientation?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(e,t){return Ext.get(document.elementFromPoint(e,t))},parseStyles:function(e){var t,i={},n=this.cssRe;if(e)for(n.lastIndex=0;t=n.exec(e);)i[t[1]]=t[2]||"";return i}}},function(){var l=document,d=null,e="CSS1Compat"==l.compatMode;"activeElement"in l||!l.addEventListener||l.addEventListener("focus",function(e){e&&e.target&&(d=e.target==l?null:e.target)},!0),this.addInheritableStatics({getActiveElement:function(){var e;try{e=l.activeElement}catch(e){}return e=(e=e||d)||(d=document.body)},getRightMarginFixCleaner:function(e){var t,i,n,r,s=Ext.supports,o=s.DisplayChangeInputSelectionBug,a=s.DisplayChangeTextAreaSelectionBug;return(o||a)&&(i=(t=l.activeElement||d)&&t.tagName,(a&&"TEXTAREA"==i||o&&"INPUT"==i&&"text"==t.type)&&Ext.dom.Element.isAncestor(e,t)&&(n=t.selectionStart,r=t.selectionEnd,Ext.isNumber(n)&&Ext.isNumber(r)))?function(e,t,i){return function(){e.selectionStart=t,e.selectionEnd=i}}(t,n,r):Ext.emptyFn},getViewWidth:function(e){return e?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(e){return e?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(e?l.documentElement.scrollHeight:l.body.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(e?l.documentElement.scrollWidth:l.body.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return self.innerHeight},getViewportWidth:function(){return Ext.isStrict||Ext.isOpera?self.innerWidth:l.body.clientWidth},serializeForm:function(e){var t,i,n,r,s,o,a,l,d,h=e.elements||(document.forms[e]||Ext.getDom(e)).elements,c=!1,u=encodeURIComponent,f="",g=h.length;for(o=0;o<g;o++)if(i=(t=h[o]).name,n=t.type,r=t.options,!t.disabled&&i)if(/select-(one|multiple)/i.test(n))for(l=r.length,a=0;a<l;a++)(d=r[a]).selected&&(s=d.hasAttribute?d.hasAttribute("value"):d.getAttributeNode("value").specified,f+=Ext.String.format("{0}={1}&",u(i),u(s?d.value:d.text)));else/file|undefined|reset|button/i.test(n)||/radio|checkbox/i.test(n)&&!t.checked||"submit"==n&&c||(f+=u(i)+"="+u(t.value)+"&",c=/submit/i.test(n));return f.substr(0,f.length-1)}})}),Ext.define("Ext.dom.AbstractElement_insertion",{override:"Ext.dom.AbstractElement",appendChild:function(e,t){var i,n,r;if(e.nodeType||e.dom||"string"==typeof e)return e=Ext.getDom(e),this.dom.appendChild(e),t?e:Ext.get(e);if(e.length){for(i=Ext.fly(document.createDocumentFragment(),"_internal"),n=e.length,Ext.DomHelper.useDom=!0,r=0;r<n;r++)i.appendChild(e[r],t);return Ext.DomHelper.useDom=void 0,this.dom.appendChild(i.dom),t?i.dom:i}return this.createChild(e,null,t)},appendTo:function(e){return Ext.getDom(e).appendChild(this.dom),this},insertBefore:function(e){return(e=Ext.getDom(e)).parentNode.insertBefore(this.dom,e),this},insertAfter:function(e){return(e=Ext.getDom(e)).parentNode.insertBefore(this.dom,e.nextSibling),this},insertFirst:function(e,t){return(e=e||{}).nodeType||e.dom||"string"==typeof e?(e=Ext.getDom(e),this.dom.insertBefore(e,this.dom.firstChild),t?e:Ext.get(e)):this.createChild(e,this.dom.firstChild,t)},insertSibling:function(e,t,i){var n,r,s,o,a=this,l=Ext.core.DomHelper,d=l.useDom,h="after"==(t||"before").toLowerCase();if(Ext.isArray(e)){for(r=Ext.fly(document.createDocumentFragment(),"_internal"),s=e.length,l.useDom=!0,o=0;o<s;o++)n=r.appendChild(e[o],i);return l.useDom=d,a.dom.parentNode.insertBefore(r.dom,h?a.dom.nextSibling:a.dom),n}return(e=e||{}).nodeType||e.dom?(n=a.dom.parentNode.insertBefore(Ext.getDom(e),h?a.dom.nextSibling:a.dom),i||(n=Ext.get(n))):n=h&&!a.dom.nextSibling?l.append(a.dom.parentNode,e,!i):l[h?"insertAfter":"insertBefore"](a.dom,e,!i),n},replace:function(e){return e=Ext.get(e),this.insertBefore(e),e.remove(),this},replaceWith:function(e){var t=this;return e.nodeType||e.dom||"string"==typeof e?(e=Ext.get(e),t.dom.parentNode.insertBefore(e.dom,t.dom)):e=Ext.core.DomHelper.insertBefore(t.dom,e),delete Ext.cache[t.id],Ext.removeNode(t.dom),t.id=Ext.id(t.dom=e),Ext.dom.AbstractElement.addToCache(t.isFlyweight?new Ext.dom.AbstractElement(t.dom):t),t},createChild:function(e,t,i){return e=e||{tag:"div"},t?Ext.core.DomHelper.insertBefore(t,e,!0!==i):Ext.core.DomHelper.append(this.dom,e,!0!==i)},wrap:function(e,t,i){var n=Ext.core.DomHelper.insertBefore(this.dom,e||{tag:"div"},!0),r=n;return i&&(r=Ext.DomQuery.selectNode(i,n.dom)),r.appendChild(this.dom),t?n.dom:n},insertHtml:function(e,t,i){var n=Ext.core.DomHelper.insertHtml(e,this.dom,t);return i?Ext.get(n):n}}),Ext.define("Ext.dom.AbstractElement_style",{override:"Ext.dom.AbstractElement"},function(){var r,n,d,g=this,l=/\w/g,h=/\s+/,a=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,e=Ext.supports.ClassList,t="padding",i="margin",s="border",o="-left",c="-right",u="-top",f="-bottom",p="-width",m={l:s+o+p,r:s+c+p,t:s+u+p,b:s+f+p},x={l:t+o,r:t+c,t:t+u,b:t+f},y={l:i+o,r:i+c,t:i+u,b:i+f},E=new g.Fly;Ext.override(g,{styleHooks:{},addStyles:function(e,t){var i,n,r=0,s=(e||"").match(l),o=s.length,a=[];if(1==o)r=Math.abs(parseFloat(this.getStyle(t[s[0]]))||0);else if(o){for(i=0;i<o;i++)n=s[i],a.push(t[n]);for(a=this.getStyle(a),i=0;i<o;i++)n=s[i],r+=Math.abs(parseFloat(a[t[n]])||0)}return r},addCls:(d=function(e){var t,i=this.dom;return i&&e&&e.length&&(t=Ext.Element.mergeClsList(i.className,e)).changed&&(i.className=t.join(" ")),this},e?function(e){var t,i,n,r,s,o=this.dom,a=this.trimRe,l=e;if("string"==typeof e&&(e=e.replace(a,"").split(h)),o&&e&&(r=e.length))if(o.className)if(t=o.classList){for(n=0;n<r;++n)(s=e[n])&&(t.contains(s)||(i?i.push(s):i=(i=o.className.replace(a,""))?[i,s]:[s]));i&&(o.className=i.join(" "))}else d(l);else o.className=e.join(" ");return this}:d),removeCls:function(e){var t,i,n,r=this.dom;return"string"==typeof e&&(e=e.replace(this.trimRe,"").split(h)),r&&r.className&&e&&(i=e.length)&&(t=r.classList,1===i&&t?e[0]&&t.remove(e[0]):(n=Ext.Element.removeCls(r.className,e)).changed&&(r.className=n.join(" "))),this},radioCls:function(e){var t,i,n,r=this.dom.parentNode.childNodes;for(e=Ext.isArray(e)?e:[e],i=0,n=r.length;i<n;i++)(t=r[i])&&1==t.nodeType&&E.attach(t).removeCls(e);return this.addCls(e)},toggleCls:(n=function(e){return this.hasCls(e)?this.removeCls(e):this.addCls(e)},e?function(e){var t,i=this.dom;return i&&(e=e.replace(this.trimRe,""))&&((t=i.classList)?t.toggle(e):n(e)),this}:n),hasCls:(r=function(e){var t=this.dom;return!!t&&(e&&-1!==(" "+t.className+" ").indexOf(" "+e+" "))},e?function(e){var t,i=this.dom,n=!1;return i&&e&&(n=(t=i.classList)?t.contains(e):r(e)),n}:r),replaceCls:function(e,t){return this.removeCls(e).addCls(t)},isStyle:function(e,t){var i;return"visibility"===e&&"hidden"===t?(i=this.dom)&&"hidden"===i.style.visibility:"display"===e&&"none"===t?(i=this.dom)&&"none"===i.style.display:this.getStyle(e)==t},getStyle:function(e,t){var i,n,r,s,o,a,l=this.dom,d="string"!=typeof e,h=this.styleHooks,c=e,u=c,f=1;if(d&&(n={},c=u[0],a=0,!(f=u.length)))return n;if(!l||l.documentElement)return n||"";i=l.style,t?o=i:(o=l.ownerDocument.defaultView.getComputedStyle(l,null))||(t=!0,o=i);do{if((r=h[c])||(h[c]=r={name:g.normalize(c)}),s=r.get?r.get(l,this,t,o):o[r.name],!d)return s;n[c]=s,c=u[++a]}while(a<f);return n},getStyles:function(){var e,t=Ext.Array.slice(arguments),i=t.length;return i&&"boolean"==typeof t[i-1]&&(e=t.pop()),this.getStyle(t,e)},isTransparent:function(e){var t=this.getStyle(e);return!!t&&a.test(t)},setStyle:function(e,t){var i,n=this,r=n.dom,s=n.styleHooks,o=r.style,a=e;if("string"==typeof a)(i=s[a])||(s[a]=i={name:g.normalize(a)}),t=null==t?"":t,i.set?i.set(r,t,n):o[i.name]=t,i.afterSet&&i.afterSet(r,t,n);else for(a in e)e.hasOwnProperty(a)&&((i=s[a])||(s[a]=i={name:g.normalize(a)}),t=null==(t=e[a])?"":t,i.set?i.set(r,t,n):o[i.name]=t,i.afterSet&&i.afterSet(r,t,n));return n},getHeight:function(e){var t=this.dom,i=e?t.clientHeight-this.getPadding("tb"):t.offsetHeight;return 0<i?i:0},getWidth:function(e){var t=this.dom,i=e?t.clientWidth-this.getPadding("lr"):t.offsetWidth;return 0<i?i:0},setWidth:function(e){return this.dom.style.width=g.addUnits(e),this},setHeight:function(e){return this.dom.style.height=g.addUnits(e),this},getBorderWidth:function(e){return this.addStyles(e,m)},getPadding:function(e){return this.addStyles(e,x)},margins:y,applyStyles:function(e){if(e){var t,i,n=this.dom;if("function"==typeof e&&(e=e.call()),"string"==typeof e)for(t=0,i=(e=Ext.util.Format.trim(e).split(/\s*(?::|;)\s*/)).length;t<i;)n.style[g.normalize(e[t++])]=e[t++];else"object"==typeof e&&this.setStyle(e)}},setSize:function(e,t){var i=this.dom.style;return Ext.isObject(e)&&(t=e.height,e=e.width),i.width=g.addUnits(e),i.height=g.addUnits(t),this},getViewSize:function(){var e=document,t=this.dom;return t==e||t==e.body?{width:g.getViewportWidth(),height:g.getViewportHeight()}:{width:t.clientWidth,height:t.clientHeight}},getSize:function(e){var t=this.dom;return{width:Math.max(0,e?t.clientWidth-this.getPadding("lr"):t.offsetWidth),height:Math.max(0,e?t.clientHeight-this.getPadding("tb"):t.offsetHeight)}},repaint:function(){var e=this.dom;return this.addCls(Ext.baseCSSPrefix+"repaint"),setTimeout(function(){E.attach(e).removeCls(Ext.baseCSSPrefix+"repaint")},1),this},getMargin:function(e){var t,i,n,r=this,s={t:"top",l:"left",r:"right",b:"bottom"};if(e)return r.addStyles(e,r.margins);for(t in n=[],r.margins)r.margins.hasOwnProperty(t)&&n.push(r.margins[t]);if((i=r.getStyle(n))&&"object"==typeof i)for(t in r.margins)r.margins.hasOwnProperty(t)&&(i[s[t]]=parseFloat(i[r.margins[t]])||0);return i},mask:function(e,t,i){var n,r,s=this,o=s.dom,a=(s.$cache||s.getCache()).data,l=a.mask,d=Ext.baseCSSPrefix;s.addCls(d+"masked"),"static"==s.getStyle("position")&&s.addCls(d+"masked-relative"),l&&l.remove(),n=s.createChild({role:"presentation",cls:d+"mask"+(!1!==i?"":" "+d+"mask-gray"),html:e?'<div class="'+(t||d+"mask-message")+'" role="presentation">'+e+"</div>":""}),r=s.getSize(),a.mask=n,o===document.body&&(r.height=window.innerHeight,s.orientationHandler&&Ext.EventManager.unOrientationChange(s.orientationHandler,s),s.orientationHandler=function(){(r=s.getSize()).height=window.innerHeight,n.setSize(r)},Ext.EventManager.onOrientationChange(s.orientationHandler,s)),n.setSize(r),Ext.is.iPad&&Ext.repaint()},unmask:function(){var e=this,t=(e.$cache||e.getCache()).data,i=t.mask,n=Ext.baseCSSPrefix;i&&(i.remove(),delete t.mask),e.removeCls([n+"masked",n+"masked-relative"]),e.dom===document.body&&(Ext.EventManager.unOrientationChange(e.orientationHandler,e),delete e.orientationHandler)}}),Ext.onReady(function(){var e,t,i,n,r,s=Ext.supports;function o(e,t,i,n){var r=n[this.name]||"";return a.test(r)?"transparent":r}if(e=g.prototype.styleHooks,s.init&&s.init(),s.RightMargin||(e.marginRight=e["margin-right"]={name:"marginRight",get:s.DisplayChangeInputSelectionBug||s.DisplayChangeTextAreaSelectionBug?function(e,t,i,n){var r,s,o,a=n.marginRight;return"0px"!=a&&(r=e.style,s=g.getRightMarginFixCleaner(e),o=r.display,r.display="inline-block",a=(i?n:e.ownerDocument.defaultView.getComputedStyle(e,"")).marginRight,r.display=o,s()),a}:function(e,t,i,n){var r,s,o=n.marginRight;return"0px"!=o&&(s=(r=e.style).display,r.display="inline-block",o=(i?n:e.ownerDocument.defaultView.getComputedStyle(e,null)).marginRight,r.display=s),o}}),!s.TransparentColor)for(i=(t=["background-color","border-color","color","outline-color"]).length;i--;)n=t[i],r=g.normalize(n),e[n]=e[r]={name:r,get:o}})}),Ext.define("Ext.dom.AbstractElement_traversal",{override:"Ext.dom.AbstractElement",findParent:function(e,t,i){var n,r=this.dom,s=document.documentElement,o=0;for(t=t||50,isNaN(t)&&(n=Ext.getDom(t),t=Number.MAX_VALUE);r&&1==r.nodeType&&o<t&&r!=s&&r!=n;){if(Ext.DomQuery.is(r,e))return i?Ext.get(r):r;o++,r=r.parentNode}return null},findParentNode:function(e,t,i){var n=Ext.fly(this.dom.parentNode,"_internal");return n?n.findParent(e,t,i):null},up:function(e,t,i){return this.findParentNode(e,t,!i)},select:function(e,t){return Ext.dom.Element.select(e,this.dom,t)},query:function(e){return Ext.DomQuery.select(e,this.dom)},down:function(e,t){var i=Ext.DomQuery.selectNode(e,this.dom);return t?i:Ext.get(i)},child:function(e,t){var i,n;return n=Ext.id(this.dom),n=Ext.escapeId(n),i=Ext.DomQuery.selectNode("#"+n+" > "+e,this.dom),t?i:Ext.get(i)},parent:function(e,t){return this.matchNode("parentNode","parentNode",e,t)},next:function(e,t){return this.matchNode("nextSibling","nextSibling",e,t)},prev:function(e,t){return this.matchNode("previousSibling","previousSibling",e,t)},first:function(e,t){return this.matchNode("nextSibling","firstChild",e,t)},last:function(e,t){return this.matchNode("previousSibling","lastChild",e,t)},matchNode:function(e,t,i,n){if(!this.dom)return null;for(var r=this.dom[t];r;){if(1==r.nodeType&&(!i||Ext.DomQuery.is(r,i)))return n?r:Ext.get(r);r=r[e]}return null},isAncestor:function(e){return this.self.isAncestor.call(this.self,this.dom,e)}}),Ext.define("Ext.dom.AbstractElement",{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(e){var t,i,n,r,s=this,o=window.document,a=Ext.dom.Element;return e?(e.isFly&&(e=e.dom),"string"==typeof e?e==Ext.windowId?a.get(window):e==Ext.documentId?a.get(o):(t=Ext.cache[e])&&t.skipGarbageCollection?t.el:(n=o.getElementById(e))?t&&t.el?Ext.updateCacheEntry(t,n).el:new a(n,!!t):null:e.tagName?((r=e.id)||(r=Ext.id(e)),(t=Ext.cache[r])&&t.el?Ext.updateCacheEntry(t,e).el:new a(e,!!t)):e instanceof s?(e!=s.docEl&&e!=s.winEl&&(r=e.id,(t=Ext.cache[r])&&Ext.updateCacheEntry(t,o.getElementById(r)||e.dom)),e):e.isComposite?e:Ext.isArray(e)?s.select(e):e===o?(s.docEl||((i=s.docEl=Ext.Object.chain(a.prototype)).dom=o,(i.el=i).id=Ext.id(o),s.addToCache(i)),s.docEl):e===window?(s.winEl||(s.winEl=Ext.Object.chain(a.prototype),s.winEl.dom=window,s.winEl.id=Ext.id(window),s.addToCache(s.winEl)),s.winEl):null):null},addToCache:function(e,t){return e&&Ext.addCacheEntry(t,e),e},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var e,t,i,n,r,s,o={},a=[],l=!1,d=this.trimRe,h=this.whitespaceRe;for(t=0,i=arguments.length;t<i;t++)if(e=arguments[t],Ext.isString(e)&&(e=e.replace(d,"").split(h)),e)for(n=0,r=e.length;n<r;n++)o[s=e[n]]||(t&&(l=!0),o[s]=!0);for(s in o)a.push(s);return a.changed=l,a},removeCls:function(e,t){var i,n,r,s={},o=[],a=!1,l=this.whitespaceRe;if(e)for(Ext.isString(e)&&(e=e.replace(this.trimRe,"").split(l)),i=0,n=e.length;i<n;i++)s[e[i]]=!0;if(t)for(Ext.isString(t)&&(t=t.split(l)),i=0,n=t.length;i<n;i++)s[r=t[i]]&&(a=!0,delete s[r]);for(r in s)o.push(r);return o.changed=a,o},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(e,t){var i,n=this,r="string"==typeof e?document.getElementById(e):e;return n.el=n,r?(i=r.id,!t&&i&&Ext.cache[i]?Ext.cache[i].el:(n.dom=r,n.id=i||Ext.id(r),void n.self.addToCache(n))):null},set:function(e,t){var i,n,r=this.dom;for(i in e)e.hasOwnProperty(i)&&(n=e[i],"style"==i?this.applyStyles(n):"cls"==i?r.className=n:!1!==t?void 0===n?r.removeAttribute(i):r.setAttribute(i,n):r[i]=n);return this},defaultUnit:"px",is:function(e){return Ext.DomQuery.is(this.dom,e)},getValue:function(e){var t=this.dom.value;return e?parseInt(t,10):t},remove:function(){var e=this.dom;this.isAnimate&&this.stopAnimation(),e&&(Ext.removeNode(e),delete this.dom)},contains:function(e){if(!e||Ext.isGecko3&&function(e){var t;try{e=e.dom||e}catch(e){return!0}return"[xpconnect wrapped native prototype]"===(t=HTMLElement.prototype.toString.call(e))||"[object XULElement]"===t}(e))return!1;var t=e.dom||e;return t===this.dom||Ext.dom.AbstractElement.isAncestor(this.dom,t)},getAttribute:function(e,t){var i=this.dom;return i.getAttributeNS(t,e)||i.getAttribute(t+":"+e)||i.getAttribute(e)||i[e]},update:function(e){return this.dom&&(this.dom.innerHTML=e),this},setHTML:function(e){return this.dom&&(this.dom.innerHTML=e),this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){return this.setVisible(!1),this},show:function(){return this.setVisible(!0),this},setVisible:function(e,t){var i=this,n=i.self,r=i.getVisibilityMode(),s=Ext.baseCSSPrefix;switch(r){case n.VISIBILITY:i.removeCls([s+"hidden-display",s+"hidden-offsets"]),i[e?"removeCls":"addCls"](s+"hidden-visibility");break;case n.DISPLAY:i.removeCls([s+"hidden-visibility",s+"hidden-offsets"]),i[e?"removeCls":"addCls"](s+"hidden-display");break;case n.OFFSETS:i.removeCls([s+"hidden-visibility",s+"hidden-display"]),i[e?"removeCls":"addCls"](s+"hidden-offsets")}return i},getVisibilityMode:function(){var e=(this.$cache||this.getCache()).data,t=e.visibilityMode;return void 0===t&&(e.visibilityMode=t=this.self.DISPLAY),t},setVisibilityMode:function(e){return(this.$cache||this.getCache()).data.visibilityMode=e,this},getCache:function(){var e=this,t=e.dom.id||Ext.id(e.dom);return e.$cache=Ext.cache[t]||Ext.addCacheEntry(t,null,e.dom),e.$cache}},function(){var e,r=this;Ext.getDetachedBody=function(){var e=r.detachedBodyEl;return e||(e=document.createElement("div"),r.detachedBodyEl=e=new r.Fly(e),e.isDetachedBody=!0),e},Ext.getElementById=function(e){var t,i=document.getElementById(e);return!i&&(t=r.detachedBodyEl)&&(i=t.dom.querySelector("#"+Ext.escapeId(e))),i},Ext.get=function(e){return Ext.dom.Element.get(e)},this.addStatics({Fly:new Ext.Class({extend:r,isFly:!0,constructor:function(e){this.dom=e,this.el=this},attach:function(e){return this.dom=e,this.$cache=e&&e.id?Ext.cache[e.id]:null,this}}),_flyweights:{},fly:function(e,t){var i=null,n=r._flyweights;return t=t||"_global",(e=Ext.getDom(e))&&((i=n[t]||(n[t]=new r.Fly)).dom=e,i.$cache=e.id?Ext.cache[e.id]:null),i}}),Ext.fly=function(){return r.fly.apply(r,arguments)},(e=this.prototype).destroy=e.remove,document.querySelector?e.getById=function(e,t){var i=document.getElementById(e)||this.dom.querySelector("#"+Ext.escapeId(e));return t?i:i?Ext.get(i):null}:e.getById=function(e,t){var i=document.getElementById(e);return t?i:i?Ext.get(i):null}}),Ext.define("Ext.dom.Helper",(p$="afterbegin",r$="beforebegin",t$="<table>",u$="</table>",v$=t$+"<tbody>",w$="</tbody>"+u$,z$=document.createElement("div"),A$=["BeforeBegin","previousSibling"],B$=["AfterEnd","nextSibling"],C$={beforebegin:A$,afterend:B$},D$={beforebegin:A$,afterend:B$,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]},{extend:Ext.dom.AbstractHelper,tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:!1,createDom:function(e,t){var i,n,r,s,o,a,l,d=document;if(Ext.isArray(e))for(i=d.createDocumentFragment(),a=0,l=e.length;a<l;a++)this.createDom(e[a],i);else if("string"==typeof e)i=d.createTextNode(e);else{for(r in n=!!(i=d.createElement(e.tag||"div")).setAttribute,e)this.confRe.test(r)||(s=e[r],"cls"==r?i.className=s:n?i.setAttribute(r,s):i[r]=s);Ext.DomHelper.applyStyles(i,e.style),(o=e.children||e.cn)?this.createDom(o,i):e.html&&(i.innerHTML=e.html)}return t&&t.appendChild(i),i},ieTable:function(e,t,i,n){z$.innerHTML=[t,i,n].join("");for(var r,s=-1,o=z$;++s<e;)o=o.firstChild;if(r=o.nextSibling)for(r=o,o=document.createDocumentFragment();r;)nx=r.nextSibling,o.appendChild(r),r=nx;return o},insertIntoTable:function(e,t,i,n){var r,s,o=t==r$,a=t==p$,l="beforeend"==t,d="afterend"==t;return"td"==e&&(a||l)||!this.tableElRe.test(e)&&(o||d)?null:(s=o?i:d?i.nextSibling:a?i.firstChild:null,(o||d)&&(i=i.parentNode),r="td"==e||"tr"==e&&(l||a)?this.ieTable(4,"<table><tbody><tr>",n,"</tr></tbody></table>"):("tbody"==e||"thead"==e)&&(l||a)||"tr"==e&&(o||d)?this.ieTable(3,v$,n,w$):this.ieTable(2,t$,n,u$),i.insertBefore(r,s),r)},createContextualFragment:function(e){var t,i,n=document.createDocumentFragment();for(z$.innerHTML=e,t=(i=z$.childNodes).length;t--;)n.appendChild(i[0]);return n},applyStyles:function(e,t){t&&("function"==typeof t&&(t=t.call()),"string"==typeof t&&(t=Ext.dom.Element.parseStyles(t)),"object"==typeof t&&Ext.fly(e,"_applyStyles").setStyle(t))},createHtml:function(e){return this.markup(e)},doInsert:function(e,t,i,n,r,s){var o;return e=e.dom||Ext.getDom(e),this.useDom?(o=this.createDom(t,null),s?e.appendChild(o):("firstChild"==r?e:e.parentNode).insertBefore(o,e[r]||e)):o=this.insertHtml(n,e,this.markup(t)),i?Ext.get(o,!0):o},overwrite:function(e,t,i){var n;if(e=Ext.getDom(e),t=this.markup(t),Ext.isIE&&this.tableRe.test(e.tagName)){for(;e.firstChild;)e.removeChild(e.firstChild);return t?(n=this.insertHtml("afterbegin",e,t),i?Ext.get(n):n):null}return e.innerHTML=t,i?Ext.get(e.firstChild):e.firstChild},insertHtml:function(e,t,i){var n,r,s,o,a;return e=e.toLowerCase(),t.insertAdjacentHTML?Ext.isIE&&this.tableRe.test(t.tagName)&&(a=this.insertIntoTable(t.tagName.toLowerCase(),e,t,i))?a:(n=D$[e])?(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction?MSApp.execUnsafeLocalFunction(function(){t.insertAdjacentHTML(n[0],i)}):t.insertAdjacentHTML(n[0],i),t[n[1]]):void 0:(3===t.nodeType&&(e="beforeend"===(e="afterbegin"===e?"beforebegin":e)?"afterend":e),r=Ext.supports.CreateContextualFragment?t.ownerDocument.createRange():void 0,o="setStart"+(this.endRe.test(e)?"After":"Before"),C$[e]?(a=r?(r[o](t),r.createContextualFragment(i)):this.createContextualFragment(i),t.parentNode.insertBefore(a,e==r$?t:t.nextSibling),t[(e==r$?"previous":"next")+"Sibling"]):(s=(e==p$?"first":"last")+"Child",t.firstChild?(a=r?(r[o](t[s]),r.createContextualFragment(i)):this.createContextualFragment(i),e==p$?t.insertBefore(a,t.firstChild):t.appendChild(a)):t.innerHTML=i,t[s]))},createTemplate:function(e){var t=this.markup(e);return new Ext.Template(t)}}),function(){Ext.ns("Ext.core"),Ext.DomHelper=Ext.core.DomHelper=new this}),Ext.define("Ext.Template",{inheritableStatics:{from:function(e,t){return new this((e=Ext.getDom(e)).value||e.innerHTML,t||"")}},constructor:function(e){var t,i=this,n=arguments,r=[],s=0,o=n.length;if(i.initialConfig={},1===o&&Ext.isArray(e)&&(o=(n=e).length),1<o)for(;s<o;s++)"object"==typeof(t=n[s])?(Ext.apply(i.initialConfig,t),Ext.apply(i,t)):r.push(t);else r.push(e);i.html=r.join(""),i.compiled&&i.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(r){var e=this,s=!0!==e.disableFormats,o=Ext.util.Format,a=e;if(e.compiled)return e.compiled(r).join("");return e.html.replace(e.re,function(e,t,i,n){return i&&s?(n=n?[r[t]].concat(Ext.functionFactory("return ["+n+"];")()):[r[t]],"this."==i.substr(0,5)?a[i.substr(5)].apply(a,n):o[i].apply(o,n)):void 0!==r[t]?r[t]:""})},applyOut:function(e,t){return this.compiled?t.push.apply(t,this.compiled(e)):t.push(this.apply(e)),t},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,t){return this.html=e,this.compiled=null,t?this.compile():this},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=!0!==me.disableFormats,body,bodyReturn;function fn(e,t,i,n){return"',"+(i=i&&useFormat?(n=n?","+n:"","this."!=i.substr(0,5)?"fm."+i+"(":"this."+i.substr(5)+"("):(n="","(values['"+t+"'] == undefined ? '' : "))+"values['"+t+"']"+n+") ,'"}return bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn),body="this.compiled = function(values){ return ['"+bodyReturn+"'];};",eval(body),me},insertFirst:function(e,t,i){return this.doInsert("afterBegin",e,t,i)},insertBefore:function(e,t,i){return this.doInsert("beforeBegin",e,t,i)},insertAfter:function(e,t,i){return this.doInsert("afterEnd",e,t,i)},append:function(e,t,i){return this.doInsert("beforeEnd",e,t,i)},doInsert:function(e,t,i,n){var r=Ext.DomHelper.insertHtml(e,Ext.getDom(t),this.apply(i));return n?Ext.get(r):r},overwrite:function(e,t,i){var n=Ext.DomHelper.overwrite(Ext.getDom(e),this.apply(t));return i?Ext.get(n):n}}),Ext.define("Ext.XTemplateParser",{constructor:function(e){Ext.apply(this,e)},doTpl:Ext.emptyFn,parse:function(e){var t,i,n,r,s,o,a,l,d,h,c,u,f=this,g=e.length,p={elseif:"elif"},m=f.topRe,x=f.actionsRe;for(f.level=0,f.stack=i=[],t=0;t<g;t=h){if(m.lastIndex=t,!(r=m.exec(e))){f.doText(e.substring(t,g));break}if(d=r.index,h=m.lastIndex,t<d&&f.doText(e.substring(t,d)),r[1])h=e.indexOf("%}",d+2),f.doEval(e.substring(d+2,h)),h+=2;else if(r[2])h=e.indexOf("]}",d+2),f.doExpr(e.substring(d+2,h)),h+=2;else if(r[3])f.doTag(r[3]);else if(r[4]){for(c=null;null!==(l=x.exec(r[4]));)(n=l[2]||l[3])&&(n=Ext.String.htmlDecode(n),"string"==typeof(o=(c=c||{})[s=p[s=l[1]]||s])?c[s]=[o,n]:o?c[s].push(n):c[s]=n);c?c.if?(f.doIf(c.if,c),i.push({type:"if"})):c.switch?(f.doSwitch(c.switch,c),i.push({type:"switch"})):c.case?f.doCase(c.case,c):c.elif?f.doElseIf(c.elif,c):c.for?(++f.level,(u=f.propRe.exec(r[4]))&&(c.propName=u[1]||u[2]),f.doFor(c.for,c),i.push({type:"for",actions:c})):c.foreach?(++f.level,(u=f.propRe.exec(r[4]))&&(c.propName=u[1]||u[2]),f.doForEach(c.foreach,c),i.push({type:"foreach",actions:c})):c.exec&&(f.doExec(c.exec,c),i.push({type:"exec",actions:c})):f.elseRe.test(r[4])?f.doElse():f.defaultRe.test(r[4])?f.doDefault():(f.doTpl(),i.push({type:"tpl"}))}else 5===r[0].length?i.push({type:"tpl"}):(a=i.pop(),f.doEnd(a.type,a.actions),"for"!=a.type&&"foreach"!=a.type||--f.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.XTemplateCompiler",{extend:Ext.XTemplateParser,useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(e){var t=this.generate(e);return this.useEval?this.evalTpl(t):new Function("Ext",t)(Ext)},generate:function(e){var t,i=this,n="var fm=Ext.util.Format,ts=Object.prototype.toString;";return i.maxLevel=0,i.body=["var c0=values, a0="+i.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],i.definitions?"string"==typeof i.definitions?i.definitions=[i.definitions,n]:i.definitions.push(n):i.definitions=[n],i.switches=[],i.parse(e),i.definitions.push((i.useEval?"$=":"return")+" function ("+i.fnArgs+") {",i.body.join(""),"}"),t=i.definitions.join("\n"),i.definitions.length=i.body.length=i.switches.length=0,delete i.definitions,delete i.body,delete i.switches,t},doText:function(e){var t=this.body;e=e.replace(this.aposRe,"\\'").replace(this.newLineRe,"\\n"),this.useIndex?t.push("out[out.length]='",e,"'\n"):t.push("out.push('",e,"')\n")},doExpr:function(e){var t=this.body;t.push("if ((v="+e+") != null) out"),this.useIndex?t.push("[out.length]=v+''\n"):t.push(".push(v+'')\n")},doTag:function(e){var t=this.parseTag(e);t?this.doExpr(t):this.doText("{"+e+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(e){this.body.push(e,"\n")},doIf:function(e,t){var i=this;"."===e?i.body.push("if (values) {\n"):i.propNameRe.test(e)?i.body.push("if (",i.parseTag(e),") {\n"):i.body.push("if (",i.addFn(e),i.callFn,") {\n"),t.exec&&i.doExec(t.exec)},doElseIf:function(e,t){var i=this;"."===e?i.body.push("else if (values) {\n"):i.propNameRe.test(e)?i.body.push("} else if (",i.parseTag(e),") {\n"):i.body.push("} else if (",i.addFn(e),i.callFn,") {\n"),t.exec&&i.doExec(t.exec)},doSwitch:function(e){var t=this;"."===e?t.body.push("switch (values) {\n"):t.propNameRe.test(e)?t.body.push("switch (",t.parseTag(e),") {\n"):t.body.push("switch (",t.addFn(e),t.callFn,") {\n"),t.switches.push(0)},doCase:function(e){var t,i,n=this,r=Ext.isArray(e)?e:[e],s=n.switches.length-1;for(n.switches[s]?n.body.push("break;\n"):n.switches[s]++,i=0,s=r.length;i<s;++i)t=n.intRe.exec(r[i]),r[i]=t?t[1]:"'"+r[i].replace(n.aposRe,"\\'")+"'";n.body.push("case ",r.join(": case "),":\n")},doDefault:function(){var e=this,t=e.switches.length-1;e.switches[t]?e.body.push("break;\n"):e.switches[t]++,e.body.push("default:\n")},doEnd:function(e,t){var i=this,n=i.level-1;"for"==e||"foreach"==e?(t.exec&&i.doExec(t.exec),i.body.push("}\n"),i.body.push("parent=p",n,";values=r",1+n,";xcount=n"+n+";xindex=i",n,"+1;xkey=k",n,";\n")):"if"!=e&&"switch"!=e||i.body.push("}\n")},doFor:function(e,t){var i,n,r=this,s=r.level,o=s-1;i="."===e?"values":r.propNameRe.test(e)?r.parseTag(e):r.addFn(e)+r.callFn,r.maxLevel<s&&(r.maxLevel=s,r.body.push("var ")),n="."==e?"c"+s:"a"+o+"?c"+o+"[i"+o+"]:c"+o,r.body.push("i",s,"=0,n",s,"=0,c",s,"=",i,",a",s,"=",r.createArrayTest(s),",r",s,"=values,p",s,",k",s,";\n","p",s,"=parent=",n,"\n","if (c",s,"){if(a",s,"){n",s,"=c",s,".length;}else if (c",s,".isMixedCollection){c",s,"=c",s,".items;n",s,"=c",s,".length;}else if(c",s,".isStore){c",s,"=c",s,".data.items;n",s,"=c",s,".length;}else{c",s,"=[c",s,"];n",s,"=1;}}\n","for (xcount=n",s,";i",s,"<n"+s+";++i",s,"){\n","values=c",s,"[i",s,"]"),t.propName&&r.body.push(".",t.propName),r.body.push("\n","xindex=i",s,"+1\n"),t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},doForEach:function(e,t){var i,n,r=this,s=r.level,o=s-1;i="."===e?"values":r.propNameRe.test(e)?r.parseTag(e):r.addFn(e)+r.callFn,r.maxLevel<s&&(r.maxLevel=s,r.body.push("var ")),n="."==e?"c"+s:"a"+o+"?c"+o+"[i"+o+"]:c"+o,r.body.push("i",s,"=-1,n",s,"=0,c",s,"=",i,",a",s,"=",r.createArrayTest(s),",r",s,"=values,p",s,",k",s,";\n","p",s,"=parent=",n,"\n","for(k",s," in c",s,"){\n","xindex=++i",s,"+1;\n","xkey=k",s,";\n","values=c",s,"[k",s,"];"),t.propName&&r.body.push(".",t.propName),t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},createArrayTest:"isArray"in Array?function(e){return"Array.isArray(c"+e+")"}:function(e){return"ts.call(c"+e+')==="[object Array]"'},doExec:function(e,t){var i=this,n="f"+i.definitions.length;i.definitions.push("function "+n+"("+i.fnArgs+") {"," try { with(values) {","  "+e," }} catch(e) {","}","}"),i.body.push(n+i.callFn+"\n")},addFn:function(e){var t=this,i="f"+t.definitions.length;return"."===e?t.definitions.push("function "+i+"("+t.fnArgs+") {"," return values","}"):".."===e?t.definitions.push("function "+i+"("+t.fnArgs+") {"," return parent","}"):t.definitions.push("function "+i+"("+t.fnArgs+") {"," try { with(values) {","  return("+e+")"," }} catch(e) {","}","}"),i},parseTag:function(e){var t,i,n,r,s,o=this,a=o.tagRe.exec(e);return a?(t=a[1],i=a[2],n=a[3],r=a[4],s="."==t?(o.validTypes||(o.definitions.push("var validTypes={string:1,number:1,boolean:1};"),o.validTypes=!0),'validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):"#"==t?"xindex":"$"==t?"xkey":"parent."==t.substr(0,7)?t:isNaN(t)&&-1==t.indexOf("-")&&-1!=t.indexOf(".")?"values."+t:"values['"+t+"']",r&&(s="("+s+r+")"),i&&o.useFormat?(n=n?","+n:"","this."!=i.substr(0,5)?i="fm."+i+"(":i+="(",i+s+n+")"):s):null},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var e=this.prototype;e.fnArgs="out,values,parent,xindex,xcount,xkey",e.callFn=".call(this,"+e.fnArgs+")"}),Ext.define("Ext.XTemplate",{extend:Ext.Template,emptyObj:{},apply:function(e,t){return this.applyOut(e,[],t).join("")},applyOut:function(e,t,i){var n,r=this;r.fn||(n=new Ext.XTemplateCompiler({useFormat:!0!==r.disableFormats,definitions:r.definitions}),r.fn=n.compile(r.html));try{r.fn(t,e,i||r.emptyObj,1,1)}catch(e){}return t},compile:function(){return this},statics:{getTpl:function(e,t){var i,n=e[t];if(n&&!n.isTemplate){if(n=Ext.ClassManager.dynInstantiate("Ext.XTemplate",n),e.hasOwnProperty(t))i=e;else for(i=e.self.prototype;i&&!i.hasOwnProperty(t);i=i.superclass);(i[t]=n).owner=i}return n||null}}}),Ext.ns("Ext.core"),Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){var DQ,doc=document,cache={},simpleCache={},valueCache={},useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=(s2=doc.createElement("div"),s2.innerHTML="\x3c!-- --\x3etext\x3c!-- --\x3e",s2.children&&0===s2.children.length),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=!!window.ActiveXObject,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=(u2='<r><a:b xmlns:a="n"></a:b></r>',window.DOMParser?t2=(new DOMParser).parseFromString(u2,"application/xml"):(t2=new ActiveXObject("Microsoft.XMLDOM")).loadXML(u2),!!t2.getElementsByTagName("a:b").length),longHexToChar=function(e,t){return String.fromCharCode(parseInt(t,16))},shortToLongHex=function(e,t){for(;t.length<6;)t="0"+t;return"\\"+t},charToLongHex=function(e,t){return 1===(num=t.charCodeAt(0).toString(16)).length&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(e){return hasEscapes?e.replace(longHex,longHexToChar):e},setupEscapes=function(e){return(hasEscapes=-1<e.indexOf("\\"))&&(e=e.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),e},t2,u2,s2;function children(e){for(var t,i=e.firstChild,n=-1;i;)t=i.nextSibling,3!=i.nodeType||nonSpace.test(i.nodeValue)?i.nodeIndex=++n:e.removeChild(i),i=t;return this}function attrValue(e,t){return e.tagName||void 0===e.length||(e=e[0]),e?"for"==t?e.htmlFor:"class"==t||"className"==t?e.className:e.getAttribute(t)||e[t]:null}function getNodes(e,t,i){var n,r,s,o,a,l,d,h,c,u=[],f=-1;if(!e)return u;if(i=i.replace("|",":")||"*",void 0!==e.getElementsByTagName&&(e=[e]),t){if("/"==t||">"==t)for(d=i.toUpperCase(),r=0;s=e[r];r++)for(l=s.childNodes,o=0;c=l[o];o++)c.nodeName!=d&&c.nodeName!=i&&"*"!=i||(u[++f]=c);else if("+"==t)for(d=i.toUpperCase(),r=0;h=e[r];r++){for(;(h=h.nextSibling)&&1!=h.nodeType;);!h||h.nodeName!=d&&h.nodeName!=i&&"*"!=i||(u[++f]=h)}else if("~"==t)for(d=i.toUpperCase(),r=0;h=e[r];r++)for(;h=h.nextSibling;)h.nodeName!=d&&h.nodeName!=i&&"*"!=i||(u[++f]=h)}else if(i=unescapeCssSelector(i),!supportsColonNsSeparator&&DQ.isXml(e[0])&&-1!==i.indexOf(":"))for(r=0;s=e[r];r++)for(n=s.getElementsByTagName(i.split(":").pop()),o=0;a=n[o];o++)a.tagName===i&&(u[++f]=a);else for(r=0;s=e[r];r++)for(n=s.getElementsByTagName(i),o=0;a=n[o];o++)u[++f]=a;return u}function concat(e,t){return e.push.apply(e,t),e}function byTag(e,t){if(!e.tagName&&e!==doc||(e=[e]),!t)return e;var i,n,r=[],s=-1;for(t=t.toLowerCase(),i=0;n=e[i];i++)1==n.nodeType&&n.tagName.toLowerCase()==t&&(r[++s]=n);return r}function byId(e,t){if(t=unescapeCssSelector(t),!e.tagName&&e!==doc||(e=[e]),!t)return e;var i,n,r=[],s=-1;for(i=0;n=e[i];i++)if(n&&n.id==t)return r[++s]=n,r;return r}function byAttribute(e,t,i,n,r){var s,o,a,l,d,h=[],c=-1,u="{"==r,f=DQ.operators[n];for(i=unescapeCssSelector(i),l=0;d=e[l];l++)1===d.nodeType&&(a||(o=DQ.isXml(d),a=!0),s=o?d.getAttribute(t):u?DQ.getStyle(d,t):"class"==t||"className"==t?d.className:"for"==t?d.htmlFor:"href"==t?d.getAttribute("href",2):d.getAttribute(t),(f&&f(s,i)||!f&&s)&&(h[++c]=d));return h}function byPseudo(e,t,i){return i=unescapeCssSelector(i),DQ.pseudos[t](e,i)}function nodupIEXml(e){var t,i,n,r,s=++key;for(e[0].setAttribute("_nodup",s),t=[e[0]],i=1,n=e.length;i<n;i++)!(r=e[i]).getAttribute("_nodup")!=s&&(r.setAttribute("_nodup",s),t[t.length]=r);for(i=0,n=e.length;i<n;i++)e[i].removeAttribute("_nodup");return t}function nodup(e){if(!e)return[];var t,i,n,r,s,o=e.length,a=e,l=-1;if(!o||void 0!==e.nodeType||1==o)return e;if(isIE&&void 0!==e[0].selectSingleNode)return nodupIEXml(e);for(r=++key,e[0]._nodup=r,i=1;t=e[i];i++){if(t._nodup==r){for(a=[],s=0;s<i;s++)a[++l]=e[s];for(s=i+1;n=e[s];s++)n._nodup!=r&&(n._nodup=r,a[++l]=n);return a}t._nodup=r}return a}function quickDiffIEXml(e,t){var i,n,r=++key,s=[];for(i=0,n=e.length;i<n;i++)e[i].setAttribute("_qdiff",r);for(i=0,n=t.length;i<n;i++)t[i].getAttribute("_qdiff")!=r&&(s[s.length]=t[i]);for(i=0,n=e.length;i<n;i++)e[i].removeAttribute("_qdiff");return s}function quickDiff(e,t){var i,n,r=e.length,s=++key,o=[];if(!r)return t;if(isIE&&void 0!==e[0].selectSingleNode)return quickDiffIEXml(e,t);for(i=0;i<r;i++)e[i]._qdiff=s;for(i=0,n=t.length;i<n;i++)t[i]._qdiff!=s&&(o[o.length]=t[i]);return o}function quickId(e,t,i,n){return e==i?(n=unescapeCssSelector(n),(i.ownerDocument||i).getElementById(n)):byId(e=getNodes(e,t,"*"),n)}return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(e,t){return e.children[t]}:function(e,t){for(var i=0,n=e.firstChild;n;){if(1==n.nodeType&&++i==t)return n;n=n.nextSibling}return null},next=useElementPointer?function(e){return e.nextElementSibling}:function(e){for(;(e=e.nextSibling)&&1!=e.nodeType;);return e},prev=useElementPointer?function(e){return e.previousElementSibling}:function(e){for(;(e=e.previousSibling)&&1!=e.nodeType;);return e},byClassName=useClassList?function(e,t){if(!(t=unescapeCssSelector(t)))return e;var i,n,r,s=[],o=-1;for(i=0;n=e[i];i++)(r=n.classList)?r.contains(t)&&(s[++o]=n):-1!==(" "+n.className+" ").indexOf(t)&&(s[++o]=n);return s}:function(e,t){if(!(t=unescapeCssSelector(t)))return e;var i,n,r=[],s=-1;for(i=0;n=e[i];i++)-1!==(" "+n.className+" ").indexOf(t)&&(r[++s]=n);return r},DQ={getStyle:function(e,t){return Ext.fly(e,"_DomQuery").getStyle(t)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?("#"==tokenMatch[1]?fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&("#"==tokenMatch[1]?fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");':fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;j<matchersLn;j++)if(t=matchers[j],m=path.match(t.re),m){fn[fn.length]=t.select.replace(tplRe,function(e,t){return m[t]}),path=path.replace(m[0],""),matched=!0;break}matched||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(e,t,i){"string"==typeof(t=t||doc)&&(t=doc.getElementById(t));var n,r,s,o,a=e.split(","),l=[];for(n=0,r=a.length;n<r;n++)s=a[n].replace(trimRe,""),cache[s]?setupEscapes(s):(cache[s]=DQ.compile(s,i),cache[s]||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:s+" is not a valid selector"})),(o=cache[s](t))&&o!==doc&&(l=l.concat(o));return 1<a.length?nodup(l):l},isXml:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName},select:doc.querySelectorAll?function(e,t,i,n){if(t=t||doc,!DQ.isXml(t))try{return t.parentNode&&9!==t.nodeType&&-1===e.indexOf(",")&&!startIdRe.test(e)&&(e="#"+Ext.escapeId(Ext.id(t))+" "+e,t=t.parentNode),n?[t.querySelector(e)]:Ext.Array.toArray(t.querySelectorAll(e))}catch(e){}return DQ.jsSelect.call(this,e,t,i)}:function(e,t,i){return DQ.jsSelect.call(this,e,t,i)},selectNode:function(e,t){return Ext.DomQuery.select(e,t,null,!0)[0]},selectValue:function(e,t,i){e=e.replace(trimRe,""),valueCache[e]?setupEscapes(e):valueCache[e]=DQ.compile(e,"select");var n,r=valueCache[e](t);return"function"==typeof(r=r[0]?r[0]:r).normalize&&r.normalize(),null==(n=r&&r.firstChild?r.firstChild.nodeValue:null)||""===n?i:n},selectNumber:function(e,t,i){var n=DQ.selectValue(e,t,i||0);return parseFloat(n)},is:function(e,t){"string"==typeof e&&(e=doc.getElementById(e));var i=Ext.isArray(e),n=DQ.filter(i?e:[e],t);return i?n.length==e.length:0<n.length},filter:function(e,t,i){t=t.replace(trimRe,""),simpleCache[t]?setupEscapes(t):simpleCache[t]=DQ.compile(t,"simple");var n=simpleCache[t](e);return i?quickDiff(n,e):n},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e&&e.substr(0,t.length)==t},"$=":function(e,t){return e&&e.substr(e.length-t.length)==t},"*=":function(e,t){return e&&-1!==e.indexOf(t)},"%=":function(e,t){return e%t==0},"|=":function(e,t){return e&&(e==t||e.substr(0,t.length+1)==t+"-")},"~=":function(e,t){return e&&-1!=(" "+e+" ").indexOf(" "+t+" ")}},pseudos:{"first-child":function(e){var t,i,n,r=[],s=-1;for(i=0;n=t=e[i];i++){for(;(t=t.previousSibling)&&1!=t.nodeType;);t||(r[++s]=n)}return r},"last-child":function(e){var t,i,n,r=[],s=-1;for(i=0;n=t=e[i];i++){for(;(t=t.nextSibling)&&1!=t.nodeType;);t||(r[++s]=n)}return r},"nth-child":function(e,t){var i,n,r,s,o,a=[],l=-1,d=nthRe.exec(("even"==t?"2n":"odd"==t&&"2n+1")||!nthRe2.test(t)&&"n+"+t||t),h=(d[1]||1)-0,c=d[2]-0;for(i=0;n=e[i];i++){if(o=n.parentNode,batch!=o._batch){for(r=0,s=o.firstChild;s;s=s.nextSibling)1==s.nodeType&&(s.nodeIndex=++r);o._batch=batch}1==h?0!=c&&n.nodeIndex!=c||(a[++l]=n):(n.nodeIndex+c)%h==0&&(a[++l]=n)}return a},"only-child":function(e){var t,i,n=[],r=-1;for(t=0;i=e[t];t++)prev(i)||next(i)||(n[++r]=i);return n},empty:function(e){var t,i,n,r,s,o,a=[],l=-1;for(t=0;i=e[t];t++){for(n=i.childNodes,o=!(r=0);s=n[r];)if(++r,1==s.nodeType||3==s.nodeType){o=!1;break}o&&(a[++l]=i)}return a},contains:function(e,t){var i,n,r=[],s=-1;for(i=0;n=e[i];i++)-1!=(n.textContent||n.innerText||n.text||"").indexOf(t)&&(r[++s]=n);return r},nodeValue:function(e,t){var i,n,r=[],s=-1;for(i=0;n=e[i];i++)n.firstChild&&n.firstChild.nodeValue==t&&(r[++s]=n);return r},checked:function(e){var t,i,n=[],r=-1;for(t=0;i=e[t];t++)!0===i.checked&&(n[++r]=i);return n},not:function(e,t){return DQ.filter(e,t,!0)},any:function(e,t){var i,n,r,s,o=t.split("|"),a=[],l=-1;for(n=0;r=e[n];n++)for(s=0;i=o[s];s++)if(DQ.is(r,i)){a[++l]=r;break}return a},odd:function(e){return this["nth-child"](e,"odd")},even:function(e){return this["nth-child"](e,"even")},nth:function(e,t){return e[t-1]||[]},first:function(e){return e[0]||[]},last:function(e){return e[e.length-1]||[]},has:function(e,t){var i,n,r=DQ.select,s=[],o=-1;for(i=0;n=e[i];i++)0<r(t,n).length&&(s[++o]=n);return s},next:function(e,t){var i,n,r,s=DQ.is,o=[],a=-1;for(i=0;n=e[i];i++)(r=next(n))&&s(r,t)&&(o[++a]=n);return o},prev:function(e,t){var i,n,r,s=DQ.is,o=[],a=-1;for(i=0;n=e[i];i++)(r=prev(n))&&s(r,t)&&(o[++a]=n);return o},focusable:function(e){for(var t,i=e.length,n=[],r=0;r<i;r++)t=e[r],Ext.fly(t,"_DomQuery").isFocusable()&&n.push(t);return n},visible:function(e,t){for(var i,n=e.length,r=[],s=0;s<n;s++)i=e[s],Ext.fly(i,"_DomQuery").isVisible(t)&&r.push(i);return r}}}}(),Ext.query=Ext.DomQuery.select,Ext.define("Ext.dom.Element_anim",{override:"Ext.dom.Element",animate:function(e){var t,i,n,r=this.dom.id||Ext.id(this.dom);return Ext.fx.Manager.hasFxBlock(r)||(e.listeners&&(t=e.listeners,delete e.listeners),e.internalListeners&&(e.listeners=e.internalListeners,delete e.internalListeners),n=e.autoEnd,delete e.autoEnd,i=new Ext.fx.Anim(this.anim(e)),t&&i.on(t),Ext.fx.Manager.queueFx(i),n&&i.jumpToEnd()),this},anim:function(e){if(!Ext.isObject(e))return!!e&&{};var t,i=e.duration||Ext.fx.Anim.prototype.duration,n=e.easing||"ease";return e.stopAnimation&&this.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(this.id)),Ext.fx.Manager.setFxDefaults(this.id,{delay:0}),t={target:this.dom,remove:e.remove,alternate:e.alternate||!1,duration:i,easing:n,callback:e.callback,listeners:e.listeners,iterations:e.iterations||1,scope:e.scope,block:e.block,concurrent:e.concurrent,delay:e.delay||0,paused:!0,keyframes:e.keyframes,from:e.from||{},to:Ext.apply({},e)},Ext.apply(t.to,e.to),delete t.to.to,delete t.to.from,delete t.to.remove,delete t.to.alternate,delete t.to.keyframes,delete t.to.iterations,delete t.to.listeners,delete t.to.target,delete t.to.paused,delete t.to.callback,delete t.to.scope,delete t.to.duration,delete t.to.easing,delete t.to.concurrent,delete t.to.block,delete t.to.stopAnimation,delete t.to.delay,t},slideIn:function(a,l,d){var e,h,c,u,f=this,g=f.dom,p=g.style;return a=a||"t",l=l||{},e=function(){var e,t,i,n,r=this,s=l.listeners,o=Ext.fly(g,"_anim");switch(d||o.fixDisplay(),e=o.getBox(),"t"!=a&&"b"!=a||0!==e.height?"l"!=a&&"r"!=a||0!==e.width||(e.width=g.scrollWidth):e.height=g.scrollHeight,t=o.getStyles("width","height","left","right","top","bottom","position","z-index",!0),o.setSize(e.width,e.height),l.preserveScroll&&(c=o.cacheScrollValues()),n=o.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+o.dom.id,style:{visibility:d?"visible":"hidden"}}),u=n.dom.parentNode,n.setPositioning(o.getPositioning(!0)),n.isStyle("position","static")&&n.position("relative"),o.clearPositioning("auto"),n.clip(),c&&c(),o.setStyle({visibility:"",position:"absolute"}),d&&n.setSize(e.width,e.height),a){case"t":i={from:{width:e.width+"px",height:"0px"},to:{width:e.width+"px",height:e.height+"px"}},p.bottom="0px";break;case"l":i={from:{width:"0px",height:e.height+"px"},to:{width:e.width+"px",height:e.height+"px"}},f.anchorAnimX(a);break;case"r":i={from:{x:e.x+e.width,width:"0px",height:e.height+"px"},to:{x:e.x,width:e.width+"px",height:e.height+"px"}},f.anchorAnimX(a);break;case"b":i={from:{y:e.y+e.height,width:e.width+"px",height:"0px"},to:{y:e.y,width:e.width+"px",height:e.height+"px"}};break;case"tl":i={from:{x:e.x,y:e.y,width:"0px",height:"0px"},to:{width:e.width+"px",height:e.height+"px"}},p.bottom="0px",f.anchorAnimX("l");break;case"bl":i={from:{y:e.y+e.height,width:"0px",height:"0px"},to:{y:e.y,width:e.width+"px",height:e.height+"px"}},f.anchorAnimX("l");break;case"br":i={from:{x:e.x+e.width,y:e.y+e.height,width:"0px",height:"0px"},to:{x:e.x,y:e.y,width:e.width+"px",height:e.height+"px"}},f.anchorAnimX("r");break;case"tr":i={from:{x:e.x+e.width,width:"0px",height:"0px"},to:{x:e.x,width:e.width+"px",height:e.height+"px"}},p.bottom="0px",f.anchorAnimX("r")}n.show(),delete(h=Ext.apply({},l)).listeners,(h=new Ext.fx.Anim(Ext.applyIf(h,{target:n,duration:500,easing:"ease-out",from:d?i.to:i.from,to:d?i.from:i.to}))).on("afteranimate",function(){var e=Ext.fly(g,"_anim");e.setStyle(t),d&&(l.useDisplay?e.setDisplayed(!1):e.hide()),n.dom&&(n.dom.parentNode?n.dom.parentNode.insertBefore(e.dom,n.dom):u.appendChild(e.dom),n.remove()),c&&c(),r.end()}),s&&h.on(s)},f.animate({duration:l.duration?2*Math.max(l.duration,500):1e3,listeners:{beforeanimate:e}}),f},slideOut:function(e,t){return this.slideIn(e,t,!0)},puff:function(t){var e,i=this,n=i.dom,r=i.getBox(),s=i.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",!0);return t=Ext.applyIf(t||{},{easing:"ease-out",duration:500,useDisplay:!1}),e=function(){var e=Ext.fly(n,"_anim");e.clearOpacity(),e.show(),this.to={width:2*r.width,height:2*r.height,x:r.x-r.width/2,y:r.y-r.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){var e=Ext.fly(n,"_anim");e&&(t.useDisplay?e.setDisplayed(!1):e.hide(),e.setStyle(s),Ext.callback(t.callback,t.scope))})},i.animate({duration:t.duration,easing:t.easing,listeners:{beforeanimate:{fn:e}}}),i},switchOff:function(s){var e,o=this.dom;return s=Ext.applyIf(s||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),e=function(){var t,e=Ext.fly(o,"_anim"),i=this,n=e.getSize(),r=e.getXY();e.clearOpacity(),e.clip(),t=e.getPositioning(),new Ext.fx.Animator({target:o,duration:s.duration,easing:s.easing,keyframes:{33:{opacity:.3},66:{height:1,y:r[1]+n.height/2},100:{width:1,x:r[0]+n.width/2}}}).on("afteranimate",function(){var e=Ext.fly(o,"_anim");s.useDisplay?e.setDisplayed(!1):e.hide(),e.clearOpacity(),e.setPositioning(t),e.setSize(n),i.end()})},this.animate({duration:2*Math.max(s.duration,500),listeners:{beforeanimate:{fn:e}},callback:s.callback,scope:s.scope}),this},frame:function(r,s,o){var e,a=this.dom;return r=r||"#C3DAF9",s=s||1,o=o||{},e=function(){var e,t,i=Ext.fly(a,"_anim"),n=this;i.show(),e=i.getBox(),t=Ext.getBody().createChild({role:"presentation",id:i.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+r}}),new Ext.fx.Anim({target:t,duration:o.duration||1e3,iterations:s,from:{top:e.y,left:e.x,borderWidth:0,opacity:1,height:e.height,width:e.width},to:{top:e.y-20,left:e.x-20,borderWidth:10,opacity:0,height:e.height+40,width:e.width+40}}).on("afteranimate",function(){t.remove(),n.end()})},this.animate({duration:2*Math.max(o.duration,500)||2e3,listeners:{beforeanimate:{fn:e}},callback:o.callback,scope:o.scope}),this},ghost:function(o,e){var t,a=this.dom;return o=o||"b",t=function(){var e=Ext.fly(a,"_anim"),t=e.getWidth(),i=e.getHeight(),n=e.getXY(),r=e.getPositioning(),s={opacity:0};switch(o){case"t":s.y=n[1]-i;break;case"l":s.x=n[0]-t;break;case"r":s.x=n[0]+t;break;case"b":s.y=n[1]+i;break;case"tl":s.x=n[0]-t,s.y=n[1]-i;break;case"bl":s.x=n[0]-t,s.y=n[1]+i;break;case"br":s.x=n[0]+t,s.y=n[1]+i;break;case"tr":s.x=n[0]+t,s.y=n[1]-i}this.to=s,this.on("afteranimate",function(){var e=Ext.fly(a,"_anim");e&&(e.hide(),e.clearOpacity(),e.setPositioning(r))})},this.animate(Ext.applyIf(e||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:t}})),this},highlight:function(e,t){var i,n,r,s,o,a=this,l=a.dom,d={};return l.tagName.match(a.tableTagRe)?a.select("div").highlight(e,t):(s=(t=t||{}).listeners||{},d[r=t.attr||"backgroundColor"]=e||"ffff9c",t.to?n=t.to:(n={})[r]=t.endColor||a.getColor(r,"ffffff",""),t.listeners=Ext.apply(Ext.apply({},s),{beforeanimate:function(){i=l.style[r];var e=Ext.fly(l,"_anim");if(e.clearOpacity(),e.show(),o=s.beforeanimate)return(o.fn||o).apply(o.scope||s.scope||window,arguments)},afteranimate:function(){l&&(l.style[r]=i),(o=s.afteranimate)&&(o.fn||o).apply(o.scope||s.scope||window,arguments)}}),a.animate(Ext.apply({},t,{duration:1e3,easing:"ease-in",from:d,to:n})),a)},pause:function(e){return Ext.fx.Manager.setFxDefaults(this.id,{delay:e}),this},fadeIn:function(e){var i=this.dom;return this.animate(Ext.apply({},e,{opacity:1,internalListeners:{beforeanimate:function(e){var t=Ext.fly(i,"_anim");t.isStyle("display","none")?t.setDisplayed(""):t.show()}}})),this},fadeOut:function(i){var n=this.dom;return i=Ext.apply({opacity:0,internalListeners:{afteranimate:function(e){if(n&&0===e.to.opacity){var t=Ext.fly(n,"_anim");i.useDisplay?t.setDisplayed(!1):t.hide()}}}},i),this.animate(i),this},scale:function(e,t,i){return this.animate(Ext.apply({},i,{width:e,height:t})),this},shift:function(e){return this.animate(e),this},anchorAnimX:function(e){var t="l"===e?"right":"left";this.dom.style[t]="0px"}}),Ext.define("Ext.dom.Element_dd",{override:"Ext.dom.Element",initDD:function(e,t,i){var n=new Ext.dd.DD(Ext.id(this.dom),e,t);return Ext.apply(n,i)},initDDProxy:function(e,t,i){var n=new Ext.dd.DDProxy(Ext.id(this.dom),e,t);return Ext.apply(n,i)},initDDTarget:function(e,t,i){var n=new Ext.dd.DDTarget(Ext.id(this.dom),e,t);return Ext.apply(n,i)}}),Ext.define("Ext.dom.Element_fx",{override:"Ext.dom.Element"},function(){function t(e){var t=(e.$cache||e.getCache()).data,i=t[n];return void 0===i&&(t[n]=i=""),i}function s(e){var t=(e.$cache||e.getCache()).data,i=t[r];return void 0===i&&(t[r]=i=o.VISIBILITY),i}var o=Ext.dom.Element,a="visibility",l="display",i="none",n="originalDisplay",r="visibilityMode",d=Ext.baseCSSPrefix+"hide-offsets";o.override({originalDisplay:"",visibilityMode:1,setVisible:function(e,t){var i=this,n=i.dom,r=s(i);if("string"==typeof t){switch(t){case l:r=o.DISPLAY;break;case a:r=o.VISIBILITY;break;case"offsets":r=o.OFFSETS;break;case"nosize":case"asclass":r=o.ASCLASS}i.setVisibilityMode(r),t=!1}if(t&&i.anim)e&&(i.setOpacity(.01),i.setVisible(!0)),Ext.isObject(t)||(t={duration:350,easing:"ease-in"}),i.animate(Ext.applyIf({callback:function(){e||Ext.fly(n,"_internal").setVisible(!1).setOpacity(1)},to:{opacity:e?1:0}},t));else{if(r==o.DISPLAY)return i.setDisplayed(e);r==o.OFFSETS?i[e?"removeCls":"addCls"](d):r==o.VISIBILITY?(i.fixDisplay(),n.style.visibility=e?"":"hidden"):r==o.ASCLASS&&i[e?"removeCls":"addCls"](i.visibilityCls||o.visibilityCls)}return(i.$cache||i.getCache()).data.isVisible=e,i},hasMetrics:function(){var e=s(this);return this.isVisible()||e==o.OFFSETS||e==o.VISIBILITY},toggle:function(e){return this.setVisible(!this.isVisible(),this.anim(e)),this},setDisplayed:function(e){return"boolean"==typeof e&&(e=e?t(this):i),this.setStyle(l,e),this},fixDisplay:function(){this.isStyle(l,i)&&(this.setStyle(a,"hidden"),this.setStyle(l,t(this)),this.isStyle(l,i)&&this.setStyle(l,"block"))},hide:function(e){return"string"==typeof e?this.setVisible(!1,e):this.setVisible(!1,this.anim(e)),this},show:function(e){return"string"==typeof e?this.setVisible(!0,e):this.setVisible(!0,this.anim(e)),this}})}),Ext.define("Ext.dom.Element_position",{override:"Ext.dom.Element"},function(){var l,r=this,s="position",e="padding",t="border",i="-width",n={l:t+"-left"+i,r:t+"-right"+i,t:t+"-top"+i,b:t+"-bottom"+i},o={l:e+"-left",r:e+"-right",t:e+"-top",b:e+"-bottom"},a=[o.l,o.r,o.t,o.b],d=[n.l,n.r,n.t,n.b],h=Math.round,c=document;r.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(e){return r.getXY(e)[0]},getXY:function(e){var t,i,n=c.body,r=c.documentElement,s=0,o=0,a=[0,0];if((e=Ext.getDom(e))!=c&&e!=n){if(Ext.isIE)try{t=e.getBoundingClientRect(),o=r.clientTop||n.clientTop,s=r.clientLeft||n.clientLeft}catch(e){t={left:0,top:0}}else t=e.getBoundingClientRect();i=function(e){return(l=l||new Ext.Element.Fly).attach(e),l}(c).getScroll(),a=[h(t.left+i.left-s),h(t.top+i.top-o)]}return a},getY:function(e){return r.getXY(e)[1]},setX:function(e,t){r.setXY(e,[t,!1])},setXY:function(e,t){(e=Ext.fly(e,"_setXY")).position();var i,n=e.translatePoints(t),r=e.dom.style;for(i in r.right="auto",n)isNaN(n[i])||(r[i]=n[i]+"px")},setY:function(e,t){r.setXY(e,[!1,t])}},center:function(e){return this.alignTo(e||c,"c-c")},clearPositioning:function(e){return e=e||"",this.setStyle({left:e,right:e,top:e,bottom:e,"z-index":"",position:"static"})},getAnchorToXY:function(e,t,i,n){return e.getAnchorXY(t,i,n)},getBottom:function(e){return(e?this.getLocalY():this.getY())+this.getHeight()},getBorderPadding:function(){var e=this.getStyle(a),t=this.getStyle(d);return{beforeX:(parseFloat(t[n.l])||0)+(parseFloat(e[o.l])||0),afterX:(parseFloat(t[n.r])||0)+(parseFloat(e[o.r])||0),beforeY:(parseFloat(t[n.t])||0)+(parseFloat(e[o.t])||0),afterY:(parseFloat(t[n.b])||0)+(parseFloat(e[o.b])||0)}},getCenterXY:function(){return this.getAlignToXY(c,"c-c")},getLeft:function(e){return e?this.getLocalX():this.getX()},getLocalX:function(){var e=this.dom.offsetParent,t=this.getStyle("left");return t&&"auto"!==t?this.pxRe.test(t)?t=parseFloat(t):(t=this.getX(),e&&(t-=r.getX(e))):t=0,t},getLocalXY:function(){var e=this.dom.offsetParent,t=this.getStyle(["left","top"]),i=t.left,n=t.top;return i&&"auto"!==i?this.pxRe.test(i)?i=parseFloat(i):(i=this.getX(),e&&(i-=r.getX(e))):i=0,n&&"auto"!==n?this.pxRe.test(n)?n=parseFloat(n):(n=this.getY(),e&&(n-=r.getY(e))):n=0,[i,n]},getLocalY:function(){var e=this.dom.offsetParent,t=this.getStyle("top");return t&&"auto"!==t?this.pxRe.test(t)?t=parseFloat(t):(t=this.getY(),e&&(t-=r.getY(e))):t=0,t},getPageBox:function(e){var t=this.dom,i="BODY"==t.nodeName,n=i?Ext.Element.getViewWidth():t.offsetWidth,r=i?Ext.Element.getViewHeight():t.offsetHeight,s=this.getXY(),o=s[1],a=s[0]+n,l=s[1]+r,d=s[0];return e?new Ext.util.Region(o,a,l,d):{left:d,top:o,width:n,height:r,right:a,bottom:l}},getPositioning:function(e){var t=this.getStyle(["left","top","position","z-index"]),i=this.dom;return e&&("auto"===t.left&&(t.left=i.offsetLeft+"px"),"auto"===t.top&&(t.top=i.offsetTop+"px")),t},getRight:function(e){return(e?this.getLocalX():this.getX())+this.getWidth()},getTop:function(e){return e?this.getLocalY():this.getY()},getX:function(){return r.getX(this.dom)},getXY:function(){return r.getXY(this.dom)},getY:function(){return r.getY(this.dom)},moveTo:function(e,t,i){return this.setXY([e,t],i)},position:function(e,t,i,n){!e&&this.isStyle(s,"static")?this.setStyle(s,"relative"):e&&this.setStyle(s,e),t&&this.setStyle("z-index",t),(i||n)&&this.setXY([i||!1,n||!1])},setBottom:function(e){return this.dom.style.bottom=this.addUnits(e),this},setBounds:function(e,t,i,n,r){return this.setBox({x:e,y:t,width:i,height:n},r)},setLeft:function(e){return this.dom.style.left=this.addUnits(e),this},setLeftTop:function(e,t){var i=this.dom.style;return i.left=this.addUnits(e),i.top=this.addUnits(t),this},setLocalX:function(e){var t=this.dom.style;t.right="auto",t.left=null===e?"auto":e+"px"},setLocalXY:function(e,t){var i=this.dom.style;i.right="auto",e&&e.length&&(t=e[1],e=e[0]),null===e?i.left="auto":void 0!==e&&(i.left=e+"px"),null===t?i.top="auto":void 0!==t&&(i.top=t+"px")},setLocalY:function(e){this.dom.style.top=null===e?"auto":e+"px"},setLocation:function(e,t,i){return this.setXY([e,t],i)},setPositioning:function(e){return this.setStyle(e)},setRight:function(e){return this.dom.style.right=this.addUnits(e),this},setTop:function(e){return this.dom.style.top=this.addUnits(e),this},setX:function(e,t){return this.setXY([e,this.getY()],t)},setXY:function(e,t){return t&&this.anim?(Ext.isObject(t)||(t={}),this.animate(Ext.applyIf({to:{x:e[0],y:e[1]}},t))):r.setXY(this.dom,e),this},setY:function(e,t){return this.setXY([this.getX(),e],t)}}),r.getTrueXY=r.getXY}),Ext.define("Ext.dom.Element_scroll",{override:"Ext.dom.Element",isScrollable:function(){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},getScroll:function(){var e,t,i=this.dom,n=document,r=n.body,s=n.documentElement;return t=i===n||i===r?(e=s.scrollLeft||(r?r.scrollLeft:0),s.scrollTop||(r?r.scrollTop:0)):(e=i.scrollLeft,i.scrollTop),{left:e,top:t}},getScrollLeft:function(){var e=this.dom,t=document;return e===t||e===t.body?this.getScroll().left:e.scrollLeft},getScrollTop:function(){var e=this.dom,t=document;return e===t||e===t.body?this.getScroll().top:e.scrollTop},setScrollLeft:function(e){return this.dom.scrollLeft=e,this},setScrollTop:function(e){return this.dom.scrollTop=e,this},scrollBy:function(e,t,i){var n=this.dom;return e.length?(i=t,t=e[1],e=e[0]):"number"!=typeof e&&(i=t,t=e.y,e=e.x),e&&this.scrollTo("left",this.constrainScrollLeft(n.scrollLeft+e),i),t&&this.scrollTo("top",this.constrainScrollTop(n.scrollTop+t),i),this},scrollTo:function(e,t,i){var n,r=/top/i.test(e)?"scrollTop":"scrollLeft",s=this.dom;return i&&this.anim?((n={to:{}}).to[r]=t,Ext.isObject(i)&&Ext.applyIf(n,i),this.animate(n)):s[r]=t,this},scrollIntoView:function(e,t,i,n){var r,s=this,o=s.dom,a=s.getOffsetsTo(e=Ext.getDom(e)||Ext.getBody().dom),l=a[0]+e.scrollLeft,d=a[1]+e.scrollTop,h=d+o.offsetHeight,c=l+o.offsetWidth,u=e.clientHeight,f=parseInt(e.scrollTop,10),g=parseInt(e.scrollLeft,10),p=f+u,m=g+e.clientWidth;return n&&(i?i=Ext.apply({listeners:{afteranimate:function(){s.scrollChildFly.attach(o).highlight()}}},i):s.scrollChildFly.attach(o).highlight()),o.offsetHeight>u||d<f?r=d:p<h&&(r=h-u),null!=r&&s.scrollChildFly.attach(e).scrollTo("top",r,i),!1!==t&&(r=null,o.offsetWidth>e.clientWidth||l<g?r=l:m<c&&(r=c-e.clientWidth),null!=r&&s.scrollChildFly.attach(e).scrollTo("left",r,i)),s},scrollChildIntoView:function(e,t){this.scrollChildFly.attach(Ext.getDom(e)).scrollIntoView(this,t)},scroll:function(e,t,i){if(!this.isScrollable())return!1;e=e.charAt(0);var n,r,s=this.dom,o="r"===e||"l"===e?"left":"top",a=!1;return"l"!==e&&"t"!==e&&"u"!==e||(t=-t),(r="left"==o?(n=s.scrollLeft,this.constrainScrollLeft(n+t)):(n=s.scrollTop,this.constrainScrollTop(n+t)))!==n&&(this.scrollTo(o,r,i),a=!0),a},constrainScrollLeft:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollWidth-t.clientWidth),0)},constrainScrollTop:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollHeight-t.clientHeight),0)}},function(){this.prototype.scrollChildFly=new this.Fly,this.prototype.scrolltoFly=new this.Fly}),Ext.define("Ext.dom.Element_style",{override:"Ext.dom.Element"},function(){var e,t,m=this,i=document.defaultView,l=/table-row|table-.*-group/,d="_internal",n="hidden",s="height",h="width",r="isClipped",o="overflow",a="overflow-x",c="overflow-y",u="originalClip",f=/#document|body/i;i&&i.getComputedStyle||(m.prototype.getStyle=function(e,t){var i,n,r,s,o,a,l,d=this.dom,h="string"!=typeof e,c=this.styleHooks,u=e,f=u,g=1,p=t;if(h&&(r={},u=f[0],l=0,!(g=f.length)))return r;if(!d||d.documentElement)return r||"";n=d.style,t?a=n:(a=d.currentStyle)||(p=!0,a=n);do{if((s=c[u])||(c[u]=s={name:m.normalize(u)}),s.get)o=s.get(d,this,p,a);else if(i=s.name,s.canThrow)try{o=a[i]}catch(e){o=""}else o=a?a[i]:"";if(!h)return o;r[u]=o,u=f[++l]}while(l<g);return r}),m.override({getHeight:function(e,t){var i,n,r=this.dom;return r&&"none"!==r.style.display?(i=r.offsetHeight,Ext.supports.Direct2DBug&&(n=this.adjustDirect2DDimension(s),t?i+=n:0<n&&n<.5&&i++),e&&(i-=this.getBorderWidth("tb")+this.getPadding("tb")),i<0?0:i):0},getWidth:function(e,t){var i,n,r,s=this.dom;return s&&"none"!==s.style.display?(n=Ext.supports.BoundingClientRect?(i=s.getBoundingClientRect(),n=!this.vertical||Ext.isIE9||Ext.supports.RotatedBoundingClientRect?i.right-i.left:i.bottom-i.top,t?n:Math.ceil(n)):s.offsetWidth,Ext.supports.Direct2DBug&&!this.vertical&&(r=this.adjustDirect2DDimension(h),t?n+=r:0<r&&r<.5&&n++),e&&(n-=this.getBorderWidth("lr")+this.getPadding("lr")),n<0?0:n):0},setWidth:function(e,t){return e=this.adjustWidth(e),t&&this.anim?(Ext.isObject(t)||(t={}),this.animate(Ext.applyIf({to:{width:e}},t))):this.dom.style.width=this.addUnits(e),this},setHeight:function(e,t){return e=this.adjustHeight(e),t&&this.anim?(Ext.isObject(t)||(t={}),this.animate(Ext.applyIf({to:{height:e}},t))):this.dom.style.height=this.addUnits(e),this},applyStyles:function(e){return Ext.DomHelper.applyStyles(this.dom,e),this},setSize:function(e,t,i){return Ext.isObject(e)&&(i=t,t=e.height,e=e.width),e=this.adjustWidth(e),t=this.adjustHeight(t),i&&this.anim?(!0===i&&(i={}),this.animate(Ext.applyIf({to:{width:e,height:t}},i))):(this.dom.style.width=this.addUnits(e),this.dom.style.height=this.addUnits(t)),this},getViewSize:function(){var e=this.dom;return f.test(e.nodeName)?{width:m.getViewWidth(),height:m.getViewHeight()}:{width:e.clientWidth,height:e.clientHeight}},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},adjustWidth:function(e){var t="number"==typeof e;return t&&this.autoBoxAdjust&&!this.isBorderBox()&&(e-=this.getBorderWidth("lr")+this.getPadding("lr")),t&&e<0?0:e},adjustHeight:function(e){var t="number"==typeof e;return t&&this.autoBoxAdjust&&!this.isBorderBox()&&(e-=this.getBorderWidth("tb")+this.getPadding("tb")),t&&e<0?0:e},getColor:function(e,t,i){var n,r,s=this.getStyle(e),o=i||""===i?i:"#",a=0;if(!s||/transparent|inherit/.test(s))return t;if(/^r/.test(s))for(r=(s=s.slice(4,s.length-1).split(",")).length;a<r;a++)o+=((n=parseInt(s[a],10))<16?"0":"")+n.toString(16);else o+=3==(s=s.replace("#","")).length?s.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):s;return 5<o.length?o.toLowerCase():t},setOpacity:function(e,t){return this.dom&&(t&&this.anim?("object"!=typeof t&&(t={duration:350,easing:"ease-in"}),this.animate(Ext.applyIf({to:{opacity:e}},t))):this.setStyle("opacity",e)),this},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(e){var t,i=this.dom,n=this.getStyle("display"),r=i.style.display,s=i.style.position,o=e===h?0:1,a=i.currentStyle;return"inline"===n&&(i.style.display="inline-block"),i.style.position=n.match(l)?"absolute":"static",t=(parseFloat(a[e])||2*parseFloat(a.msTransformOrigin.split(" ")[o]))%1,i.style.position=s,"inline"===n&&(i.style.display=r),t},clip:function(){var e,t=(this.$cache||this.getCache()).data;return t[r]||(t[r]=!0,e=this.getStyle([o,a,c]),t[u]={o:e[o],x:e[a],y:e[c]},this.setStyle(o,n),this.setStyle(a,n),this.setStyle(c,n)),this},unclip:function(){var e,t=(this.$cache||this.getCache()).data;return t[r]&&(t[r]=!1,(e=t[u]).o&&this.setStyle(o,e.o),e.x&&this.setStyle(a,e.x),e.y&&this.setStyle(c,e.y)),this},boxWrap:function(e){e=e||Ext.baseCSSPrefix+"box";var t=Ext.get(this.insertHtml("beforeBegin","<div class='"+e+"' role='presentation'>"+Ext.String.format(m.boxMarkup,e)+"</div>"));return Ext.DomQuery.selectNode("."+e+"-mc",t.dom).appendChild(this.dom),t},getComputedHeight:function(){var e=Math.max(this.dom.offsetHeight,this.dom.clientHeight);return e||(e=parseFloat(this.getStyle(s))||0,this.isBorderBox()||(e+=this.getFrameWidth("tb"))),e},getComputedWidth:function(){var e=Math.max(this.dom.offsetWidth,this.dom.clientWidth);return e||(e=parseFloat(this.getStyle(h))||0,this.isBorderBox()||(e+=this.getFrameWidth("lr"))),e},getFrameWidth:function(e,t){return t&&this.isBorderBox()?0:this.getPadding(e)+this.getBorderWidth(e)},addClsOnOver:function(e,t,i){var n=this,r=n.dom,s=Ext.isFunction(t);return n.hover(function(){s&&!1===t.call(i||n,n)||Ext.fly(r,d).addCls(e)},function(){Ext.fly(r,d).removeCls(e)}),n},addClsOnFocus:function(e,t,i){var n=this,r=n.dom,s=Ext.isFunction(t);return n.on("focus",function(){if(s&&!1===t.call(i||n,n))return!1;Ext.fly(r,d).addCls(e)}),n.on("blur",function(){Ext.fly(r,d).removeCls(e)}),n},addClsOnClick:function(i,n,r){var s=this,o=s.dom,a=Ext.isFunction(n);return s.on("mousedown",function(){if(a&&!1===n.call(r||s,s))return!1;Ext.fly(o,d).addCls(i);var e=Ext.getDoc(),t=function(){Ext.fly(o,d).removeCls(i),e.removeListener("mouseup",t)};e.on("mouseup",t)}),s},getStyleSize:function(){var e,t,i,n=this.dom;return f.test(n.nodeName)?{width:m.getViewWidth(),height:m.getViewHeight()}:((e=this.getStyle([s,h],!0)).width&&"auto"!=e.width&&(t=parseFloat(e.width),this.isBorderBox()&&(t-=this.getFrameWidth("lr"))),e.height&&"auto"!=e.height&&(i=parseFloat(e.height),this.isBorderBox()&&(i-=this.getFrameWidth("tb"))),{width:t||this.getWidth(!0),height:i||this.getHeight(!0)})},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable"},selectable:function(){return this.dom.unselectable="",this.removeCls(m.unselectableCls),this.addCls(m.selectableCls),this},unselectable:function(){return Ext.isOpera&&(this.dom.unselectable="on"),this.removeCls(m.selectableCls),this.addCls(m.unselectableCls),this},setVertical:function(e,t){var i=m.prototype;this.vertical=!0,t&&this.addCls(this.verticalCls=t),this.setWidth=i.setHeight,this.setHeight=i.setWidth,Ext.isIE9m||(this.getWidth=i.getHeight,this.getHeight=i.getWidth),this.styleHooks=270===e?m.prototype.verticalStyleHooks270:m.prototype.verticalStyleHooks90},setHorizontal:function(){var e=this.verticalCls;delete this.vertical,e&&(delete this.verticalCls,this.removeCls(e)),delete this.setWidth,delete this.setHeight,Ext.isIE9m||(delete this.getWidth,delete this.getHeight),delete this.styleHooks}}),m.prototype.styleHooks=Ext.dom.AbstractElement.prototype.styleHooks,m.prototype.verticalStyleHooks90=e=Ext.Object.chain(m.prototype.styleHooks),m.prototype.verticalStyleHooks270=t=Ext.Object.chain(m.prototype.styleHooks),e.width={name:"height"},e.height={name:"width"},e["margin-top"]={name:"marginLeft"},e["margin-right"]={name:"marginTop"},e["margin-bottom"]={name:"marginRight"},e["margin-left"]={name:"marginBottom"},e["padding-top"]={name:"paddingLeft"},e["padding-right"]={name:"paddingTop"},e["padding-bottom"]={name:"paddingRight"},e["padding-left"]={name:"paddingBottom"},e["border-top"]={name:"borderLeft"},e["border-right"]={name:"borderTop"},e["border-bottom"]={name:"borderRight"},e["border-left"]={name:"borderBottom"},t.width={name:"height"},t.height={name:"width"},t["margin-top"]={name:"marginRight"},t["margin-right"]={name:"marginBottom"},t["margin-bottom"]={name:"marginLeft"},t["margin-left"]={name:"marginTop"},t["padding-top"]={name:"paddingRight"},t["padding-right"]={name:"paddingBottom"},t["padding-bottom"]={name:"paddingLeft"},t["padding-left"]={name:"paddingTop"},t["border-top"]={name:"borderRight"},t["border-right"]={name:"borderBottom"},t["border-bottom"]={name:"borderLeft"},t["border-left"]={name:"borderTop"}}),Ext.onReady(function(){var r=/alpha\(opacity=(.*)\)/i,s=/^\s+|\s+$/g,e=Ext.dom.Element.prototype.styleHooks;e.opacity={name:"opacity",afterSet:function(e,t,i){i.isLayer&&i.onOpacitySet(t)}},!Ext.supports.Opacity&&Ext.isIE&&Ext.apply(e.opacity,{get:function(e){var t,i,n=e.style.filter;return n.match&&(t=n.match(r))&&(i=parseFloat(t[1]),!isNaN(i))?i?i/100:0:1},set:function(e,t){var i=e.style,n=i.filter.replace(r,"").replace(s,"");i.zoom=1,"number"==typeof t&&0<=t&&t<1?(t*=100,i.filter=n+(n.length?" ":"")+"alpha(opacity="+t+")"):i.filter=n}})}),Ext.define("Ext.util.Positionable",{_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(e,t){var i=this.getConstrainVector(t,e);return i&&(e[0]+=i[0],e[1]+=i[1]),e},alignTo:function(e,t,i,n){var r=this.el;return this.setXY(this.getAlignToXY(e,t,i),!(!r.anim||!n)&&r.anim(n))},anchorTo:function(e,t,i,n,r,s){function o(){a.alignTo(e,t,i,n),Ext.callback(s,a)}var a=this,l=!Ext.isEmpty(r),d=a.getAnchor();return a.removeAnchor(),Ext.apply(d,{fn:o,scroll:l}),Ext.EventManager.onWindowResize(o,null),l&&Ext.EventManager.on(window,"scroll",o,null,{buffer:isNaN(r)?50:r}),o(),a},calculateAnchorXY:function(e,t,i,n){var r,s,o,a=this.el,l=document,d=a.dom==l.body||a.dom==l,h=Math.round;switch(e=(e||"tl").toLowerCase(),s=(n=n||{}).width||d?Ext.Element.getViewWidth():this.getWidth(),o=n.height||d?Ext.Element.getViewHeight():this.getHeight(),e){case"tl":r=[0,0];break;case"bl":r=[0,o];break;case"tr":r=[s,0];break;case"c":r=[h(.5*s),h(.5*o)];break;case"t":r=[h(.5*s),0];break;case"l":r=[0,h(.5*o)];break;case"r":r=[s,h(.5*o)];break;case"b":r=[h(.5*s),o];break;case"tc":r=[h(.5*s),0];break;case"bc":r=[h(.5*s),o];break;case"br":r=[s,o]}return[r[0]+t,r[1]+i]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(e,t,i){var n,r,s,o,a,l,d,h,c,u,f,g,p,m,x,y,E,v=Ext.Element.getViewWidth()-10,b=Ext.Element.getViewHeight()-10,C=document,w=C.documentElement,S=C.body,P=w.scrollLeft||S.scrollLeft||0,k=w.scrollTop||S.scrollTop||0;return(e=Ext.get(e.el||e))&&e.dom,i=i||[0,0],t=(t&&"?"!=t?/-/.test(t)||""===t?t||"tl-bl":"tl-"+t:"tl-bl?").toLowerCase(),u=(n=(t=this.convertPositionSpec(t)).match(this._alignRe))[1],f=n[2],c=!!n[3],r=this.getAnchorXY(u,!0),y=(s=this.getAnchorToXY(e,f,!1))[0]-r[0]+i[0],E=s[1]-r[1]+i[1],c&&(o=this.getWidth(),a=this.getHeight(),l=e.getRegion(),g=u.charAt(0),p=u.charAt(u.length-1),m=f.charAt(0),x=f.charAt(f.length-1),d="t"==g&&"b"==m||"b"==g&&"t"==m,h="r"==p&&"l"==x||"l"==p&&"r"==x,v+P<y+o&&(y=h?l.left-o:v+P-o),y<P&&(y=h?l.right:P),b+k<E+a&&(E=d?l.top-a:b+k-a),E<k&&(E=d?l.bottom:k)),[y,E]},getAnchor:function(){var e=this.el,t=(e.$cache||e.getCache()).data;if(e.dom)return t._anchor||(t._anchor={})},getAnchorXY:function(e,t,i){var n=this.getXY(),r=this.el,s=document,o=r.dom==s.body||r.dom==s,a=r.getScroll(),l=o?a.left:t?0:n[0],d=o?a.top:t?0:n[1];return this.calculateAnchorXY(e,l,d,i)},getBox:function(e,t){var i,n,r,s=t?this.getLocalXY():this.getXY(),o=s[0],a=s[1],l=this.getWidth(),d=this.getHeight();return e&&(o+=n=(i=this.getBorderPadding()).beforeX,a+=r=i.beforeY,l-=n+i.afterX,d-=r+i.afterY),{x:o,left:o,0:o,y:a,top:a,1:a,width:l,height:d,right:o+l,bottom:a+d}},calculateConstrainedPosition:function(e,t,i,n){var r,s,o,a,l=this.floatParent,d=l?l.getTargetEl():null,h=!1;return i&&l?(s=d.getXY(),o=d.getBorderPadding(),s[0]+=o.beforeX,s[1]+=o.beforeY,t&&(a=[t[0]+s[0],t[1]+s[1]])):a=t,e=e||this.constrainTo||d||this.container||this.el.parent(),(r=(this.constrainHeader?this.header:this).getConstrainVector(e,a,n))&&((h=t||this.getPosition(i))[0]+=r[0],h[1]+=r[1]),h},getConstrainVector:function(e,t,i){var n=this.getRegion(),r=[0,0],s=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,o=!1,a=this.constraintInsets;return e instanceof Ext.util.Region||(e=Ext.get(e.el||e).getViewRegion()),a&&(a=Ext.isObject(a)?a:Ext.Element.parseBox(a),e.adjust(a.top,a.right,a.bottom,a.length)),t&&n.translateBy(t[0]-n.x,t[1]-n.y),i&&(n.right=n.left+i[0],n.bottom=n.top+i[1]),s&&e.adjust(s[0],-s[1],-s[2],s[3]),n.right>e.right&&(o=!0,r[0]=e.right-n.right),n.left+r[0]<e.left&&(o=!0,r[0]=e.left-n.left),n.bottom>e.bottom&&(o=!0,r[1]=e.bottom-n.bottom),n.top+r[1]<e.top&&(o=!0,r[1]=e.top-n.top),!!o&&r},getOffsetsTo:function(e){var t=this.getXY(),i=Ext.fly(e.el||e,"_internal").getXY();return[t[0]-i[0],t[1]-i[1]]},getRegion:function(){var e=this.getBox();return new Ext.util.Region(e.top,e.right,e.bottom,e.left)},getViewRegion:function(){var e,t,i,n,r,s,o,a=this.el;return o="BODY"===a.dom.nodeName?(r=(t=a.getScroll()).left,n=t.top,s=Ext.dom.AbstractElement.getViewportWidth(),Ext.dom.AbstractElement.getViewportHeight()):(e=this.getBorderPadding(),r=(i=this.getXY())[0]+e.beforeX,n=i[1]+e.beforeY,s=this.getWidth(!0),this.getHeight(!0)),new Ext.util.Region(n,r+s,n+o,r)},move:function(e,t,i){var n=this.getXY(),r=n[0],s=n[1],o=[r-t,s],a=[r+t,s],l=[r,s-t],d=[r,s+t],h={l:o,left:o,r:a,right:a,t:l,top:l,up:l,b:d,bottom:d,down:d};e=e.toLowerCase(),this.setXY([h[e][0],h[e][1]],i)},removeAnchor:function(){var e=this.getAnchor();return e&&e.fn&&(Ext.EventManager.removeResizeListener(e.fn),e.scroll&&Ext.EventManager.un(window,"scroll",e.fn),delete e.fn),this},setBox:function(e,t){var i=this,n=i.el,r=e.x,s=e.y,o=e.width,a=e.height,l=(i.constrain||i.constrainHeader)&&i.calculateConstrainedPosition(null,[r,s],!1,[o,a]);return l&&(r=l[0],s=l[1]),t&&n.anim?i.animate(Ext.applyIf({to:{x:r,y:s,width:n.adjustWidth(o),height:n.adjustHeight(a)},listeners:{afteranimate:Ext.Function.bind(i.afterSetPosition,i,[r,s])}},t)):(i.setSize(o,a),i.setXY([r,s]),i.afterSetPosition(r,s)),i},setRegion:function(e,t){return this.setBox({x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top},t)},translatePoints:function(e,t){var i=this.translateXY(e,t);return{left:i.x,top:i.y}},translateXY:function(e,t){var i=this.el,n=i.getStyle(this._positionTopLeft),r="relative"==n.position,s=parseFloat(n.left),o=parseFloat(n.top),a=this.getXY();return Ext.isArray(e)&&(t=e[1],e=e[0]),isNaN(s)&&(s=r?0:i.dom.offsetLeft),isNaN(o)&&(o=r?0:i.dom.offsetTop),{x:s="number"==typeof e?e-a[0]+s:void 0,y:o="number"==typeof t?t-a[1]+o:void 0}}}),Ext.define("Ext.dom.Element",function(n){function r(e){var t,i,n=[],r=-1;for(t=0;i=e[t];t++)(0<i.scrollTop||0<i.scrollLeft)&&(n[++r]=i);return n}var s,c=document,u=Ext.baseCSSPrefix+"masked",f=Ext.baseCSSPrefix+"masked-relative",g=Ext.baseCSSPrefix+"mask-msg",p=/^body/i;Ext.isStrict;return{extend:Ext.dom.AbstractElement,alternateClassName:["Ext.Element","Ext.core.Element"],tableTagRe:/^(?:tr|td|table|tbody)$/i,mixins:[Ext.util.Positionable],addUnits:function(){return n.addUnits.apply(n,arguments)},focus:function(e,t){t=t||this.dom;try{Number(e)?Ext.defer(this.focus,e,this,[null,t]):t.focus()}catch(e){}return this},blur:function(){var e=this.dom;if(e===document.body)return this.focus(void 0,e);try{e.blur()}catch(e){}return this},isBorderBox:function(){return Ext.isBorderBox},hover:function(e,t,i,n){return this.on("mouseenter",e,i||this.dom,n),this.on("mouseleave",t,i||this.dom,n),this},getAttributeNS:function(e,t){return this.getAttribute(t,e)},getAttribute:!Ext.isIE||Ext.isIE9p&&9<=c.documentMode?function(e,t){var i=this.dom;return t?i.getAttributeNS(t,e)||i.getAttribute(t+":"+e):i.getAttribute(e)||i[e]||null}:function(e,t){var i,n=this.dom;return t?"undefined"!=(i=typeof n[t+":"+e])&&"unknown"!=i&&n[t+":"+e]||null:("for"===e&&(e="htmlFor"),n[e]||null)},cacheScrollValues:function(){var e,t,i,n=[];for(Ext.DomQuery.pseudos.isScrolled||(Ext.DomQuery.pseudos.isScrolled=r),e=this.query(":isScrolled"),i=0;i<e.length;i++)t=e[i],n[i]=[t.scrollLeft,t.scrollTop];return function(){for(i=0;i<e.length;i++)(t=e[i]).scrollLeft=n[i][0],t.scrollTop=n[i][1]}},autoBoxAdjust:!0,isVisible:function(e){var t=this.dom,i=t.ownerDocument.documentElement;for(s=s||new n.Fly;t!==i;){if(!t||11===t.nodeType||s.attach(t).isStyle("visibility","hidden")||s.isStyle("display","none"))return!1;if(!e)break;t=t.parentNode}return!0},isDisplayed:function(){return!this.isStyle("display","none")},enableDisplayMode:function(e){return this.setVisibilityMode(n.DISPLAY),Ext.isEmpty(e)||((this.$cache||this.getCache()).data.originalDisplay=e),this},mask:function(e,t,i){var n,r,s=this.dom,o=s.style.setExpression,a=(this.$cache||this.getCache()).data,l=a.maskShimEl,d=a.maskEl,h=a.maskMsg;if(p.test(s.tagName)&&"static"==this.getStyle("position")||this.addCls(f),d&&d.remove(),h&&h.remove(),l&&l.remove(),Ext.DomHelper.append(s,[{role:"presentation",cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{role:"presentation",cls:t?g+" "+t:g,cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-text",html:e||""}}}]),h=Ext.get(s.lastChild),d=Ext.get(h.dom.previousSibling),a.maskMsg=h,a.maskEl=d,this.addCls(u),d.setDisplayed(!0),"string"==typeof e?(h.setDisplayed(!0),h.center(this)):h.setDisplayed(!1),Ext.isStrict&&!Ext.isIE6&&s===c.body&&d.addCls(Ext.baseCSSPrefix+"mask-fixed"),s!==c.body||Ext.isIE6||Ext.isIEQuirks){if(!Ext.supports.IncludePaddingInWidthCalculation&&o)try{d.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"'),n='this.parentNode.clientWidth + "px"',l&&l.dom.style.setExpression("width",n),d.dom.style.setExpression("width",n)}catch(e){}if(!Ext.supports.IncludePaddingInHeightCalculation&&o)try{r="this.parentNode."+(s==c.body?"scrollHeight":"offsetHeight")+' + "px"',l&&l.dom.style.setExpression("height",r),d.dom.style.setExpression("height",r)}catch(e){}}return d},unmask:function(){var e,t=(this.$cache||this.getCache()).data,i=t.maskEl,n=t.maskShimEl,r=t.maskMsg;i&&((e=i.dom.style).clearExpression&&(e.clearExpression("width"),e.clearExpression("height")),i&&(i.remove(),delete t.maskEl),r&&(r.remove(),delete t.maskMsg),this.removeCls([u,f]),n&&((e=n.dom.style).clearExpression&&(e.clearExpression("width"),e.clearExpression("height")),n.remove(),delete t.maskShimEl))},isMasked:function(){var e=(this.$cache||this.getCache()).data,t=e.maskEl,i=e.maskMsg,n=!1;return t&&t.isVisible()&&(i&&i.center(this),n=!0),n},createShim:function(){var e,t=c.createElement("iframe");return t.frameBorder="0",t.className=Ext.baseCSSPrefix+"shim",t.src=Ext.SSL_SECURE_URL,t.setAttribute("role","presentation"),(e=Ext.get(this.dom.parentNode.insertBefore(t,this.dom))).autoBoxAdjust=!1,e},addKeyListener:function(e,t,i){var n;return n="object"!=typeof e||Ext.isArray(e)?{target:this,key:e,fn:t,scope:i}:{target:this,key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:t,scope:i},new Ext.util.KeyMap(n)},addKeyMap:function(e){return new Ext.util.KeyMap(Ext.apply({target:this},e))},on:function(e,t,i,n){return Ext.EventManager.on(this,e,t,i||this,n),this},un:function(e,t,i){return Ext.EventManager.un(this,e,t,i||this),this},removeAllListeners:function(){return Ext.EventManager.removeAll(this),this},purgeAllListeners:function(){return Ext.EventManager.purgeElement(this),this},select:function(e){return n.select(e,!1,this.dom)}}},function(){var f,u=document,r=Ext.cache,s=this,e=Ext.dom.AbstractElement,o=/^a|button|embed|iframe|input|object|select|textarea$/i,a=/\S/,g=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,i=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,p=/\ssrc=([\'\"])(.*?)\1/i,m=/\stype=([\'\"])(.*?)\1/i;Ext.isIE8m;s.boxMarkup=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),s.collectorThreadId=setInterval(function(){if(Ext.enableGarbageCollector){var e,t,i,n;for(e in r)r.hasOwnProperty(e)&&((i=r[e]).skipGarbageCollection||!(t=i.dom)||t.parentNode&&(t.offsetParent||Ext.getElementById(e))||(Ext.enableListenerCollection&&Ext.EventManager.removeAll(t),delete r[e]));if(Ext.isIE){for(e in n={},r)r.hasOwnProperty(e)&&(n[e]=r[e]);r=Ext.cache=n}}else clearInterval(s.collectorThreadId)},3e4),s.addMethods({monitorMouseLeave:function(t,i,n){var r,s=this,e={mouseleave:function(e){r=setTimeout(Ext.Function.bind(i,n||s,[e]),t)},mouseenter:function(){clearTimeout(r)},freezeEvent:!0};return s.on(e),e},swallowEvent:function(e,t){function i(e){e.stopPropagation(),t&&e.preventDefault()}var n,r;if(Ext.isArray(e)){for(r=e.length,n=0;n<r;n++)this.on(e[n],i);return this}return this.on(e,i),this},relayEvent:function(t,i){this.on(t,function(e){i.fireEvent(t,e)})},clean:function(e){var t,i=this.dom,n=(this.$cache||this.getCache()).data,r=i.firstChild,s=-1;if(n.isCleaned&&!0!==e)return this;for(;r;)t=r.nextSibling,3==r.nodeType?a.test(r.nodeValue)?t&&3==t.nodeType&&(r.appendData(Ext.String.trim(t.data)),i.removeChild(t),t=r.nextSibling,r.nodeIndex=++s):i.removeChild(r):(f.attach(r).clean(),r.nodeIndex=++s),r=t;return n.isCleaned=!0,this},load:function(e){return this.getLoader().load(e),this},getLoader:function(){var e=(this.$cache||this.getCache()).data,t=e.loader;return t||(e.loader=t=new Ext.ElementLoader({target:this})),t},syncContent:function(e){var t,i,n,r,s,o,a,l=(e=Ext.getDom(e)).childNodes,d=l.length,h=this.dom,c=h.childNodes,u=c.length;for(o=(s=e.attributes).length,t=0;t<o;t++)"id"!==(a=s[t].name)&&h.setAttribute(a,s[t].value);if(d===u)for(t=0;t<d;t++){if(n=l[t],i=c[t],(r=n.nodeType)!==i.nodeType||1===r&&n.tagName!==i.tagName)return void(h.innerHTML=e.innerHTML);3===r?i.data=n.data:(n.id&&i.id!==n.id&&(i.id=n.id),i.style.cssText=n.style.cssText,i.className=n.className,f.attach(i).syncContent(n))}else h.innerHTML=e.innerHTML},update:function(a,e,l){var d,t,h,c=this;return c.dom?(a=a||"",t=c.dom,!0!==e?(t.innerHTML=a,Ext.callback(l,c)):(d=Ext.id(),a+='<span id="'+d+'" role="presentation"></span>',h=setInterval(function(){var e,t,i,n,r,s,o;if(!(s=u.getElementById(d)))return!1;for(clearInterval(h),Ext.removeNode(s),e=Ext.getHead().dom;t=g.exec(a);)(n=!!(i=t[1])&&i.match(p))&&n[2]?((o=u.createElement("script")).src=n[2],(r=i.match(m))&&r[2]&&(o.type=r[2]),e.appendChild(o)):t[2]&&0<t[2].length&&(window.execScript?window.execScript(t[2]):window.eval(t[2]));Ext.callback(l,c)},20),t.innerHTML=a.replace(i,"")),c):c},removeAllListeners:function(){return this.removeAnchor(),Ext.EventManager.removeAll(this.dom),this},createProxy:function(e,t,i){e="object"==typeof e?e:{tag:"div",role:"presentation",cls:e};var n=t?Ext.DomHelper.append(t,e,!0):Ext.DomHelper.insertBefore(this.dom,e,!0);return n.setVisibilityMode(s.DISPLAY),n.hide(),i&&this.setBox&&this.getBox&&n.setBox(this.getBox()),n},needsTabIndex:function(){if(this.dom)return"a"===this.dom.nodeName&&!this.dom.href||!o.test(this.dom.nodeName)},isFocusable:function(e){var t,i=this.dom,n=i.getAttributeNode("tabIndex"),r=i.nodeName,s=!1;return n&&n.specified&&(t=n.value),i&&!i.disabled&&(-1==t?s=Ext.FocusManager&&Ext.FocusManager.enabled&&e:o.test(r)?"a"===r&&!i.href||(s=!0):s=null!=t&&0<=t,s=s&&this.isVisible(!0)),s}}),s.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners",focusable:"isFocusable"}),s.Fly=e.Fly=new Ext.Class({extend:s,isFly:!0,constructor:function(e){this.dom=e,this.el=this},attach:e.Fly.prototype.attach}),f=new s.Fly,u.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(e){return u.getElementById(e)})}),Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:"Ext.CompositeElementLite",statics:{importElementMethods:function(){var e,t=Ext.dom.Element.prototype,i=this.prototype;for(e in t)"function"==typeof t[e]&&function(e){i[e]=i[e]||function(){return this.invoke(e,arguments)}}.call(i,e)}},constructor:function(e,t){this.elements=[],this.add(e,t),this.el=new Ext.dom.AbstractElement.Fly},isComposite:!0,getElement:function(e){return this.el.attach(e)},transformElement:function(e){return Ext.getDom(e)},getCount:function(){return this.elements.length},add:function(e,t){var i,n,r=this.elements;if(!e)return this;for("string"==typeof e?e=Ext.dom.Element.selectorFunction(e,t):e.isComposite?e=e.elements:Ext.isIterable(e)||(e=[e]),i=0,n=e.length;i<n;++i)r.push(this.transformElement(e[i]));return this},invoke:function(e,t){var i,n,r=this.elements,s=r.length;for(e=Ext.dom.Element.prototype[e],n=0;n<s;n++)(i=r[n])&&e.apply(this.getElement(i),t);return this},item:function(e){var t=this.elements[e],i=null;return t&&(i=this.getElement(t)),i},slice:function(){return this.elements.slice.apply(this.elements,arguments)},addListener:function(e,t,i,n){var r,s,o=this.elements,a=o.length;for(r=0;r<a;r++)(s=o[r])&&Ext.EventManager.on(s,e,t,i||s,n);return this},each:function(e,t){var i,n,r=this.elements,s=r.length;for(i=0;i<s&&(!(n=r[i])||(n=this.getElement(n),!1!==e.call(t||n,n,this,i)));i++);return this},fill:function(e){return this.elements=[],this.add(e),this},insert:function(e,t){Ext.Array.insert(this.elements,e,t)},filter:function(e){for(var t,i=this.elements,n=i.length,r=[],s=0,o="function"==typeof e;s<n;s++)!1,(t=i[s])&&(t=this.getElement(t),(o?!1!==e.call(t,t,this,s):t.is(e))&&r.push(this.transformElement(t)));return this.elements=r,this},indexOf:function(e){return Ext.Array.indexOf(this.elements,this.transformElement(e))},replaceElement:function(e,t,i){var n,r=isNaN(e)?this.indexOf(e):e;return-1<r&&(t=Ext.getDom(t),i&&((n=this.elements[r]).parentNode.insertBefore(t,n),Ext.removeNode(n)),Ext.Array.splice(this.elements,r,1,t)),this},clear:function(e){var t=this.elements,i=t.length-1;if(e)for(;0<=i;i--)Ext.removeNode(t[i]);this.elements=[]},addElements:function(e,t){if(!e)return this;"string"==typeof e&&(e=Ext.dom.Element.selectorFunction(e,t));var i,n=this.elements,r=e.length;for(i=0;i<r;i++)n.push(Ext.get(e[i]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(e){return-1!=this.indexOf(e)},removeElement:function(e,t){e=[].concat(e);var i,n,r,s=this.elements,o=e.length;for(r=0;r<o;r++)(n=s[i=e[r]]||s[i=this.indexOf(i)])&&(t&&(n.dom?n.remove():Ext.removeNode(n)),Ext.Array.erase(s,i,1));return this}},function(){this.importElementMethods(),this.prototype.on=this.prototype.addListener,Ext.DomQuery&&(Ext.dom.Element.selectorFunction=Ext.DomQuery.select),Ext.dom.Element.select=function(e,t){var i;return"string"==typeof e?i=Ext.dom.Element.selectorFunction(e,t):void 0!==e.length&&(i=e),new Ext.CompositeElementLite(i)},Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}}),Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:Ext.dom.CompositeElementLite,getElement:function(e){return e},transformElement:function(e){return Ext.get(e)}},function(){Ext.dom.Element.select=function(e,t,i){var n;return"string"==typeof e?n=Ext.dom.Element.selectorFunction(e,i):void 0!==e.length&&(n=e),!0===t?new Ext.CompositeElement(n):new Ext.CompositeElementLite(n)}}),Ext.select=Ext.Element.select,Ext.define("Ext.util.HashMap",{mixins:{observable:Ext.util.Observable},generation:0,constructor:function(e){var t=(e=e||{}).keyFn;this.initialConfig=e,this.addEvents("add","clear","remove","replace"),this.mixins.observable.constructor.call(this,e),this.clear(!0),t&&(this.getKey=t)},getCount:function(){return this.length},getData:function(e,t){return void 0===t&&(t=e,e=this.getKey(t)),[e,t]},getKey:function(e){return e.id},add:function(e,t){return 1===arguments.length&&(t=e,e=this.getKey(t)),this.containsKey(e)?this.replace(e,t):(this.map[e]=t,++this.length,this.generation++,this.hasListeners.add&&this.fireEvent("add",this,e,t),t)},replace:function(e,t){var i,n=this.map;return 1===arguments.length&&(t=e,e=this.getKey(t)),this.containsKey(e)||this.add(e,t),i=n[e],n[e]=t,this.generation++,this.hasListeners.replace&&this.fireEvent("replace",this,e,t,i),t},remove:function(e){var t=this.findKey(e);return void 0!==t&&this.removeAtKey(t)},removeAtKey:function(e){var t;return!!this.containsKey(e)&&(t=this.map[e],delete this.map[e],--this.length,this.generation++,this.hasListeners.remove&&this.fireEvent("remove",this,e,t),!0)},get:function(e){var t=this.map;return t.hasOwnProperty(e)?t[e]:void 0},clear:function(e){return(e||this.generation)&&(this.map={},this.length=0,this.generation=e?0:this.generation+1),!0!==e&&this.hasListeners.clear&&this.fireEvent("clear",this),this},containsKey:function(e){var t=this.map;return t.hasOwnProperty(e)&&void 0!==t[e]},contains:function(e){return this.containsKey(this.findKey(e))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(e){var t,i=[],n=this.map;for(t in n)n.hasOwnProperty(t)&&i.push(e?t:n[t]);return i},each:function(e,t){var i,n=Ext.apply({},this.map),r=this.length;for(i in t=t||this,n)if(n.hasOwnProperty(i)&&!1===e.call(t,i,n[i],r))break;return this},clone:function(){var e,t=new this.self(this.initialConfig),i=this.map;for(e in t.suspendEvents(),i)i.hasOwnProperty(e)&&t.add(e,i[e]);return t.resumeEvents(),t},findKey:function(e){var t,i=this.map;for(t in i)if(i.hasOwnProperty(t)&&i[t]===e)return t}}),Ext.define("Ext.AbstractManager",{typeName:"type",constructor:function(e){Ext.apply(this,e||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(e){return this.all.get(e)},register:function(e){this.all.add(e)},unregister:function(e){this.all.remove(e)},registerType:function(e,t){(this.types[e]=t)[this.typeName]=e},isRegistered:function(e){return void 0!==this.types[e]},create:function(e,t){var i=e[this.typeName]||e.type||t;return new this.types[i](e)},onAvailable:function(n,r,s){var e,o,a=this.all;a.containsKey(n)?(e=a.get(n),r.call(s||e,e)):(o=function(e,t,i){t==n&&(r.call(s||i,i),a.un("add",o))},a.on("add",o))},each:function(e,t){this.all.each(e,t||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.ComponentManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ComponentMgr",singleton:!0,typeName:"xtype",create:function(e,t){return"string"==typeof e?Ext.widget(e):e.isComponent?e:Ext.widget(e.xtype||t,e)},registerType:function(e,t){(this.types[e]=t)[this.typeName]=e,t.prototype[this.typeName]=e}},function(){Ext.getCmp=function(e){return Ext.ComponentManager.get(e)}}),Ext.define("Ext.ComponentQuery",{singleton:!0},function(){function h(e,t){return t.method.apply(this,[e].concat(t.args))}function c(e,t){for(var i,n=[],r=0,s=e.length,o=">"!==t;r<s;r++)(i=e[r]).getRefItems&&(n=n.concat(i.getRefItems(o)));return n}function u(e){for(var t,i=[],n=0,r=e.length;n<r;n++)for(t=e[n];t=t.getRefOwner();)i.push(t);return i}function f(e,t,i){if("*"===t)return e.slice();for(var n,r=[],s=0,o=e.length;s<o;s++)(n=e[s]).isXType(t,i)&&r.push(n);return r}function g(e,t){for(var i,n=[],r=0,s=e.length;r<s;r++)(i=e[r]).hasCls(t)&&n.push(i);return n}function p(e,t){for(var i,n=[],r=0,s=e.length;r<s;r++)(i=e[r]).getItemId()===t&&n.push(i);return n}var m=this,x=Ext.dom.Query.operators,d=/(\d*)n\+?(\d*)/,y=/\D/,e=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),E=/^(\s?([>\^])\s?|\s|$)/,v=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,b=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:f},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!]?=)\s*['"]?(.*?)["']?)?\])/,method:function(e,t,i,n){var r,s,o,a,l,d,h=[],c=0,u=e.length;for("@"===t.charAt(0)&&(r=!0,t=t.substr(1)),"?"===t.charAt(0)&&(s=r=!0,t=t.substr(1));c<u;c++)if(o=e[c],!r||o.hasOwnProperty(t))if(a=o[t],s)h.push(o);else if("~="===i){if(a)for(Ext.isArray(a)||(a=a.split(" ")),l=0,d=a.length;l<d;l++)if(x[i](Ext.coerce(a[l],n),n)){h.push(o);break}}else(n?x[i](Ext.coerce(a,n),n):o[t])&&h.push(o);return h}},{re:/^#([\w\-]+)/,method:p},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:function(e,t,i){return m.pseudos[t](e,i)}},{re:/^(?:\{([^\}]+)\})/,method:e}];m.Query=Ext.extend(Object,{constructor:function(e){e=e||{},Ext.apply(this,e)},execute:function(e){var t,i,n=this.operations,r=0,s=n.length;for(e?Ext.isIterable(e)?i=e:e.isMixedCollection&&(i=e.items):i=Ext.ComponentManager.all.getArray();r<s;r++)if(i="^"===(t=n[r]).mode?u(i||[e]):t.mode?c(i||[e],t.mode):h(i||c([e]),t),r===s-1)return i;return[]},is:function(e){var t,i,n,r,s,o,a=this.operations,l=a.length,d=[e];for(i=l-1;0<=i;--i)if(r=(t=a[i]).mode){if("^"===r)d=c(d," ");else if(">"===r){for(s=[],n=0,l=d.length;n<l;++n)(o=d[n].getRefOwner())&&s.push(o);d=s}else d=u(d);if(0===d.length)return!1}else if(0===(d=h(d,t)).length)return!1;return!0},getMatches:function(e,t){var i,n=t.length;for(i=0;i<n&&0!==(e=h(e,t[i])).length;++i);return e}}),Ext.apply(this,{cache:{},pseudos:{not:function(e,t){for(var i,n=Ext.ComponentQuery,r=0,s=e.length,o=[],a=-1;r<s;++r)i=e[r],n.is(i,t)||(o[++a]=i);return o},first:function(e){var t=[];return 0<e.length&&t.push(e[0]),t},last:function(e){var t=e.length,i=[];return 0<t&&i.push(e[t-1]),i},focusable:function(e){for(var t,i=e.length,n=[],r=0;r<i;r++)(t=e[r]).isFocusable()&&n.push(t);return n},"nth-child":function(e,t){var i,n,r,s=[],o=d.exec(("even"==t?"2n":"odd"==t&&"2n+1")||!y.test(t)&&"n+"+t||t),a=(o[1]||1)-0,l=o[2]-0;for(i=0;n=e[i];i++)r=i+1,1==a?0!=l&&r!=l||s.push(n):(r+l)%a==0&&s.push(n);return s}},query:function(e,t){for(var i,n,r,s=e.split(","),o=s.length,a=0,l=[],d=[],h={};a<o;a++)e=Ext.String.trim(s[a]),i=this.cache[e]||(this.cache[e]=this.parse(e)),l=l.concat(i.execute(t));if(1<o){for(n=l.length,a=0;a<n;a++)h[(r=l[a]).id]||(d.push(r),h[r.id]=!0);l=d}return l},is:function(e,t){if(!t)return!0;for(var i=t.split(","),n=i.length,r=0;r<n;r++)if(t=Ext.String.trim(i[r]),(this.cache[t]||(this.cache[t]=this.parse(t))).is(e))return!0;return!1},parse:function(e){for(var t,i,n,r,s,o,a,l,d=[],h=b.length;e&&t!==e;){for((i=(t=e).match(v))&&("#"===(n=i[1])?d.push({method:p,args:[Ext.String.trim(i[2])]}):"."===n?d.push({method:g,args:[Ext.String.trim(i[2])]}):d.push({method:f,args:[Ext.String.trim(i[2]),Boolean(i[3])]}),e=e.replace(i[0],""));!(r=e.match(E));)for(o=0;e&&o<h;o++){if(a=b[o],s=e.match(a.re),l=a.method,s){d.push({method:Ext.isString(a.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[l].concat(s.slice(1)))):a.method,args:s.slice(1)}),e=e.replace(s[0],"");break}o===h-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+e+'"')}r[1]&&(d.push({mode:r[2]||r[1]}),e=e.replace(r[0],""))}return new m.Query({operations:d})}})}),Ext.define("Ext.util.ProtoElement",(ksa=Ext.String.splitWords,lsa=Ext.Array.toMap,{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(e){var t=this;Ext.apply(t,e),t.classList=ksa(t.cls),t.classMap=lsa(t.classList),delete t.cls,Ext.isFunction(t.style)?(t.styleFn=t.style,delete t.style):"string"==typeof t.style?t.style=Ext.Element.parseStyles(t.style):t.style&&(t.style=Ext.apply({},t.style))},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style,delete this.unselectableAttr},addCls:function(e){for(var t,i="string"==typeof e?ksa(e):e,n=i.length,r=this.classList,s=this.classMap,o=this.flushClassList,a=0;a<n;++a)s[t=i[a]]||(s[t]=!0,r.push(t),o&&(o.push(t),delete this.removedClasses[t]));return this},hasCls:function(e){return e in this.classMap},removeCls:function(e){var t,i,n=this.classList,r=this.classList=[],s=lsa(ksa(e)),o=n.length,a=this.classMap,l=this.removedClasses;for(t=0;t<o;++t)s[i=n[t]]?(l&&a[i]&&(l[i]=!0,Ext.Array.remove(this.flushClassList,i)),delete a[i]):r.push(i);return this},setStyle:function(e,t){var i=this.style||(this.style={});return"string"==typeof e?1===arguments.length?this.setStyle(Ext.Element.parseStyles(e)):i[e]=t:Ext.apply(i,e),this},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls),Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(e){var t,i=this,n=i.flushClassList||i.classList,r=i.removedClasses;return i.styleFn?(t=Ext.apply({},i.styleFn()),Ext.apply(t,i.style)):t=i.style,e[i.clsProp]=n.join(" "),t&&(e[i.styleProp]=i.styleIsText?Ext.DomHelper.generateStyles(t,null,!0):t),r&&(r=Ext.Object.getKeys(r)).length&&(e[i.removedProp]=r.join(" ")),i.unselectableAttr&&(e.unselectable="on"),e}})),Ext.define("Ext.PluginManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.PluginMgr",singleton:!0,typeName:"ptype",create:function(e,t,i){var n;return e.init?n=e:(i?(e=Ext.apply({},e)).cmp=i:i=e.cmp,e.xclass?n=Ext.create(e):"function"==typeof(n=Ext.ClassManager.getByAlias("plugin."+(e.ptype||t)))&&(n=new n(e))),n&&i&&n.setCmp&&!n.setCmpCalled&&(n.setCmp(i),n.setCmpCalled=!0),n},findByType:function(e,t){var i,n,r=[],s=this.types;for(i in s)s.hasOwnProperty(i)&&(n=s[i]).type==e&&(!t||!0===t&&n.isDefault)&&r.push(n);return r}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}}),Ext.define("Ext.util.Filter",{id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,operator:null,statics:{createFilterFn:function(s){return s&&s.length?function(e){var t,i,n=!0,r=s.length;for(t=0;n&&t<r;t++)(i=s[t]).disabled||(n=n&&i.filterFn.call(i.scope||i,e));return n}:function(){return!0}}},operatorFns:{"<":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)<this.value},"<=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)<=this.value},"=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)==this.value},">=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)>=this.value},">":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)>this.value},"!=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)!=this.value}},constructor:function(e){this.initialConfig=e,Ext.apply(this,e),this.filter=this.filter||this.filterFn,void 0===this.filter&&this.setValue(e.value)},setValue:function(e){this.value=e,void 0===this.property||void 0===this.value||(this.filter=this.createFilterFn()),this.filterFn=this.filter},setFilterFn:function(e){this.filterFn=this.filter=e},createFilterFn:function(){var i=this,n=i.createValueMatcher(),r=i.property;return i.operator?i.operatorFns[i.operator]:function(e){var t=i.getRoot(e)[r];return null===n?null===t:n.test(t)}},getRoot:function(e){var t=this.root;return void 0===t?e:e[t]},createValueMatcher:function(){var e=this.value,t=this.anyMatch,i=this.exactMatch,n=this.caseSensitive,r=Ext.String.escapeRegex;return null===e||e.exec||(e=String(e),!0===t?e=r(e):(e="^"+r(e),!0===i&&(e+="$")),e=new RegExp(e,n?"":"i")),e},serialize:function(){var e=Ext.apply({},this.initialConfig);return e.value=this.value,e}},function(){this.prototype.operatorFns["=="]=this.prototype.operatorFns["="]}),Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.util.Observable},isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(e,t){var i=this;1===arguments.length&&Ext.isObject(e)?(i.initialConfig=e,Ext.apply(i,e)):(i.allowFunctions=!0===e,t&&(i.getKey=t),i.initialConfig={allowFunctions:i.allowFunctions,getKey:i.getKey}),i.items=[],i.map={},i.keys=[],i.indexMap={},i.length=0,i.mixins.observable.constructor.call(i)},allowFunctions:!1,add:function(e,t){var i=this.length;return 1===arguments.length?this.insert(i,e):this.insert(i,e,t)},getKey:function(e){return e.id},replace:function(e,t){var i,n;return 1==arguments.length&&(t=e,e=this.getKey(t)),i=this.map[e],null==e||void 0===i?this.add(e,t):(this.generation++,n=this.indexOfKey(e),this.items[n]=t,this.map[e]=t,this.hasListeners.replace&&this.fireEvent("replace",e,i,t),t)},updateKey:function(e,t){var i,n=this.map,r=this.indexMap,s=this.indexOfKey(e);-1<s&&(i=n[e],delete n[e],delete r[e],n[t]=i,r[t]=s,this.keys[s]=t,this.indexGeneration=++this.generation)},addAll:function(e){var t;if(1<arguments.length||Ext.isArray(e))this.insert(this.length,1<arguments.length?arguments:e);else for(t in e)e.hasOwnProperty(t)&&(!this.allowFunctions&&"function"==typeof e[t]||this.add(t,e[t]))},each:function(e,t){for(var i,n=Ext.Array.push([],this.items),r=0,s=n.length;r<s&&(i=n[r],!1!==e.call(t||i,i,r,s));r++);},eachKey:function(e,t){for(var i=this.keys,n=this.items,r=0,s=i.length;r<s;r++)e.call(t||window,i[r],n[r],r,s)},findBy:function(e,t){for(var i=this.keys,n=this.items,r=0,s=n.length;r<s;r++)if(e.call(t||window,n[r],i[r]))return n[r];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(e,t,i){return Ext.isIterable(t)?this.doInsert(e,t,i):(2<arguments.length?this.doInsert(e,[t],[i]):this.doInsert(e,[t]))[0]},doInsert:function(e,t,i){var n,r,s,o,a,l,d,h=this,c=t.length,u=c,f=h.hasListeners.add,g={};if(null!=i)h.useLinearSearch=!0;else for(i=t,t=new Array(c),s=0;s<c;s++)t[s]=this.getKey(i[s]);for(h.suspendEvents(),s=0;s<c;s++)n=t[s],-1!==(r=h.indexOfKey(n))&&(r<e&&e--,h.removeAt(r)),null!=n&&(null!=g[n]&&(a=!0,u--),g[n]=s);if(h.resumeEvents(),a){for(n in l=t,d=i,t=new Array(u),i=new Array(u),s=0,g)t[s]=l[g[n]],i[s]=d[g[n]],s++;c=u}for(o=e===h.length&&h.indexGeneration===h.generation,Ext.Array.insert(h.items,e,i),Ext.Array.insert(h.keys,e,t),h.length+=c,h.generation++,o&&(h.indexGeneration=h.generation),s=0;s<c;s++,e++)null!=(n=t[s])&&(h.map[n]=i[s],o&&(h.indexMap[n]=e)),f&&h.fireEvent("add",e,i[s],n);return i},remove:function(e){var t,i;return-1!==(i=!this.useLinearSearch&&(t=this.getKey(e))?this.indexOfKey(t):Ext.Array.indexOf(this.items,e))&&this.removeAt(i)},removeAll:function(e){var t,i=this;if(e||i.hasListeners.remove)if(e)for(t=e.length-1;0<=t;--t)i.remove(e[t]);else for(;i.length;)i.removeAt(0);else i.length=i.items.length=i.keys.length=0,i.map={},i.indexMap={},i.generation++,i.indexGeneration=i.generation},removeAt:function(e){var t,i,n=this;return e<n.length&&0<=e&&(n.length--,t=n.items[e],Ext.Array.erase(n.items,e,1),void 0!==(i=n.keys[e])&&delete n.map[i],Ext.Array.erase(n.keys,e,1),n.hasListeners.remove&&n.fireEvent("remove",t,i),n.generation++,t)},removeRange:function(e,t){var i,n,r,s,o,a,l=this;if(e<l.length&&0<=e){for(t=t||1,t=(s=Math.min(e+t,l.length))-e,o=(a=s===l.length)&&l.indexGeneration===l.generation,r=e;r<s;r++)null!=(n=l.keys[r])&&(delete l.map[n],o&&delete l.indexMap[n]);return i=l.items[r-1],l.length-=t,l.generation++,o&&(l.indexGeneration=l.generation),a?l.items.length=l.keys.length=l.length:(l.items.splice(e,t),l.keys.splice(e,t)),i}return!1},removeAtKey:function(e){var t,i=this.keys;if(null!=e)return this.removeAt(this.indexOfKey(e));for(t=i.length-1;0<=t;t--)null==i[t]&&this.removeAt(t)},getCount:function(){return this.length},indexOf:function(e){var t;return null!=e?!this.useLinearSearch&&(t=this.getKey(e))?this.indexOfKey(t):Ext.Array.indexOf(this.items,e):-1},indexOfKey:function(e){return this.map.hasOwnProperty(e)?(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[e]):-1},rebuildIndexMap:function(){var e,t=this.indexMap={},i=this.keys,n=i.length;for(e=0;e<n;e++)t[i[e]]=e;this.indexGeneration=this.generation},get:function(e){var t=this.map[e],i=void 0!==t?t:"number"==typeof e?this.items[e]:void 0;return"function"!=typeof i||this.allowFunctions?i:null},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},contains:function(e){var t;return null!=e&&(!this.useLinearSearch&&(t=this.getKey(e))?null!=this.map[t]:-1!==Ext.Array.indexOf(this.items,e))},containsKey:function(e){return this.map.hasOwnProperty(e)},clear:function(){var e=this;e.generation&&(e.length=0,e.items=[],e.keys=[],e.map={},e.indexMap={},e.generation++,e.indexGeneration=e.generation),e.hasListeners.clear&&e.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(e,t,i,n){var r,s=this.extractValues(e,t),o=s.length,a=0;for(n=n||0===n?n:o-1,r=i=i||0;r<=n;r++)a+=s[r];return a},collect:function(e,t,i){var n,r,s,o=this.extractValues(e,t),a=o.length,l={},d=[];for(s=0;s<a;s++)n=o[s],r=String(n),!i&&Ext.isEmpty(n)||l[r]||(l[r]=!0,d.push(n));return d},extractValues:function(e,t){var i=this.items;return t&&(i=Ext.Array.pluck(i,t)),Ext.Array.pluck(i,e)},hasRange:function(e,t){return t<this.length},getRange:function(e,t){var i,n,r=this.items,s=[],o=r.length;return o<1||(t<e&&(n=!0,i=e,e=t,t=i),e<0&&(e=0),(null==t||o<=t)&&(t=o-1),s=r.slice(e,t+1),n&&s.length&&s.reverse()),s},filter:function(e,t,i,n){var r=[];return Ext.isString(e)?r.push(new Ext.util.Filter({property:e,value:t,anyMatch:i,caseSensitive:n})):(Ext.isArray(e)||e instanceof Ext.util.Filter)&&(r=r.concat(e)),this.filterBy(Ext.util.Filter.createFilterFn(r))},filterBy:function(e,t){var i,n=new this.self(this.initialConfig),r=this.keys,s=this.items,o=s.length;for(n.getKey=this.getKey,i=0;i<o;i++)e.call(t||this,s[i],r[i])&&n.add(r[i],s[i]);return n.useLinearSearch=this.useLinearSearch,n},findIndex:function(t,i,e,n,r){return Ext.isEmpty(i,!1)?-1:(i=this.createValueMatcher(i,n,r),this.findIndexBy(function(e){return e&&i.test(e[t])},null,e))},findIndexBy:function(e,t,i){for(var n=this.keys,r=this.items,s=i||0,o=r.length;s<o;s++)if(e.call(t||this,r[s],n[s]))return s;return-1},createValueMatcher:function(e,t,i,n){if(!e.exec){var r=Ext.String.escapeRegex;e=String(e),!0===t?e=r(e):(e="^"+r(e),!0===n&&(e+="$")),e=new RegExp(e,i?"":"i")}return e},clone:function(){var e=new this.self(this.initialConfig);return e.add(this.keys,this.items),e.useLinearSearch=this.useLinearSearch,e}}),Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(e){Ext.apply(this,e),this.updateSortFunction()},createSortFunction:function(i){var n=this,r="DESC"==(n.direction||"ASC").toUpperCase()?-1:1;return function(e,t){return r*i.call(n,e,t)}},defaultSorterFn:function(e,t){var i=this.transform,n=this.getRoot(e)[this.property],r=this.getRoot(t)[this.property];return i&&(n=i(n),r=i(r)),r<n?1:n<r?-1:0},getRoot:function(e){return void 0===this.root?e:e[this.root]},setDirection:function(e){this.direction=e?e.toUpperCase():e,this.updateSortFunction()},toggle:function(){this.direction=Ext.String.toggle(this.direction,"ASC","DESC"),this.updateSortFunction()},updateSortFunction:function(e){e=e||this.sorterFn||this.defaultSorterFn,this.sort=this.createSortFunction(e)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}}),Ext.define("Ext.util.Sortable",{isSortable:!0,defaultSortDirection:"ASC",statics:{createComparator:function(s){return s&&s.length?function(e,t){for(var i=s[0].sort(e,t),n=s.length,r=1;r<n;r++)i=i||s[r].sort.call(this,e,t);return i}:function(){return 0}}},initSortable:function(){var e=this.sorters;this.sorters=new Ext.util.AbstractMixedCollection(!1,function(e){return e.id||e.property}),e&&this.sorters.addAll(this.decodeSorters(e))},sort:function(e,t,i,n){var r,s,o=this;return Ext.isArray(e)?(n=i,i=t,s=e):Ext.isObject(e)?(n=i,i=t,s=[e]):Ext.isString(e)&&((r=o.sorters.get(e))?void 0===t?r.toggle():r.setDirection(t):s=[r={property:e,direction:t}]),s&&s.length&&(s=o.decodeSorters(s),Ext.isString(i)?"prepend"===i?o.sorters.insert(0,s):o.sorters.addAll(s):(o.sorters.clear(),o.sorters.addAll(s))),!1!==n&&(o.fireEvent("beforesort",o,s),o.onBeforeSort(s),(e=o.sorters.items).length&&o.doSort(o.generateComparator())),e},generateComparator:function(){var e=this.sorters.getRange();return e.length?this.createComparator(e):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,i,n,r=e.length,s=Ext.util.Sorter,o=this.model?this.model.prototype.fields:null;for(n=0;n<r;n++)(i=e[n])instanceof s||(Ext.isString(i)&&(i={property:i}),Ext.applyIf(i,{root:this.sortRoot,direction:"ASC"}),i.fn&&(i.sorterFn=i.fn),"function"==typeof i&&(i={sorterFn:i}),o&&!i.transform&&(t=o.get(i.property),i.transform=t&&t.sortType!==Ext.identityFn?t.sortType:void 0),e[n]=new Ext.util.Sorter(i));return e},getSorters:function(){return this.sorters.items},getFirstSorter:function(){for(var e,t=this.sorters.items,i=t.length,n=0;n<i;++n)if(!(e=t[n]).isGrouper)return e;return null}},function(){this.prototype.createComparator=this.createComparator}),Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){this.callParent(arguments),this.addEvents("sort"),this.mixins.sortable.initSortable.call(this)},doSort:function(e){this.sortBy(e)},_sort:function(i,e,n){var t,r,s,o="DESC"==String(e).toUpperCase()?-1:1,a=[],l=this.keys,d=this.items;for(n=n||function(e,t){return e-t},t=0,r=d.length;t<r;t++)a[a.length]={key:l[t],value:d[t],index:t};for(Ext.Array.sort(a,function(e,t){return n(e[i],t[i])*o||(e.index<t.index?-1:1)}),t=0,r=a.length;t<r;t++)s=a[t],d[t]=s.value,l[t]=s.key,this.indexMap[s.key]=t;this.generation++,this.indexGeneration=this.generation,this.fireEvent("sort",this)},sortBy:function(i){var e,t,n,r=this.items,s=this.keys,o=r.length;for(n=0;n<o;n++)r[n].$extCollectionIndex=n;for(Ext.Array.sort(r,function(e,t){return i(e,t)||(e.$extCollectionIndex<t.$extCollectionIndex?-1:1)}),n=0;n<o;n++)e=r[n],t=this.getKey(e),s[n]=t,this.indexMap[t]=n,delete r.$extCollectionIndex;this.generation++,this.indexGeneration=this.generation,this.fireEvent("sort",this,r,s)},findInsertionIndex:function(e,t){var i,n,r=this.items,s=0,o=r.length-1;for(t=t||this.generateComparator();s<=o;)0<=(n=t(e,r[i=s+o>>1]))?s=1+i:n<0&&(o=i-1);return s},reorder:function(e){var t,i=this.items,n=0,r=i.length,s=[],o=[];for(t in this.suspendEvents(),e)s[e[t]]=i[t];for(n=0;n<r;n++)null==e[n]&&o.push(i[n]);for(n=0;n<r;n++)null==s[n]&&(s[n]=o.shift());this.clear(),this.addAll(s),this.resumeEvents(),this.fireEvent("sort",this)},sortByKey:function(e,t){this._sort("key",e,t||function(e,t){var i=String(e).toUpperCase(),n=String(t).toUpperCase();return n<i?1:i<n?-1:0})}}),Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(e){this.target=e,this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}}),Ext.define("Ext.fx.target.Element",{extend:Ext.fx.target.Target,type:"element",getElVal:function(e,t,i){return null==i&&(i="x"===t?e.getX():"y"===t?e.getY():"scrollTop"===t?e.getScroll().top:"scrollLeft"===t?e.getScroll().left:"height"===t?e.getHeight():"width"===t?e.getWidth():e.getStyle(t)),i},getAttr:function(e,t){var i=this.target;return[[i,this.getElVal(i,e,t)]]},setAttr:function(e){this.target;var t,i,n,r,s,o,a=e.length;for(r=0;r<a;r++)for(i in t=e[r].attrs)if(t.hasOwnProperty(i))for(o=t[i].length,s=0;s<o;s++)n=t[i][s],this.setElVal(n[0],i,n[1])},setElVal:function(e,t,i){"x"===t?e.setX(i):"y"===t?e.setY(i):"scrollTop"===t?e.scrollTo("top",i):"scrollLeft"===t?e.scrollTo("left",i):"width"===t?e.setWidth(i):"height"===t?e.setHeight(i):e.setStyle(t,i)}}),Ext.define("Ext.fx.target.ElementCSS",{extend:Ext.fx.target.Element,setAttr:function(e,t){var i,n,r,s,o,a,l,d,h,c={attrs:[],duration:[],easing:[]},u=e.length;for(l=0;l<u;l++)for(r in o=(n=e[l]).duration,s=n.easing,n=n.attrs)-1==Ext.Array.indexOf(c.attrs,r)&&(c.attrs.push(r.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})),c.duration.push(o+"ms"),c.easing.push(s));for(i=c.attrs.join(","),o=c.duration.join(","),s=c.easing.join(", "),l=0;l<u;l++)for(r in n=e[l].attrs)for(h=n[r].length,d=0;d<h;d++)(a=n[r][d])[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",t?"":i),a[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",t?"":o),a[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",t?"":s),a[0].setStyle(r,a[1]),t?a=a[0].dom.offsetWidth:a[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},a[0],{single:!0})}}),Ext.define("Ext.fx.target.CompositeElement",{extend:Ext.fx.target.Element,isComposite:!0,constructor:function(e){e.id=e.id||Ext.id(null,"ext-composite-"),this.callParent([e])},getAttr:function(e,t){var i,n,r=[],s=this.target,o=s.elements,a=o.length;for(i=0;i<a;i++)(n=o[i])&&(n=s.getElement(n),r.push([n,this.getElVal(n,e,t)]));return r},setAttr:function(e){var t,i,n,r,s,o,a,l=this.target,d=e.length,h=l.elements,c=h.length;for(s=0;s<d;s++)for(r in n=e[s].attrs)if(n.hasOwnProperty(r))for(a=n[r].length,o=0;o<a;o++)for(t=n[r][o][1],i=0;i<c;++i)el=h[i],el&&(el=l.getElement(el),this.setElVal(el,r,t))},remove:function(){this.target.remove()}}),Ext.define("Ext.fx.target.CompositeElementCSS",{extend:Ext.fx.target.CompositeElement,setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}}),Ext.define("Ext.fx.target.Sprite",{extend:Ext.fx.target.Target,type:"draw",getFromPrim:function(e,t){var i;switch(t){case"rotate":case"rotation":return{x:(i=e.attr.rotation).x||0,y:i.y||0,degrees:i.degrees||0};case"scale":case"scaling":return{x:(i=e.attr.scaling).x||1,y:i.y||1,cx:i.cx||0,cy:i.cy||0};case"translate":case"translation":return{x:(i=e.attr.translation).x||0,y:i.y||0};default:return e.attr[t]}},getAttr:function(e,t){return[[this.target,null!=t?t:this.getFromPrim(this.target,e)]]},setAttr:function(e){var t,i,n,r,s,o,a,l,d,h,c,u,f=e.length,g=[];for(l=0;l<f;l++)for(i in t=e[l].attrs)for(u=(n=t[i]).length,d=0;d<u;d++)s=n[d][0],r=n[d][1],a="translate"===i||"translation"===i?{x:r.x,y:r.y}:"rotate"===i||"rotation"===i?(h=r.x,isNaN(h)&&(h=null),c=r.y,isNaN(c)&&(c=null),{degrees:r.degrees,x:h,y:c}):"scale"===i||"scaling"===i?(h=r.x,isNaN(h)&&(h=null),c=r.y,isNaN(c)&&(c=null),{x:h,y:c,cx:r.cx,cy:r.cy}):"width"===i||"height"===i||"x"===i||"y"===i?parseFloat(r):r,-1==(o=Ext.Array.indexOf(g,s))&&(g.push([s,{}]),o=g.length-1),g[o][1][i]=a;for(f=g.length,l=0;l<f;l++)g[l][0].setAttributes(g[l][1]);this.target.redraw()}}),Ext.define("Ext.fx.target.CompositeSprite",{extend:Ext.fx.target.Sprite,getAttr:function(e,t){var i,n,r=[],s=[].concat(this.target.items),o=s.length;for(i=0;i<o;i++)n=s[i],r.push([n,null!=t?t:this.getFromPrim(n,e)]);return r}}),Ext.define("Ext.fx.target.Component",{extend:Ext.fx.target.Target,type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(e,t){return[[this.target,void 0!==t?t:this.getPropMethod[e].call(this.target)]]},setAttr:function(e,t,i){var n,r,s,o,a,l,d,h,c,u,f,g=e.length,p={};for(o=0;o<g;o++){for(r in n=e[o].attrs)for(l=n[r].length,a=0;a<l;a++)s=n[r][a],(f=p[this.setMethods[r]]||(p[this.setMethods[r]]={})).target=s[0],f[r]=s[1];p.setPosition&&(d=void 0===(s=p.setPosition).left?void 0:parseFloat(s.left),h=void 0===s.top?void 0:parseFloat(s.top),s.target.setPosition(d,h)),p.setPagePosition&&(s=p.setPagePosition).target.setPagePosition(s.x,s.y),p.setSize&&(c=void 0===(s=p.setSize).width?s.target.getWidth():parseFloat(s.width),u=void 0===s.height?s.target.getHeight():parseFloat(s.height),s.target.el.setSize(c,u),(i||this.dynamic)&&Ext.globalEvents.on({idle:Ext.Function.bind(s.target.setSize,s.target,[c,u]),single:!0})),p.setOpacity&&(s=p.setOpacity).target.el.setStyle("opacity",s.opacity)}}}),Ext.define("Ext.fx.Queue",{constructor:function(){this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(e){var t=this.targets.get(e);return t?t.fxDefaults:{}},setFxDefaults:function(e,t){var i=this.targets.get(e);i&&(i.fxDefaults=Ext.apply(i.fxDefaults||{},t))},stopAnimation:function(e){for(var t=this.getFxQueue(e),i=t.length;i;)t[i-1].end(),i--},getActiveAnimation:function(e){var t=this.getFxQueue(e);return!(!t||!t.length)&&t[0]},hasFxBlock:function(e){var t=this.getFxQueue(e);return t&&t[0]&&t[0].block},getFxQueue:function(e){if(!e)return!1;var t=this,i=t.fxQueue[e],n=t.targets.get(e);return!!n&&(i||(t.fxQueue[e]=[],"element"!=n.type&&n.target.on("destroy",function(){t.fxQueue[e]=[]})),t.fxQueue[e])},queueFx:function(t){var i,e,n=this,r=t.target;r&&((e=(i=n.getFxQueue(r.getId())).length)?t.concurrent?t.paused=!1:i[e-1].on("afteranimate",function(){t.paused=!1}):t.paused=!1,t.on("afteranimate",function(){if(Ext.Array.remove(i,t),0===i.length&&n.targets.remove(t.target),t.remove&&"element"==r.type){var e=Ext.get(r.id);e&&e.remove()}},n,{single:!0}),i.push(t))}}),Ext.define("Ext.fx.Manager",{singleton:!0,mixins:{queue:Ext.fx.Queue},constructor:function(){this.items=new Ext.util.MixedCollection,this.targetArr={},this.mixins.queue.constructor.call(this),this.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(e){var t,i=!this.forceJS&&Ext.supports.Transitions;if(this.useCSS3=i,e){if(e.tagName||Ext.isString(e)||e.isFly)e=Ext.get(e),t=new Ext.fx.target["Element"+(i?"CSS":"")](e);else if(e.dom)t=new Ext.fx.target["Element"+(i?"CSS":"")](e);else if(e.isComposite)t=new Ext.fx.target["CompositeElement"+(i?"CSS":"")](e);else if(e.isSprite)t=new Ext.fx.target.Sprite(e);else if(e.isCompositeSprite)t=new Ext.fx.target.CompositeSprite(e);else{if(!e.isComponent)return e.isAnimTarget?e:null;t=new Ext.fx.target.Component(e)}return this.targets.add(t),t}return null},addAnim:function(e){var t=this.items,i=this.task;t.add(e.id,e),!i&&t.length&&(i=this.task={run:this.runner,interval:this.interval,scope:this},this.taskRunner.start(i))},removeAnim:function(e){var t=this.items,i=this.task;t.removeAtKey(e.id),i&&!t.length&&(this.taskRunner.stop(i),delete this.task)},runner:function(){var e,t=this.items.getRange(),i=0,n=t.length;for(this.targetArr={},this.timestamp=new Date;i<n;i++)(e=t[i]).isReady()&&this.startAnim(e);for(i=0;i<n;i++)(e=t[i]).isRunning()&&this.runAnim(e);this.applyPendingAttrs()},startAnim:function(e){e.start(this.timestamp)},runAnim:function(e,t){if(e){var i,n,r=this.useCSS3&&"element"==e.target.type,s=this.timestamp-e.startTime,o=s>=e.duration;return t&&(s=e.duration,o=!0),i=this.collectTargetData(e,s,r,o),r&&(e.target.setAttr(i.anims[e.id].attributes,!0),this.collectTargetData(e,e.duration,r,o),e.paused=!0,i=e.target.target,e.target.isComposite&&(i=e.target.target.last()),(n={})[Ext.supports.CSS3TransitionEnd]=e.lastFrame,n.scope=e,n.single=!0,i.on(n)),i}},jumpToEnd:function(e){var t=this.runAnim(e,!0);this.applyAnimAttrs(t,t.anims[e.id])},collectTargetData:function(e,t,i,n){var r=e.target.getId(),s=this.targetArr[r];return(s=s||(this.targetArr[r]={id:r,el:e.target,anims:{}})).anims[e.id]={id:e.id,anim:e,elapsed:t,isLastFrame:n,attributes:[{duration:e.duration,easing:i&&e.reverse?e.easingFn.reverse().toCSS3():e.easing,attrs:e.runAnim(t)}]},s},applyAnimAttrs:function(e,t){var i=t.anim;t.attributes&&i.isRunning()&&(e.el.setAttr(t.attributes,!1,t.isLastFrame),t.isLastFrame&&i.lastFrame())},applyPendingAttrs:function(){var e,t,i,n,r,s=this.targetArr;for(t in s)if(s.hasOwnProperty(t))for(r in(e=s[t]).anims)e.anims.hasOwnProperty(r)&&(n=(i=e.anims[r]).anim,i.attributes&&n.isRunning()&&(e.el.setAttr(i.attributes,!1,i.isLastFrame),i.isLastFrame&&n.lastFrame()))}}),Ext.define("Ext.fx.Animator",{mixins:{observable:Ext.util.Observable},isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(e){var t=this;e=Ext.apply(t,e||{}),t.config=e,t.id=Ext.id(null,"ext-animator-"),t.addEvents("beforeanimate","keyframe","afteranimate"),t.mixins.observable.constructor.call(t,e),t.timeline=[],t.createTimeline(t.keyframes),t.target&&(t.applyAnimator(t.target),Ext.fx.Manager.addAnim(t))},sorter:function(e,t){return e.pct-t.pct},createTimeline:function(e){var t,i,n,r,s,o,a=[],l=this.to||{},d=this.duration;for(s in e)e.hasOwnProperty(s)&&this.animKeyFramesRE.test(s)&&(o={attrs:Ext.apply(e[s],l)},"from"==s?s=0:"to"==s&&(s=100),o.pct=parseInt(s,10),a.push(o));for(Ext.Array.sort(a,this.sorter),r=a.length,n=0;n<r;n++)t=a[n-1]?d*(a[n-1].pct/100):0,i=d*(a[n].pct/100),this.timeline.push({duration:i-t,attrs:a[n].attrs})},applyAnimator:function(e){var t,i,n,r,s,o=[],a=this.timeline,l=a.length;if(!1!==this.fireEvent("beforeanimate",this)){for(s=0;s<l;s++)i=(r=(t=a[s]).attrs).easing||this.easing,n=r.damper||this.damper,delete r.easing,delete r.damper,t=new Ext.fx.Anim({target:e,easing:i,damper:n,duration:t.duration,paused:!0,to:r}),o.push(t);for(this.animations=o,this.target=t.target,s=0;s<l-1;s++)(t=o[s]).nextAnim=o[s+1],t.on("afteranimate",function(){this.nextAnim.paused=!1}),t.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},this);o[l-1].on("afteranimate",function(){this.lastFrame()},this)}},start:function(e){var t=this.delay,i=this.delayStart;if(t){if(!i)return void(this.delayStart=e);if(e-i<t)return;e=new Date(i.getTime()+t)}!1!==this.fireEvent("beforeanimate",this)&&(this.startTime=e,this.running=!0,this.animations[this.keyframeStep].paused=!1)},lastFrame:function(){var e=this,t=e.iterations,i=e.currentIteration;++i<t?(e.startTime=new Date,e.currentIteration=i,e.keyframeStep=0,e.applyAnimator(e.target),e.animations[e.keyframeStep].paused=!1):(e.currentIteration=0,e.end())},end:function(){this.fireEvent("afteranimate",this,this.startTime,new Date-this.startTime)},isReady:function(){return!1===this.paused&&!1===this.running&&0<this.iterations},isRunning:function(){return!1}}),Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(e,t,i,n,r,s){var o,l=3*t,d=3*(n-t)-l,h=1-l-d,a=3*i,c=3*(r-i)-a,u=1-a-c;function f(e){return((h*e+d)*e+l)*e}return o=function(e,t){var i,n,r,s,o,a;for(r=e,a=0;a<8;a++){if(s=f(r)-e,Math.abs(s)<t)return r;if(o=(3*h*r+2*d)*r+l,Math.abs(o)<1e-6)break;r-=s/o}if(n=1,(r=e)<(i=0))return i;if(n<r)return n;for(;i<n;){if(s=f(r),Math.abs(s-e)<t)return r;s<e?i=r:n=r,r=(n-i)/2+i}return r}(e,1/(200*s)),((u*o+c)*o+a)*o},cubicBezier:function(t,i,n,r){function e(e){return Ext.fx.CubicBezier.cubicBezierAtTime(e,t,i,n,r,1)}return e.toCSS3=function(){return"cubic-bezier("+[t,i,n,r].join(",")+")"},e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-n,1-r,1-t,1-i)},e}}),Ext.require("Ext.fx.CubicBezier",function(){var e=Math,t=e.PI,o=e.pow,i=e.sin,a=e.sqrt,l=e.abs,n=1.70158;Ext.define("Ext.fx.Easing",{singleton:!0,linear:Ext.identityFn,ease:function(e){var t=.07813-e/2,i=a(.0066+t*t),n=i-t,r=-i-t,s=o(l(n),1/3)*(n<0?-1:1)+o(l(r),1/3)*(r<0?-1:1)+.25;return 3*o(1-s,2)*s*.1+3*(1-s)*s*s+s*s*s},easeIn:function(e){return o(e,1.7)},easeOut:function(e){return o(e,.48)},easeInOut:function(e){var t=.48-e/1.04,i=a(.1734+t*t),n=i-t,r=-i-t,s=o(l(n),1/3)*(n<0?-1:1)+o(l(r),1/3)*(r<0?-1:1)+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(e){return e*e*((1+n)*e-n)},backOut:function(e){return(e-=1)*e*((1+n)*e+n)+1},elasticIn:function(e){if(0===e||1===e)return e;return o(2,-10*e)*i(2*t*(e-.075)/.3)+1},elasticOut:function(e){return 1-Ext.fx.Easing.elasticIn(1-e)},bounceIn:function(e){return 1-Ext.fx.Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625;return e<1/2.75?t*e*e:e<2/2.75?t*(e-=1.5/2.75)*e+.75:e<2.5/2.75?t*(e-=2.25/2.75)*e+.9375:t*(e-=2.625/2.75)*e+.984375}},function(){var e=Ext.fx.Easing.self,t=e.prototype;e.implement({"back-in":t.backIn,"back-out":t.backOut,"ease-in":t.easeIn,"ease-out":t.easeOut,"elastic-in":t.elasticIn,"elastic-out":t.elasticOut,"bounce-in":t.bounceIn,"bounce-out":t.bounceOut,"ease-in-out":t.easeInOut})})}),Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(e,t,i){var n=Ext.Number.constrain;this.r=n(e,0,255),this.g=n(t,0,255),this.b=n(i,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){return[this.r,this.g,this.b]},getHSL:function(){var e,t=this.r/255,i=this.g/255,n=this.b/255,r=Math.max(t,i,n),s=Math.min(t,i,n),o=r-s,a=0,l=.5*(r+s);return s!=r&&(a=l<.5?o/(r+s):o/(2-r-s),(e=t==r?60*(i-n)/o:i==r?120+60*(n-t)/o:240+60*(t-i)/o)<0&&(e+=360),360<=e&&(e-=360)),[e,a,l]},getLighter:function(e){var t=this.getHSL();return e=e||this.lightnessFactor,t[2]=Ext.Number.constrain(t[2]+e,0,1),this.fromHSL(t[0],t[1],t[2])},getDarker:function(e){return e=e||this.lightnessFactor,this.getLighter(-e)},toString:function(){var e=Math.round,t=e(this.r).toString(16),i=e(this.g).toString(16),n=e(this.b).toString(16);return["#",t=1==t.length?"0"+t:t,i=1==i.length?"0"+i:i,n=1==n.length?"0"+n:n].join("")},toHex:function(e){if(Ext.isArray(e)&&(e=e[0]),!Ext.isString(e))return"";if("#"===e.substr(0,1))return e;var t,i,n,r=this.colorToHexRe.exec(e);return Ext.isArray(r)?(t=parseInt(r[2],10),i=parseInt(r[3],10),n=parseInt(r[4],10)|i<<8|t<<16,r[1]+"#"+("000000"+n.toString(16)).slice(-6)):e},fromString:function(e){var t,i,n,r,s,o=parseInt,a=e.substr(0,1);return"#"!=a&&(s=Ext.draw.Color.cssColors[e])&&(a=(e=s).substr(0,1)),4!=e.length&&7!=e.length||"#"!==a?(t=e.match(this.rgbRe))&&(i=t[1],n=t[2],r=t[3]):(t=e.match(this.hexRe))&&(i=o(t[1],16)>>0,n=o(t[2],16)>>0,r=o(t[3],16)>>0,4==e.length&&(i+=16*i,n+=16*n,r+=16*r)),void 0===i?void 0:new Ext.draw.Color(i,n,r)},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},fromHSL:function(e,t,i){var n,r,s,o=[],a=Math.abs,l=Math.floor;if(0==t||null==e)o=[i,i,i];else{switch(e/=60,r=(n=t*(1-a(2*i-1)))*(1-a(e-2*l(e/2)-1)),s=i-n/2,l(e)){case 0:o=[n,r,0];break;case 1:o=[r,n,0];break;case 2:o=[0,n,r];break;case 3:o=[0,r,n];break;case 4:o=[r,0,n];break;case 5:o=[n,0,r]}o=[o[0]+s,o[1]+s,o[2]+s]}return new Ext.draw.Color(255*o[0],255*o[1],255*o[2])}},function(){var e=this.prototype;this.addStatics({fromHSL:function(){return e.fromHSL.apply(e,arguments)},fromString:function(){return e.fromString.apply(e,arguments)},toHex:function(){return e.toHex.apply(e,arguments)},cssColors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}})}),Ext.define("Ext.draw.Draw",{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(e,t){return"object"==(t=String(t).toLowerCase())&&e===Object(e)||"undefined"==t&&typeof e==t||"null"==t&&null===e||"array"==t&&Array.isArray&&Array.isArray(e)||Object.prototype.toString.call(e).toLowerCase().slice(8,-1)==t},ellipsePath:function(e){var t=e.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",t.x,t.y-t.ry,t.rx,t.ry,t.y+t.ry)},rectPath:function(e){var t=e.attr;return t.radius?Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t.x+t.radius,t.y,t.width-2*t.radius,t.radius,-t.radius,t.height-2*t.radius,2*t.radius-t.width,2*t.radius-t.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",t.x,t.y,t.width+t.x,t.height+t.y)},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(e){return e.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(e){if(!e)return null;var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=[],a=this;return a.is(e,"array")&&a.is(e[0],"array")&&(o=a.pathClone(e)),o.length||String(e).replace(a.pathCommandRE,function(e,t,i){var n=[],r=t.toLowerCase();for(i.replace(a.pathValuesRE,function(e,t){t&&n.push(+t)}),"m"==r&&2<n.length&&(o.push([t].concat(Ext.Array.splice(n,0,2))),r="l",t="m"==t?"l":"L");n.length>=s[r]&&(o.push([t].concat(Ext.Array.splice(n,0,s[r]))),s[r]););}),o.toString=a.path2string,o},mapPath:function(e,t){if(!t)return e;var i,n,r,s,o,a,l;for(r=0,s=(e=this.path2curve(e)).length;r<s;r++)for(o=1,a=(l=e[r]).length;o<a-1;o+=2)i=t.x(l[o],l[o+1]),n=t.y(l[o],l[o+1]),l[o]=i,l[o+1]=n;return e},pathClone:function(e){var t,i,n,r,s=[];for(this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e)),n=0,r=e.length;n<r;n++)for(s[n]=[],t=0,i=e[n].length;t<i;t++)s[n][t]=e[n][t];return s.toString=this.path2string,s},pathToAbsolute:function(e){this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e));var t,i,n,r,s=[],o=0,a=0,l=0,d=0,h=0,c=e.length;for(c&&"M"==e[0][0]&&(l=o=+e[0][1],d=a=+e[0][2],h++,s[0]=["M",o,a]);h<c;h++){if(t=s[h]=[],(i=e[h])[0]!=i[0].toUpperCase())switch(t[0]=i[0].toUpperCase(),t[0]){case"A":t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=+(i[6]+o),t[7]=+(i[7]+a);break;case"V":t[1]=+i[1]+a;break;case"H":t[1]=+i[1]+o;break;case"M":l=+i[1]+o,d=+i[2]+a;default:for(n=1,r=i.length;n<r;n++)t[n]=+i[n]+(n%2?o:a)}else for(n=0,r=i.length;n<r;n++)s[h][n]=i[n];switch(t[0]){case"Z":o=l,a=d;break;case"H":o=t[1];break;case"V":a=t[1];break;case"M":l=(i=s[h])[(r=i.length)-2],d=i[r-1];default:o=(i=s[h])[(r=i.length)-2],a=i[r-1]}}return s.toString=this.path2string,s},pathToRelative:function(e){this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e));var t,i,n,r,s,o,a,l,d,h=[],c=0,u=0,f=0,g=0,p=0;for("M"==e[0][0]&&(f=c=e[0][1],g=u=e[0][2],p++,h.push(["M",c,u])),n=p,a=e.length;n<a;n++){if(t=h[n]=[],(i=e[n])[0]!=i[0].toLowerCase())switch(t[0]=i[0].toLowerCase(),t[0]){case"a":t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=+(i[6]-c).toFixed(3),t[7]=+(i[7]-u).toFixed(3);break;case"v":t[1]=+(i[1]-u).toFixed(3);break;case"m":f=i[1],g=i[2];default:for(r=1,l=i.length;r<l;r++)t[r]=+(i[r]-(r%2?c:u)).toFixed(3)}else for(t=h[n]=[],"m"==i[0]&&(f=i[1]+c,g=i[2]+u),s=0,d=i.length;s<d;s++)h[n][s]=i[s];switch(o=h[n].length,h[n][0]){case"z":c=f,u=g;break;case"h":c+=+h[n][o-1];break;case"v":u+=+h[n][o-1];break;default:c+=+h[n][o-2],u+=+h[n][o-1]}}return h.toString=this.path2string,h},path2curve:function(e){var t,i,n,r,s=this.pathToAbsolute(e),o=s.length,a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};for(t=0;t<o;t++){if(s[t]=this.command2curve(s[t],a),7<s[t].length){for(s[t].shift(),r=s[t];r.length;)Ext.Array.splice(s,t++,0,["C"].concat(Ext.Array.splice(r,0,6)));Ext.Array.erase(s,t,1),o=s.length,t--}n=(i=s[t]).length,a.x=i[n-2],a.y=i[n-1],a.bx=parseFloat(i[n-4])||a.x,a.by=parseFloat(i[n-3])||a.y}return s},interpolatePaths:function(e,t){function i(e,t){if(7<e[t].length){e[t].shift();for(var i=e[t];i.length;)Ext.Array.splice(e,t++,0,["C"].concat(Ext.Array.splice(i,0,6)));Ext.Array.erase(e,t,1),s=Math.max(h.length,c.length||0)}}function n(e,t,i,n,r){e&&t&&"M"==e[r][0]&&"M"!=t[r][0]&&(Ext.Array.splice(t,r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=e[r][1],i.y=e[r][2],s=Math.max(h.length,c.length||0))}var r,s,o,a,l,d,h=this.pathToAbsolute(e),c=this.pathToAbsolute(t),u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};for(r=0,s=Math.max(h.length,c.length||0);r<s;r++)h[r]=this.command2curve(h[r],u),i(h,r),c[r]=this.command2curve(c[r],f),i(c,r),n(h,c,u,f,r),n(c,h,f,u,r),o=h[r],a=c[r],l=o.length,d=a.length,u.x=o[l-2],u.y=o[l-1],u.bx=parseFloat(o[l-4])||u.x,u.by=parseFloat(o[l-3])||u.y,f.bx=parseFloat(a[d-4])||f.x,f.by=parseFloat(a[d-3])||f.y,f.x=a[d-2],f.y=a[d-1];return[h,c]},command2curve:function(e,t){if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch("T"!=e[0]&&"Q"!=e[0]&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(this.arc2curve.apply(this,[t.x,t.y].concat(e.slice(1))));break;case"S":e=["C",t.x+(t.x-(t.bx||t.x)),t.y+(t.y-(t.by||t.y))].concat(e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"].concat(this.quadratic2curve(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(this.quadratic2curve(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(t.x,t.y,e[1],e[2],e[1],e[2]);break;case"H":e=["C"].concat(t.x,t.y,e[1],t.y,e[1],t.y);break;case"V":e=["C"].concat(t.x,t.y,t.x,e[1],t.x,e[1]);break;case"Z":e=["C"].concat(t.x,t.y,t.X,t.Y,t.X,t.Y)}return e},quadratic2curve:function(e,t,i,n,r,s){return[1/3*e+2/3*i,1/3*t+2/3*n,1/3*r+2/3*i,1/3*s+2/3*n,r,s]},rotate:function(e,t,i){var n=Math.cos(i),r=Math.sin(i);return{x:e*n-t*r,y:e*r+t*n}},arc2curve:function(e,t,i,n,r,s,o,a,l,d){var h,c,u,f,g,p,m,x,y,E,v,b,C,w,S,P,k,T,I,M,D,A,F,R,L,O,B,H,N,z=Math.PI,W=120*z/180,V=this.radian*(+r||0),G=[],_=Math,X=_.cos,Y=_.sin,j=_.sqrt,U=_.abs,K=_.asin;if(d?(E=d[0],v=d[1],x=d[2],y=d[3]):(e=(h=this.rotate(e,t,-V)).x,t=h.y,1<(f=(c=(e-(a=(h=this.rotate(a,l,-V)).x))/2)*c/(i*i)+(u=(t-(l=h.y))/2)*u/(n*n))&&(i*=f=j(f),n*=f),x=(m=(s==o?-1:1)*j(U(((g=i*i)*(p=n*n)-g*u*u-p*c*c)/(g*u*u+p*c*c))))*i*u/n+(e+a)/2,E=K(((t-(y=m*-n*c/i+(t+l)/2))/n).toFixed(7)),v=K(((l-y)/n).toFixed(7)),(E=e<x?z-E:E)<0&&(E=2*z+E),(v=a<x?z-v:v)<0&&(v=2*z+v),o&&v<E&&(E-=2*z),!o&&E<v&&(v-=2*z)),U(b=v-E)>W&&(B=v,H=a,N=l,a=x+i*X(v=E+W*(o&&E<v?1:-1)),l=y+n*Y(v),G=this.arc2curve(a,l,i,n,r,0,o,H,N,[v,B,x,y])),b=v-E,C=X(E),w=Y(E),S=X(v),P=Y(v),A=[a+(T=4/3*i*(k=_.tan(b/4)))*P,l-(I=4/3*n*k)*S],F=[a,l],(D=[e+T*w,t-I*C])[0]=2*(M=[e,t])[0]-D[0],D[1]=2*M[1]-D[1],d)return[D,A,F].concat(G);for(R=[],O=(G=[D,A,F].concat(G).join().split(",")).length,L=0;L<O;L++)R[L]=L%2?this.rotate(G[L-1],G[L],V).y:this.rotate(G[L],G[L+1],V).x;return R},rotateAndTranslatePath:function(e){var t,i,n,r,s,o=e.rotation.degrees,a=e.rotation.x,l=e.rotation.y,d=e.translation.x,h=e.translation.y,c=[];if(!o&&!d&&!h)return this.pathToAbsolute(e.attr.path);for(d=d||0,h=h||0,i=(t=this.pathToAbsolute(e.attr.path)).length;i--;)if("A"==(n=c[i]=t[i].slice())[0])r=this.rotatePoint(n[6],n[7],o,a,l),n[6]=r.x+d,n[7]=r.y+h;else for(s=1;null!=n[s+1];)r=this.rotatePoint(n[s],n[s+1],o,a,l),n[s]=r.x+d,n[s+1]=r.y+h,s+=2;return c},rotatePoint:function(e,t,i,n,r){if(!i)return{x:e,y:t};e-=n=n||0,t-=r=r||0,i*=this.radian;var s=Math.cos(i),o=Math.sin(i);return{x:e*s-t*o+n,y:e*o+t*s+r}},pathDimensions:function(e){if(!(e&&e+""))return{x:0,y:0,width:0,height:0};for(var t,i,n,r,s,o,a=0,l=0,d=[],h=[],c=0,u=(e=this.path2curve(e)).length;c<u;c++)"M"==(t=e[c])[0]?(a=t[1],l=t[2],d.push(a),h.push(l)):(o=this.curveDim(a,l,t[1],t[2],t[3],t[4],t[5],t[6]),d=d.concat(o.min.x,o.max.x),h=h.concat(o.min.y,o.max.y),a=t[5],l=t[6]);return i=Math.min.apply(0,d),n=Math.min.apply(0,h),r=Math.max.apply(0,d),s=Math.max.apply(0,h),{x:Math.round(i),y:Math.round(n),path:e,width:Math.round(r-i),height:Math.round(s-n)}},intersectInside:function(e,t,i){return(i[0]-t[0])*(e[1]-t[1])>(i[1]-t[1])*(e[0]-t[0])},intersectIntersection:function(e,t,i,n){var r=[],s=i[0]-n[0],o=i[1]-n[1],a=e[0]-t[0],l=e[1]-t[1],d=i[0]*n[1]-i[1]*n[0],h=e[0]*t[1]-e[1]*t[0],c=1/(s*l-o*a);return r[0]=(d*a-h*s)*c,r[1]=(d*l-h*o)*c,r},intersect:function(e,t){for(var i,n,r,s,o,a,l=0,d=t.length,h=t[d-1],c=e;l<d;++l){for(i=t[l],o=c,c=[],n=o[o.length-1],a=0,s=o.length;a<s;a++)r=o[a],this.intersectInside(r,h,i)?(this.intersectInside(n,h,i)||c.push(this.intersectIntersection(n,r,h,i)),c.push(r)):this.intersectInside(n,h,i)&&c.push(this.intersectIntersection(n,r,h,i)),n=r;h=i}return c},bezier:function(e,t,i,n,r){if(0===r)return e;if(1===r)return n;var s=1-r,o=r/s;return s*s*s*(e+o*(3*t+o*(3*i+n*o)))},bezierDim:function(e,t,i,n){var r,s,o,a,l,d,h,c,u,f=[];for(e+3*i==n+3*t?(r=e-t,(r/=2*(e-t-t+i))<1&&0<r&&f.push(r)):(l=(s=e-3*t+3*i-n)+s,0==(a=(o=2*(e-t-t+i))*o-4*s*(e-t))?(r=o/l)<1&&0<r&&f.push(r):0<a&&((r=((d=Math.sqrt(a))+o)/l)<1&&0<r&&f.push(r),(r=(o-d)/l)<1&&0<r&&f.push(r))),h=Math.min(e,n),c=Math.max(e,n),u=0;u<f.length;u++)h=Math.min(h,this.bezier(e,t,i,n,f[u])),c=Math.max(c,this.bezier(e,t,i,n,f[u]));return[h,c]},curveDim:function(e,t,i,n,r,s,o,a){var l=this.bezierDim(e,i,r,o),d=this.bezierDim(t,n,s,a);return{min:{x:l[0],y:d[0]},max:{x:l[1],y:d[1]}}},getAnchors:function(e,t,i,n,r,s,o){o=o||4;var a,l,d,h,c,u,f,g,p,m=Math,x=m.PI,y=x/2,E=m.abs,v=m.sin,b=m.cos,C=m.atan;return a=(i-e)/o,l=(r-i)/o,t<=n&&s<=n||n<=t&&n<=s?d=h=y:(d=C((i-e)/E(n-t)),t<n&&(d=x-d),h=C((r-i)/E(n-s)),s<n&&(h=x-h)),y<(p=y-(d+h)%(2*x)/2)&&(p-=x),h+=p,c=i-a*v(d+=p),u=n+a*b(d),f=i+l*v(h),g=n+l*b(h),(t<n&&u<t||n<t&&t<u)&&(c+=E(t-u)*(c-i)/(u-n),u=t),(s<n&&g<s||n<s&&s<g)&&(f-=E(s-g)*(f-i)/(g-n),g=s),{x1:c,y1:u,x2:f,y2:g}},smooth:function(e,t){for(var i,n,r,s,o,a,l,d,h,c=this.path2curve(e),u=[c[0]],f=c[0][1],g=c[0][2],p=1,m=c.length,x=1,y=f,E=g;p<m;p++)if(s=(r=c[p]).length,a=(o=c[p-1]).length,d=(l=c[p+1])&&l.length,"M"!=r[0])r[s-2]!=y||r[s-1]!=E||l&&"M"!=l[0]?n=l&&"M"!=l[0]?this.getAnchors(o[a-2],o[a-1],r[s-2],r[s-1],l[d-2],l[d-1],t):{x1:r[s-2],y1:r[s-1]}:(h=u[x].length,n=this.getAnchors(o[a-2],o[a-1],y,E,u[x][h-2],u[x][h-1],t),u[x][1]=n.x2,u[x][2]=n.y2),u.push(["C",f,g,n.x1,n.y1,r[s-2],r[s-1]]),f=n.x2,g=n.y2;else{for(y=r[1],E=r[2],i=p+1;"C"!=c[i][0];)i++;u.push(["M",y,E]),x=u.length,f=y,g=E}return u},findDotAtSegment:function(e,t,i,n,r,s,o,a,l){var d=1-l;return{x:Math.pow(d,3)*e+3*Math.pow(d,2)*l*i+3*d*l*l*r+Math.pow(l,3)*o,y:Math.pow(d,3)*t+3*Math.pow(d,2)*l*n+3*d*l*l*s+Math.pow(l,3)*a}},snapEnds:function(e,t,i,n){if(Ext.isDate(e))return this.snapEndsByDate(e,t,i);var r,s,o,a,l,d,h=(t-e)/i,c=Math.floor(Math.log(h)/Math.LN10)+1,u=Math.pow(10,c),f=Math.round(h%u*Math.pow(10,2-c)),g=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],p=0,m=1e9,x=g.length;if(e==(s=Math.floor(e/u)*u)&&0<s&&(s=Math.floor((e-u/10)/u)*u),n){for(l=0;l<x;l++)(a=(o=g[l][0])-f<0?1e6:(o-f)/g[l][1])<m&&(d=o,m=a);if(h=Math.floor(h*Math.pow(10,-c))*Math.pow(10,c)+d*Math.pow(10,c-2),e<0&&0<=t){for(r=0;e<r;)r-=h,p++;for(e=+r.toFixed(10),r=0;r<t;)r+=h,p++;t=+r.toFixed(10)}else for(r=e=s;r<t;)r+=h,p++;t=+r.toFixed(10)}else e=s,p=i;return{from:e,to:t,power:c,step:h,steps:p}},snapEndsByDate:function(e,t,i,n){var r,s,o,a,l=!1,d=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],h=d.length,c=!1;for(a=0;a<h;a++)if(r=d[a],!c)for(s=0;s<r[1].length;s++)if(t<Ext.Date.add(e,r[0],r[1][s]*i)){l=[r[0],r[1][s]],c=!0;break}return l||(o=this.snapEnds(e.getFullYear(),t.getFullYear()+1,i,n),l=[Date.YEAR,Math.round(o.step)]),this.snapEndsByDateAndStep(e,t,l,n)},snapEndsByDateAndStep:function(e,t,i,n){var r,s,o,a,l,d,h,c,u=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()],f=i[0],g=i[1],p=0;if(n)r=e;else switch(f){case Ext.Date.MILLI:r=new Date(u[0],u[1],u[2],u[3],u[4],u[5],Math.floor(u[6]/g)*g);break;case Ext.Date.SECOND:r=new Date(u[0],u[1],u[2],u[3],u[4],Math.floor(u[5]/g)*g,0);break;case Ext.Date.MINUTE:r=new Date(u[0],u[1],u[2],u[3],Math.floor(u[4]/g)*g,0,0);break;case Ext.Date.HOUR:r=new Date(u[0],u[1],u[2],Math.floor(u[3]/g)*g,0,0,0);break;case Ext.Date.DAY:r=new Date(u[0],u[1],Math.floor((u[2]-1)/g)*g+1,0,0,0,0);break;case Ext.Date.MONTH:r=new Date(u[0],Math.floor(u[1]/g)*g,1,0,0,0,0),p=[],c=!0;break;default:r=new Date(Math.floor(u[0]/g)*g,0,1,0,0,0,0),p=[],c=!0}for(h=f===Ext.Date.MONTH&&(.5==g||g==1/3||.25==g),s=new Date(r);s<t;)if(h){switch(a=(o=new Date(s)).getFullYear(),l=o.getMonth(),d=o.getDate(),g){case.5:15<=d?(d=1,11<++l&&a++):d=15;break;case 1/3:20<=d?(d=1,11<++l&&a++):d=10<=d?20:10;break;case.25:22<=d?(d=1,11<++l&&a++):d=15<=d?22:8<=d?15:8}s.setYear(a),s.setMonth(l),s.setDate(d),p.push(new Date(s))}else c?(s=Ext.Date.add(s,f,g),p.push(new Date(s))):(s=Ext.Date.add(s,f,g),p++);return n&&(s=t),c?{from:+r,to:+s,steps:p}:{from:+r,to:+s,step:(s-r)/p,steps:p}},sorter:function(e,t){return e.offset-t.offset},rad:function(e){return e%360*Math.PI/180},normalizeRadians:function(e){var t=2*Math.PI;return 0<=e?e%t:(e%t+t)%t},degrees:function(e){return 180*e/Math.PI%360},normalizeDegrees:function(e){return 0<=e?e%360:(e%360+360)%360},withinBox:function(e,t,i){return e>=(i=i||{}).x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},parseGradient:function(e){var t,i,n,r,s=e.type||"linear",o=e.angle||0,a=this.radian,l=e.stops,d=[];for(t in"linear"==s&&(i=[0,0,Math.cos(o*a),Math.sin(o*a)],n=1/(Math.max(Math.abs(i[2]),Math.abs(i[3]))||1),i[2]*=n,i[3]*=n,i[2]<0&&(i[0]=-i[2],i[2]=0),i[3]<0&&(i[1]=-i[3],i[3]=0)),l)l.hasOwnProperty(t)&&this.stopsRE.test(t)&&(r={offset:parseInt(t,10),color:Ext.draw.Color.toHex(l[t].color)||"#ffffff",opacity:l[t].opacity||1},d.push(r));return Ext.Array.sort(d,this.sorter),"linear"==s?{id:e.id,type:s,vector:i,stops:d}:{id:e.id,type:s,centerX:e.centerX,centerY:e.centerY,focalX:e.focalX,focalY:e.focalY,radius:e.radius,vector:i,stops:d}}}),Ext.define("Ext.fx.PropertyHandler",{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(e,t,i,n,r){i="number"==typeof i?i:1;var s,o=this.unitRE,a=o.exec(e);return a&&(e=a[1],s=a[2],this.scrollRE.test(r)||s||!this.pixelDefaultsRE.test(r)||(s="px")),e=+e||0,(a=o.exec(t))&&(t=a[1],s=a[2]||s),{from:e,delta:((t=+t||0)-(null!=n?n:e))*i,units:s}},get:function(e,t,i,n,r){var s,o,a,l,d,h=e.length,c=[];for(s=0;s<h;s++)if(n&&(o=n[s][1].from),Ext.isArray(e[s][1])&&Ext.isArray(t)){for(a=[],l=0,d=e[s][1].length;l<d;l++)a.push(this.computeDelta(e[s][1][l],t[l],i,o,r));c.push([e[s][0],a])}else c.push([e[s][0],this.computeDelta(e[s][1],t,i,o,r)]);return c},set:function(e,t){var i,n,r,s,o,a=e.length,l=[];for(i=0;i<a;i++)if(n=e[i][1],Ext.isArray(n)){for(r=[],o=0,s=n.length;o<s;o++)r.push(n[o].from+n[o].delta*t+(n[o].units||0));l.push([e[i][0],r])}else l.push([e[i][0],n.from+n.delta*t+(n.units||0)]);return l}},stringHandler:{computeDelta:function(e,t,i,n,r){return{from:e,delta:t}},get:function(e,t,i,n,r){var s,o=e.length,a=[];for(s=0;s<o;s++)a.push([e[s][0],this.computeDelta(e[s][1],t,i,void 0,r)]);return a},set:function(e,t){var i,n,r=e.length,s=[];for(i=0;i<r;i++)n=e[i][1],s.push([e[i][0],n.delta]);return s}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(e,t){t="number"==typeof t?t:1;var i,n,r,s=!1,o=[this.hexRE,this.rgbRE,this.hex3RE],a=o.length;for(r=0;r<a;r++)if(n=r%2==0?16:10,(i=o[r].exec(e))&&4===i.length){2===r&&(i[1]+=i[1],i[2]+=i[2],i[3]+=i[3]),s={red:parseInt(i[1],n),green:parseInt(i[2],n),blue:parseInt(i[3],n)};break}return s||e},computeDelta:function(e,t,i,n){e=this.parseColor(e);var r=n||e,s=typeof r,o=typeof(t=this.parseColor(t,i));return"string"==s||"undefined"==s||"string"==o||"undefined"==o?t||r:{from:e,delta:{red:Math.round((t.red-r.red)*i),green:Math.round((t.green-r.green)*i),blue:Math.round((t.blue-r.blue)*i)}}},get:function(e,t,i,n){var r,s,o=e.length,a=[];for(r=0;r<o;r++)n&&(s=n[r][1].from),a.push([e[r][0],this.computeDelta(e[r][1],t,i,s)]);return a},set:function(e,t){var i,n,r,s,o,a=e.length,l=[];for(i=0;i<a;i++)if(n=e[i][1]){if(s=n.from,o=n.delta,void 0===(n="object"==typeof(n="object"==typeof n&&"red"in n?"rgb("+n.red+", "+n.green+", "+n.blue+")":n)&&n.length?n[0]:n))return[];r="string"==typeof n?n:"rgb("+[(s.red+Math.round(o.red*t))%256,(s.green+Math.round(o.green*t))%256,(s.blue+Math.round(o.blue*t))%256].join(",")+")",l.push([e[i][0],r])}return l}},object:{interpolate:function(e,t){t="number"==typeof t?t:1;var i,n={};for(i in e)n[i]=parseFloat(e[i])*t;return n},computeDelta:function(e,t,i,n){e=this.interpolate(e),t=this.interpolate(t,i);var r,s=n||e,o={};for(r in t)o[r]=t[r]-s[r];return{from:e,delta:o}},get:function(e,t,i,n){var r,s,o=e.length,a=[];for(r=0;r<o;r++)n&&(s=n[r][1].from),a.push([e[r][0],this.computeDelta(e[r][1],t,i,s)]);return a},set:function(e,t){var i,n,r,s,o,a=e.length,l=[],d={};for(i=0;i<a;i++){for(o in n=(s=e[i][1]).from,r=s.delta,n)d[o]=n[o]+r[o]*t;l.push([e[i][0],d])}return l}},path:{computeDelta:function(e,t,i,n){return{from:e=+e||0,delta:((t=+t||0)-(null!=n?n:e))*(i="number"==typeof i?i:1)}},forcePath:function(e){return Ext.isArray(e)||Ext.isArray(e[0])||(e=Ext.draw.Draw.parsePathString(e)),e},get:function(e,t,i,n){var r,s,o,a,l,d,h,c,u,f=this.forcePath(t),g=[],p=e.length;for(o=0;o<p;o++){for(u=this.forcePath(e[o][1]),u=(a=Ext.draw.Draw.interpolatePaths(u,f))[0],f=a[1],r=u.length,c=[],d=0;d<r;d++){for(a=[u[d][0]],s=u[d].length,h=1;h<s;h++)l=n&&n[0][1][d][h].from,a.push(this.computeDelta(u[d][h],f[d][h],i,l));c.push(a)}g.push([e[o][0],c])}return g},set:function(e,t){var i,n,r,s,o,a,l,d,h=e.length,c=[];for(i=0;i<h;i++){for(s=[],l=(a=e[i][1]).length,n=0;n<l;n++){for(o=[a[n][0]],d=a[n].length,r=1;r<d;r++)o.push(a[n][r].from+a[n][r].delta*t);s.push(o.join(","))}c.push([e[i][0],s.join(",")])}return c}}}},function(){for(var e=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],t=e.length,i=0;i<t;i++)this[e[i]]=this.color;for(t=(e=["cursor"]).length,i=0;i<t;i++)this[e[i]]=this.stringHandler}),Ext.define("Ext.fx.Anim",{mixins:{observable:Ext.util.Observable},isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,autoEnd:!1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(e){var t,i=this;if((e=e||{}).keyframes)return new Ext.fx.Animator(e);Ext.apply(i,e),void 0===i.from&&(i.from={}),i.propHandlers={},i.config=e,i.target=Ext.fx.Manager.createTarget(i.target),i.easingFn=Ext.fx.Easing[i.easing],i.target.dynamic=i.dynamic,i.easingFn||(i.easingFn=String(i.easing).match(i.bezierRE),i.easingFn&&5==i.easingFn.length&&(t=i.easingFn,i.easingFn=Ext.fx.CubicBezier.cubicBezier(+t[1],+t[2],+t[3],+t[4]))),i.id=Ext.id(null,"ext-anim-"),i.addEvents("beforeanimate","afteranimate","lastframe"),i.mixins.observable.constructor.call(i),Ext.fx.Manager.addAnim(i),e.autoEnd&&(i.running=!0,i.jumpToEnd())},setAttr:function(e,t){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,e,t)},initAttrs:function(){var e,t,i,n,r=this.from,s=this.to,o=this.initialFrom||{},a={};for(n in s)s.hasOwnProperty(n)&&(e=this.target.getAttr(n,r[n]),t=s[n],i=Ext.fx.PropertyHandler[n]?this.propHandlers[n]=Ext.fx.PropertyHandler[n]:Ext.isObject(t)?this.propHandlers[n]=Ext.fx.PropertyHandler.object:this.propHandlers[n]=Ext.fx.PropertyHandler.defaultHandler,a[n]=i.get(e,t,this.damper,o[n],n));this.currentAttrs=a},start:function(e){var t=this,i=t.delay,n=t.delayStart;if(i){if(!n)return void(t.delayStart=e);if(e-n<i)return;e=new Date(n.getTime()+i)}!1!==t.fireEvent("beforeanimate",t)&&(t.startTime=e,t.paused||t.currentAttrs||t.initAttrs(),t.running=!0,t.frameCount=0)},jumpToEnd:function(){this.endWasCalled||(this.currentAttrs||this.initAttrs(),Ext.fx.Manager.jumpToEnd(this),this.end())},runAnim:function(e){var t,i,n,r,s=this.currentAttrs,o=this.duration,a=this.easingFn,l=this.propHandlers,d={};for(n in o<=e&&(e=o,r=!0),this.reverse&&(e=o-e),s)s.hasOwnProperty(n)&&(i=s[n],t=r?1:a(e/o),d[n]=l[n].set(i,t));return this.frameCount++,d},lastFrame:function(){var e=this,t=e.iterations,i=e.currentIteration;++i<t?(e.alternate&&(e.reverse=!e.reverse),e.startTime=new Date,e.currentIteration=i,e.paused=!1):(e.currentIteration=0,e.end(),e.fireEvent("lastframe",e,e.startTime))},endWasCalled:0,end:function(){var e=this;e.endWasCalled++||(e.startTime=0,e.paused=!1,e.running=!1,Ext.fx.Manager.removeAnim(e),e.fireEvent("afteranimate",e,e.startTime),Ext.callback(e.callback,e.scope,[e,e.startTime]),e.remove&&e.target.remove())},isReady:function(){return!1===this.paused&&!1===this.running&&0<this.iterations},isRunning:function(){return!1===this.paused&&!0===this.running&&!0!==this.isAnimator}}),Ext.enableFx=!0,Ext.define("Ext.util.Animate",{isAnimate:!0,animate:function(e){return Ext.fx.Manager.hasFxBlock(this.id)||Ext.fx.Manager.queueFx(new Ext.fx.Anim(this.anim(e))),this},anim:function(e){if(!Ext.isObject(e))return!!e&&{};return e.stopAnimation&&this.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(this.id)),Ext.apply({target:this,paused:!0},e)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){return Ext.fx.Manager.stopAnimation(this.id),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype),Ext.CompositeElementLite.importElementMethods()}),Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var e;this.hasOwnProperty("childEls")&&(e=this.childEls,delete this.childEls,this.addChildEls.apply(this,e))},destroy:function(){var e,t,i,n=this.getChildEls();for(i=n.length;i--;)"string"!=typeof(t=n[i])&&(t=t.name),(e=this[t])&&(this[t]=null,e.remove())},addChildEls:function(){var e=arguments;this.hasOwnProperty("childEls")?this.childEls.push.apply(this.childEls,e):this.childEls=this.getChildEls().concat(Array.prototype.slice.call(e)),this.prune(this.childEls,!1)},applyChildEls:function(e,t){var i,n,r,s,o,a=this.getChildEls();for(i=(t||this.id)+"-",r=a.length;r--;)"string"==typeof(n=a[r])?o=e.getById(i+n):(o=(s=n.select)?Ext.select(s,!0,e.dom):(s=n.selectNode)?Ext.get(Ext.DomQuery.selectNode(s,e.dom)):e.getById(n.id||i+n.itemId),n=n.name),this[n]=o},getChildEls:function(){var e;return this.hasOwnProperty("childEls")?this.childEls:(e=this.self).$childEls||this.getClassChildEls(e)},getClassChildEls:function(e){var t,i,n,r,s,o,a,l,d,h,c,u=e.$childEls;if(!u){for(a in c=(h=e.superclass)?(l=[(h=h.self).$childEls||this.getClassChildEls(h)],h.prototype.mixins||{}):(l=[],{}),o=(d=e.prototype).mixins)o.hasOwnProperty(a)&&!c.hasOwnProperty(a)&&(s=o[a].self,l.push(s.$childEls||this.getClassChildEls(s)));for(l.push(d.hasOwnProperty("childEls")&&d.childEls),i=0,n=l.length;i<n;++i)(t=l[i])&&t.length&&(u?(r||(r=!0,u=u.slice(0)),u.push.apply(u,t)):u=t);e.$childEls=u=u?this.prune(u,!r):[]}return u},prune:function(e,t){for(var i,n=e.length,r={};n--;)"string"!=typeof(i=e[n])&&(i=i.name),r[i]?(t&&(t=!1,e=e.slice(0)),Ext.Array.erase(e,n,1)):r[i]=1;return e},removeChildEls:function(e){var t,i,n,r=this.getChildEls(),s=this.childEls=[];for(i=0,t=r.length;i<t;++i)e(n=r[i])||s.push(n)}}),Ext.define("Ext.util.Renderable",{frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table id="{fgid}Table" class="',Ext.plainTableCls,'" cellpadding="0" role="presentation">','<tbody role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var e,t,i,n,r={},s=this.protoEl,o=this.el;this.finishRenderChildren(),this.contentEl&&(i=(t=Ext.baseCSSPrefix)+"hide-",(n=Ext.get(this.contentEl)).removeCls([t+"hidden",i+"display",i+"offsets",i+"nosize"]),this.getContentTarget().appendChild(n.dom)),s.writeTo(r),(e=r.removed)&&o.removeCls(e),(e=r.cls).length&&o.addCls(e),(e=r.style)&&o.setStyle(e),this.protoEl=null,this.ownerCt||this.updateLayout()},afterFirstLayout:function(e,t){var i,n,r,s,o=this,a=o.x,l=o.y;o.ownerLayout||(i=Ext.isDefined(a),n=Ext.isDefined(l)),!o.floating||i&&n||(o.floatParent?(r=o.floatParent.getTargetEl().getViewRegion(),s=o.el.getAlignToXY(o.floatParent.getTargetEl(),"c-c"),r.x=s[0]-r.x,r.y=s[1]-r.y):(s=o.el.getAlignToXY(o.container,"c-c"),r=o.container.translateXY(s[0],s[1])),a=i?a:r.x,l=n?l:r.y,i=n=!0),(i||n)&&o.setPosition(a,l),o.onBoxReady(e,t)},applyRenderSelectors:function(){var e,t=this.renderSelectors,i=this.el,n=i.dom;if(this.applyChildEls(i),t)for(e in t)t.hasOwnProperty(e)&&t[e]&&(this[e]=Ext.get(Ext.DomQuery.selectNode(t[e],n)))},beforeRender:function(){var e=this,t=(e.getTargetEl(),e.getOverflowEl()),i=e.getComponentLayout(),n=e.getOverflowStyle();e.frame=e.frame||e.alwaysFramed,i.initialized||i.initLayout(),t&&(t.setStyle(n),e.overflowStyleSet=!0),e.setUI(e.ui),e.disabled&&e.disable(!0)},doApplyRenderTpl:function(e,t){var i=t.$comp;i.rendered||i.initRenderTpl().applyOut(t.renderData,e)},doAutoRender:function(){this.rendered||(this.floating?this.render(document.body):this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender))},doRenderContent:function(e,t){var i=t.$comp;i.html&&(Ext.DomHelper.generateMarkup(i.html,e),delete i.html),i.tpl&&(i.tpl.isTemplate||(i.tpl=new Ext.XTemplate(i.tpl)),i.data&&(i.tpl.applyOut(i.data,e),delete i.data))},doRenderFramingDockedItems:function(e,t,i){var n=t.$comp;!n.rendered&&n.doRenderDockedItems&&(t.renderData.$skipDockedItems=!0,n.doRenderDockedItems.call(this,e,t,i))},finishRender:function(e){var t,i,n,r=this;!r.el||r.$pid?(n=r.container?r.container.getById(r.id,!0):Ext.getDom(r.id),r.el?(delete r.$pid,r.el.dom||r.wrapPrimaryEl(r.el),n.parentNode.insertBefore(r.el.dom,n),Ext.removeNode(n)):r.wrapPrimaryEl(n)):r.rendering||(t=r.initRenderTpl())&&(i=r.initRenderData(),t.insertFirst(r.getTargetEl(),i)),r.container||(r.container=Ext.get(r.el.dom.parentNode)),r.ctCls&&r.container.addCls(r.ctCls),r.onRender(r.container,e),r.overflowStyleSet||r.getOverflowEl().setStyle(r.getOverflowStyle()),r.el.setVisibilityMode(Ext.Element[r.hideMode.toUpperCase()]),r.overCls&&r.el.hover(r.addOverCls,r.removeOverCls,r),r.hasListeners.render&&r.fireEvent("render",r),r.afterRender(),r.hasListeners.afterrender&&r.fireEvent("afterrender",r),r.initEvents(),r.hidden&&r.el.hide()},finishRenderChildren:function(){this.getComponentLayout().finishRender()},getElConfig:function(){var e,t,i,n,r,s,o=this,a=o.autoEl,l=o.getFrameInfo(),d={tag:"div",tpl:l?o.initFramingTpl(l.table):o.initRenderTpl()},h=o.protoEl;if(o.initStyles(h),h.writeTo(d),h.flush(),Ext.isString(a)?d.tag=a:Ext.apply(d,a),d.id=o.id,d.tpl)if(l){for(i=(t=o.frameElNames).length,d.tplData=s=o.getFrameRenderData(),s.renderData=o.initRenderData(),r=s.fgid,e=0;e<i;e++)n=t[e],o.addChildEls({name:"frame"+n,id:r+n});o.addChildEls({name:"frameBody",id:r+"MC"})}else d.tplData=o.initRenderData();return d},initFramingTpl:function(e){var t=this.getFrameTpl(e);return t&&!t.applyRenderTpl&&this.setupFramingTpl(t),t},setupFramingTpl:function(e){e.applyRenderTpl=this.doApplyRenderTpl,e.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(e){return void 0!==e&&(e=Ext.isNumber(e)?this.container.dom.childNodes[e]:Ext.getDom(e)),e},getRenderTree:function(){return this.hasListeners.beforerender&&!1===this.fireEvent("beforerender",this)?null:(this.beforeRender(),this.rendering=!0,this.el?{tag:"div",role:"presentation",id:this.$pid=Ext.id()}:this.getElConfig())},initContainer:function(e){return!e&&this.el&&(e=this.el.dom.parentNode,this.allowDomMove=!1),this.container=e.dom?e:Ext.get(e),this.container},initRenderData:function(){return Ext.apply({$comp:this,id:this.id,ui:this.ui,uiCls:this.uiCls,baseCls:this.baseCls,componentCls:this.componentCls,frame:this.frame,role:this.ariaRole,childElCls:""},this.renderData)},initRenderTpl:function(){var e=this.getTpl("renderTpl");return e&&!e.renderContent&&this.setupRenderTpl(e),e},onRender:function(e,t){var i,n,r=this,s=r.x,o=r.y,a=null,l=r.el;r.applyRenderSelectors(),r.rendering=null,r.rendered=!0,null!=s&&(a={x:s}),null!=o&&((a=a||{}).y=o),!r.getFrameInfo()&&Ext.isBorderBox&&(i=r.width,n=r.height,"number"==typeof i&&((a=a||{}).width=i),"number"==typeof n&&((a=a||{}).height=n)),r.lastBox=l.lastBox=a},render:function(e,t){var i,n,r,s=this,o=s.el&&(s.el=Ext.get(s.el));Ext.suspendLayouts(),e=s.initContainer(e),r=s.getInsertPosition(t),o?s.hasListeners.beforerender&&!1===s.fireEvent("beforerender",s)?i=!0:(s.beforeRender(),s.initStyles(o),!1!==s.allowDomMove&&(r?e.dom.insertBefore(o.dom,r):e.dom.appendChild(o.dom))):(n=s.getRenderTree(),s.ownerLayout&&s.ownerLayout.transformItemRenderTree&&(n=s.ownerLayout.transformItemRenderTree(n)),n&&(o=r?Ext.DomHelper.insertBefore(r,n):Ext.DomHelper.append(e,n),s.wrapPrimaryEl(o))),o&&!i&&s.finishRender(t),Ext.resumeLayouts(!s.hidden&&!e.isDetachedBody)},ensureAttachedToBody:function(e){for(var t,i=this;i.ownerCt;)i=i.ownerCt;i.container.isDetachedBody&&(i.container=t=Ext.getBody(),t.appendChild(i.el.dom),e&&i.updateLayout(),"number"!=typeof i.x&&"number"!=typeof i.y||i.setPosition(i.x,i.y))},setupRenderTpl:function(e){e.renderBody=e.renderContent=this.doRenderContent},wrapPrimaryEl:function(e){this.el=Ext.get(e,!0)},initFrame:function(){},getFrameRenderData:function(){var e=this.frameSize,t=(this.frameGenId||0)+1;return this.frameGenId=t,{$comp:this,fgid:this.id+"-frame"+t,ui:this.ui,uiCls:this.uiCls,frameCls:this.frameCls,baseCls:this.baseCls,top:!!e.top,left:!!e.left,right:!!e.right,bottom:!!e.bottom,frameElCls:""}},updateFrame:function(){},getFrameInfo:function(){return!1},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(e){var t=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({role:"presentation",style:{position:"absolute",top:"-10000px"}},null,!0));return t.className=e,t},getFrameTpl:function(e){return this.getTpl(e?"frameTableTpl":"frameTpl")},frameInfoCache:{}}),Ext.define("Ext.state.Provider",{mixins:{observable:Ext.util.Observable},prefix:"ext-",constructor:function(e){e=e||{};Ext.apply(this,e),this.addEvents("statechange"),this.state={},this.mixins.observable.constructor.call(this)},get:function(e,t){return void 0===this.state[e]?t:this.state[e]},clear:function(e){delete this.state[e],this.fireEvent("statechange",this,e,null)},set:function(e,t){this.state[e]=t,this.fireEvent("statechange",this,e,t)},decodeValue:function(e){var t,i,n,r,s,o,a=/^(a|n|d|b|s|o|e)\:(.*)$/.exec(unescape(e));if(a&&a[1])switch(i=a[1],e=a[2],i){case"e":return null;case"n":return parseFloat(e);case"d":return new Date(Date.parse(e));case"b":return"1"==e;case"a":if(t=[],""!=e)for(s=(r=e.split("^")).length,o=0;o<s;o++)e=r[o],t.push(this.decodeValue(e));return t;case"o":if(t={},""!=e)for(s=(r=e.split("^")).length,o=0;o<s;o++)t[(n=(e=r[o]).split("="))[0]]=this.decodeValue(n[1]);return t;default:return e}},encodeValue:function(e){var t,i,n,r="",s=0;if(null==e)return"e:1";if("number"==typeof e)t="n:"+e;else if("boolean"==typeof e)t="b:"+(e?"1":"0");else if(Ext.isDate(e))t="d:"+e.toGMTString();else if(Ext.isArray(e)){for(i=e.length;s<i;s++)r+=this.encodeValue(e[s]),s!=i-1&&(r+="^");t="a:"+r}else if("object"==typeof e){for(n in e)"function"!=typeof e[n]&&void 0!==e[n]&&(r+=n+"="+this.encodeValue(e[n])+"^");t="o:"+r.substring(0,r.length-1)}else t="s:"+e;return escape(t)}}),Ext.define("Ext.state.Manager",{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(e){this.provider=e},get:function(e,t){return this.provider.get(e,t)},set:function(e,t){this.provider.set(e,t)},clear:function(e){this.provider.clear(e)},getProvider:function(){return this.provider}}),Ext.define("Ext.state.Stateful",{mixins:{observable:Ext.util.Observable},stateful:!1,saveDelay:100,constructor:function(e){var t=this;void 0!==(e=e||{}).stateful&&(t.stateful=e.stateful),void 0!==e.saveDelay&&(t.saveDelay=e.saveDelay),t.stateId=t.stateId||e.stateId,t.stateEvents||(t.stateEvents=[]),e.stateEvents&&t.stateEvents.concat(e.stateEvents),this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave"),t.mixins.observable.constructor.call(t),!1!==t.stateful&&(t.addStateEvents(t.stateEvents),t.initState())},addStateEvents:function(e){var t,i,n;if(this.stateful&&this.getStateId())for("string"==typeof e&&(e=Array.prototype.slice.call(arguments,0)),n=this.stateEventsByName||(this.stateEventsByName={}),t=e.length;t--;)n[i=e[t]]||(n[i]=1,this.on(i,this.onStateChange,this))},onStateChange:function(){var e,t,i=this.saveDelay;this.stateful&&(i?(this.stateTask||(t=(e=Ext.state.Stateful).runner||(e.runner=new Ext.util.TaskRunner),this.stateTask=t.newTask({run:this.saveState,scope:this,interval:i,repeat:1})),this.stateTask.start()):this.saveState())},saveState:function(){var e,t=this.stateful&&this.getStateId(),i=this.hasListeners;t&&(e=this.getState()||{},i.beforestatesave&&!1===this.fireEvent("beforestatesave",this,e)||(Ext.state.Manager.set(t,e),i.statesave&&this.fireEvent("statesave",this,e)))},getState:function(){return null},applyState:function(e){e&&Ext.apply(this,e)},getStateId:function(){return this.stateId||(this.autoGenId?null:this.id)},initState:function(){var e,t=this.stateful&&this.getStateId(),i=this.hasListeners;t&&(e=Ext.state.Manager.get(t))&&(e=Ext.apply({},e),i.beforestaterestore&&!1===this.fireEvent("beforestaterestore",this,e)||(this.applyState(e),i.staterestore&&this.fireEvent("staterestore",this,e)))},savePropToState:function(e,t,i){var n=this[e],r=this.initialConfig;return!(!this.hasOwnProperty(e)||r&&r[e]===n)&&(t&&(t[i||e]=n),!0)},savePropsToState:function(e,t){var i,n;if("string"==typeof e)this.savePropToState(e,t);else for(i=0,n=e.length;i<n;++i)this.savePropToState(e[i],t);return t},destroy:function(){var e=this.stateTask;e&&(e.destroy(),this.stateTask=null),this.clearListeners()}}),Ext.define("Ext.AbstractComponent",{mixins:{positionable:Ext.util.Positionable,observable:Ext.util.Observable,animate:Ext.util.Animate,elementCt:Ext.util.ElementContainer,renderable:Ext.util.Renderable,state:Ext.state.Stateful},statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(e,t){var i=this.runningLayoutContext||this.pendingLayouts;i&&i.cancelComponent(e,!1,t)},flushLayouts:function(){var t=this,e=t.pendingLayouts;e&&e.invalidQueue.length&&(t.pendingLayouts=null,t.runningLayoutContext=e,Ext.override(e,{runComplete:function(){t.runningLayoutContext=null;var e=this.callParent();return Ext.globalEvents.hasListeners.afterlayout&&Ext.globalEvents.fireEvent("afterlayout"),e}}),e.run())},resumeLayouts:function(e){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(e&&this.flushLayouts(),Ext.globalEvents.hasListeners.resumelayouts&&Ext.globalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(e,t){var i=this.runningLayoutContext;i?i.queueInvalidate(e):((this.pendingLayouts||(this.pendingLayouts=new Ext.layout.Context)).queueInvalidate(e),t||this.layoutSuspendCount||e.isLayoutSuspended()||this.flushLayouts())}},isComponent:!0,getAutoId:function(){return this.autoGenId=!0,++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:"{%this.renderContent(out,values)%}",frameSize:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:"display",autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:!0,_isLayoutRoot:!1,contentPaddingProperty:"padding",horizontalPosProp:"left",borderBoxCls:Ext.baseCSSPrefix+"border-box",rootCls:Ext.baseCSSPrefix+"body",constructor:function(e){var t,i,n,r=this;if(e?(Ext.apply(r,e),(n=r.xhooks)&&(delete r.xhooks,Ext.override(r,n))):e={},r.initialConfig=e,r.mixins.elementCt.constructor.call(r),r.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur"),r.getId(),r.setupProtoEl(),r.cls&&(r.initialCls=r.cls,r.protoEl.addCls(r.cls)),r.style&&(r.initialStyle=r.style,r.protoEl.setStyle(r.style)),r.renderData=r.renderData||{},r.renderSelectors=r.renderSelectors||{},r.plugins&&(r.plugins=r.constructPlugins()),r.hasListeners||(r.hasListeners=new r.HasListeners),r.initComponent(),Ext.ComponentManager.register(r),r.mixins.observable.constructor.call(r),r.mixins.state.constructor.call(r,e),this.addStateEvents("resize"),r.plugins)for(t=0,i=r.plugins.length;t<i;t++)r.plugins[t]=r.initPlugin(r.plugins[t]);r.loader=r.getLoader(),r.renderTo&&r.render(r.renderTo),r.autoShow&&!r.isContained&&r.show()},initComponent:function(){this.plugins&&!this.plugins.processed&&(this.plugins=this.constructPlugins()),this.setSize(this.width,this.height)},getState:function(){var e=null,t=this.getSizeModel();return t.width.configured&&(e=this.addPropertyToState(e,"width")),t.height.configured&&(e=this.addPropertyToState(e,"height")),e},addPropertyToState:function(e,t,i){var n=arguments.length;return 3!=n&&!this.hasOwnProperty(t)||(n<3&&(i=this[t]),i!==this.initialConfig[t]&&((e=e||{})[t]=i)),e},show:Ext.emptyFn,animate:function(e){var t,i,n,r,s,o,a,l,d,h,c,u,f,g,p,m,x=this;return s=(e=e||{}).to||{},Ext.fx.Manager.hasFxBlock(x.id)?x:((t=Ext.isDefined(s.width))&&(r=Ext.Number.constrain(s.width,x.minWidth,x.maxWidth)),(i=Ext.isDefined(s.height))&&(n=Ext.Number.constrain(s.height,x.minHeight,x.maxHeight)),e.dynamic||!t&&!i||(d=l=(e.from?e.from.width:void 0)||x.getWidth(),c=h=(e.from?e.from.height:void 0)||x.getHeight(),u=!1,i&&h<n&&(c=n,u=!0),t&&l<r&&(d=r,u=!0),(i||t)&&"hidden"!==(m=x.el.getStyle("overtflow"))&&x.el.setStyle("overflow","hidden"),u&&(o=!Ext.isNumber(x.width),a=!Ext.isNumber(x.height),x.setSize(d,c),x.el.setSize(l,h),o&&delete x.width,a&&delete x.height),t&&(s.width=r),i&&(s.height=n)),f=x.constrain,g=x.constrainHeader,(f||g)&&(x.constrain=x.constrainHeader=!1,p=e.callback,e.callback=function(){x.constrain=f,x.constrainHeader=g,p&&p.call(e.scope||x,arguments),"hidden"!==m&&x.el.setStyle("overflow",m)}),x.mixins.animate.animate.apply(x,arguments))},setHiddenState:function(e){var t=this.getHierarchyState();(this.hidden=e)?t.hidden=!0:delete t.hidden},onHide:function(){this.ownerLayout&&this.updateLayout({isRoot:!1})},onShow:function(){this.updateLayout({isRoot:!1})},constructPlugin:function(e){return e="string"==typeof e?Ext.PluginManager.create({},e,this):Ext.PluginManager.create(e,null,this)},constructPlugins:function(){var e,t,i,n=this.plugins;if(n)for((e=[]).processed=!0,Ext.isArray(n)||(n=[n]),t=0,i=n.length;t<i;t++)e[t]=this.constructPlugin(n[t]);return this.pluginsInitialized=!0,e},initPlugin:function(e){return e.init(this),e},addPlugin:function(e){return e=this.constructPlugin(e),this.plugins?this.plugins.push(e):this.plugins=[e],this.pluginsInitialized&&this.initPlugin(e),e},removePlugin:function(e){Ext.Array.remove(this.plugins,e),e.destroy()},findPlugin:function(e){var t,i=this.plugins,n=i&&i.length;for(t=0;t<n;t++)if(i[t].ptype===e)return i[t]},getPlugin:function(e){var t,i=this.plugins,n=i&&i.length;for(t=0;t<n;t++)if(i[t].pluginId===e)return i[t]},beforeLayout:Ext.emptyFn,registerFloatingItem:function(e){this.floatingDescendants||(this.floatingDescendants=new Ext.ZIndexManager(this)),this.floatingDescendants.register(e)},unregisterFloatingItem:function(e){this.floatingDescendants&&this.floatingDescendants.unregister(e)},layoutSuspendCount:0,suspendLayouts:function(){this.rendered&&1==++this.layoutSuspendCount&&(this.suspendLayout=!0)},resumeLayouts:function(e){this.rendered&&(--this.layoutSuspendCount||(this.suspendLayout=!1,e&&!this.isLayoutSuspended()&&this.updateLayout(e)))},setupProtoEl:function(){var e=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:e.join(" ")})},initCls:function(){var e=this,t=[e.baseCls,e.getComponentLayout().targetCls];return Ext.isDefined(e.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),e.componentCls=e.cmpCls,delete e.cmpCls),e.componentCls?t.push(e.componentCls):e.componentCls=e.baseCls,t},setUI:function(e){var t,i=this,n=i.uiCls,r=i.activeUI;e!==r&&(r?((t=i.removeClsWithUI(n,!0)).length&&i.removeCls(t),i.removeUIFromElement()):i.uiCls=[],i.ui=e,i.activeUI=e,i.addUIToElement(),(t=i.addClsWithUI(n,!0)).length&&i.addCls(t),i.rendered&&i.updateLayout())},addClsWithUI:function(e,t){var i,n,r=[],s=0,o=this.uiCls=Ext.Array.clone(this.uiCls),a=this.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),i=e.length;s<i;s++)(n=e[s])&&!this.hasUICls(n)&&(o.push(n),a&&(r=r.concat(this.addUIClsToElement(n))));return!0!==t&&a&&this.addCls(r),r},removeClsWithUI:function(e,t){var i,n,r=[],s=0,o=Ext.Array,a=o.remove,l=this.uiCls=o.clone(this.uiCls),d=this.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),i=e.length,s=0;s<i;s++)(n=e[s])&&this.hasUICls(n)&&(a(l,n),d&&(r=r.concat(this.removeUIClsFromElement(n))));return!0!==t&&d&&this.removeCls(r),r},hasUICls:function(e){var t=this.uiCls||[];return Ext.Array.contains(t,e)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(e){var t=this.baseCls+"-"+this.ui+"-"+e;return[Ext.baseCSSPrefix+e,this.baseCls+"-"+e,t]},removeUIClsFromElement:function(e){var t=this.baseCls+"-"+this.ui+"-"+e;return[Ext.baseCSSPrefix+e,this.baseCls+"-"+e,t]},addUIToElement:function(){var e=this.baseCls+"-"+this.ui;this.addCls(e)},removeUIFromElement:function(){var e=this.baseCls+"-"+this.ui;this.removeCls(e)},getTpl:function(e){return Ext.XTemplate.getTpl(this,e)},initStyles:function(e){var t,i,n=this,r=(Ext.Element,n.margin),s=n.border,o=n.cls,a=n.style,l=n.x,d=n.y;n.initPadding(e),null!=r&&e.setStyle("margin",this.unitizeBox(!0===r?5:r)),null!=s&&n.setBorder(s,e),o&&o!=n.initialCls&&(e.addCls(o),n.cls=n.initialCls=null),a&&a!=n.initialStyle&&(e.setStyle(a),n.style=n.initialStyle=null),null!=l&&e.setStyle(n.horizontalPosProp,"number"==typeof l?l+"px":l),null!=d&&e.setStyle("top","number"==typeof d?d+"px":d),n.ownerCt&&!n.floating||(Ext.scopeCss&&e.addCls(n.rootCls),Ext.isBorderBox&&e.addCls(n.borderBoxCls)),n.getFrameInfo()||(t=n.width,i=n.height,null!=t&&("number"==typeof t?Ext.isBorderBox&&e.setStyle("width",t+"px"):e.setStyle("width",t)),null!=i&&("number"==typeof i?Ext.isBorderBox&&e.setStyle("height",i+"px"):e.setStyle("height",i)))},initPadding:function(e){var t=this.padding;null!=t&&(this.layout&&this.layout.managePadding&&"padding"===this.contentPaddingProperty?e.setStyle("padding",0):e.setStyle("padding",this.unitizeBox(!0===t?5:t)))},parseBox:function(e){return Ext.dom.Element.parseBox(e)},unitizeBox:function(e){return Ext.dom.Element.unitizeBox(e)},setMargin:function(e,t){this.rendered?(e=e||0===e?(!0===e&&(e=5),this.unitizeBox(e)):"",this.getTargetEl().setStyle("margin",e),t||this.updateLayout()):this.margin=e},initEvents:function(){var e,t,i,n,r,s=this.afterRenderEvents;if(s)for(i in s)if((t=this[i])&&t.on)for(n=0,r=(e=s[i]).length;n<r;++n)this.mon(t,e[n]);this.addFocusListener()},addFocusListener:function(){var e,t=this.getFocusEl();if(t){if(t.isComponent)return t.addFocusListener();e=t.needsTabIndex(),this.focusListenerAdded||e&&!Ext.FocusManager.enabled||(e&&(t.dom.tabIndex=-1),t.on({focus:this.onFocus,blur:this.onBlur,scope:this}),this.focusListenerAdded=!0)}},getFocusEl:Ext.emptyFn,isFocusable:function(){var e;if(!1!==this.focusable&&(e=this.getFocusEl())&&this.rendered&&!this.destroying&&!this.isDestroyed&&!this.disabled&&this.isVisible(!0))return e.isFocusable(!0)},beforeFocus:Ext.emptyFn,onFocus:function(e){var t=this.focusCls,i=this.getFocusEl();this.disabled||(this.beforeFocus(e),t&&i&&i.addCls(this.addClsWithUI(t,!0)),this.hasFocus||(this.hasFocus=!0,this.fireEvent("focus",this,e)))},beforeBlur:Ext.emptyFn,onBlur:function(e){var t=this,i=t.focusCls,n=t.getFocusEl();t.destroying||(t.beforeBlur(e),i&&n&&n.removeCls(t.removeClsWithUI(i,!0)),t.validateOnBlur&&t.validate(),t.hasFocus=!1,t.fireEvent("blur",t,e),t.postBlur(e))},postBlur:Ext.emptyFn,is:function(e){return Ext.ComponentQuery.is(this,e)},up:function(e,t){var i=this.getRefOwner(),n="string"==typeof t,r="number"==typeof t,s=t&&t.isComponent,o=0;if(e)for(;i;i=i.getRefOwner()){if(o++,e.isComponent){if(i===e)return i}else if(Ext.ComponentQuery.is(i,e))return i;if(n&&i.is(t))return;if(r&&o===t)return;if(s&&i===t)return}return i},nextSibling:function(e){var t,i,n,r,s=this.ownerCt;if(s&&(n=(t=s.items).indexOf(this)+1))if(e){for(i=t.getCount();n<i;n++)if((r=t.getAt(n)).is(e))return r}else if(n<t.getCount())return t.getAt(n);return null},previousSibling:function(e){var t,i,n,r=this.ownerCt;if(r&&-1!=(i=(t=r.items).indexOf(this)))if(e){for(--i;0<=i;i--)if((n=t.getAt(i)).is(e))return n}else if(i)return t.getAt(--i);return null},previousNode:function(e,t){var i,n,r,s,o=this.ownerCt;if(t&&this.is(e))return this;if(o){for(n=o.items.items,r=Ext.Array.indexOf(n,this)-1;-1<r;r--){if((s=n[r]).query&&(i=(i=s.query(e))[i.length-1]))return i;if(s.is(e))return s}return o.previousNode(e,!0)}return null},nextNode:function(e,t){var i,n,r,s,o,a=this.ownerCt;if(t&&this.is(e))return this;if(a){for(n=a.items.items,s=Ext.Array.indexOf(n,this)+1,r=n.length;s<r;s++){if((o=n[s]).is(e))return o;if(o.down&&(i=o.down(e)))return i}return a.nextNode(e)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var e,t,i,n=null,r=this.autoScroll;return"boolean"==typeof r?(n={overflow:i=r?"auto":""},this.scrollFlags={overflowX:i,overflowY:i,x:r,y:r,both:r}):(e=this.overflowX,t=this.overflowY,void 0!==e||void 0!==t?(e&&!0===e&&(e="auto"),t&&!0===t&&(t="auto"),n={overflowX:e=e||"",overflowY:t=t||""},this.scrollFlags={overflowX:e,overflowY:t,x:e="auto"===e||"scroll"===e,y:t="auto"===t||"scroll"===t,both:e&&t}):this.scrollFlags={overflowX:"",overflowY:"",x:!1,y:!1,both:!1}),n},isXType:function(e,t){return t?this.xtype===e:this.xtypesMap[e]},getXTypes:function(){var e,t,i,n=this.self;if(!n.xtypes){for(e=[],t=this;t;)void 0!==(i=t.xtypes)&&e.unshift.apply(e,i),t=t.superclass;n.xtypeChain=e,n.xtypes=e.join("/")}return n.xtypes},update:function(e,t,i){var n,r=this,s=r.tpl&&!Ext.isString(e);s?r.data=e:r.html=Ext.isObject(e)?Ext.DomHelper.markup(e):e,r.rendered&&(n=r.isContainer?r.layout.getRenderTarget():r.getTargetEl(),s?r.tpl[r.tplWriteMode](n,e||{}):n.update(r.html,t,i),r.updateLayout())},setVisible:function(e){return this[e?"show":"hide"]()},isVisible:function(e){var t;return this.hidden||!this.rendered||this.isDestroyed?t=!0:e&&(t=this.isHierarchicallyHidden()),!t},isHierarchicallyHidden:function(){for(var e,t,i=this,n=!1;e=i.ownerCt||i.floatParent;i=e){if((t=e.getHierarchyState()).hidden){n=!0;break}if(!i.getHierarchyState().collapseImmune){n=!!t.collapsed;break}if(e.collapsed&&!i.collapseImmune){n=!0;break}}return n},onBoxReady:function(e,t){var i=this;i.disableOnBoxReady?i.onDisable():i.enableOnBoxReady&&i.onEnable(),i.resizable&&i.initResizable(i.resizable),i.draggable&&i.initDraggable(),i.hasListeners.boxready&&i.fireEvent("boxready",i,e,t)},enable:function(e){var t=this;return delete t.disableOnBoxReady,t.removeCls(t.disabledCls),t.rendered?t.onEnable():t.enableOnBoxReady=!0,t.disabled=!1,delete t.resetDisable,!0!==e&&t.fireEvent("enable",t),t},disable:function(e){var t=this;return delete t.enableOnBoxReady,t.addCls(t.disabledCls),t.rendered?t.onDisable():t.disableOnBoxReady=!0,(t.disabled=!0)!==e&&(delete t.resetDisable,t.fireEvent("disable",t)),t},onEnable:function(){this.maskOnDisable&&(this.el.dom.disabled=!1,this.unmask())},onDisable:function(){var e=this.focusCls,t=this.getFocusEl();e&&t&&t.removeCls(this.removeClsWithUI(e,!0)),this.maskOnDisable&&(this.el.dom.disabled=!0,this.mask())},mask:function(e,t,i){var n=this.lastBox,r=this.getMaskTarget();n&&(i=n.height),r.mask(e,t,i)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(e){return this[e?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(e){var t=this.rendered?this.el:this.protoEl;return t.addCls.apply(t,arguments),this},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(e){var t=this.rendered?this.el:this.protoEl;return t.hasCls.apply(t,arguments)},removeCls:function(e){var t=this.rendered?this.el:this.protoEl;return t.removeCls.apply(t,arguments),this},addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(e,t,i,n){var r,s,o=this;if(!Ext.isString(e)||!(Ext.isObject(t)||n&&n.element))return o.mixins.observable.addListener.apply(o,arguments);if(n.element)for(s in r=t,(t={})[e]=r,e=n.element,i&&(t.scope=i),n)n.hasOwnProperty(s)&&o.eventOptionsRe.test(s)&&(t[s]=n[s]);o[e]&&o[e].on?o.mon(o[e],t):(o.afterRenderEvents=o.afterRenderEvents||{},o.afterRenderEvents[e]||(o.afterRenderEvents[e]=[]),o.afterRenderEvents[e].push(t))},removeManagedListenerItem:function(e,t,i,n,r,s){var o=t.options?t.options.element:null;if(!o)return this.mixins.observable.removeManagedListenerItem.apply(this,arguments);(o=this[o])&&o.un&&(!e&&(t.item!==i||t.ename!==n||r&&t.fn!==r||s&&t.scope!==s)||(o.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(this.managedListeners,t)))},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(e,t){this.ownerCt=e,this.hierarchyState&&(this.hierarchyState.invalid=!0,delete this.hierarchyState),this.hasListeners.added&&this.fireEvent("added",this,e,t)},onRemoved:function(e){this.hasListeners.removed&&this.fireEvent("removed",this,this.ownerCt),delete this.ownerCt,delete this.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(e,t,i,n){this.floating&&this.constrain&&this.doConstrain(),this.hasListeners.resize&&this.fireEvent("resize",this,e,t,i,n)},setSize:function(e,t){var i=this;return e&&"object"==typeof e&&(t=e.height,e=e.width),"number"==typeof e?i.width=Ext.Number.constrain(e,i.minWidth,i.maxWidth):null===e&&delete i.width,"number"==typeof t?i.height=Ext.Number.constrain(t,i.minHeight,i.maxHeight):null===t&&delete i.height,i.rendered&&i.isVisible()&&i.updateLayout({isRoot:!1}),i},isLayoutRoot:function(){var e=this.ownerLayout;return!(e&&!this._isLayoutRoot&&!this.floating)||e.isItemLayoutRoot(this)},isLayoutSuspended:function(){for(var e,t=this;t;){if(t.layoutSuspendCount||t.suspendLayout)return!0;if(!(e=t.ownerLayout))break;t=e.owner}return!1},updateLayout:function(e){var t,i=this,n=i.lastBox,r=e&&e.isRoot;n&&(n.invalid=!0),!i.rendered||i.layoutSuspendCount||i.suspendLayout||(i.hidden?Ext.AbstractComponent.cancelLayout(i):"boolean"!=typeof r&&(r=i.isLayoutRoot()),!r&&i.ownerLayout&&i.ownerLayout.onContentChange(i)||i.isLayoutSuspended()||(t=e&&e.hasOwnProperty("defer")?e.defer:i.deferLayouts,Ext.AbstractComponent.updateLayout(i,t)))},getSizeModel:function(e){var t,i,n,r,s,o,a,l,d,h,c=this,u=Ext.layout.SizeModel,f=c.componentLayout.ownerContext,g=c.width,p=c.height;return f&&(h=f.widthModel,s=f.heightModel),h&&s||(n="number"==(t=typeof g),r="number"==(i=typeof p),(d=c.floating||!(o=c.ownerLayout))?(a=Ext.layout.Layout.prototype.autoSizePolicy,l=c.floating?3:c.shrinkWrap,n&&(h=u.configured),r&&(s=u.configured)):(a=o.getItemSizePolicy(c,e),l=o.isItemShrinkWrap(c)),f&&(f.ownerSizePolicy=a),l=!0===l?3:l||0,d&&l&&(g&&"string"==t&&(l&=2),p&&"string"==i&&(l&=1)),3!==l&&(e=e||c.ownerCt&&c.ownerCt.getSizeModel())&&(l|=(e.width.shrinkWrap?1:0)|(e.height.shrinkWrap?2:0)),h=h||(a.setsWidth?a.readsWidth?n?u.calculatedFromConfigured:1&l?u.calculatedFromShrinkWrap:u.calculatedFromNatural:u.calculated:n?u.configured:1&l?u.shrinkWrap:u.natural),s=s||(a.setsHeight?a.readsHeight?r?u.calculatedFromConfigured:2&l?u.calculatedFromShrinkWrap:u.calculatedFromNatural:u.calculated:r?u.configured:2&l?u.shrinkWrap:u.natural)),h.pairsByHeightOrdinal[s.ordinal]},isDescendant:function(e){if(e.isContainer)for(var t=this.ownerCt;t;t=t.ownerCt)if(t===e)return!0;return!1},doComponentLayout:function(){return this.updateLayout(),this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(e){var t=this.componentLayout;t&&t.isLayout&&t!=e&&t.setOwner(null),(this.componentLayout=e).setOwner(this)},getComponentLayout:function(){return this.componentLayout&&this.componentLayout.isLayout||this.setComponentLayout(Ext.layout.Layout.create(this.componentLayout,"autocomponent")),this.componentLayout},afterComponentLayout:function(e,t,i,n){1==++this.componentLayoutCounter&&this.afterFirstLayout(e,t),e===i&&t===n||this.onResize(e,t,i,n)},beforeComponentLayout:function(e,t){return!0},setPosition:function(e,t,i){var n=this,r=n.beforeSetPosition.apply(n,arguments);return r&&n.rendered&&(e=r.x,t=r.y,i?e===n.getLocalX()&&t===n.getLocalY()||(n.stopAnimation(),n.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(n.afterSetPosition,n,[e,t])},to:{left:e,top:t}},i))):(n.setLocalXY(e,t),n.afterSetPosition(e,t))),n},beforeSetPosition:function(e,t,i){var n,r;return e&&(Ext.isNumber(r=e[0])?(i=t,t=e[1],e=r):void 0!==(r=e.x)&&(i=t,t=e.y,e=r)),(this.constrain||this.constrainHeader)&&(n=this.calculateConstrainedPosition(null,[e,t],!0))&&(e=n[0],t=n[1]),(n={x:this.x=e,y:this.y=t,anim:i,hasX:void 0!==e,hasY:void 0!==t}).hasX||n.hasY?n:null},afterSetPosition:function(e,t){this.onPosition(e,t),this.hasListeners.move&&this.fireEvent("move",this,e,t)},onPosition:Ext.emptyFn,setWidth:function(e){return this.setSize(e)},setHeight:function(e){return this.setSize(void 0,e)},getSize:function(e){return this.el.getSize(e)},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var e=this.autoLoad?Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad}:null,t=this.loader||e;return t?(t.isLoader?t.setTarget(this):this.loader=new Ext.ComponentLoader(Ext.apply({target:this,autoLoad:e},t)),this.loader):null},setDocked:function(e,t){return this.dock=e,t&&this.ownerCt&&this.rendered&&this.ownerCt.updateLayout(),this},setBorder:function(e,t){var i=!!t;(this.rendered||i)&&(i||(t=this.el),e=e?!0===e?"1px":this.unitizeBox(e):0,t.setStyle("border-width",e),i||this.updateLayout()),this.border=e},onDestroy:function(){this.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(this.setSize,this),Ext.destroy(this.componentLayout,this.loadMask,this.floatingDescendants)},destroy:function(){var e,t,i=this,n=i.renderSelectors;if(!(i.isDestroyed||i.hasListeners.beforedestroy&&!1===i.fireEvent("beforedestroy",i))){if(i.destroying=!0,i.beforeDestroy(),i.floating?(delete i.floatParent,i.zIndexManager&&i.zIndexManager.unregister(i)):i.ownerCt&&i.ownerCt.remove&&i.ownerCt.remove(i,!1),i.stopAnimation(),i.onDestroy(),Ext.destroy(i.plugins),i.hasListeners.destroy&&i.fireEvent("destroy",i),Ext.ComponentManager.unregister(i),i.mixins.state.destroy.call(i),i.clearListeners(),i.rendered){if(i.preserveElOnDestroy||i.el.remove(),i.mixins.elementCt.destroy.call(i),n)for(e in n)n.hasOwnProperty(e)&&(t=i[e])&&(delete i[e],t.remove());delete i.el,delete i.frameBody,delete i.rendered}i.destroying=!1,i.isDestroyed=!0}},isDescendantOf:function(t){return!!this.findParentBy(function(e){return e===t})},getHierarchyState:function(e){var t,i,n,r,s=this,o=e&&s.hierarchyStateInner||s.hierarchyState,a=s.ownerCt;return o&&!o.invalid||(t=s.getRefOwner(),a&&(r=s.ownerLayout===a.layout),s.hierarchyState=o=Ext.Object.chain(t?t.getHierarchyState(r):Ext.rootHierarchyState),s.initHierarchyState(o),(i=s.componentLayout).initHierarchyState&&i.initHierarchyState(o),s.isContainer&&(s.hierarchyStateInner=n=Ext.Object.chain(o),(i=s.layout)&&i.initHierarchyState&&i.initHierarchyState(n,o),e&&(o=n))),o},initHierarchyState:function(e){this.collapsed&&(e.collapsed=!0),this.hidden&&(e.hidden=!0),this.collapseImmune&&(e.collapseImmune=!0)},getAnchorToXY:function(e,t,i,n){return e.getAnchorXY(t,i,n)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(e){this.el.setLocalX(e)},setLocalXY:function(e,t){this.el.setLocalXY(e,t)},setLocalY:function(e){this.el.setLocalY(e)},setX:function(e,t){this.el.setX(e,t)},setXY:function(e,t){this.el.setXY(e,t)},setY:function(e,t){this.el.setY(e,t)}},function(){var i=this;i.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(e){i.resumeLayouts(e)},Ext.suspendLayouts=function(){i.suspendLayouts()},Ext.batchLayouts=function(e,t){i.suspendLayouts(),e.call(t),i.resumeLayouts(!0)}}),Ext.define("Ext.AbstractPlugin",{disabled:!1,isPlugin:!0,constructor:function(e){this.pluginConfig=e,Ext.apply(this,e)},clonePlugin:function(e){return new this.self(Ext.apply({},e,this.pluginConfig))},setCmp:function(e){this.cmp=e},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},onClassExtended:function(e,t,i){var n=t.alias;n&&!t.ptype&&(Ext.isArray(n)&&(n=n[0]),e.prototype.ptype=n.split("plugin.")[1])}}),Ext.define("Ext.Action",{constructor:function(e){this.initialConfig=e,this.itemId=e.itemId=e.itemId||e.id||Ext.id(),this.items=[]},isAction:!0,setText:function(e){this.initialConfig.text=e,this.callEach("setText",[e])},getText:function(){return this.initialConfig.text},setIconCls:function(e){this.initialConfig.iconCls=e,this.callEach("setIconCls",[e])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(e){this.initialConfig.disabled=e,this.callEach("setDisabled",[e])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(e){this.initialConfig.hidden=e,this.callEach("setVisible",[!e])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(e,t){this.initialConfig.handler=e,this.initialConfig.scope=t,this.callEach("setHandler",[e,t])},each:function(e,t){Ext.each(this.items,e,t)},callEach:function(e,t){var i,n=this.items,r=0,s=n.length;for(Ext.suspendLayouts();r<s;r++)(i=n[r])[e].apply(i,t);Ext.resumeLayouts(!0)},addComponent:function(e){this.items.push(e),e.on("destroy",this.removeComponent,this)},removeComponent:function(e){Ext.Array.remove(this.items,e)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}}),Ext.define("Ext.data.Connection",{mixins:{observable:Ext.util.Observable},statics:{requestId:0},url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",constructor:function(e){e=e||{},Ext.apply(this,e),this.requests={},this.mixins.observable.constructor.call(this)},request:function(e){var t,i,n,r,s,o=this,a=(e=e||{}).scope||window,l=e.username||o.username,d=e.password||o.password||"";return!1!==o.fireEvent("beforerequest",o,e)?(i=o.setOptions(e,a),o.isFormUpload(e)?(o.upload(e.form,i.url,i.data,e),null):((e.autoAbort||o.autoAbort)&&o.abort(),t=!1!==e.async&&(e.async||o.async),s=o.openRequest(e,i,t,l,d),o.isXdr||(r=o.setupHeaders(s,e,i.data,i.params)),n={id:++Ext.data.Connection.requestId,xhr:s,headers:r,options:e,async:t,binary:e.binary||o.binary,timeout:setTimeout(function(){n.timedout=!0,o.abort(n)},e.timeout||o.timeout)},o.requests[n.id]=n,o.latestId=n.id,t&&(o.isXdr||(s.onreadystatechange=Ext.Function.bind(o.onStateChange,o,[n]))),o.isXdr&&o.processXdrRequest(n,s),s.send(i.data),t?n:o.onComplete(n))):(Ext.callback(e.callback,e.scope,[e,void 0,void 0]),null)},processXdrRequest:function(e,t){delete e.headers,e.contentType=e.options.contentType||this.defaultXdrContentType,t.onload=Ext.Function.bind(this.onStateChange,this,[e,!0]),t.onerror=t.ontimeout=Ext.Function.bind(this.onStateChange,this,[e,!1])},processXdrResponse:function(e,t){e.getAllResponseHeaders=function(){return[]},e.getResponseHeader=function(){return""},e.contentType=t.contentType||this.defaultXdrContentType},upload:function(i,e,t,n){i=Ext.getDom(i),n=n||{};function r(e,t){s=document.createElement("input"),Ext.fly(s).set({type:"hidden",value:t,name:e}),i.appendChild(s),p.push(s)}var s,o,a,l,d,h,c,u,f=Ext.id(),g=document.createElement("iframe"),p=[],m="multipart/form-data",x={target:i.target,method:i.method,encoding:i.encoding,enctype:i.enctype,action:i.action};if(Ext.fly(g).set({id:f,name:f,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL}),document.body.appendChild(g),document.frames&&(document.frames[f].name=f),Ext.fly(i).set({target:f,method:"POST",enctype:m,encoding:m,action:e||x.action}),t)for(l in o=Ext.Object.fromQueryString(t)||{})if(o.hasOwnProperty(l))if(a=o[l],Ext.isArray(a))for(d=a.length,h=0;h<d;h++)r(l,a[h]);else r(l,a);for(Ext.fly(g).on("load",Ext.Function.bind(this.onUploadComplete,this,[g,n]),null,{single:!Ext.isOpera}),i.submit(),Ext.fly(i).set(x),c=p.length,u=0;u<c;u++)Ext.removeNode(p[u])},onUploadComplete:function(e,t){var i,n,r,s,o={responseText:"",responseXML:null};try{if(r=e.contentWindow.document||e.contentDocument||window.frames[e.id].document){if(Ext.isOpera&&"about:blank"==r.location)return;r.body&&((s=r.body.firstChild)&&/pre/i.test(s.tagName)?o.responseText=s.textContent:(s=r.getElementsByTagName("textarea")[0])?o.responseText=s.value:o.responseText=r.body.textContent||r.body.innerText),o.responseXML=r.XMLDocument||r,i=t.success,n=!0}}catch(e){o.responseText='{success:false,message:"'+Ext.String.trim(e.message||e.description)+'"}',i=t.failure,n=!1}this.fireEvent("requestcomplete",this,o,t),Ext.callback(i,t.scope,[o,t]),Ext.callback(t.callback,t.scope,[t,n,o]),setTimeout(function(){Ext.removeNode(e)},100)},isFormUpload:function(e){var t=this.getForm(e);return!!t&&(e.isUpload||/multipart\/form-data/i.test(t.getAttribute("enctype")))},getForm:function(e){return Ext.getDom(e.form)||null},setOptions:function(e,t){var i,n,r,s=e.params||{},o=this.extraParams,a=e.urlParams,l=e.url||this.url,d=e.jsonData;return Ext.isFunction(s)&&(s=s.call(t,e)),Ext.isFunction(l)&&(l=l.call(t,e)),l=this.setupUrl(e,l),r=e.rawData||e.binaryData||e.xmlData||d||null,d&&!Ext.isPrimitive(d)&&(r=Ext.encode(r)),e.binaryData&&this.nativeBinaryPostSupport()&&(r=new Uint8Array(e.binaryData),(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)&&(r=r.buffer)),Ext.isObject(s)&&(s=Ext.Object.toQueryString(s)),Ext.isObject(o)&&(o=Ext.Object.toQueryString(o)),s+=o?(s?"&":"")+o:"",a=Ext.isObject(a)?Ext.Object.toQueryString(a):a,s=this.setupParams(e,s),i=(e.method||this.method||(s||r?"POST":"GET")).toUpperCase(),this.setupMethod(e,i),n=!1!==e.disableCaching&&(e.disableCaching||this.disableCaching),"GET"===i&&n&&(l=Ext.urlAppend(l,(e.disableCachingParam||this.disableCachingParam)+"="+(new Date).getTime())),("GET"==i||r)&&s&&(l=Ext.urlAppend(l,s),s=null),a&&(l=Ext.urlAppend(l,a)),{url:l,method:i,data:r||s||null}},setupUrl:function(e,t){var i=this.getForm(e);return i&&(t=t||i.action),t},setupParams:function(e,t){var i,n=this.getForm(e);return n&&!this.isFormUpload(e)&&(i=Ext.Element.serializeForm(n),t=t?t+"&"+i:i),t},setupMethod:function(e,t){return this.isFormUpload(e)?"POST":t},setupHeaders:function(e,t,i,n){var r,s,o=this,a=Ext.apply({},t.headers||{},o.defaultHeaders||{}),l=o.defaultPostHeader,d=t.jsonData,h=t.xmlData,c="Content-Type";a.hasOwnProperty(c)||!i&&!n||(i&&(t.rawData?l="text/plain":h&&Ext.isDefined(h)?l="text/xml":d&&Ext.isDefined(d)&&(l="application/json")),a[c]=l),o.useDefaultXhrHeader&&!a["X-Requested-With"]&&(a["X-Requested-With"]=o.defaultXhrHeader),void 0!==a[c]&&null!==a[c]||delete a[c];try{for(r in a)a.hasOwnProperty(r)&&(s=a[r],e.setRequestHeader(r,s))}catch(e){o.fireEvent("exception",r,s)}return a},newRequest:function(e){return e.binaryData?this.nativeBinaryPostSupport()?this.getXhrInstance():new Ext.data.flash.BinaryXhr:this.getXhrInstance()},openRequest:function(e,t,i,n,r){var s=this.newRequest(e);return n?s.open(t.method,t.url,i,n,r):this.isXdr?s.open(t.method,t.url):s.open(t.method,t.url,i),(e.binary||this.binary)&&(window.Uint8Array?s.responseType="arraybuffer":s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined")),(e.withCredentials||this.withCredentials)&&(s.withCredentials=!0),s},getXdrInstance:function(){var e;return 8<=Ext.ieVersion?e=new XDomainRequest:Ext.Error.raise({msg:"Your browser does not support CORS"}),e},getXhrInstance:function(){for(var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],i=0,n=t.length;i<n;++i)try{(e=t[i])();break}catch(e){}return e}(),isLoading:function(e){if(!(e=e||this.getLatest())||!e.xhr)return!1;var t=e.xhr.readyState;return e.xhr instanceof Ext.data.flash.BinaryXhr&&4!=t||!(0===t||4==t)},abort:function(e){var t;if((e=e||this.getLatest())&&this.isLoading(e)){t=e.xhr;try{t.onreadystatechange=null}catch(e){t.onreadystatechange=Ext.emptyFn}t.abort(),this.clearTimeout(e),e.timedout||(e.aborted=!0),this.onComplete(e),this.cleanup(e)}},abortAll:function(){var e,t=this.requests;for(e in t)t.hasOwnProperty(e)&&this.abort(t[e])},getLatest:function(){var e,t=this.latestId;return t&&(e=this.requests[t]),e||null},onStateChange:function(e,t){(e.xhr&&4==e.xhr.readyState||this.isXdr)&&(this.clearTimeout(e),this.onComplete(e,t),this.cleanup(e),Ext.EventManager.idleEvent.fire())},clearTimeout:function(e){clearTimeout(e.timeout),delete e.timeout},cleanup:function(e){e.xhr=null,delete e.xhr},onComplete:function(e,t){var i,n,r,s,o=this,a=e.options;try{i=e.xhr,(n=o.parseStatus(i.status)).success&&(n.success=4===i.readyState)}catch(e){n={success:!1,isException:!1}}return(r=o.isXdr?t:n.success)?(s=o.createResponse(e),o.fireEvent("requestcomplete",o,s,a),Ext.callback(a.success,a.scope,[s,a])):(s=n.isException||e.aborted||e.timedout?o.createException(e):o.createResponse(e),o.fireEvent("requestexception",o,s,a),Ext.callback(a.failure,a.scope,[s,a])),Ext.callback(a.callback,a.scope,[a,r,s]),delete o.requests[e.id],s},parseStatus:function(e){var t=200<=(e=1223==e?204:e)&&e<300||304==e,i=!1;if(!t)switch(e){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:i=!0}return{success:t,isException:i}},createResponse:function(e){for(var t,i,n,r,s=e.xhr,o=this.isXdr,a={},l=o?[]:s.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),d=l.length;d--;)0<=(i=(t=l[d]).indexOf(":"))&&(n=t.substr(0,i).toLowerCase()," "==t.charAt(i+1)&&++i,a[n]=t.substr(i+1));return e.xhr=null,delete e.xhr,r={request:e,requestId:e.id,status:s.status,statusText:s.statusText,getResponseHeader:function(e){return a[e.toLowerCase()]},getAllResponseHeaders:function(){return a}},o&&this.processXdrResponse(r,s),e.binary?r.responseBytes=this.getByteArray(s):(r.responseText=s.responseText,r.responseXML=s.responseXML),s=null,r},createException:function(e){return{request:e,requestId:e.id,status:e.aborted?-1:0,statusText:e.aborted?"transaction aborted":"communication failure",aborted:e.aborted,timedout:e.timedout}},getByteArray:function(e){var t,i=e.response;e.responseBody;return e instanceof Ext.data.flash.BinaryXhr?t=e.responseBytes:window.Uint8Array&&(t=i?new Uint8Array(i):[]),t},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}}),Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:!0,autoAbort:!1}),Ext.define("Ext.util.Floating",{focusOnToFront:!0,shadow:"sides",constrain:!1,constructor:function(e){var t=this;t.fixed=t.fixed&&!(Ext.isIE6||Ext.isIEQuirks),t.el=new Ext.dom.Layer(Ext.apply({preventSync:!0,hideMode:t.hideMode,shadow:void 0!==t.shadow?t.shadow:"sides",shadowOffset:t.shadowOffset,constrain:!1,fixed:t.fixed,shim:!1!==t.shim&&void 0},t.floating),e),!t.modal||Ext.FocusManager&&Ext.FocusManager.enabled||t.mon(t.el,{keydown:t.onKeyDown,scope:t}),t.mon(t.el,{mousedown:t.onMouseDown,scope:t}),t.floating=!0,t.registerWithOwnerCt(),t.initHierarchyEvents()},initHierarchyEvents:function(){var e=this.syncHidden;this.hasHierarchyEventListeners||(this.mon(this.hierarchyEventSource,{hide:e,collapse:e,show:e,expand:e,added:e,scope:this}),this.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var e=this.ownerCt,t=this.zIndexParent;t&&t.unregisterFloatingItem(this),t=this.zIndexParent=this.up("[floating]"),this.setFloatParent(e||t),delete this.ownerCt,t?t.registerFloatingItem(this):Ext.WindowManager.register(this)},onKeyDown:function(e){var t,i,n,r;e.getKey()==Ext.EventObject.TAB&&(t=e.shiftKey,n=(i=this.el.query(":focusable"))[0],r=i[i.length-1],n&&r&&e.target===(t?n:r)&&(e.stopEvent(),(t?r:n).focus()))},onMouseDown:function(e){var t=this.focusTask;!this.floating||t&&t.id||this.toFront(!!e.getTarget(":focusable"))},setFloatParent:function(e){this.floatParent=e,!this.constrain&&!this.constrainHeader||this.constrainTo||(this.constrainTo=e?e.getTargetEl():this.container)},syncShadow:function(){this.floating&&this.el.sync(!0)},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){delete this.el.preventSync,this.syncShadow()},syncHidden:function(){var e=this,t=e.hidden||!e.rendered,i=e.hierarchicallyHidden=e.isHierarchicallyHidden(),n=e.pendingShow;t!==i&&(i?(e.hide(),e.pendingShow=!0):n&&(delete e.pendingShow,n.length?e.show.apply(e,n):e.show()))},setZIndex:function(e){return this.el.setZIndex(e),e+=10,this.floatingDescendants&&(e=100*Math.floor(this.floatingDescendants.setBase(e)/100)+1e4),e},doConstrain:function(e){var t=this.calculateConstrainedPosition(e,null,!0);t&&this.setPosition(t)},toFront:function(e){var t=this,i=t.zIndexParent,n=t.preventFocusOnActivate;return i&&!1!==t.bringParentToFront&&i.toFront(!0),Ext.isDefined(e)||(e=!t.focusOnToFront),e&&(t.preventFocusOnActivate=!0),t.zIndexManager.bringToFront(t,e)&&(e||t.focus(!1,!0)),t.preventFocusOnActivate=n,t},setActive:function(e,t){var i=this;e?(i.el.shadow&&!i.maximized&&i.el.enableShadow(!0),i.preventFocusOnActivate||i.focus(!1,!0),i.fireEvent("activate",i)):(i.isWindow&&t&&t.isWindow&&i.hideShadowOnDeactivate&&i.el.disableShadow(),i.fireEvent("deactivate",i))},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var e;return this.isVisible()?(e=this.getAlignToXY(this.container,"c-c"),this.setPagePosition(e)):this.needsCenter=!0,this},onFloatShow:function(){this.needsCenter&&this.center(),delete this.needsCenter,this.toFrontOnShow&&this.toFront()},fitContainer:function(e){var t=this.floatParent,i=t?t.getTargetEl():this.container,n=i.getViewSize(!1),r=t||i.dom!==document.body?[0,0]:i.getXY();n.x=r[0],n.y=r[1],this.setBox(n,e)}}),Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:Ext.AbstractComponent,mixins:{floating:Ext.util.Floating},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:!1,defaultAlign:"tl-bl?",toFrontOnShow:!0,hideMode:"display",offsetsCls:Ext.baseCSSPrefix+"hide-offsets",bubbleEvents:[],defaultComponentLayoutType:"autocomponent",constructor:function(e){(e=e||{}).initialConfig?(e.isAction&&(this.baseAction=e),e=e.initialConfig):(e.tagName||e.dom||Ext.isString(e))&&(e={applyTo:e,id:e.id||e}),this.callParent([e]),this.baseAction&&this.baseAction.addComponent(this)},initComponent:function(){this.callParent(),this.listeners&&(this.on(this.listeners),this.listeners=null),this.enableBubble(this.bubbleEvents)},afterRender:function(){this.callParent(),this.x&&this.y||!this.pageX&&!this.pageY||this.setPagePosition(this.pageX,this.pageY)},setAutoScroll:function(e){return this.autoScroll=!!e,this.rendered&&this.getOverflowEl().setStyle(this.getOverflowStyle()),this.updateLayout(),this},setOverflowXY:function(e,t){var i=arguments.length;return i&&(this.overflowX=e||"",1<i&&(this.overflowY=t||"")),this.rendered&&this.getOverflowEl().setStyle(this.getOverflowStyle()),this.updateLayout(),this},beforeRender:function(){var e,t=this.floating;return t&&(this.addCls(Ext.baseCSSPrefix+"layer"),(e=t.cls)&&this.addCls(e)),this.callParent()},beforeLayout:function(){this.callParent(arguments),this.floating&&this.onBeforeFloatLayout()},afterComponentLayout:function(){this.callParent(arguments),this.floating&&this.onAfterFloatLayout()},makeFloating:function(e){this.mixins.floating.constructor.call(this,e)},wrapPrimaryEl:function(e){this.floating?this.makeFloating(e):this.callParent(arguments)},initResizable:function(e){((e=Ext.apply({target:this,dynamic:!1,constrainTo:this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():null),handles:this.resizeHandles},e)).target=this).resizer=new Ext.resizer.Resizer(e)},getDragEl:function(){return this.el},initDraggable:function(){var e=this,t=e.resizer&&e.resizer.el!==e.el?e.resizerComponent=new Ext.Component({ariaRole:"presentation",el:e.resizer.el,rendered:!0,container:e.container}):e,i=Ext.applyIf({el:t.getDragEl(),constrainTo:e.constrain||e.draggable.constrain?e.constrainTo||(e.floatParent?e.floatParent.getTargetEl():e.container):void 0},e.draggable);(e.constrain||e.constrainDelegate)&&(i.constrain=e.constrain,i.constrainDelegate=e.constrainDelegate),e.dd=new Ext.util.ComponentDragger(t,i)},scrollBy:function(e,t,i){var n;(n=this.getTargetEl())&&n.dom&&n.scrollBy.apply(n,arguments)},setLoading:function(e,t){var i={target:this};return this.rendered&&(Ext.destroy(this.loadMask),this.loadMask=null,!1===e||this.collapsed||(Ext.isObject(e)?Ext.apply(i,e):Ext.isString(e)&&(i.msg=e),t&&Ext.applyIf(i,{useTargetEl:!0}),this.loadMask=new Ext.LoadMask(i),this.loadMask.show())),this.loadMask},beforeSetPosition:function(){var e,t=this.callParent(arguments);return t&&(e=this.adjustPosition(t.x,t.y),t.x=e.x,t.y=e.y),t||null},afterSetPosition:function(e,t){this.onPosition(e,t),this.fireEvent("move",this,e,t)},showAt:function(e,t,i){var n=this;if(!n.rendered&&(n.autoRender||n.floating))return n.x=e,n.y=t,n.show();n.floating?n.setPosition(e,t,i):n.setPagePosition(e,t,i),n.show()},showBy:function(e,t,i){return this.floating&&e&&(this.show(),this.rendered&&!this.hidden&&this.alignTo(e,t||this.defaultAlign,i)),this},setPagePosition:function(e,t,i){var n,r,s=this;return Ext.isArray(e)&&(t=e[1],e=e[0]),s.pageX=e,s.pageY=t,s.floating?(s.isContainedFloater()?(r=s.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(e)&&Ext.isNumber(r.left)&&(e-=r.left),Ext.isNumber(t)&&Ext.isNumber(r.top)&&(t-=r.top)):(e=(n=s.el.translateXY(e,t)).x,t=n.y),s.setPosition(e,t,i)):(n=s.el.translateXY(e,t),s.setPosition(n.x,n.y,i)),s},isContainedFloater:function(){return this.floating&&this.floatParent},updateBox:function(e){return this.setSize(e.width,e.height),this.setPagePosition(e.x,e.y),this},getOuterSize:function(){var e=this.el;return{width:e.getWidth()+e.getMargin("lr"),height:e.getHeight()+e.getMargin("tb")}},adjustPosition:function(e,t){var i;return this.isContainedFloater()&&(e+=(i=this.floatParent.getTargetEl().getViewRegion()).left,t+=i.top),{x:e,y:t}},getPosition:function(e){var t,i,n=this.isContainedFloater();return!0!==e||n?(t=this.getXY(),!0===e&&n&&(i=this.floatParent.getTargetEl().getViewRegion(),t[0]-=i.left,t[1]-=i.top),t):[this.getLocalX(),this.getLocalY()]},getId:function(){var e;return this.id||(e=(e=this.getXType())?e.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",this.id=e+"-"+this.getAutoId()),this.id},show:function(e,t,i){var n=this,r=n.rendered;return n.hierarchicallyHidden||n.floating&&!r&&n.isHierarchicallyHidden()?(r||n.initHierarchyEvents(),n.pendingShow=!(1<arguments.length)||(e=null,arguments)):r&&n.isVisible()?n.floating&&n.onFloatShow():!1!==n.fireEvent("beforeshow",n)?(n.hidden=!1,delete this.getHierarchyState().hidden,Ext.suspendLayouts(),r||!n.autoRender&&!n.floating||(n.doAutoRender(),r=n.rendered),r?(n.beforeShow(),Ext.resumeLayouts(),n.onShow.apply(n,arguments),n.afterShow.apply(n,arguments)):Ext.resumeLayouts(!0)):n.onShowVeto(),n},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){this.el.show(),this.callParent(arguments),this.floating&&(this.maximized?this.fitContainer():this.constrain&&this.doConstrain())},getAnimateTarget:function(e){return(e=(e=e||this.animateTarget)&&(e.isComponent?e.getEl():Ext.get(e)))||null},afterShow:function(e,t,i){var n,r,s,o=this,a=o.el;e=o.getAnimateTarget(e),o.ghost||(e=null),e?(r={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight},n={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},a.addCls(o.offsetsCls),(s=o.ghost()).el.stopAnimation(),s.setX(-1e4),o.ghostBox=r,s.el.animate({from:n,to:r,listeners:{afteranimate:function(){delete s.componentLayout.lastComponentSize,o.unghost(),delete o.ghostBox,a.removeCls(o.offsetsCls),o.onShowComplete(t,i)}}})):o.onShowComplete(t,i),o.fireHierarchyEvent("show")},onShowComplete:function(e,t){this.floating&&this.onFloatShow(),Ext.callback(e,t||this),this.fireEvent("show",this),delete this.hiddenByLayout},hide:function(e,t,i){var n,r=this;return r.pendingShow&&delete r.pendingShow,r.rendered&&!r.isVisible()||(n=!1!==r.fireEvent("beforehide",r),(r.hierarchicallyHidden||n)&&(r.hidden=!0,r.getHierarchyState().hidden=!0,r.rendered&&r.onHide.apply(r,arguments))),r},onHide:function(e,t,i){var n,r,s,o=this,a=Ext.Element.getActiveElement();a!==o.el&&!o.el.contains(a)||Ext.fly(a).blur(),e=o.getAnimateTarget(e),o.ghost||(e=null),e&&(s={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},(n=o.ghost()).el.stopAnimation(),r=o.getSize(),n.el.animate({to:s,listeners:{afteranimate:function(){delete n.componentLayout.lastComponentSize,n.el.hide(),n.setHiddenState(!0),n.el.setSize(r),o.afterHide(t,i)}}})),o.el.hide(),e||o.afterHide(t,i)},afterHide:function(e,t){this.hiddenByLayout=null,Ext.AbstractComponent.prototype.onHide.call(this),Ext.callback(e,t||this),this.fireEvent("hide",this),this.fireHierarchyEvent("hide")},onDestroy:function(){this.rendered&&Ext.destroy(this.dd,this.resizer,this.proxy,this.proxyWrap,this.resizerComponent),delete this.focusTask,this.callParent()},deleteMembers:function(){for(var e=arguments,t=e.length,i=0;i<t;++i)delete this[e[i]]},focus:function(e,t,i,n){var r,s,o,a=this;if(t)return a.getFocusTask().delay(Ext.isNumber(t)?t:10,a.focus,a,[e,!1,i,n]),a;if(a.focusTask&&a.focusTask.cancel(),a.rendered&&!a.isDestroyed&&a.isVisible(!0)&&(r=a.getFocusEl())){if(r.isComponent)return r.focus(e,t);(s=r.dom)&&(r.needsTabIndex()&&(s.tabIndex=-1),a.floating&&(o=a.container.dom.scrollTop),r.focus(),e&&(Ext.isArray(e)?a.selectText&&a.selectText.apply(a,e):s.select()),Ext.callback(i,n)),a.floating&&(a!==a.zIndexManager.getActive()&&a.toFront(!0),void 0!==o&&(a.container.dom.scrollTop=o))}return a},getFocusTask:function(){return this.focusTask||(Ext.Component.prototype.focusTask=new Ext.util.DelayedTask),this.focusTask},cancelFocus:function(){var e=this.focusTask;e&&e.cancel()},blur:function(){var e;return this.rendered&&(e=this.getFocusEl())&&(this.blurring=!0,e.blur(),delete this.blurring),this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},getRefOwner:function(){return this.ownerCt||this.floatParent},getBubbleTarget:function(){return this.getRefOwner()},getContentTarget:function(){return this.el},cloneConfig:function(e){var t=(e=e||{}).id||Ext.id(),i=Ext.applyIf(e,this.initialConfig);return i.id=t,new(Ext.getClass(this))(i)},getXType:function(){return this.self.xtype},findParentBy:function(e){var t;for(t=this.getBubbleTarget();t&&!e(t,this);t=t.getBubbleTarget());return t||null},findParentByType:function(t){return Ext.isFunction(t)?this.findParentBy(function(e){return e.constructor===t}):this.up(t)},bubble:function(e,t,i){for(var n=this;n&&!1!==e.apply(t||n,i||[n]);)n=n.getBubbleTarget();return this},getProxy:function(){var e;return this.proxy||(e=Ext.getBody(),this.proxy=this.el.createProxy(Ext.baseCSSPrefix+"proxy-el",e,!0)),this.proxy},fireHierarchyEvent:function(e){this.hierarchyEventSource.fireEvent(e,this)},onAdded:function(){this.callParent(arguments),this.hierarchyEventSource.hasListeners.added&&this.fireHierarchyEvent("added")}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:!0,show:!0,collapse:!0,expand:!0,added:!0}})}),Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var t=this;t._borderRegionInited||(t._borderRegionInited=!0,t.addStateEvents(["changeregion","changeweight"]),Ext.override(t,{getState:function(){var e=t.callParent();return e=t.addPropertyToState(e,"region"),e=t.addPropertyToState(e,"weight")}}))},getOwningBorderContainer:function(){var e=this.getOwningBorderLayout();return e&&e.owner},getOwningBorderLayout:function(){var e=this.ownerLayout;return e&&e.isBorderLayout?e:null},setBorderRegion:function(e){var t,i=this,n=i.region;if(e!==n)if(t=i.getOwningBorderLayout()){var r,s,o,a=t.regionFlags[e],l=i.placeholder,d=i.splitter,h=t.owner,c=t.regionMeta,u=i.collapsed||i.floated;if(!1===i.fireEventArgs("beforechangeregion",[i,e]))return n;Ext.suspendLayouts(),i.region=e,Ext.apply(i,a),i.updateCollapseTool&&i.updateCollapseTool(),d&&(Ext.apply(d,a),d.updateOrientation(),0<=(o=(s=h.items).indexOf(i))&&(r=c[e].splitterDelta,s.getAt(o+r)!==d&&(s.remove(d),o=s.indexOf(i),0<r&&++o,s.insert(o,d)))),l&&(u&&i.expand(!1),h.remove(l),i.placeholder=null,u&&i.collapse(null,!1)),h.updateLayout(),Ext.resumeLayouts(!0),i.fireEventArgs("changeregion",[i,n])}else i.region=e;return n},setRegionWeight:function(e){var t=this.getOwningBorderContainer(),i=this.placeholder,n=this.weight;return e!==n&&!1!==this.fireEventArgs("beforechangeweight",[this,e])&&(this.weight=e,i&&(i.weight=e),t&&t.updateLayout(),this.fireEventArgs("changeweight",[this,n])),n}}),Ext.define("Ext.ElementLoader",{mixins:{observable:Ext.util.Observable},statics:{Renderer:{Html:function(e,t,i){return e.getTarget().update(t.responseText,!0===i.scripts),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(e){var t;e=e||{},Ext.apply(this,e),this.setTarget(this.target),this.addEvents("beforeload","exception","load"),this.mixins.observable.constructor.call(this),this.autoLoad&&(!0===(t=this.autoLoad)&&(t={}),this.load(t))},setTarget:function(e){e=Ext.get(e),this.target&&this.target!=e&&this.abort(),this.target=e},getTarget:function(){return this.target||null},abort:function(){var e=this.active;void 0!==e&&(Ext.Ajax.abort(e.request),e.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(e){this.target.mask(!0===e?null:e)},load:function(e){e=Ext.apply({},e);var t=this,i=Ext.isDefined(e.loadMask)?e.loadMask:t.loadMask,n=Ext.apply({},e.params),r=Ext.apply({},e.ajaxOptions),s=e.callback||t.callback,o=e.scope||t.scope||t;Ext.applyIf(r,t.ajaxOptions),Ext.applyIf(e,r),Ext.applyIf(n,t.params),Ext.apply(n,t.baseParams),Ext.applyIf(e,{url:t.url}),Ext.apply(e,{scope:t,params:n,callback:t.onComplete}),!1!==t.fireEvent("beforeload",t,e)&&(i&&t.addMask(i),t.active={options:e,mask:i,scope:o,callback:s,success:e.success||t.success,failure:e.failure||t.failure,renderer:e.renderer||t.renderer,scripts:Ext.isDefined(e.scripts)?e.scripts:t.scripts},t.active.request=Ext.Ajax.request(e),t.setOptions(t.active,e))},setOptions:Ext.emptyFn,onComplete:function(e,t,i){var n,r=this,s=r.active;s&&(n=s.scope,(t=t&&!1!==r.getRenderer(s.renderer).call(r,r,i,s))?(Ext.callback(s.success,n,[r,i,e]),r.fireEvent("load",r,i,e)):(Ext.callback(s.failure,n,[r,i,e]),r.fireEvent("exception",r,i,e)),Ext.callback(s.callback,n,[r,t,i,e]),s.mask&&r.removeMask()),delete r.active},getRenderer:function(e){return Ext.isFunction(e)?e:this.statics().Renderer.Html},startAutoRefresh:function(e,t){var i=this;i.stopAutoRefresh(),i.autoRefresh=setInterval(function(){i.load(t)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){this.stopAutoRefresh(),delete this.target,this.abort(),this.clearListeners()}}),Ext.define("Ext.ComponentLoader",{extend:Ext.ElementLoader,statics:{Renderer:{Data:function(e,t,i){var n=!0;try{e.getTarget().update(Ext.decode(t.responseText))}catch(e){n=!1}return n},Component:function(e,t,i){var n=!0,r=e.getTarget(),s=[];try{s=Ext.decode(t.responseText)}catch(e){n=!1}return n&&(r.suspendLayouts(),i.removeAll&&r.removeAll(),r.add(s),r.resumeLayouts(!0)),n}}},target:null,loadMask:!1,renderer:"html",setTarget:function(e){Ext.isString(e)&&(e=Ext.getCmp(e)),this.target&&this.target!=e&&this.abort(),this.target=e},removeMask:function(){this.target.setLoading(!1)},addMask:function(e){this.target.setLoading(e)},setOptions:function(e,t){e.removeAll=Ext.isDefined(t.removeAll)?t.removeAll:this.removeAll},getRenderer:function(e){if(Ext.isFunction(e))return e;var t=this.statics().Renderer;switch(e){case"component":return t.Component;case"data":return t.Data;default:return Ext.ElementLoader.Renderer.Html}}}),Ext.define("Ext.layout.SizeModel",{constructor:function(e){var t,i=this,n=i.self,r=n.sizeModelsArray;Ext.apply(i,e),i[t=i.name]=!0,i.fixed=!(i.auto=i.natural||i.shrinkWrap),r[i.ordinal=r.length]=n[t]=n.sizeModels[t]=i},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},function(){var e,t,i,n,r,s=this,o=s.sizeModelsArray;for(new s({name:"calculated"}),new s({name:"configured",names:{width:"width",height:"height"}}),new s({name:"natural"}),new s({name:"shrinkWrap"}),new s({name:"calculatedFromConfigured",configured:!0,names:{width:"width",height:"height"}}),new s({name:"calculatedFromNatural",natural:!0}),new s({name:"calculatedFromShrinkWrap",shrinkWrap:!0}),new s({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new s({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),new s({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}}),e=0,i=o.length;e<i;++e)for((r=o[e]).pairsByHeightOrdinal=n=[],t=0;t<i;++t)n.push({width:r,height:o[t]})}),Ext.define("Ext.layout.Layout",{isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(e,t){var i,n,r,s,o,a,l=Ext.ClassManager,d=this.layoutsByType;if(e&&"string"!=typeof e){if(e.isLayout)return e;o=(r=e).type||t}else o=e||t,r={};if(!(s=d[o])){if(i="layout."+o,(n=l.getNameByAlias(i))||(a=!0),s=l.get(n),a||!s)return l.instantiateByAlias(i,r||{});d[o]=s}return new s(r)}},constructor:function(e){this.id=Ext.id(null,this.type+"-"),Ext.apply(this,e),this.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(e){var t,i=this,n=i.context;i.lastWidthModel!=e.widthModel&&(i.lastWidthModel&&(t=!0),i.lastWidthModel=e.widthModel),i.lastHeightModel!=e.heightModel&&(i.lastWidthModel&&(t=!0),i.lastHeightModel=e.heightModel),t&&((n=e.context).clearTriggers(i,!1),n.clearTriggers(i,!0),i.triggerCount=0)},finishedLayout:function(e){this.lastWidthModel=e.widthModel,this.lastHeightModel=e.heightModel,this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(e){return this.autoSizePolicy},isItemBoxParent:function(e){return!1},isItemLayoutRoot:function(e){var t=e.getSizeModel(),i=t.width,n=t.height;return!(!e.componentLayout.lastComponentSize&&(i.calculated||n.calculated))&&(!i.shrinkWrap&&!n.shrinkWrap)},isItemShrinkWrap:function(e){return e.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(e,t){var i,n,r,s,o=e.length;if(o)for(s=[],i=0;i<o;++i)(n=e[i]).rendered||(t&&void 0!==t[n.id]?r=t[n.id]:(this.configureItem(n),r=n.getRenderTree(),t&&(t[n.id]=r)),r&&s.push(r));return s},finishRender:Ext.emptyFn,finishRenderItems:function(e,t){var i,n,r=t.length;for(i=0;i<r;i++)(n=t[i]).rendering&&(n.finishRender(i),this.afterRenderItem(n))},renderChildren:function(){var e=this.getLayoutItems(),t=this.getRenderTarget();this.renderItems(e,t)},renderItems:function(e,t){var i,n=e.length,r=0;if(n){for(Ext.suspendLayouts();r<n;r++)(i=e[r])&&!i.rendered?this.renderItem(i,t,r):this.isValidParent(i,t,r)?this.configureItem(i):this.moveItem(i,t,r);Ext.resumeLayouts(!0)}},isValidParent:function(e,t,i){var n,r=e.el?e.el.dom:Ext.getDom(e),s=t&&t.dom||t,o=r.parentNode;return o&&(n=o.className)&&-1!==n.indexOf(Ext.baseCSSPrefix+"resizable-wrap")&&(r=r.parentNode),!(!r||!s)&&("number"==typeof i?(i=this.getPositionOffset(i),r===s.childNodes[i]):r.parentNode===s)},getPositionOffset:function(e){return e},configureItem:function(e){e.ownerLayout=this},renderItem:function(e,t,i){e.rendered||(this.configureItem(e),e.render(t,i),this.afterRenderItem(e))},moveItem:function(e,t,i){t=t.dom||t,"number"==typeof i&&(i=t.childNodes[i]),t.insertBefore(e.el.dom,i||null),e.container=Ext.get(t),this.configureItem(e)},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(e){this.owner=e},getLayoutItems:function(){return[]},onAdd:function(e){e.ownerLayout=this},afterRenderItem:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(e){var t,i=e.el,n=this.owner;e.rendered&&(t=[].concat(this.itemCls||[]),n.itemCls&&(t=Ext.Array.push(t,n.itemCls)),t.length&&i.removeCls(t)),delete e.ownerLayout},destroy:function(){var e;this.targetCls&&(e=this.getTarget())&&e.removeCls(this.targetCls),this.onDestroy()},sortWeightedItems:function(e,n){for(var t=0,i=e.length;t<i;++t)e[t].$i=t;for(Ext.Array.sort(e,function(e,t){var i=t.weight-e.weight;return i||(i=e.$i-t.$i,e[n]&&(i=-i)),i}),t=0;t<i;++t)delete e[t].$i}},function(){this.prototype.sizeModels=this.sizeModels=Ext.layout.SizeModel.sizeModels}),Ext.define("Ext.layout.container.Container",{alias:["layout.container"],extend:Ext.layout.Layout,alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:Ext.util.ElementContainer},type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent(),this.mixins.elementCt.destroy.call(this)},beginLayout:function(e){this.callParent(arguments),e.targetContext=e.paddingContext=e.getEl("getTarget",this),this.cacheChildItems(e)},beginLayoutCycle:function(e,t){this.callParent(arguments),t&&(this.usesContainerHeight&&++e.consumersContainerHeight,this.usesContainerWidth&&++e.consumersContainerWidth)},cacheChildItems:function(e){var t,i=e.context,n=[],r=this.getVisibleItems(),s=r.length;for(e.childItems=n,e.visibleItems=r,t=0;t<s;++t)n.push(i.getCmp(r[t]))},cacheElements:function(){var e=this.owner;this.applyChildEls(e.el,e.id)},configureItem:function(e){var t,i=this.itemCls,n=this.owner.itemCls;e.ownerLayout=this,i&&(t="string"==typeof i?[i]:i),n&&(t=Ext.Array.push(t||[],n)),t&&e.addCls(t)},doRenderBody:function(e,t){this.renderItems(e,t),this.renderContent(e,t)},doRenderContainer:function(e,t){var i=t.$comp.layout,n=i.getRenderTpl(),r=i.getRenderData();n.applyOut(r,e)},doRenderItems:function(e,t){var i=t.$layout.getRenderTree();i&&Ext.DomHelper.generateMarkup(i,e)},finishRender:function(){var e,t;this.callParent(),this.cacheElements(),e=this.getRenderTarget(),t=this.getLayoutItems(),this.finishRenderItems(e,t)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(e,t){var i,n,r,s,o=e.targetContext,a=o.getFrameInfo(),l=e.paddingContext.getPaddingInfo(),d=0,h=0;return e.widthModel.shrinkWrap||(++h,(i="number"==typeof(r=t?o.getDomProp("width"):o.getProp("width")))&&(++d,(r-=a.width+l.width)<0&&(r=0))),e.heightModel.shrinkWrap||(++h,(n="number"==typeof(s=t?o.getDomProp("height"):o.getProp("height")))&&(++d,(s-=a.height+l.height)<0&&(s=0))),{width:r,height:s,needed:h,got:d,gotAll:d==h,gotWidth:i,gotHeight:n}},getPositionOffset:function(e){if(!this.createsInnerCt){var t=this.owner.itemNodeOffset;t&&(e+=t)}return e},getLayoutItems:function(){var e=this.owner,t=e&&e.items;return t&&t.items||[]},getRenderData:function(){var e=this.owner;return{$comp:e,$layout:this,ownerId:e.id}},getRenderedItems:function(){var e,t,i=this.getRenderTarget(),n=this.getLayoutItems(),r=n.length,s=[];for(e=0;e<r;e++)(t=n[e]).rendered&&this.isValidParent(t,i,e)&&s.push(t);return s},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var e=Ext.XTemplate.getTpl(this,"renderTpl");return e.renderContent||this.owner.setupRenderTpl(e),e},getRenderTree:function(){for(var e,t,i=this.owner.items,n={};t=i.generation,e=this.getItemsRenderTree(this.getLayoutItems(),n),i.generation!==t;);return e},renderChildren:function(){for(var e,t,i=this.owner.items,n=this.getRenderTarget();e=i.generation,t=this.getLayoutItems(),this.renderItems(t,n),i.generation!==e;);},getScrollbarsNeeded:function(e,t,i,n){var r=Ext.getScrollbarSize(),s="number"==typeof e,o="number"==typeof t,a=0,l=0;return r.width?(o&&t<n&&(l=2,e-=r.width),s&&e<i&&(a=1,!l&&o&&(t-=r.height)<n&&(l=2)),l+a):0},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var e,t,i=this.getRenderTarget(),n=this.getLayoutItems(),r=n.length,s=[];for(e=0;e<r;e++)(t=n[e]).rendered&&this.isValidParent(t,i,e)&&!0!==t.hidden&&s.push(t);return s},setupRenderTpl:function(e){e.renderBody=this.doRenderBody,e.renderContainer=this.doRenderContainer,e.renderItems=this.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()}}),Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:Ext.layout.container.Container,type:"autocontainer",childEls:["outerCt","innerCt","clearEl"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,lastOverflowAdjust:{width:0,height:0},renderTpl:["{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}",'<span id="{ownerId}-outerCt" style="display:table;" role="presentation">','<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;','vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}" role="presentation">',"{%this.renderBody(out,values)%}","</div>","</span>","{% } else if (values.shrinkWrapWidth) { %}",'<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'" role="presentation">','<tbody role="presentation">','<tr role="presentation">','<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}" role="presentation">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</td>","</tr>","</tbody>","</table>","{% } else { %}",'<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}" role="presentation">','<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}" role="presentation">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</div>","</div>","{% values.$layout.isShrinkWrapTpl = false %}","{% } %}"],tableTpl:['<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'" role="presentation">','<tbody role="presentation">','<tr role="presentation">','<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}" role="presentation">',"</td>","</tr>","</tbody>","</table>"],isShrinkWrapTpl:!0,beginLayout:function(e){var t;this.callParent(arguments),this.initContextItems(e),this.isShrinkWrapTpl||(e.widthModel.shrinkWrap&&(t=!0),t&&this.insertTableCt(e))},beforeLayoutCycle:function(e){var t=this.owner,i=t.hierarchyState,n=t.hierarchyStateInner;i&&!i.invalid||(i=t.getHierarchyState(),n=t.hierarchyStateInner),e.widthModel.shrinkWrap&&this.isShrinkWrapTpl?n.inShrinkWrapTable=!0:delete n.inShrinkWrapTable},beginLayoutCycle:function(e){var t,i,n,r,s,o=this,a=o.outerCt,l=o.lastOuterCtWidth||"",d=o.lastOuterCtHeight||"",h=o.lastOuterCtTableLayout||"",c=e.state;o.callParent(arguments),i=n=r="",!e.widthModel.shrinkWrap&&o.isShrinkWrapTpl&&(i="100%",s=o.owner.hierarchyStateInner,t=o.getOverflowXStyle(e),r=s.inShrinkWrapTable||"auto"===t||"scroll"===t?"":"fixed"),e.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(n="100%"),i===l&&!o.hasOuterCtPxWidth||(a.setStyle("width",i),o.lastOuterCtWidth=i,o.hasOuterCtPxWidth=!1),r!==h&&(a.setStyle("table-layout",r),o.lastOuterCtTableLayout=r),n===d&&!o.hasOuterCtPxHeight||(a.setStyle("height",n),o.lastOuterCtHeight=n,o.hasOuterCtPxHeight=!1),o.hasInnerCtPxHeight&&(o.innerCt.setStyle("height",""),o.hasInnerCtPxHeight=!1),c.overflowAdjust=c.overflowAdjust||o.lastOverflowAdjust},calculate:function(e){var t=e.state,i=this.getContainerSize(e,!0),n=t.calculatedItems||(t.calculatedItems=!this.calculateItems||this.calculateItems(e,i));this.setCtSizeIfNeeded(e,i),n&&e.hasDomProp("containerChildrenSizeDone")&&(this.calculateContentSize(e),i.gotAll)?!this.manageOverflow||e.state.secondPass||this.reserveScrollbar||this.calculateOverflow(e,i):this.done=!1},calculateContentSize:function(e){var t=(e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0),i=1&t||void 0,n=2&t||void 0,r=0,s=e.props;i&&(isNaN(s.contentWidth)?++r:i=void 0),n&&(isNaN(s.contentHeight)?++r:n=void 0),r&&(i&&!e.setContentWidth(this.measureContentWidth(e))&&(this.done=!1),n&&!e.setContentHeight(this.measureContentHeight(e))&&(this.done=!1))},calculateOverflow:function(e){var t,i,n,r,s,o,a;s="auto"===this.getOverflowXStyle(e),o="auto"===this.getOverflowYStyle(e),(s||o)&&(n=Ext.getScrollbarSize(),r=0,(a=e.overflowContext.el.dom).scrollWidth>a.clientWidth&&(r|=1),a.scrollHeight>a.clientHeight&&(r|=2),t=o&&2&r?n.width:0,i=s&&1&r?n.height:0,t===this.lastOverflowAdjust.width&&i===this.lastOverflowAdjust.height||(this.done=!1,e.invalidate({state:{overflowAdjust:{width:t,height:i},overflowState:r,secondPass:!0}})))},completeLayout:function(e){this.lastOverflowAdjust=e.state.overflowAdjust},doRenderPadding:function(e,t){var i=t.$layout,n=t.$layout.owner,r=n[n.contentPaddingProperty];i.managePadding&&r&&e.push("padding:",n.unitizeBox(r))},finishedLayout:function(e){var t=this.innerCt;this.callParent(arguments),Ext.isOpera&&(t.setStyle("position","relative"),t.dom.scrollWidth,t.setStyle("position",""))},getContainerSize:function(e,t){var i=this.callParent(arguments),n=e.state.overflowAdjust;return n&&(i.width-=n.width,i.height-=n.height),i},getRenderData:function(){this.owner;return this.callParent()},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(e){return e.overflowXStyle||(e.overflowXStyle=this.owner.scrollFlags.overflowX||e.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(e){return e.overflowYStyle||(e.overflowYStyle=this.owner.scrollFlags.overflowY||e.overflowContext.getStyle("overflow-y"))},initContextItems:function(e){var t=e.target,i=this.owner.customOverflowEl;e.outerCtContext=e.getEl("outerCt",this),e.innerCtContext=e.getEl("innerCt",this),e.overflowContext=i?e.getEl(i):e.targetContext,void 0!==t[t.contentPaddingProperty]&&(e.paddingContext=this.isShrinkWrapTpl?e.innerCtContext:e.outerCtContext)},initLayout:function(){var e=Ext.getScrollbarSize().width,t=this.owner;this.callParent(),e&&this.manageOverflow&&!this.hasOwnProperty("lastOverflowAdjust")&&(t.autoScroll||this.reserveScrollbar)&&(this.lastOverflowAdjust={width:e,height:0})},insertTableCt:function(e){var t,i,n,r,s,o=this,a=o.owner,l=0;for((t=Ext.XTemplate.getTpl(this,"tableTpl")).renderPadding=o.doRenderPadding,o.outerCt.dom.removeChild(o.innerCt.dom),i=document.createDocumentFragment(),r=(n=o.innerCt.dom.childNodes).length;l<r;l++)i.appendChild(n[0]);(s=o.getTarget()).dom.innerHTML=t.apply({$layout:o,ownerId:o.owner.id}),s.down("td").dom.appendChild(i),o.applyChildEls(a.el,a.id),o.isShrinkWrapTpl=!0,e.removeEl(o.outerCt),e.removeEl(o.innerCt),o.initContextItems(e)},measureContentHeight:function(e){var t=this.outerCt.getHeight(),i=e.target;return this.managePadding&&void 0===i[i.contentPaddingProperty]&&(t+=e.targetContext.getPaddingInfo().height),t},measureContentWidth:function(e){var t,i,n,r,s;return this.chromeCellMeasureBug&&"table-cell"==(n=(i=(t=this.innerCt.dom).style).display)&&(i.display="",t.offsetWidth,i.display=n),r=this.outerCt.getWidth(),s=e.target,this.managePadding&&void 0===s[s.contentPaddingProperty]&&(r+=e.targetContext.getPaddingInfo().width),r},setCtSizeIfNeeded:function(e,t){t.width;var i,n=t.height,r=e.paddingContext.getPaddingInfo(),s=this.getTarget(),o=this.getOverflowXStyle(e),a=(this.getOverflowYStyle(e),"auto"===o||"scroll"===o),l=Ext.getScrollbarSize();this.isShrinkWrapTpl,this.manageOverflow;n&&!e.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(i=!0),i&&a&&s.dom.scrollWidth>s.dom.clientWidth&&(n=Math.max(n-l.height,0)),i&&(e.outerCtContext.setProp("height",n+r.height),this.hasOuterCtPxHeight=!0))},setupRenderTpl:function(e){this.callParent(arguments),e.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&26<=Ext.chromeVersion}),Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3},constructor:function(e){var t=this;t.map={},t.zIndexStack=[],t.front=null,e?e.isContainer?(e.on("resize",t._onContainerResize,t),t.zseed=Ext.Number.from(t.rendered?e.getEl().getStyle("zIndex"):void 0,t.getNextZSeed()),t.targetEl=e.getTargetEl(),t.container=e):(Ext.EventManager.onWindowResize(t._onContainerResize,t),t.zseed=t.getNextZSeed(),t.targetEl=Ext.get(e)):(Ext.EventManager.onWindowResize(t._onContainerResize,t),t.zseed=t.getNextZSeed(),Ext.onDocumentReady(function(){t.targetEl=Ext.getBody()}))},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(e){this.zseed=e;var t=this.assignZIndices();return this._activateLast(),t},assignZIndices:function(){for(var e,t,i=this.zIndexStack,n=i.length,r=0,s=this.zseed;r<n;r++)(e=i[r])&&!e.hidden&&(s=e.setZIndex(s),e.modal&&(t=e));return t&&this._showModalMask(t),s},_setActiveChild:function(e,t){var i=this.front,n=e.preventFocusOnActivate;e!==i&&(i&&!i.destroying&&i.setActive(!1,e),(this.front=e)&&e!=t&&(e.preventFocusOnActivate=e.preventFocusOnActivate||t&&(t.preventFocusOnActivate||!t.focusOnToFront),e.setActive(!0),e.modal&&this._showModalMask(e),e.preventFocusOnActivate=n))},onComponentHide:function(e){this._activateLast()},_activateLast:function(){for(var e,t=this.zIndexStack,i=t.length-1;0<=i&&t[i].hidden;--i);if(e=t[i]){if(this._setActiveChild(e,this.front),e.modal)return}else this.front&&!this.front.destroying&&this.front.setActive(!1),this.front=null;for(;0<=i;--i)if((e=t[i]).isVisible()&&e.modal)return void this._showModalMask(e);this._hideModalMask()},_showModalMask:function(e){var t,i=e.el.getStyle("zIndex")-4,n=e.floatParent?e.floatParent.getTargetEl():e.container,r=this.mask,s=this.maskShim;r||((r=this.mask=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"})).setVisibilityMode(Ext.Element.DISPLAY),r.on("click",this._onMaskClick,this)),r.maskTarget=n,t=this.getMaskBox(),s&&(s.setStyle("zIndex",i),s.show(),s.setBox(t)),r.setStyle("zIndex",i),r.show(),r.setBox(t)},_hideModalMask:function(){var e=this.mask,t=this.maskShim;e&&e.isVisible()&&(e.maskTarget=void 0,e.hide(),t&&t.hide())},_onMaskClick:function(){this.front&&this.front.focus()},getMaskBox:function(){var e=this.mask.maskTarget;return e.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:e.getBox()},_onContainerResize:function(){var e,t=this.mask,i=this.maskShim;t&&t.isVisible()&&(t.hide(),i&&i.hide(),e=this.getMaskBox(),i&&(i.setSize(e),i.show()),t.setSize(e),t.show())},register:function(e){var t=this,i=e.afterHide;e.zIndexManager&&e.zIndexManager.unregister(e),(e.zIndexManager=t).map[e.id]=e,t.zIndexStack.push(e),e.afterHide=function(){i.apply(e,arguments),t.onComponentHide(e)}},unregister:function(e){var t=this.map;delete e.zIndexManager,t&&t[e.id]&&(delete t[e.id],delete e.afterHide,Ext.Array.remove(this.zIndexStack,e),this._activateLast())},get:function(e){return e.isComponent?e:this.map[e]},bringToFront:function(e,t){var i=!1,n=this.zIndexStack;return(e=this.get(e))!==this.front&&(Ext.Array.remove(n,e),e.preventBringToFront?n.unshift(e):n.push(e),this.assignZIndices(),t||this._activateLast(),i=!0,(this.front=e).modal&&this._showModalMask(e)),i},sendToBack:function(e){return e=this.get(e),Ext.Array.remove(this.zIndexStack,e),this.zIndexStack.unshift(e),this.assignZIndices(),this._activateLast(),e},hideAll:function(){var e,t,i=this.map;for(t in i)i.hasOwnProperty(t)&&(e=i[t]).isComponent&&e.isVisible()&&e.hide()},hide:function(){var e,t=0,i=this.zIndexStack,n=i.length;for(this.tempHidden=[];t<n;t++)(e=i[t]).isVisible()&&(this.tempHidden.push(e),e.el.hide(),e.hidden=!0)},show:function(){for(var e,t=0,i=this.tempHidden,n=i?i.length:0;t<n;t++)(e=i[t]).el.show(),e.hidden=!1,e.setPosition(e.x,e.y);delete this.tempHidden},getActive:function(){return this.front},getBy:function(e,t){for(var i,n=[],r=0,s=this.zIndexStack,o=s.length;r<o;r++)i=s[r],!1!==e.call(t||i,i)&&n.push(i);return n},each:function(e,t){var i,n,r=this.map;for(i in r)if(r.hasOwnProperty(i)&&(n=r[i]).isComponent&&!1===e.call(t||n,n))return},eachBottomUp:function(e,t){for(var i,n=this.zIndexStack,r=0,s=n.length;r<s;r++)if((i=n[r]).isComponent&&!1===e.call(t||i,i))return},eachTopDown:function(e,t){for(var i,n=this.zIndexStack,r=n.length;0<r--;)if((i=n[r]).isComponent&&!1===e.call(t||i,i))return},destroy:function(){var e,t,i=this.map;for(t in i)i.hasOwnProperty(t)&&(e=i[t]).isComponent&&e.destroy();Ext.destroy(this.mask),Ext.destroy(this.maskShim),delete this.zIndexStack,delete this.map,delete this.container,delete this.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.define("Ext.Queryable",{isQueryable:!0,query:function(e){return e=e||"*",Ext.ComponentQuery.query(e,this)},queryBy:function(e,t){for(var i,n=[],r=this.getRefItems(!0),s=0,o=r.length;s<o;++s)i=r[s],!1!==e.call(t||i,i)&&n.push(i);return n},queryById:function(e){return this.down("#"+e)},child:function(e){return e&&e.isComponent&&(e="#"+Ext.escapeId(e.getItemId())),e=e||"",this.query("> "+e)[0]||null},down:function(e){return e&&e.isComponent&&(e="#"+Ext.escapeId(e.getItemId())),e=e||"",this.query(e)[0]||null},getRefItems:function(){return[]}}),Ext.define("Ext.layout.component.Component",{extend:Ext.layout.Layout,type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(e,t){var i,n,r,s,o=this.owner,a=e.ownerCtContext,l=e.heightModel,d=e.widthModel,h=o.el.dom===document.body,c=o.lastBox||this.nullBox,u=o.el.lastBox||this.nullBox,f=!h;this.callParent(arguments),t&&(this.usesContentWidth&&++e.consumersContentWidth,this.usesContentHeight&&++e.consumersContentHeight,this.usesWidth&&++e.consumersWidth,this.usesHeight&&++e.consumersHeight,a&&!a.hasRawContent&&((i=o.ownerLayout).usesWidth&&++e.consumersWidth,i.usesHeight&&++e.consumersHeight)),d.configured?(r=d.names.width,h||(f=this.setWidthInDom||(t?o[r]!==u.width:d.constrained)),e.setWidth(o[r],f)):e.isTopLevel&&(d.calculated&&(n=c.width,e.setWidth(n,n!=u.width)),n=c.x,e.setProp("x",n,n!=u.x)),l.configured?(s=l.names.height,h||(f=t?o[s]!==u.height:l.constrained),e.setHeight(o[s],f)):e.isTopLevel&&(l.calculated&&(n=c.height,e.setHeight(n,n!=u.height)),n=c.y,e.setProp("y",n,n!=u.y))},finishedLayout:function(e){var t,i,n,r,s,o=e.children,a=this.owner;if(o)for(t=o.length,i=0;i<t;i++)(n=o[i]).el.lastBox=n.props;e.previousSize=this.lastComponentSize,this.lastComponentSize=a.el.lastBox=s=e.props,(r=a.lastBox||(a.lastBox={})).x=s.x,r.y=s.y,r.width=s.width,r.height=s.height,r.invalid=!1,this.callParent(arguments)},notifyOwner:function(e){var t=this.lastComponentSize,i=e.previousSize,n=[t.width,t.height];i&&n.push(i.width,i.height),this.owner.afterComponentLayout.apply(this.owner,n)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(e){var t,i=this.targetInfo;return i||(t=e.getEl("getTarget",this),this.targetInfo=i={padding:t.getPaddingInfo(),border:t.getBorderInfo()}),i},measureAutoDimensions:function(e,t){var i,n,r,s,o,a=this.owner,l=a.layout,d=e.heightModel,h=e.widthModel,c=e.boxParent,u=e.isBoxParent,f=e.props,g={gotWidth:!1,gotHeight:!1,isContainer:i=!e.hasRawContent},p=t||3,m=0,x=0;return h.shrinkWrap&&e.consumersContentWidth?(++m,n=!(1&p),i?n?(g.contentWidth=0,g.gotWidth=!0,++x):void 0!==(g.contentWidth=e.getProp("contentWidth"))&&(g.gotWidth=!0,++x):"number"==typeof(s=f.contentWidth)?(g.contentWidth=s,g.gotWidth=!0,++x):(n||!!e.hasDomProp("containerChildrenSizeDone")&&(!(!u&&c&&!c.widthModel.shrinkWrap)||c.hasDomProp("width")))&&(o=n?0:l&&l.measureContentWidth?l.measureContentWidth(e):this.measureContentWidth(e),isNaN(g.contentWidth=o)||(e.setContentWidth(o,!0),g.gotWidth=!0,++x))):h.natural&&e.consumersWidth&&(++m,"number"==typeof(s=f.width)?(g.width=s,g.gotWidth=!0,++x):(!(!u&&c)||c.hasDomProp("width"))&&(isNaN(g.width=this.measureOwnerWidth(e))||(e.setWidth(g.width,!1),g.gotWidth=!0,++x))),d.shrinkWrap&&e.consumersContentHeight?(++m,r=!(2&p),i?r?(g.contentHeight=0,g.gotHeight=!0,++x):void 0!==(g.contentHeight=e.getProp("contentHeight"))&&(g.gotHeight=!0,++x):"number"==typeof(s=f.contentHeight)?(g.contentHeight=s,g.gotHeight=!0,++x):(r||!!e.hasDomProp("containerChildrenSizeDone")&&(!!a.noWrap||(h.shrinkWrap?!(!u&&c&&!c.widthModel.shrinkWrap)||c.hasDomProp("width"):(e.bodyContext||e).hasDomProp("width"))))&&(o=r?0:l&&l.measureContentHeight?l.measureContentHeight(e):this.measureContentHeight(e),isNaN(g.contentHeight=o)||(e.setContentHeight(o,!0),g.gotHeight=!0,++x))):d.natural&&e.consumersHeight&&(++m,"number"==typeof(s=f.height)?(g.height=s,g.gotHeight=!0,++x):(!(!u&&c)||c.hasDomProp("width"))&&(isNaN(g.height=this.measureOwnerHeight(e))||(e.setHeight(g.height,!1),g.gotHeight=!0,++x))),c&&e.onBoxMeasured(),g.gotAll=x==m,g},measureContentWidth:function(e){return e.el.getWidth()-e.getFrameInfo().width},measureContentHeight:function(e){return e.el.getHeight()-e.getFrameInfo().height},measureOwnerHeight:function(e){return e.el.getHeight()},measureOwnerWidth:function(e){return e.el.getWidth()}}),Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:Ext.layout.component.Component,type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(e,t){var i=this.lastWidthModel,n=this.lastHeightModel,r=this.owner.el;this.callParent(arguments),i&&i.fixed&&e.widthModel.shrinkWrap&&r.setWidth(null),n&&n.fixed&&e.heightModel.shrinkWrap&&r.setHeight(null)},calculate:function(e){var t,i,n=this,r=n.measureAutoDimensions(e),s=e.heightModel,o=e.widthModel;r.gotWidth?o.shrinkWrap?n.publishOwnerWidth(e,r.contentWidth):n.publishInnerWidth&&n.publishInnerWidth(e,r.width):!o.auto&&n.publishInnerWidth&&(void 0===(t=n.waitForOuterWidthInDom?e.getDomProp("width"):e.getProp("width"))?n.done=!1:n.publishInnerWidth(e,t)),r.gotHeight?s.shrinkWrap?n.publishOwnerHeight(e,r.contentHeight):n.publishInnerHeight&&n.publishInnerHeight(e,r.height):!s.auto&&n.publishInnerHeight&&(void 0===(i=n.waitForOuterHeightInDom?e.getDomProp("height"):e.getProp("height"))?n.done=!1:n.publishInnerHeight(e,i)),r.gotAll||(n.done=!1)},calculateOwnerHeightFromContentHeight:function(e,t){return t+e.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(e,t){return t+e.getFrameInfo().width},publishOwnerHeight:function(e,t){var i,n,r,s=this.owner,o=this.calculateOwnerHeightFromContentHeight(e,t);isNaN(o)?this.done=!1:((i=Ext.Number.constrain(o,s.minHeight,s.maxHeight))==o?n=this.setHeightInDom:(r=this.sizeModels[i<o?"constrainedMax":"constrainedMin"],o=i,e.heightModel.calculatedFromShrinkWrap?e.heightModel=r:e.invalidate({heightModel:r})),e.setHeight(o,n))},publishOwnerWidth:function(e,t){var i,n,r,s=this.owner,o=this.calculateOwnerWidthFromContentWidth(e,t);isNaN(o)?this.done=!1:((i=Ext.Number.constrain(o,s.minWidth,s.maxWidth))==o?n=this.setWidthInDom:(r=this.sizeModels[i<o?"constrainedMax":"constrainedMin"],o=i,e.widthModel.calculatedFromShrinkWrap?e.widthModel=r:e.invalidate({widthModel:r})),e.setWidth(o,n))}}),Ext.define("Ext.container.AbstractContainer",{extend:Ext.Component,mixins:{queryable:Ext.Queryable},renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:!1,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,isContainer:!0,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",defaultLayoutType:"auto",ariaRole:"presentation",initComponent:function(){this.addEvents("afterlayout","beforeadd","beforeremove","add","remove"),this.callParent(),this.getLayout(),this.initItems()},initItems:function(){var e=this.items;this.items=new Ext.util.AbstractMixedCollection(!1,this.getComponentId),this.floatingItems=new Ext.util.MixedCollection(!1,this.getComponentId),e&&(Ext.isArray(e)||(e=[e]),this.add(e))},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var e=this.getLayout();e&&e.finishRender()},beforeRender:function(){var e,t=this.getLayout();this.callParent(),t.initialized||t.initLayout(),(e=t.targetCls)&&this.applyTargetCls(e)},applyTargetCls:function(e){this.addCls(e)},afterComponentLayout:function(){var e,t,i=this.floatingItems.items,n=i.length;for(this.callParent(arguments),e=0;e<n;e++)!(t=i[e]).rendered&&t.autoShow&&t.show()},onPosition:function(){this.callParent(arguments),this.repositionFloatingItems()},onResize:function(){this.callParent(arguments),this.repositionFloatingItems()},repositionFloatingItems:function(){var e,t,i=this.floatingItems.items,n=i.length;for(e=0;e<n;e++)(t=i[e]).el&&!t.hidden&&t.setPosition(t.x,t.y)},setupRenderTpl:function(e){this.callParent(arguments),this.getLayout().setupRenderTpl(e)},getDefaultContentTarget:function(){return this.el},getContentTarget:function(){return this.getLayout().getContentTarget()},setLayout:function(e){var t=this.layout;t&&t.isLayout&&t!=e&&t.setOwner(null),(this.layout=e).setOwner(this)},getLayout:function(){return this.layout&&this.layout.isLayout||this.setLayout(Ext.layout.Layout.create(this.layout,this.self.prototype.layout||this.defaultLayoutType)),this.layout},doLayout:function(){return this.updateLayout(),this},afterLayout:function(e){++this.layoutCounter,this.hasListeners.afterlayout&&this.fireEvent("afterlayout",this,e)},prepareItems:function(e,t){for(var i,n=0,r=(e=Ext.isArray(e)?e.slice():[e]).length;n<r;n++)null==(i=e[n])?(Ext.Array.erase(e,n,1),--n,--r):(t&&(i=this.applyDefaults(i)),i.isContained=this,e[n]=this.lookupComponent(i),delete i.isContained,delete e[n].isContained);return e},applyDefaults:function(e){var t=this.defaults;return t&&(Ext.isFunction(t)&&(t=t.call(this,e)),Ext.isString(e)&&(e=Ext.ComponentManager.get(e)),Ext.applyIf(e,t)),e},lookupComponent:function(e){return"string"==typeof e?Ext.ComponentManager.get(e):Ext.ComponentManager.create(e,this.defaultType)},getComponentId:function(e){return e.getItemId&&e.getItemId()},add:function(){var e,t,i,n,r,s,o,a=this,l=Ext.Array.slice(arguments),d="number"==typeof l[0]?l.shift():-1,h=a.getLayout(),c=!1;for(1==l.length&&Ext.isArray(l[0])?(t=l[0],e=!0):t=l,a.rendered&&Ext.suspendLayouts(),o=t=a.prepareItems(t,!0),n=t.length,e||1!=n||(o=t[0]),i=0;i<n;i++)r=t[i],s=d<0?a.items.length:d+i,r.floating?(a.floatingItems.add(r),r.onAdded(a,s),a.hasListeners.add&&a.fireEvent("add",a,r,s)):a.hasListeners.beforeadd&&!1===a.fireEvent("beforeadd",a,r,s)||!1===a.onBeforeAdd(r)||(a.items.insert(s,r),r.onAdded(a,s),a.onAdd(r,s),h.onAdd(r,s),c=!0,a.hasListeners.add&&a.fireEvent("add",a,r,s));return c&&a.updateLayout(),a.rendered&&Ext.resumeLayouts(!0),o},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(e,t){var i;return t&&t.isComponent&&-1!==(i=this.items.indexOf(t))?this.move(i,e):this.add(e,t)},move:function(e,t){var i,n=this.items;return e.isComponent&&(e=n.indexOf(e)),!1!==(i=n.removeAt(e))&&(n.insert(t,i),this.onMove(i,e,t),this.updateLayout(),i)},onMove:Ext.emptyFn,onBeforeAdd:function(e){e.ownerCt&&e.ownerCt!==this&&e.ownerCt.remove(e,!1)},remove:function(e,t){var i=this,n=i.getComponent(e);return!n||i.hasListeners.beforeremove&&!1===i.fireEvent("beforeremove",i,n)||(i.doRemove(n,t),i.hasListeners.remove&&i.fireEvent("remove",i,n),i.destroying||n.floating||i.updateLayout()),n},doRemove:function(e,t){t=!0===t||!1!==t&&this.autoDestroy;var i=this.layout,n=i&&this.rendered,r=e.destroying||t,s=e.floating;s?this.floatingItems.remove(e):this.items.remove(e),n&&!s&&(i.running&&Ext.AbstractComponent.cancelLayout(e,r),i.onRemove(e,r)),e.onRemoved(r),this.onRemove(e,r),t?e.destroy():(n&&!s&&i.afterRemove(e),this.detachOnRemove&&e.rendered&&this.detachComponent(e))},detachComponent:function(e){Ext.getDetachedBody().appendChild(e.getEl())},removeAll:function(e){var t,i=this.items.items.slice().concat(this.floatingItems.items),n=[],r=0,s=i.length;for(this.suspendLayouts();r<s;r++)t=i[r],this.remove(t,e),t.ownerCt!==this&&n.push(t);return this.resumeLayouts(!!s),n},getRefItems:function(e){for(var t,i=this.items.items,n=i.length,r=0,s=[];r<n;r++)t=i[r],s[s.length]=t,e&&t.getRefItems&&s.push.apply(s,t.getRefItems(!0));for(n=(i=this.floatingItems.items).length,r=0;r<n;r++)t=i[r],s[s.length]=t,e&&t.getRefItems&&s.push.apply(s,t.getRefItems(!0));return s},cascade:function(e,t,i){var n,r=this.items?this.items.items:[],s=r.length,o=0,a=i?i.concat(this):[this],l=a.length-1;if(!1!==e.apply(t||this,a))for(;o<s;o++)(n=r[o]).cascade?n.cascade(e,t,i):(a[l]=n,e.apply(t||r,a));return this},isAncestor:function(e){for(;e;){if(e.ownerCt===this)return!0;e=e.ownerCt}},getComponent:function(e){Ext.isObject(e)&&(e=e.getItemId());var t=this.items.get(e);return t||"number"==typeof e||(t=this.floatingItems.get(e)),t},contains:function(t,e){var i=!1;return e?(this.cascade(function(e){if(e.contains&&e.contains(t))return!(i=!0)}),i):this.items.contains(t)||this.floatingItems.contains(t)},nextChild:function(e,t){var i,n=this.items.indexOf(e);return-1!==n&&!(i=t?Ext.ComponentQuery(t,this.items.items.slice(n+1)):this.items.getAt(n+1))&&this.ownerCt&&(i=this.ownerCt.nextChild(this,t)),i},prevChild:function(e,t){var i,n=this.items.indexOf(e);return-1!==n&&!(i=t?Ext.ComponentQuery(t,this.items.items.slice(n+1)):this.items.getAt(n+1))&&this.ownerCt&&(i=this.ownerCt.nextChild(this,t)),i},enable:function(){this.callParent(arguments);var e,t,i=this.getChildItemsToDisable(),n=i.length;for(t=0;t<n;t++)(e=i[t]).resetDisable&&e.enable();return this},disable:function(){this.callParent(arguments);var e,t,i=this.getChildItemsToDisable(),n=i.length;for(t=0;t<n;t++)!1===(e=i[t]).resetDisable||e.disabled||(e.disable(),e.resetDisable=!0);return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeDestroy:function(){var e,t=this.items,i=this.floatingItems;if(t)for(;e=t.first();)this.doRemove(e,!0);if(i)for(;e=i.first();)this.doRemove(e,!0);Ext.destroy(this.layout),this.callParent()}}),Ext.define("Ext.container.Container",{extend:Ext.container.AbstractContainer,alias:"widget.container",alternateClassName:"Ext.Container",getChildByElement:function(e,t){var i,n,r=0,s=this.getRefItems(),o=s.length;for(e=Ext.getDom(e);r<o;r++)if((n=(i=s[r]).getEl())&&(n.dom===e||n.contains(e)))return t&&i.getChildByElement?i.getChildByElement(e,t):i;return null}}),Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:Ext.layout.container.Container,autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t=this.owner.autoSize,i=t&&t.width,n=this.sizePolicies;return n=(n=n[i]||n.$)[i=t&&t.height]||n.$},calculate:function(e){var t,i,n=this.owner,r=n.autoSize;!0===r&&(r=this.autoSizeDefault),r&&(t=this.getDimension(n,r.width,"getWidth",n.width),i=this.getDimension(n,r.height,"getHeight",n.height)),e.childItems[0].setSize(t,i),e.setWidth(t),e.setHeight(i),e.setContentSize(t||n.field.getWidth(),i||n.field.getHeight())},getDimension:function(e,t,i,n){switch(t){case"boundEl":return e.boundEl[i]();case"field":return;default:return n}}}),Ext.define("Ext.Editor",{extend:Ext.container.Container,alias:"widget.editor",layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,hidden:!0,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var e=this,t=e.field=Ext.ComponentManager.create(e.field,"textfield");t.inEditor=!0,t.msgTarget=t.msgTarget||"qtip",e.mon(t,{scope:e,blur:e.onFieldBlur,specialkey:e.onSpecialKey}),t.grow&&e.mon(t,"autosize",e.onFieldAutosize,e,{delay:1}),e.floating={constrain:e.constrain},e.items=t,e.callParent(arguments),e.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(e,t){var i=this.field.inputEl;this.callParent(arguments),i&&(i.dom.name="",this.swallowKeys&&i.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(e,t){var i=this,n=t.getKey(),r=i.completeOnEnter&&n==t.ENTER,s=i.cancelOnEsc&&n==t.ESC;(r||s)&&(t.stopEvent(),Ext.defer(function(){r?i.completeEdit():i.cancelEdit()},1)),i.fireEvent("specialkey",i,e,t)},startEdit:function(e,t){var i=this,n=i.field;i.completeEdit(),i.boundEl=Ext.get(e),t=Ext.isDefined(t)?t:Ext.String.trim(i.boundEl.dom.innerText||i.boundEl.dom.innerHTML),i.rendered||(i.ownerCt&&(i.parentEl=i.ownerCt.el,i.parentEl.position()),i.render(i.parentEl||document.body)),!1!==i.fireEvent("beforestartedit",i,i.boundEl,t)&&(i.startValue=t,i.show(),n.suspendEvents(),n.reset(),n.setValue(t),n.resumeEvents(),i.realign(!0),n.focus([n.getRawValue().length]),n.autoSize&&n.autoSize(),i.editing=!0)},realign:function(e){!0===e&&this.updateLayout(),this.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(e){var t,i=this,n=i.field;i.editing&&(n.assertValue&&n.assertValue(),t=i.getValue(),n.isValid()?String(t)===String(i.startValue)&&i.ignoreNoChange?i.hideEdit(e):!1!==i.fireEvent("beforecomplete",i,t,i.startValue)&&(t=i.getValue(),i.updateEl&&i.boundEl&&i.boundEl.update(t),i.hideEdit(e),i.fireEvent("complete",i,t,i.startValue)):!1!==i.revertInvalid&&i.cancelEdit(e))},onShow:function(){this.callParent(arguments),!1!==this.hideEl&&this.boundEl.hide(),this.fireEvent("startedit",this,this.boundEl,this.startValue)},cancelEdit:function(e){var t,i=this,n=i.startValue,r=i.field;i.editing&&(r&&(t=i.editedValue=i.getValue(),r.suspendEvents(),i.setValue(n),r.resumeEvents()),i.hideEdit(e),i.fireEvent("canceledit",i,t,n),delete i.editedValue)},hideEdit:function(e){!0!==e&&(this.editing=!1,this.hide())},onFieldBlur:function(e,t){var i=Ext.Element.getActiveElement();!0===this.allowBlur&&this.editing&&!0!==this.selectSameEditor&&this.completeEdit(),(Ext.fly(i).isFocusable()||i.getAttribute("tabIndex"))&&i.focus()},onHide:function(){var e=this.field;this.editing?this.completeEdit():(e.hasFocus&&e.triggerBlur&&e.triggerBlur(),e.collapse&&e.collapse(),!1!==this.hideEl&&this.boundEl.show(),this.callParent(arguments))},setValue:function(e){this.field.setValue(e)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){Ext.destroy(this.field),delete this.field,delete this.parentEl,delete this.boundEl,this.callParent(arguments)}}),Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(e){var t=this;1!==arguments.length||"string"==typeof e||e.dom||e.tagName||e===document||e.isComponent?t.legacyConstructor.apply(t,arguments):(Ext.apply(t,e),t.bindings=[],t.target.isComponent||(t.target=Ext.get(t.target)),t.binding?t.addBinding(t.binding):e.key&&t.addBinding(e),t.enable())},legacyConstructor:function(e,t,i){Ext.apply(this,{target:Ext.get(e),eventName:i||this.eventName,bindings:[]}),t&&this.addBinding(t),this.enable()},addBinding:function(e){var t,i,n=e.key;if(this.processing&&(this.bindings=bindings.slice(0)),Ext.isArray(e))for(t=0,i=e.length;t<i;t++)this.addBinding(e[t]);else this.bindings.push(Ext.apply({keyCode:this.processKeys(n)},e))},removeBinding:function(e){var t,i,n,r=this.bindings,s=r.length;for(this.processing&&(this.bindings=r.slice(0)),n=this.processKeys(e.key),t=0;t<s;++t)if((i=r[t]).fn===e.fn&&i.scope===e.scope&&e.alt==i.alt&&e.crtl==i.crtl&&e.shift==i.shift&&Ext.Array.equals(i.keyCode,n))return void Ext.Array.erase(this.bindings,t,1)},processKeys:function(e){var t,i,n,r,s,o=!1;if(Ext.isString(e)){for(i=[],s=0,r=(n=e.toUpperCase()).length;s<r;++s)i.push(n.charCodeAt(s));e=i,o=!0}if(Ext.isArray(e)||(e=[e]),!o)for(s=0,r=e.length;s<r;++s)t=e[s],Ext.isString(t)&&(e[s]=t.toUpperCase().charCodeAt(0));return e},handleTargetEvent:(Ghb=/input|textarea/i,function(e){var t,i,n,r,s;if(this.enabled){if(i=0,n=(t=this.bindings).length,e=this.processEvent.apply(this||this.processEventScope,arguments),this.ignoreInputFields&&(s=(r=e.target).contentEditable,Ghb.test(r.tagName)||""===s||"true"===s))return;if(!e.getKey)return e;for(this.processing=!0;i<n;++i)this.processBinding(t[i],e);this.processing=!1}}),processEvent:Ext.identityFn,processBinding:function(e,t){if(this.checkModifiers(e,t)){var i,n,r=t.getKey(),s=e.fn||e.handler,o=e.scope||this,a=e.keyCode,l=e.defaultEventAction,d=new Ext.EventObjectImpl(t);for(i=0,n=a.length;i<n;++i)if(r===a[i]){!0!==s.call(o,r,t)&&l&&d[l]();break}}},checkModifiers:function(e,t){for(var i,n,r=["shift","ctrl","alt"],s=0,o=r.length;s<o;++s)if(void 0!==(i=e[n=r[s]])&&i!==t[n+"Key"])return!1;return!0},on:function(e,t,i){var n,r,s,o;Ext.isObject(e)&&!Ext.isArray(e)?(n=e.key,r=e.shift,s=e.ctrl,o=e.alt):n=e,this.addBinding({key:n,shift:r,ctrl:s,alt:o,fn:t,scope:i})},un:function(e,t,i){var n,r,s,o;Ext.isObject(e)&&!Ext.isArray(e)?(n=e.key,r=e.shift,s=e.ctrl,o=e.alt):n=e,this.removeBinding({key:n,shift:r,ctrl:s,alt:o,fn:t,scope:i})},isEnabled:function(){return this.enabled},enable:function(){this.enabled||(this.target.on(this.eventName,this.handleTargetEvent,this),this.enabled=!0)},disable:function(){this.enabled&&(this.target.removeListener(this.eventName,this.handleTargetEvent,this),this.enabled=!1)},setDisabled:function(e){e?this.disable():this.enable()},destroy:function(e){var t=this.target;this.bindings=[],this.disable(),!0===e&&(t.isComponent?t.destroy():t.remove()),delete this.target}}),Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(e){2!==arguments.length?this.setConfig(e):this.legacyConstructor.apply(this,arguments)},legacyConstructor:function(e,t){this.setConfig(Ext.apply({target:e},t))},setConfig:function(e){var t,i,n,r,s,o=this,a={target:e.target,ignoreInputFields:e.ignoreInputFields,eventName:o.getKeyEvent("forceKeyDown"in e?e.forceKeyDown:o.forceKeyDown,e.eventName)};for(r in o.map&&o.map.destroy(),e.processEvent&&(a.processEvent=e.processEvent,a.processEventScope=e.processEventScope||o),e.keyMap?t=o.map=e.keyMap:(t=o.map=new Ext.util.KeyMap(a),o.destroyKeyMap=!0),i=Ext.util.KeyNav.keyOptions,n=e.scope||o,i)i.hasOwnProperty(r)&&(s=e[r])&&("function"==typeof s&&(s={handler:s,defaultEventAction:void 0!==e.defaultEventAction?e.defaultEventAction:o.defaultEventAction}),t.addBinding({key:i[r],handler:Ext.Function.bind(o.handleEvent,s.scope||n,s.handler||s.fn,!0),defaultEventAction:void 0!==s.defaultEventAction?s.defaultEventAction:o.defaultEventAction}));t.disable(),e.disabled||t.enable()},handleEvent:function(e,t,i){return i.call(this,t)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(e){this.destroyKeyMap&&this.map.destroy(e),delete this.map},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable(),this.disabled=!0},setDisabled:function(e){this.map.setDisabled(e),this.disabled=e},getKeyEvent:function(e,t){return e||Ext.EventManager.useKeyDown&&!t?"keydown":t||this.eventName}}),Ext.define("Ext.FocusManager",{singleton:!0,alternateClassName:["Ext.FocusMgr"],mixins:{observable:Ext.util.Observable},enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(e){var t=this,i=Ext.ComponentQuery;t.mixins.observable.constructor.call(t,e),t.addEvents("beforecomponentfocus","componentfocus","disable","enable"),t.focusTask=new Ext.util.DelayedTask(t.handleComponentFocus,t),Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments),t.enabled&&this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentFocus.apply(t,arguments))},onBlur:function(){this.callParent(arguments),t.enabled&&!this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentBlur.apply(t,arguments))},onDestroy:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentDestroy.apply(t,arguments))}}),Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentHide.apply(t,arguments))}}),t.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:t,backspace:t.focusLast,enter:t.navigateIn,esc:t.navigateOut,tab:t.navigateSiblings,space:t.navigateIn,del:t.focusLast,left:t.navigateSiblings,right:t.navigateSiblings,down:t.navigateSiblings,up:t.navigateSiblings}),t.focusData={},t.subscribers=new Ext.util.HashMap,t.focusChain={},Ext.apply(i.pseudos,{nextFocus:function(e,t,i){i=i||1,t=parseInt(t,10);for(var n,r=e.length,s=t;;){if((s+=i)>=r?s=0:s<0&&(s=r-1),s===t)return[];if((n=e[s]).isFocusable())return[n]}return[]},prevFocus:function(e,t){return this.nextFocus(e,t,-1)},root:function(e){for(var t,i=e.length,n=[],r=0;r<i;r++)(t=e[r]).ownerCt||n.push(t);return n}})},addXTypeToWhitelist:function(e){Ext.isArray(e)?Ext.Array.forEach(e,this.addXTypeToWhitelist,this):Ext.Array.contains(this.whitelist,e)||this.whitelist.push(e)},clearComponent:function(e){clearTimeout(this.cmpFocusDelay),e.isDestroyed||e.blur()},disable:function(){this.enabled&&(delete this.options,this.enabled=!1,this.removeDOM(),this.keyNav.disable(),this.fireEvent("disable",this))},enable:function(e){!0===e&&(e={focusFrame:!0}),this.options=e=e||{},this.enabled||(this.enabled=!0,this.initDOM(e),this.keyNav.enable(),this.focusEl.focus(),delete this.focusedCmp,this.fireEvent("enable",this))},focusLast:function(e){if(this.isWhitelisted(this.focusedCmp))return!0;this.previousFocusedCmp&&this.previousFocusedCmp.focus()},getRootComponents:function(){var e=Ext.ComponentQuery,t=e.query(":focusable:root:not([floating])"),i=e.query(":focusable:root[floating]");return i.sort(function(e,t){return e.el.getZIndex()>t.el.getZIndex()}),i.concat(t)},initDOM:function(e){var t=this,i=t.focusFrameCls,n=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),r=0,s=n.length;if(!Ext.isReady)return Ext.onReady(t.initDOM,t);for(;r<s;r++)n[r].addFocusListener();t.focusEl||(t.focusEl=Ext.getBody(),t.focusEl.dom.tabIndex=-1),!t.focusFrame&&e.focusFrame&&(t.focusFrame=Ext.getBody().createChild({cls:i,children:[{cls:i+"-top"},{cls:i+"-bottom"},{cls:i+"-left"},{cls:i+"-right"}],style:"top: -100px; left: -100px;"}),t.focusFrame.setVisibilityMode(Ext.Element.DISPLAY),t.focusFrame.hide().setLocalXY(0,0))},isWhitelisted:function(t){return t&&Ext.Array.some(this.whitelist,function(e){return t.isXType(e)})},navigateIn:function(e){var t,i,n=this.focusedCmp;if(this.isWhitelisted(n))return!0;n?(i=n.hasFocus?Ext.ComponentQuery.query(">:focusable",n)[0]:n)?i.focus():Ext.isFunction(n.onClick)&&(e.button=0,n.onClick(e),n.isVisible(!0)?n.focus():this.navigateOut()):(t=this.getRootComponents()[0])&&(t.getFocusEl()===this.focusEl&&this.focusEl.blur(),t.focus())},navigateOut:function(e){var t;return this.focusedCmp&&(t=this.focusedCmp.up(":focusable"))?t.focus():this.focusEl.focus(),!0},navigateSiblings:function(e,t,i){var n,r,s,o,a=t||this,l=e.getKey(),d=Ext.EventObject,h=e.shiftKey||l==d.LEFT||l==d.UP,c=l==d.LEFT||l==d.RIGHT||l==d.UP||l==d.DOWN,u=h?"prev":"next";return!(s=a.focusedCmp&&a.focusedCmp.comp||a.focusedCmp)&&!i||(!(!c||!this.isWhitelisted(s))||(!s||s.is(":root")?o=this.getRootComponents():(i=i||s.up())&&(o=i.getRefItems()),o&&(n=s?Ext.Array.indexOf(o,s):-1,(r=Ext.ComponentQuery.query(":"+u+"Focus("+n+")",o)[0])&&s!==r)?(r.focus(),r):void 0))},onComponentBlur:function(e,t){this.focusedCmp===e&&(this.previousFocusedCmp=e,delete this.focusedCmp),this.focusFrame&&this.focusFrame.hide()},onComponentFocus:function(e,t){var i,n=this.focusChain;if(e.isFocusable())this.focusChain={},this.focusTask.delay(10,null,null,[e,e.getFocusEl()]);else{if(this.clearComponent(e),n[e.id])return;(i=e.up())&&(n[e.id]=!0,i.focus())}},handleComponentFocus:function(e,t){var i,n,r,s,o,a,l,d,h,c,u,f=this;!1!==f.fireEvent("beforecomponentfocus",f,e,f.previousFocusedCmp)?(f.focusedCmp=e,f.shouldShowFocusFrame(e)&&(i="."+f.focusFrameCls+"-",n=f.focusFrame,s=(r=(t.dom?t:t.el).getBox()).top,o=r.left,a=r.width,l=r.height,d=n.child(i+"top"),h=n.child(i+"bottom"),c=n.child(i+"left"),u=n.child(i+"right"),d.setWidth(a).setLocalXY(o,s),h.setWidth(a).setLocalXY(o,s+l-2),c.setHeight(l-2).setLocalXY(o,s+2),u.setHeight(l-2).setLocalXY(o+a-2,s+2),n.show()),f.fireEvent("componentfocus",f,e,f.previousFocusedCmp)):f.clearComponent(e)},onComponentHide:function(e){var t,i=!1;this.focusedCmp&&(i=e.hasFocus||e.isContainer&&e.isAncestor(this.focusedCmp)),this.clearComponent(e),i&&(t=e.up(":focusable"))?t.focus():this.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){this.enabled||this.subscribers.length||(Ext.destroy(this.focusFrame),delete this.focusEl,delete this.focusFrame)},removeXTypeFromWhitelist:function(e){Ext.isArray(e)?Ext.Array.forEach(e,this.removeXTypeFromWhitelist,this):Ext.Array.remove(this.whitelist,e)},setupSubscriberKeys:function(n,e){var r=this,t=n.getFocusEl(),s=e.scope,o={backspace:r.focusLast,enter:r.navigateIn,esc:r.navigateOut,scope:r};return Ext.iterate(e,function(e,i){o[e]=function(e){var t=function(e){return r.focusedCmp===n?r.navigateSiblings(e,r,n):r.navigateSiblings(e)}(e);return!(!Ext.isFunction(i)||!0!==i.call(s||n,e,t))||t}},r),new Ext.util.KeyNav(t,o)},shouldShowFocusFrame:function(e){var t=this.options||{};return!(!this.focusFrame||!e)&&(!!t.focusFrame||!!this.focusData[e.id].focusFrame)}}),Ext.define("Ext.Img",{extend:Ext.Component,alias:["widget.image","widget.imagecomponent"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",ariaRole:"img",initComponent:function(){this.glyph&&(this.autoEl="div"),this.callParent()},getElConfig:function(){var e,t,i=this,n=i.autoEl,r=i.callParent(),s=Ext._glyphFontFamily,o=i.glyph;return"img"===n||Ext.isObject(n)&&"img"===n.tag?e=r:i.glyph?("string"==typeof o&&(o=(t=o.split("@"))[0],s=t[1]),r.html="&#"+o+";",s&&(r.style="font-family:"+s)):r.cn=[e={tag:"img",role:i.ariaRole,id:i.id+"-img"}],e&&(i.imgCls&&(e.cls=(e.cls?e.cls+" ":"")+i.imgCls),e.src=i.src||Ext.BLANK_IMAGE_URL),i.alt&&((e||r).alt=i.alt),i.title&&((e||r).title=i.title),r},onRender:function(){var e,t=this.autoEl;this.callParent(arguments),e=this.el,"img"===t||Ext.isObject(t)&&"img"===t.tag?this.imgEl=e:this.imgEl=e.getById(this.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl),this.imgEl=null,this.callParent()},setSrc:function(e){var t=this.imgEl;this.src=e,t&&(t.dom.src=e||Ext.BLANK_IMAGE_URL)},setGlyph:function(e){var t,i,n=Ext._glyphFontFamily;e!=this.glyph&&("string"==typeof e&&(e=(t=e.split("@"))[0],n=t[1]),(i=this.el.dom).innerHTML="&#"+e+";",n&&(i.style="font-family:"+n))}}),Ext.define("Ext.util.Bindable",{bindStore:function(e,t,i){var n=this[i=i||"store"];return!t&&n&&(this.onUnbindStore(n,t,i),e!==n&&n.autoDestroy?n.destroyStore():this.unbindStoreListeners(n)),e&&(e=Ext.data.StoreManager.lookup(e),this.bindStoreListeners(e),this.onBindStore(e,t,i)),this[i]=e||null,this},getStore:function(){return this.store},unbindStoreListeners:function(e){var t=this.storeListeners;t&&e.un(t)},bindStoreListeners:function(e){var t=Ext.apply({},this.getStoreListeners(e));t.scope||(t.scope=this),this.storeListeners=t,e.on(t)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn}),Ext.define("Ext.LoadMask",{extend:Ext.Component,alias:"widget.loadmask",mixins:{floating:Ext.util.Floating,bindable:Ext.util.Bindable},msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:!0,useTargetEl:!1,baseCls:Ext.baseCSSPrefix+"mask-msg",ariaRole:"presentation",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" role="{role}"','<tpl if="ariaAttr"> {ariaAttr}</tpl>',' class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner{childElCls}">','<div id="{id}-msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}"></div>',"</div>"],floating:{shadow:"frame"},focusOnToFront:!1,bringParentToFront:!1,constructor:function(e){var t;2===arguments.length?(t=e,e=arguments[1]):t=e.target,t.isComponent||(t=Ext.get(t),this.isElement=!0),this.ownerCt=t,this.isElement||this.bindComponent(t),this.callParent([e]),this.store&&this.bindStore(this.store,!0)},bindComponent:function(e){var t=this,i={scope:this,resize:t.sizeMask,added:t.onComponentAdded,removed:t.onComponentRemoved};e.floating?(i.move=t.sizeMask,t.activeOwner=e):e.ownerCt?t.onComponentAdded(e.ownerCt):t.preventBringToFront=!0,t.mon(e,i),t.mon(t.hierarchyEventSource,{show:t.onContainerShow,hide:t.onContainerHide,expand:t.onContainerExpand,collapse:t.onContainerCollapse,scope:t})},onComponentAdded:function(e){var t=this;delete t.activeOwner,(t.floatParent=e).floating||(e=e.up("[floating]")),e?(t.activeOwner=e,t.mon(e,"move",t.sizeMask,t)):t.preventBringToFront=!0,e=t.floatParent.ownerCt,t.rendered&&t.isVisible()&&e&&(t.floatOwner=e,t.mon(e,"afterlayout",t.sizeMask,t,{single:!0}))},onComponentRemoved:function(e){var t=this,i=t.activeOwner,n=t.floatOwner;i&&t.mun(i,"move",t.sizeMask,t),n&&t.mun(n,"afterlayout",t.sizeMask,t),delete t.activeOwner,delete t.floatOwner},afterRender:function(){this.callParent(arguments),this.container=this.floatParent.getContentTarget()},onContainerShow:function(e){this.isActiveContainer(e)&&this.onComponentShow()},onContainerHide:function(e){this.isActiveContainer(e)&&this.onComponentHide()},onContainerExpand:function(e){this.isActiveContainer(e)&&this.onComponentShow()},onContainerCollapse:function(e){this.isActiveContainer(e)&&this.onComponentHide()},isActiveContainer:function(e){return this.isDescendantOf(e)},onComponentHide:function(){this.rendered&&this.isVisible()&&(this.hide(),this.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var e;this.rendered&&this.isVisible()&&(this.center(),e=this.getMaskTarget(),this.getMaskEl().show().setSize(e.getSize()).alignTo(e,"tl-tl"))},bindStore:function(e,t){this.mixins.bindable.bindStore.apply(this,arguments),(e=this.store)&&e.isLoading()&&this.onBeforeLoad()},getStoreListeners:function(e){var t=this.onLoad,i=this.onBeforeLoad,n={cachemiss:i,cachefilled:t};return e.proxy.isSynchronous||(n.beforeLoad=i,n.load=t),n},onDisable:function(){this.callParent(arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var e=this.getOwner();return this.useTargetEl?e.getTargetEl():e.getEl()},onBeforeLoad:function(){var e,t=this,i=t.getOwner();t.disabled||(t.loading=!0,i.componentLayoutCounter?t.maybeShow():(e=i.afterComponentLayout,i.afterComponentLayout=function(){(i.afterComponentLayout=e).apply(i,arguments),t.maybeShow()}))},maybeShow:function(){var e=this.getOwner();e.isVisible(!0)?this.loading&&e.rendered&&this.show():this.showNext=!0},getMaskEl:function(){return this.maskEl||(this.maskEl=this.el.insertSibling({role:"presentation",cls:this.maskCls,style:{zIndex:this.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var e=this.msgEl;this.callParent(arguments),this.loading=!0,this.useMsg?(e.show(),this.msgTextEl.update(this.msg)):e.parent().hide()},hide:function(){return this.isElement?(this.ownerCt.unmask(),void this.fireEvent("hide",this)):(delete this.showNext,this.callParent(arguments))},onHide:function(){this.callParent(),this.getMaskEl().hide()},show:function(){return this.isElement?(this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),void this.fireEvent("show",this)):this.callParent(arguments)},afterShow:function(){this.callParent(arguments),this.sizeMask()},setZIndex:function(e){var t=this.activeOwner;return t&&(e=parseInt(t.el.getStyle("zIndex"),10)+1),this.getMaskEl().setStyle("zIndex",e-1),this.mixins.floating.setZIndex.apply(this,arguments)},onLoad:function(){this.loading=!1,this.hide()},onDestroy:function(){this.isElement&&this.ownerCt.unmask(),Ext.destroy(this.maskEl),this.callParent()}}),Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",associationKeyFunction:null,defaultReaderType:"json",isAssociation:!0,initialConfig:null,statics:{AUTO_ID:1e3,create:function(e){switch(Ext.isString(e)&&(e={type:e}),e.type){case"belongsTo":return new Ext.data.association.BelongsTo(e);case"hasMany":return new Ext.data.association.HasMany(e);case"hasOne":return new Ext.data.association.HasOne(e)}return e}},constructor:function(e){Ext.apply(this,e);var t,i=Ext.ModelManager.types,n=e.ownerModel,r=e.associatedModel,s=i[n],o=i[r],a=e.associationKey;a&&0<=(t=String(a).search(/[\[\.]/))&&(this.associationKeyFunction=Ext.functionFactory("obj","return obj"+(0<t?".":"")+a)),this.initialConfig=e,this.ownerModel=s,this.associatedModel=o,Ext.applyIf(this,{ownerName:n,associatedName:r}),this.associationId="association"+ ++this.statics().AUTO_ID},getReader:function(){var e=this.reader,t=this.associatedModel;return e&&(Ext.isString(e)&&(e={type:e}),e.isReader?e.setModel(t):Ext.applyIf(e,{model:t,type:this.defaultReaderType}),this.reader=Ext.createByAlias("reader."+e.type,e)),this.reader||null}}),Ext.define("Ext.ModelManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ModelMgr",singleton:!0,typeName:"mtype",associationStack:[],registerType:function(e,t){var i,n=t.prototype;return i=n&&n.isModel?t:(t.extend||(t.extend="Ext.data.Model"),Ext.define(e,t)),this.types[e]=i},unregisterType:function(e){delete this.types[e]},onModelDefined:function(e){var t,i,n,r=this.associationStack,s=r.length,o=[];for(i=0;i<s;i++)(t=r[i]).associatedModel==e.modelName&&o.push(t);for(i=0,s=o.length;i<s;i++)n=o[i],this.types[n.ownerModel].prototype.associations.add(Ext.data.association.Association.create(n)),Ext.Array.remove(r,n)},registerDeferredAssociation:function(e){this.associationStack.push(e)},getModel:function(e){var t=e;return"string"==typeof t&&(t=this.types[t]),t},create:function(e,t,i){return new("function"==typeof t?t:this.types[t||e.name])(e,i)}},function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}}),Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:Ext.layout.component.Auto,type:"progressbar",beginLayout:function(e){var t,i;if(this.callParent(arguments),!e.textEls)if((i=this.owner.textEl).isComposite)for(e.textEls=[],t=(i=i.elements).length;t--;)e.textEls[t]=e.getEl(Ext.get(i[t]));else e.textEls=[e.getEl("textEl")]},calculate:function(e){var t,i,n;if(this.callParent(arguments),Ext.isNumber(n=e.getProp("width")))for(n-=e.getBorderInfo().width,t=(i=e.textEls).length;t--;)i[t].setWidth(n);else this.done=!1}}),Ext.define("Ext.ProgressBar",{extend:Ext.Component,alias:"widget.progressbar",baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",initComponent:function(){this.callParent(),this.addEvents("update")},initRenderData:function(){return Ext.apply(this.callParent(),{internalText:!this.hasOwnProperty("textEl"),text:this.text||"&#160;",percentage:this.value?100*this.value:0})},onRender:function(){this.callParent(arguments),this.textEl?(this.textEl=Ext.get(this.textEl),this.updateText(this.text)):this.textEl=this.el.select("."+this.baseCls+"-text")},updateProgress:function(e,t,i){var n=this,r=n.value;return n.value=e||0,t&&n.updateText(t),n.rendered&&!n.isDestroyed&&(!0===i||!1!==i&&n.animate?(n.bar.stopAnimation(),n.bar.animate(Ext.apply({from:{width:100*r+"%"},to:{width:100*n.value+"%"}},n.animate))):n.bar.setStyle("width",100*n.value+"%")),n.fireEvent("update",n,n.value,t),n},updateText:function(e){return this.text=e,this.rendered&&this.textEl.update(this.text),this},applyText:function(e){this.updateText(e)},getText:function(){return this.text},wait:function(i){var e,n=this;return n.waitTimer||(i=i||{},(e=n).updateText(i.text),n.waitTimer=Ext.TaskManager.start({run:function(e){var t=i.increment||10;e-=1,n.updateProgress(100/t*((e+t)%t+1)*.01,null,i.animate)},interval:i.interval||1e3,duration:i.duration,onStop:function(){i.fn&&i.fn.apply(i.scope||n),n.reset()},scope:e})),n},isWaiting:function(){return null!==this.waitTimer},reset:function(e){return this.updateProgress(0),this.clearTimer(),!0===e&&this.hide(),this},clearTimer:function(){this.waitTimer&&(this.waitTimer.onStop=null,Ext.TaskManager.stop(this.waitTimer),this.waitTimer=null)},onDestroy:function(){var e=this.bar;this.clearTimer(),this.rendered&&(this.textEl.isComposite&&this.textEl.clear(),Ext.destroyMembers(this,"textEl","progressBar"),e&&this.animate&&e.stopAnimation()),this.callParent()}}),Ext.define("Ext.ShadowPool",{singleton:!0,markup:Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css"),shadows:[],pull:function(){var e=this.shadows.shift();return e||((e=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup))).autoBoxAdjust=!1),e},push:function(e){this.shadows.push(e)},reset:function(){var e,t=[].concat(this.shadows),i=t.length;for(e=0;e<i;e++)t[e].remove();this.shadows=[]}}),Ext.define("Ext.Shadow",{localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(e){var t,i,n;switch(Ext.apply(this,e),Ext.isString(this.mode)||(this.mode=this.defaultMode),i=this.offset,n=Math.floor(i/2),this.opacity=50,this.mode.toLowerCase()){case"drop":t=Ext.supports.CSS3BoxShadow?{t:i,l:i,h:-i,w:-i}:{t:-n,l:-n,h:-n,w:-n};break;case"sides":t=Ext.supports.CSS3BoxShadow?{t:i,l:0,h:-i,w:0}:{t:-(1+n),l:1+n-2*i,h:-1,w:n-1};break;case"frame":t=Ext.supports.CSS3BoxShadow?{t:0,l:0,h:0,w:0}:{t:1+n-2*i,l:1+n-2*i,h:i-n-1,w:i-n-1};break;case"bottom":t=Ext.supports.CSS3BoxShadow?{t:i,l:0,h:-i,w:0}:{t:i,l:0,h:0,w:0}}this.adjusts=t},getShadowSize:function(){var e=this.el?this.offset:0,t=[e,e,e,e],i=this.mode.toLowerCase();return this.el&&"frame"!==i&&(t[0]=0,"drop"==i&&(t[3]=0)),t},offset:4,defaultMode:"drop",boxShadowProperty:(tnb="boxShadow",unb=document.documentElement.style,"boxShadow"in unb||("WebkitBoxShadow"in unb?tnb="WebkitBoxShadow":"MozBoxShadow"in unb&&(tnb="MozBoxShadow")),tnb),show:function(e){var t,i,n=this;e=Ext.get(e),t=parseInt(e.getStyle("z-index"),10)-1||0,i=e[n.localXYNames.get](),n.el||(n.el=Ext.ShadowPool.pull(),n.fixed?n.el.dom.style.position="fixed":n.el.dom.style.position="",n.el.dom.nextSibling!=e.dom&&n.el.insertBefore(e)),n.el.setStyle("z-index",n.zIndex||t),Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(n.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+n.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+n.offset+")"),n.realign(i[0],i[1],e.dom.offsetWidth,e.dom.offsetHeight),n.el.dom.style.display="block"},isVisible:function(){return!!this.el},realign:function(e,t,i,n){if(this.el){var r,s,o=this.adjusts,a=this.el,l=a.dom.style;a[this.localXYNames.set](e+o.l,t+o.t),r=Math.max(i+o.w,0)+"px",s=Math.max(n+o.h,0)+"px",l.width==r&&l.height==s||(l.width=r,l.height=s,Ext.supports.CSS3BoxShadow&&(l[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"))}},hide:function(){this.el&&(this.el.dom.style.display="none",Ext.ShadowPool.push(this.el),delete this.el)},setZIndex:function(e){this.zIndex=e,this.el&&this.el.setStyle("z-index",e)},setOpacity:function(e){this.el&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(e=Math.floor(100*e/2)/100),this.opacity=e,this.el.setOpacity(e))}}),Ext.define("Ext.app.EventDomain",{statics:{instances:{}},isEventDomain:!0,constructor:function(){(Ext.app.EventDomain.instances[this.type]=this).bus={},this.monitoredClasses=[]},dispatch:function(e,t,i){var n,r,s,o,a,l,d,h=this.bus[t];if(!h)return!0;for(n in h)if(h.hasOwnProperty(n)&&this.match(e,n))for(s in r=h[n])if(r.hasOwnProperty(s))for(l=0,d=(o=r[s]).length;l<d;l++)if(!1===(a=o[l]).fire.apply(a,i))return!1;return!0},listen:function(e,t){var i,n,r,s,o,a,l,d,h,c=this.bus,u=this.idProperty,f=this.monitoredClasses,g=f.length;for(r in e)if(e.hasOwnProperty(r)&&(d=e[r]))for(h in u&&(r="*"===r?r:r.substring(1)),d)if(d.hasOwnProperty(h)){for(s=null,o=d[h],a=t,l=new Ext.util.Event(t,h),Ext.isObject(o)&&(o=(s=o).fn,a=s.scope||t,delete s.fn,delete s.scope),"string"==typeof o&&(o=a[o]),l.addListener(o,a,s),i=g;0<i--;)f[i].hasListeners._incr_(h);((n=(n=c[h]||(c[h]={}))[r]||(n[r]={}))[t.id]||(n[t.id]=[])).push(l)}},match:function(e,t){var i=this.idProperty;return!!i&&("*"===t||e[i]===t)},monitor:function(e){var n=this,t=e.isInstance?e:e.prototype,r=t.fireEventArgs;n.monitoredClasses.push(e),t.fireEventArgs=function(e,t){var i=r.apply(this,arguments);return!1!==i&&(i=n.dispatch(this,e,t)),i}},unlisten:function(e){var t,i,n,r=this.bus;for(t in r)if(r.hasOwnProperty(t)&&(n=r[t]))for(i in n)delete n[i][e]}}),Ext.define("Ext.app.domain.Component",{extend:Ext.app.EventDomain,singleton:!0,type:"component",constructor:function(){this.callParent(),this.monitor(Ext.Component)},match:function(e,t){return e.is(t)}}),Ext.define("Ext.app.EventBus",{singleton:!0,constructor:function(){var e=Ext.app.EventDomain.instances;this.callParent(),this.domains=e,this.bus=e.component.bus},control:function(e,t){return this.domains.component.listen(e,t)},listen:function(e,t){var i,n=this.domains;for(i in e)e.hasOwnProperty(i)&&n[i].listen(e[i],t)},unlisten:function(e){var t,i=Ext.app.EventDomain.instances;for(t in i)i[t].unlisten(e)}}),Ext.define("Ext.data.StoreManager",{extend:Ext.util.MixedCollection,alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,register:function(){for(var e,t=0;e=arguments[t];t++)this.add(e)},unregister:function(){for(var e,t=0;e=arguments[t];t++)this.remove(this.lookup(e))},lookup:function(e){if(Ext.isArray(e)){var t,i,n=["field1"],r=!Ext.isArray(e[0]),s=e;if(r)for(s=[],t=0,i=e.length;t<i;++t)s.push([e[t]]);else for(t=2,i=e[0].length;t<=i;++t)n.push("field"+t);return new Ext.data.ArrayStore({data:s,fields:n,autoDestroy:!0,autoCreated:!0,expanded:r})}return Ext.isString(e)?this.get(e):Ext.data.AbstractStore.create(e)},getKey:function(e){return e.storeId}},function(){Ext.regStore=function(e,t){var i;return Ext.isObject(e)?t=e:t.storeId=e,i=t instanceof Ext.data.Store?t:new Ext.data.Store(t),Ext.data.StoreManager.register(i)},Ext.getStore=function(e){return Ext.data.StoreManager.lookup(e)}}),Ext.define("Ext.app.domain.Global",{extend:Ext.app.EventDomain,singleton:!0,type:"global",constructor:function(){this.callParent(),this.monitor(Ext.globalEvents)},listen:function(e,t){this.callParent([{global:e},t])},match:function(){return!0}}),Ext.define("Ext.data.ResultSet",{loaded:!0,count:0,total:0,success:!1,constructor:function(e){Ext.apply(this,e),this.totalRecords=this.total,void 0===e.count&&(this.count=this.records.length)}}),Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:Ext.util.Observable},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:!0,readRecordsOnFailure:!0,isReader:!0,applyDefaults:!0,lastFieldGeneration:null,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.model=Ext.ModelManager.getModel(this.model),this.model&&this.model.prototype.fields&&this.buildExtractors(),this.addEvents("exception")},setModel:function(e,t){var i=this.model,n=!0;(e=this.model=Ext.ModelManager.getModel(e))&&i===e&&(n=this.lastFieldGeneration!==e.prototype.fields.generation),e&&this.buildExtractors(n),t&&this.proxy&&this.proxy.setModel(e,!0)},read:function(e){var t;return e&&(t=e.responseText?this.getResponseData(e):this.readRecords(e)),t||this.nullResultSet},readRecords:function(e){var t,i,n,r,s,o,a,l=this;return l.lastFieldGeneration!==l.model.prototype.fields.generation&&l.buildExtractors(!0),l.rawData=e,e=l.getData(e),t=!0,i=0,n=[],l.successProperty&&(!1!==(o=l.getSuccess(e))&&"false"!==o||(t=!1)),l.messageProperty&&(a=l.getMessage(e)),(l.readRecordsOnFailure||t)&&((r=Ext.isArray(e)?e:l.getRoot(e))&&(s=r.length),l.totalProperty&&(o=parseInt(l.getTotal(e),10),isNaN(o)||(s=o)),r&&(i=(n=l.extractData(r)).length)),new Ext.data.ResultSet({total:s||i,count:i,records:n,success:t,message:a})},extractData:function(e){var t,i,n,r,s=this.model,o=e.length,a=new Array(o);for(!e.length&&Ext.isObject(e)&&(e=[e],o=1),r=0;r<o;r++)(i=e[r]).isModel?a[r]=i:(a[r]=n=new s(void 0,this.getId(i),i,t={}),n.phantom=!1,this.convertRecordData(t,i,n),this.implicitIncludes&&n.associations.length&&this.readAssociated(n,i));return a},readAssociated:function(e,t){for(var i,n,r,s,o=e.associations.items,a=0,l=o.length;a<l;a++)i=o[a],(n=this.getAssociatedDataRoot(t,i.associationKeyFunction||i.associationKey||i.name))&&(s=(s=i.getReader())||((r=i.associatedModel.getProxy())?r.getReader():new this.constructor({model:i.associatedName})),i.read(e,s,n))},getAssociatedDataRoot:function(e,t){return Ext.isFunction(t)?t(e):e[t]},getFields:function(){return this.model.prototype.fields.items},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(e){},onMetaChange:function(e){var t,i,n=this,r=e.fields||n.getFields();n.metaData=e,n.root=e.root||n.root,n.idProperty=e.idProperty||n.idProperty,n.totalProperty=e.totalProperty||n.totalProperty,n.successProperty=e.successProperty||n.successProperty,n.messageProperty=e.messageProperty||n.messageProperty,i=e.clientIdProperty,n.model?(n.model.setFields(r,n.idProperty,i),n.setModel(n.model,!0)):(t=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:r,clientIdProperty:i}),n.idProperty&&(t.idProperty=n.idProperty),n.setModel(t,!0))},getIdProperty:function(){var e=this.model.prototype.idField,t=this.idProperty;return!t&&e&&null==(t=e.mapping)&&(t=e.name),t},buildExtractors:function(e){var i,n=this,t=n.getIdProperty(),r=n.totalProperty,s=n.successProperty,o=n.messageProperty;!0===e&&delete n.convertRecordData,n.convertRecordData||(r&&(n.getTotal=n.createAccessor(r)),s&&(n.getSuccess=n.createAccessor(s)),o&&(n.getMessage=n.createAccessor(o)),t?(i=n.createAccessor(t),n.getId=function(e){var t=i.call(n,e);return void 0===t||""===t?null:t}):n.getId=function(){return null},n.convertRecordData=n.buildRecordDataExtractor(),n.lastFieldGeneration=n.model.prototype.fields.generation)},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.map["{name}"]\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");',"   if (fieldAccessExpression) { %}",'    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };\n","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","{% } else { %}",'<tpl if="defaultValue !== undefined">','<tpl if="convert">','    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'    dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","</tpl>","{% } %}","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var e=this,t=e.model.prototype,i={clientIdProp:t.clientIdProperty,fields:t.fields.items};return e.recordDataExtractorTemplate.createFieldAccessExpression=function(){return e.createFieldAccessExpression.apply(e,arguments)},Ext.functionFactory(e.recordDataExtractorTemplate.apply(i)).call(e)},destroyReader:function(){delete this.proxy,delete this.model,delete this.convertRecordData,delete this.getId,delete this.getTotal,delete this.getSuccess,delete this.getMessage}},function(){var e=this.prototype;Ext.apply(e,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""}),recordDataExtractorTemplate:new Ext.XTemplate(e.recordDataExtractorTemplate)})}),Ext.define("Ext.data.reader.Json",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",metaProperty:"metaData",useSimpleAccessors:!1,readRecords:function(e){var t;return this.getMeta?(t=this.getMeta(e))&&this.onMetaChange(t):e.metaData&&this.onMetaChange(e.metaData),this.jsonData=e,this.callParent([e])},getResponseData:function(t){var e,i;try{return e=Ext.decode(t.responseText),this.readRecords(e)}catch(e){return i=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:e.message}),this.fireEvent("exception",this,t,i),Ext.Logger.warn("Unable to parse the JSON returned by the server"),i}},buildExtractors:function(){var e=this.metaProperty;this.callParent(arguments),this.root?this.getRoot=this.createAccessor(this.root):this.getRoot=Ext.identityFn,e&&(this.getMeta=this.createAccessor(e))},extractData:function(e){var t,i,n=this.record,r=[];if(n)for(!(t=e.length)&&Ext.isObject(e)&&(t=1,e=[e]),i=0;i<t;i++)r[i]=e[i][n];else r=e;return this.callParent([r])},createAccessor:(Fqb=/[\[\.]/,function(t){if(Ext.isEmpty(t))return Ext.emptyFn;if(Ext.isFunction(t))return t;if(!0!==this.useSimpleAccessors){var e=String(t).search(Fqb);if(0<=e)return Ext.functionFactory("obj","return obj"+(0<e?".":"")+t)}return function(e){return e[t]}}),createFieldAccessExpression:(Jqb=/[\[\.]/,function(e,t,i){var n,r,s=e.mapping,o=s||0===s,a=o?s:e.name;if(!1!==s){if("function"==typeof a)n=t+".mapping("+i+", this)";else if(!0===this.useSimpleAccessors||(r=String(a).search(Jqb))<0)o&&!isNaN(a)||(a='"'+a+'"'),n=i+"["+a+"]";else if(0===r)n=i+a;else{for(var l=a.split("."),d=l.length,h=1,c=i+"."+l[0],u=[c];h<d;h++)c+="."+l[h],u.push(c);n=u.join(" && ")}return n}})}),Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:!0,nameProperty:"name",writeRecordId:!0,isWriter:!0,constructor:function(e){Ext.apply(this,e)},write:function(e){for(var t=e.operation,i=t.records||[],n=i.length,r=0,s=[];r<n;r++)s.push(this.getRecordData(i[r],t));return this.writeRecords(e,s)},getRecordData:function(e,t){var i,n,r,s,o,a=!0===e.phantom,l=this.writeAllFields||a,d=e.fields,h=d.items,c={},u=e.clientIdProperty;if(l)for(o=h.length,s=0;s<o;s++)(n=h[s]).persist&&this.writeValue(c,n,e);else if("destroy"===t.action)this.writeValue(c,e.idField,e);else for(r in i=e.getChanges())i.hasOwnProperty(r)&&(n=d.get(r)).persist&&this.writeValue(c,n,e);return a?u&&t&&1<t.records.length&&(c[u]=e.internalId):this.writeRecordId&&(c[d.get(e.idProperty)[this.nameProperty]||e.idProperty]=e.getId()),c},writeValue:function(e,t,i){var n=t[this.nameProperty],r=this.dateFormat||t.dateWriteFormat||t.dateFormat,s=i.get(t.name);null==n&&(n=t.name),t.serialize?e[n]=t.serialize(s,i):t.type===Ext.data.Types.DATE&&r&&Ext.isDate(s)?e[n]=Ext.Date.format(s,r):e[n]=s}}),Ext.define("Ext.data.writer.Json",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:void 0,encode:!1,allowSingle:!0,expandData:!1,getExpandedData:function(e){for(var t,i,n,r,s,o,a,l=e.length,d=0;d<l;d++)for(i in t=e[d])if(t.hasOwnProperty(i)&&0<(r=(n=i.split(".")).length-1)){for(s=t[i];0<r;r--)o=n[r],a=void 0,(a={})[o]=s,s=a;t[n[0]]=t[n[0]]||{},Ext.Object.merge(t[n[0]],s),delete t[i]}return e},writeRecords:function(e,t){var i=this.root;return this.expandData&&(t=this.getExpandedData(t)),this.allowSingle&&1===t.length&&(t=t[0]),this.encode?i&&(e.params[i]=Ext.encode(t)):(e.jsonData=e.jsonData||{},i?e.jsonData[i]=t:e.jsonData=t),e}}),Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],mixins:{observable:Ext.util.Observable},batchOrder:"create,update,destroy",batchActions:!0,defaultReaderType:"json",defaultWriterType:"json",isProxy:!0,isSynchronous:!1,constructor:function(e){var t=this;e=e||{},t.proxyConfig=e,t.mixins.observable.constructor.call(t,e),void 0===t.model||t.model instanceof Ext.data.Model?(t.reader&&t.setReader(t.reader),t.writer&&t.setWriter(t.writer)):t.setModel(t.model)},setModel:function(e,t){this.model=Ext.ModelManager.getModel(e),this.setReader(this.reader),this.setWriter(this.writer),t&&this.store&&this.store.setModel(this.model)},getModel:function(){return this.model},setReader:function(e){var t=!0,i=this.reader;return void 0!==e&&"string"!=typeof e||(t=!(e={type:e})),e.isReader?e.setModel(this.model):(t&&(e=Ext.apply({},e)),Ext.applyIf(e,{proxy:this,model:this.model,type:this.defaultReaderType}),e=Ext.createByAlias("reader."+e.type,e)),e!==i&&e.onMetaChange&&(e.onMetaChange=Ext.Function.createSequence(e.onMetaChange,this.onMetaChange,this)),this.reader=e,this.reader},getReader:function(){return this.reader},onMetaChange:function(e){this.fireEvent("metachange",this,e)},setWriter:function(e){var t=!0;return void 0!==e&&"string"!=typeof e||(t=!(e={type:e})),e.isWriter||(t&&(e=Ext.apply({},e)),Ext.applyIf(e,{model:this.model,type:this.defaultWriterType}),e=Ext.createByAlias("writer."+e.type,e)),this.writer=e,this.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(e,t){var i,n,r,s,o,a,l,d,h,c=this.batchActions;for(void 0===e.operations&&(e={operations:e,listeners:t}),e.batch?Ext.isDefined(e.batch.runOperation)&&(i=Ext.applyIf(e.batch,{proxy:this,listeners:{}})):e.batch={proxy:this,listeners:e.listeners||{}},(i=i||new Ext.data.Batch(e.batch)).on("complete",Ext.bind(this.onBatchComplete,this,[e],0)),s=(r=this.batchOrder.split(",")).length,a=0;a<s;a++)if(o=r[a],n=e.operations[o])if(c)i.add(new Ext.data.Operation({action:o,records:n}));else for(d=n.length,l=0;l<d;l++)h=n[l],i.add(new Ext.data.Operation({action:o,records:[h]}));return i.start(),i},onBatchComplete:function(e,t){var i=e.scope||this;t.hasException?Ext.isFunction(e.failure)&&Ext.callback(e.failure,i,[t,e]):Ext.isFunction(e.success)&&Ext.callback(e.success,i,[t,e]),Ext.isFunction(e.callback)&&Ext.callback(e.callback,i,[t,e])},clone:function(){return new this.self(this.proxyConfig)}}),Ext.define("Ext.data.Operation",{synchronous:!0,action:void 0,filters:void 0,sorters:void 0,groupers:void 0,start:void 0,limit:void 0,batch:void 0,callback:void 0,scope:void 0,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(e){Ext.apply(this,e||{})},commitRecords:function(e){var t,i,n,r,s,o,a,l,d,h=this.actionCommitRecordsRe.test(this.action);if(!this.actionSkipSyncRe.test(this.action)&&(n=this.records)&&n.length){if(h&&(d=[]),1<n.length)if("update"==this.action||n[0].clientIdProperty)for((t=new Ext.util.MixedCollection).addAll(e),i=n.length;i--;)s=n[i],r=t.findBy(this.matchClientRec,s),l=s.copyFrom(r),h&&d.push(l);else for(o=0,a=n.length;o<a;++o)s=n[o],r=e[o],s&&r&&(l=this.updateRecord(s,r),h&&d.push(l));else l=this.updateRecord(n[0],e[0]),h&&(d[0]=l);if(h)for(i=n.length;i--;)n[i].commit(!1,d[i])}},updateRecord:function(e,t){return t&&(e.phantom||e.getId()===t.getId())?e.copyFrom(t):[]},matchClientRec:function(e){var t=this.getId();return!(!t||e.getId()!==t)||e.internalId===this.internalId},setStarted:function(){this.started=!0,this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1},setSuccessful:function(){this.success=!0},setException:function(e){this.exception=!0,this.success=!1,this.running=!1,this.error=e},hasException:function(){return!0===this.exception},getError:function(){return this.error},getRecords:function(){var e=this.getResultSet();return this.records||(e?e.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return!0===this.started},isRunning:function(){return!0===this.running},isComplete:function(){return!0===this.complete},wasSuccessful:function(){return this.isComplete()&&!0===this.success},setBatch:function(e){this.batch=e},allowWrite:function(){return"read"!=this.action}}),Ext.define("Ext.data.AbstractStore",{mixins:{observable:Ext.util.Observable,sortable:Ext.util.Sortable},statics:{create:function(e){return e.isStore||(e.type||(e.type="store"),e=Ext.createByAlias("store."+e.type,e)),e}},onClassExtended:function(e,t,i){var n,r=t.model;"string"==typeof r&&(n=i.onBeforeCreated,i.onBeforeCreated=function(){var e=this,t=arguments;Ext.require(r,function(){n.apply(e,t)})})},remoteSort:!1,remoteFilter:!1,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",filterOnLoad:!0,sortOnLoad:!0,implicitModel:!1,defaultProxyType:"memory",isDestroyed:!1,isStore:!0,sortRoot:"data",constructor:function(e){var t,i=this;Ext.apply(i,e),i.removed=[],i.mixins.observable.constructor.apply(i,arguments),i.model=Ext.ModelManager.getModel(i.model),Ext.applyIf(i,{modelDefaults:null}),!i.model&&i.fields&&(i.model=Ext.define("Ext.data.Store.ImplicitModel-"+(i.storeId||Ext.id()),{extend:"Ext.data.Model",fields:i.fields,proxy:i.proxy||i.defaultProxyType}),delete i.fields,i.implicitModel=!0),i.setProxy(i.proxy||i.model.getProxy()),i.id&&!i.storeId&&(i.storeId=i.id,delete i.id),i.storeId&&Ext.data.StoreManager.register(i),i.mixins.sortable.initSortable.call(i),t=i.decodeFilters(i.filters),i.filters=new Ext.util.MixedCollection,i.filters.addAll(t)},setProxy:function(e){var t=this.model;return e instanceof Ext.data.proxy.Proxy?e.setModel(t):(Ext.isString(e)?e={type:e,model:t}:e.model||(e=Ext.apply({model:t},e)),e=Ext.createByAlias("proxy."+e.type,e)),this.disableMetaChangeEvent||e.on("metachange",this.onMetaChange,this),this.proxy=e,this.proxy},getProxy:function(){return this.proxy},onMetaChange:function(e,t){this.fireEvent("metachange",this,t)},create:function(e,t){var i,n=Ext.ModelManager.create(Ext.applyIf(e,this.modelDefaults),this.model.modelName);return t=t||{},Ext.applyIf(t,{action:"create",records:[n]}),i=new Ext.data.Operation(t),this.proxy.create(i,this.onProxyWrite,this),n},read:function(){return this.load.apply(this,arguments)},update:function(e){var t;return e=e||{},Ext.applyIf(e,{action:"update",records:this.getUpdatedRecords()}),t=new Ext.data.Operation(e),this.proxy.update(t,this.onProxyWrite,this)},onProxyWrite:function(e){var t=this,i=e.wasSuccessful(),n=e.getRecords();switch(e.action){case"create":t.onCreateRecords(n,e,i);break;case"update":t.onUpdateRecords(n,e,i);break;case"destroy":t.onDestroyRecords(n,e,i)}i&&(t.fireEvent("write",t,e),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),Ext.callback(e.callback,e.scope||t,[n,e,i])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(e,t,i){i&&(this.removed=[])},destroy:function(e){var t;return e=e||{},Ext.applyIf(e,{action:"destroy",records:this.getRemovedRecords()}),t=new Ext.data.Operation(e),this.proxy.destroy(t,this.onProxyWrite,this)},onBatchOperationComplete:function(e,t){return this.onProxyWrite(t)},onBatchComplete:function(e,t){var i,n=e.operations,r=n.length;for(this.suspendEvents(),i=0;i<r;i++)this.onProxyWrite(n[i]);this.resumeEvents(),this.fireEvent("datachanged",this),this.fireEvent("refresh",this)},onBatchException:function(e,t){},filterNew:function(e){return!0===e.phantom&&e.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(e){return!0===e.dirty&&!0!==e.phantom&&e.isValid()},getRemovedRecords:function(){return this.removed},filter:function(e,t){},decodeFilters:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,i,n=e.length,r=Ext.util.Filter;for(i=0;i<n;i++)(t=e[i])instanceof r||(Ext.apply(t,{root:"data"}),t.fn&&(t.filterFn=t.fn),"function"==typeof t&&(t={filterFn:t}),e[i]=new r(t));return e},clearFilter:function(e){},isFiltered:function(){},filterBy:function(e,t){},sync:function(e){var t={},i=this.getNewRecords(),n=this.getUpdatedRecords(),r=this.getRemovedRecords(),s=!1;return 0<i.length&&(t.create=i,s=!0),0<n.length&&(t.update=n,s=!0),0<r.length&&(t.destroy=r,s=!0),s&&!1!==this.fireEvent("beforesync",t)&&(e=e||{},this.proxy.batch(Ext.apply(e,{operations:t,listeners:this.getBatchListeners()}))),this},getBatchListeners:function(){var e={scope:this,exception:this.onBatchException};return"operation"==this.batchUpdateMode?e.operationcomplete=this.onBatchOperationComplete:e.complete=this.onBatchComplete,e},save:function(){return this.sync.apply(this,arguments)},load:function(e){var t=this,i={action:"read"};return t.remoteFilter&&(i.filters=t.filters.items),t.remoteSort&&(i.sorters=t.getSorters()),Ext.apply(i,e),t.lastOptions=i,i=new Ext.data.Operation(i),!1!==t.fireEvent("beforeload",t,i)&&(t.loading=!0,t.proxy.read(i,t.onProxyLoad,t)),t},reload:function(e){var t=Ext.apply({},e,this.lastOptions);return this.load(t)},afterEdit:function(e,t){var i,n;if(this.autoSync&&!this.autoSyncSuspended){for(i=t.length;i--;)if(e.fields.get(t[i]).persist){n=!0;break}n&&this.sync()}this.onUpdate(e,Ext.data.Model.EDIT,t),this.fireEvent("update",this,e,Ext.data.Model.EDIT,t)},afterReject:function(e){this.onUpdate(e,Ext.data.Model.REJECT,null),this.fireEvent("update",this,e,Ext.data.Model.REJECT,null)},afterCommit:function(e,t){t=t||null,this.onUpdate(e,Ext.data.Model.COMMIT,t),this.fireEvent("update",this,e,Ext.data.Model.COMMIT,t)},onUpdate:Ext.emptyFn,onIdChanged:function(e,t,i,n){this.fireEvent("idchanged",this,e,t,i,n)},destroyStore:function(){var e,t=this;t.isDestroyed||(t.clearListeners(),t.storeId&&Ext.data.StoreManager.unregister(t),t.clearData(),t.data=t.tree=t.sorters=t.filters=t.groupers=null,t.reader&&t.reader.destroyReader(),t.proxy=t.reader=t.writer=null,t.isDestroyed=!0,t.implicitModel?(e=Ext.getClassName(t.model),Ext.undefine(e),Ext.ModelManager.unregisterType(e)):t.model=null)},getState:function(){var t,e,i=this,n=!!i.groupers,r=[],s=[],o=[];if(n&&i.groupers.each(function(e){r[r.length]=e.serialize(),t=!0}),i.sorters&&i.sorters.each(function(e){n&&!i.groupers.contains(e)&&(s[s.length]=e.serialize(),t=!0)}),i.filters&&i.statefulFilters&&i.filters.each(function(e){o[o.length]=e.serialize(),t=!0}),t)return e={},r.length&&(e.groupers=r),s.length&&(e.sorters=s),o.length&&(e.filters=o),e},applyState:function(e){var t,i=this,n=!!i.sorters,r=!!i.groupers,s=!!i.filters;r&&e.groupers&&(i.groupers.clear(),i.groupers.addAll(i.decodeGroupers(e.groupers))),n&&e.sorters&&(i.sorters.clear(),i.sorters.addAll(i.decodeSorters(e.sorters))),s&&e.filters&&(i.filters.clear(),i.filters.addAll(i.decodeFilters(e.filters))),n&&r&&i.sorters.insert(0,i.groupers.getRange()),i.autoLoad&&(i.remoteSort||i.remoteGroup||i.remoteFilter)&&(!0===i.autoLoad?i.reload():i.reload(i.autoLoad)),s&&i.filters.length&&!i.remoteFilter&&(i.filter(),t=i.sortOnFilter),n&&i.sorters.length&&!i.remoteSort&&!t&&i.sort()},doSort:function(e){var t=this;t.remoteSort?t.load():(t.data.sortBy(e),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireEvent("sort",t,t.sorters.getRange())},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=!0},resumeAutoSync:function(){this.autoSyncSuspended=!1}}),Ext.define("Ext.app.domain.Store",{extend:Ext.app.EventDomain,singleton:!0,type:"store",idProperty:"storeId",constructor:function(){this.callParent(),this.monitor(Ext.data.AbstractStore)}}),Ext.define("Ext.app.Controller",{mixins:{observable:Ext.util.Observable},statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(e,t){return function(){return this[e](t)}},getGetterName:function(e,t){var i,n="get",r=e.split("."),s=r.length;for(i=0;i<s;i++)n+=Ext.String.capitalize(r[i]);return n+=t},processDependencies:function(e,t,i,n,r){if(r&&r.length){var s,o,a,l,d,h,c,u=this.strings[n];for(Ext.isArray(r)||(r=[r]),d=0,h=r.length;d<h;d++)l=r[d],o=(s=this.getFullName(l,n,i)).absoluteName,a=s.shortName,t.push(o),e[this.getGetterName(a,u.upper)]=c=this.createGetter(u.getter,l),"controller"!==n&&(c["Ext.app.getter"]=!0)}},getFullName:function(e,t,i){var n,r,s=e;return 0<(n=e.indexOf("@"))?(s=e.substring(0,n),r=e.substring(n+1)+"."+s):0<e.indexOf(".")&&(Ext.ClassManager.isCreated(e)||Ext.Loader.isAClassNameWithAKnownPrefix(e))?r=e:i?(r=i+"."+t+"."+e,s=e):r=e,{absoluteName:r,shortName:s}}},application:null,onClassExtended:function(e,t,i){var d=i.onBeforeCreated;i.onBeforeCreated=function(e,t){var i,n,r,s,o=Ext.app.Controller,a=o.controllerRegex,l=[];r=e.prototype,i=Ext.getClassName(e),(n=t.$namespace||Ext.app.getNamespace(i)||(s=a.exec(i))&&s[1])&&(r.$namespace=n),o.processDependencies(r,l,n,"model",t.models),o.processDependencies(r,l,n,"view",t.views),o.processDependencies(r,l,n,"store",t.stores),o.processDependencies(r,l,n,"controller",t.controllers),Ext.require(l,Ext.Function.pass(d,arguments,this))}},constructor:function(e){this.mixins.observable.constructor.call(this,e),this.refs&&this.ref(this.refs),this.eventbus=Ext.app.EventBus,this.initAutoGetters()},initAutoGetters:function(){var e,t,i=this.self.prototype;for(e in i)(t=i[e])&&t["Ext.app.getter"]&&t.call(this)},doInit:function(e){this._initialized||(this.init(e),this._initialized=!0)},finishInit:function(e){var t,i,n=this.controllers;if(this._initialized&&n&&n.length)for(t=0,i=n.length;t<i;t++)this.getController(n[t]).finishInit(e)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,ref:function(e){var t,i,n,r=0,s=e.length;for(e=Ext.Array.from(e),this.references=this.references||[];r<s;r++)i=(t=e[r]).ref,this[n="get"+Ext.String.capitalize(i)]||(this[n]=Ext.Function.pass(this.getRef,[i,t],this)),this.references.push(i.toLowerCase())},addRef:function(e){this.ref(e)},getRef:function(e,t,i){var n=this.refCache||(this.refCache={}),r=n[e];return t=t||{},i=i||{},Ext.apply(t,i),t.forceCreate?Ext.ComponentManager.create(t,"component"):(r||(t.selector&&(n[e]=r=Ext.ComponentQuery.query(t.selector)[0]),!r&&t.autoCreate&&(n[e]=r=Ext.ComponentManager.create(t,"component")),r&&r.on("beforedestroy",function(){n[e]=null})),r)},hasRef:function(e){var t=this.references;return t&&-1!==Ext.Array.indexOf(t,e.toLowerCase())},control:function(e,t,i){var n,r=i;Ext.isString(e)?(n={})[e]=t:(n=e,r=t),this.eventbus.control(n,r||this)},listen:function(e,t){this.eventbus.listen(e,t||this)},getController:function(e){var t=this.application;return e===this.id?this:t&&t.getController(e)},getStore:function(e){var t,i;return t=-1==e.indexOf("@")?e:e.split("@")[0],(i=Ext.StoreManager.get(t))||(e=Ext.app.Controller.getFullName(e,"store",this.$namespace))&&(i=Ext.create(e.absoluteName,{storeId:t})),i},getModel:function(e){var t=Ext.app.Controller.getFullName(e,"model",this.$namespace);return t&&Ext.ModelManager.getModel(t.absoluteName)},getView:function(e){var t=Ext.app.Controller.getFullName(e,"view",this.$namespace);return t&&Ext.ClassManager.get(t.absoluteName)},getApplication:function(){return this.application}}),Ext.define("Ext.container.DockingContainer",{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(e,t){var i,n,r=this,s=0;for(n=(e=r.prepareItems(e)).length;s<n;s++)(i=e[s]).dock=i.dock||"top","left"!==i.dock&&"right"!==i.dock||r.horizontalDocks++,void 0!==t?(s+=t,r.dockedItems.insert(s,i)):r.dockedItems.add(i),i.onAdded(r,s),r.hasListeners.dockedadd&&r.fireEvent("dockedadd",r,i,s),r.onDockedAdd!==Ext.emptyFn&&r.onDockedAdd(i);return r.rendered&&!r.suspendLayout&&r.updateLayout(),e},destroyDockedItems:function(){var e,t=this.dockedItems;if(t)for(;e=t.first();)this.removeDocked(e,!0)},doRenderDockedItems:function(e,t,i){var n,r,s=t.$comp.componentLayout;s.getDockedItems&&!t.$skipDockedItems&&(r=(n=s.getDockedItems("render",!i))&&s.getItemsRenderTree(n))&&Ext.DomHelper.generateMarkup(r,e)},getDockedComponent:function(e){return Ext.isObject(e)&&(e=e.getItemId()),this.dockedItems.get(e)},getDockedItems:function(e,t){var i=this.getComponentLayout().getDockedItems("render",t);return e&&i.length&&(i=Ext.ComponentQuery.query(e,i)),i},getDockingRefItems:function(e,t){var i,n=e&&"*,* *",r=this.getDockedItems(n,!0);return r.push.apply(r,t),i=this.getDockedItems(n,!1),r.push.apply(r,i),r},initDockingItems:function(){var e=this.dockedItems;this.dockedItems=new Ext.util.AbstractMixedCollection(!1,this.getComponentId),e&&this.addDocked(e)},insertDocked:function(e,t){this.addDocked(t,e)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(e,t){var i,n,r=this;return t=!0===t||!1!==t&&r.autoDestroy,r.dockedItems.contains(e)&&("left"!==e.dock&&"right"!==e.dock||r.horizontalDocks--,(n=(i=r.componentLayout)&&r.rendered)&&i.onRemove(e),r.dockedItems.remove(e),e.onRemoved(e.destroying||t),r.onDockedRemove(e),t?e.destroy():n&&i.afterRemove(e),r.hasListeners.dockedremove&&r.fireEvent("dockedremove",r,e),r.destroying||r.suspendLayout||r.updateLayout()),e},setupDockingRenderTpl:function(e){e.renderDockedItems=this.doRenderDockedItems}}),Ext.define("Ext.toolbar.Fill",{extend:Ext.Component,alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:!0,flex:1}),Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(e,t){this.layout=e,Ext.apply(this,t)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(e){var t,i=e.state.boxPlan;i&&i.tooNarrow?(t=this.handleOverflow(e))&&t.reservedSpace&&this.layout.publishInnerCtSize(e,t.reservedSpace):this.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(e){var t,i,n=this.layout.owner;n.hasListeners.overflowchange&&(i=(t=n.query(">[hidden]")).length)!==this.lastHiddenCount&&(n.fireEvent("overflowchange",this.lastHiddenCount,i,t),this.lastHiddenCount=i)},onRemove:Ext.emptyFn,getItem:function(e){return this.layout.owner.getComponent(e)},getOwnerType:function(e){return e.isToolbar?"toolbar":e.isTabBar?"tabbar":e.isMenu?"menu":e.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}}),Ext.define("Ext.toolbar.Item",{extend:Ext.Component,alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.define("Ext.toolbar.Separator",{extend:Ext.toolbar.Item,alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:!1,ariaRole:"separator"}),Ext.define("Ext.button.Manager",{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){this.initialized||(Ext.getDoc().on({keydown:this.onDocumentKeyDown,mouseup:this.onDocumentMouseUp,scope:this}),this.initialized=!0)},onDocumentKeyDown:function(e){var t,i=e.getKey();i!==e.SPACE&&i!==e.ENTER||(t=e.getTarget(this.buttonSelector))&&Ext.getCmp(t.id).onClick(e)},onButtonMousedown:function(e,t){var i=this.pressedButton;i&&i.onMouseUp(t),this.pressedButton=e},onDocumentMouseUp:function(e){var t=this.pressedButton;t&&(t.onMouseUp(e),this.pressedButton=null)},toggleGroup:function(e,t){if(t){var i,n=this.groups[e.toggleGroup],r=n.length;for(i=0;i<r;i++)n[i]!==e&&n[i].toggle(!1)}},register:function(e){var t=this.groups,i=t[e.toggleGroup];this.init(),e.toggleGroup&&((i=i||(t[e.toggleGroup]=[])).push(e),e.on("toggle",this.toggleGroup,this))},unregister:function(e){if(e.toggleGroup){var t=this.groups[e.toggleGroup];t&&(Ext.Array.remove(t,e),e.un("toggle",this.toggleGroup,this))}},getPressed:function(e){var t,i=this.groups[e],n=0;if(i)for(t=i.length;n<t;n++)if(!0===i[n].pressed)return i[n];return null}}),Ext.define("Ext.menu.Manager",{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:!1,lastShow:new Date,init:function(){var e=this;e.active=new Ext.util.MixedCollection,Ext.getDoc().addKeyListener(27,function(){0<e.active.length&&e.hideAll()},e)},hideAll:function(){var e,t,i,n=this.active;if(n&&0<n.length){for(i=(e=Ext.Array.slice(n.items)).length,t=0;t<i;t++)e[t].hide();return!0}return!1},onHide:function(e){var t=this.active;t.remove(e),t.length<1&&(Ext.getDoc().un("mousedown",this.onMouseDown,this),this.attached=!1)},onShow:function(e){var t=this.active,i=this.attached;this.lastShow=new Date,t.add(e),i||(Ext.getDoc().on("mousedown",this.onMouseDown,this,{buffer:Ext.isIE9m?10:void 0}),this.attached=!0),e.toFront()},onBeforeHide:function(e){e.activeChild&&e.activeChild.hide(),e.autoHideTimer&&(clearTimeout(e.autoHideTimer),delete e.autoHideTimer)},onBeforeShow:function(e){var t=this.active,i=e.parentMenu;t.remove(e),i||e.allowOtherMenus?i&&i.activeChild&&e!=i.activeChild&&i.activeChild.hide():this.hideAll()},onMouseDown:function(e){var t=this.active,i=this.lastShow;50<Ext.Date.getElapsed(i)&&0<t.length&&!e.getTarget(this.menuSelector)&&this.hideAll()},register:function(e){this.active||this.init(),e.floating&&(this.menus[e.id]=e).on({beforehide:this.onBeforeHide,hide:this.onHide,beforeshow:this.onBeforeShow,show:this.onShow,scope:this})},get:function(e){var t=this.menus;return"string"==typeof e?t?t[e]:null:e.isMenu?e:Ext.isArray(e)?new Ext.menu.Menu({items:e}):Ext.ComponentManager.create(e,"menu")},unregister:function(e){var t=this.menus,i=this.active;delete t[e.id],i.remove(e),e.un({beforehide:this.onBeforeHide,hide:this.onHide,beforeshow:this.onBeforeShow,show:this.onShow,scope:this})},registerCheckable:function(e){var t=this.groups,i=e.group;i&&(t[i]||(t[i]=[]),t[i].push(e))},unregisterCheckable:function(e){var t=this.groups,i=e.group;i&&Ext.Array.remove(t[i],e)},onCheckChange:function(e,t){var i,n,r,s=this.groups,o=e.group,a=0;if(o&&t)for(n=(i=s[o]).length;a<n;a++)(r=i[a])!=e&&r.setChecked(!1)}}),Ext.define("Ext.util.ClickRepeater",{extend:Ext.util.Observable,constructor:function(e,t){var i=this;i.el=Ext.get(e),i.el.unselectable(),Ext.apply(i,t),i.callParent(),i.addEvents("mousedown","click","mouseup"),i.disabled||(i.disabled=!0,i.enable()),i.handler&&i.on("click",i.handler,i.scope||i)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),Ext.isIE&&!(Ext.isIE10p||Ext.isStrict&&Ext.isIE9)&&this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(e){!e&&this.disabled||(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.removeAllListeners()),this.disabled=!0},setDisabled:function(e){this[e?"disable":"enable"]()},eventOptions:function(e){this.preventDefault&&e.preventDefault(),this.stopDefault&&e.stopEvent()},destroy:function(){this.disable(!0),Ext.destroy(this.el),this.clearListeners()},handleDblClick:function(e){clearTimeout(this.timer),this.el.blur(),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e)},handleMouseDown:function(e){clearTimeout(this.timer),this.el.blur(),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e),this.accelerate&&(this.delay=400),e=new Ext.EventObjectImpl(e),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[e])},click:function(e){this.fireEvent("click",this,e),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[e])},easeOutExpo:function(e,t,i,n){return e==n?t+i:i*(1-Math.pow(2,-10*e/n))+t},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click()},handleMouseUp:function(e){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,e)}}),Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:Ext.layout.component.Auto,type:"button",htmlRE:/<.*>/,beginLayout:function(e){var t=this.owner,i=t.text;this.callParent(arguments),e.btnWrapContext=e.getEl("btnWrap"),e.btnElContext=e.getEl("btnEl"),e.btnInnerElContext=e.getEl("btnInnerEl"),e.btnIconElContext=e.getEl("btnIconEl"),i&&this.htmlRE.test(i)&&(e.isHtmlText=!0,t.btnInnerEl.setStyle("line-height","normal"),t.btnInnerEl.setStyle("padding-top",""))},beginLayoutCycle:function(e){var t=this.owner,i=this.lastWidthModel;this.callParent(arguments),i&&!this.lastWidthModel.shrinkWrap&&e.widthModel.shrinkWrap&&(t.btnWrap.setStyle("height",""),t.btnEl.setStyle("height",""),t.btnInnerEl.setStyle("line-height",""))},calculate:function(e){var t,i,n,r,s=this.owner,o=e.btnElContext,a=e.btnInnerElContext,l=e.btnWrapContext,d=Math.max;this.callParent(arguments),e.heightModel.shrinkWrap?(n=s.btnEl.getHeight(),e.isHtmlText&&(this.centerInnerEl(e,n),this.ieCenterIcon(e,n))):(t=e.getProp("height"))?(n=i=t-e.getFrameInfo().height-e.getPaddingInfo().height,(s.menu||s.split)&&"bottom"===s.arrowAlign&&(n-=l.getPaddingInfo().bottom),r=n,!(s.icon||s.iconCls||s.glyph)||"top"!==s.iconAlign&&"bottom"!==s.iconAlign||(r-=a.getPaddingInfo().height),l.setProp("height",d(0,i)),o.setProp("height",d(0,n)),e.isHtmlText?this.centerInnerEl(e,n):a.setProp("line-height",d(0,r)+"px"),this.ieCenterIcon(e,n)):0!==t&&(this.done=!1)},centerInnerEl:function(e,t){var i=e.btnInnerElContext,n=this.owner.btnInnerEl.getHeight();e.heightModel.shrinkWrap&&t<n?e.btnElContext.setHeight(n):n<t&&i.setProp("padding-top",Math.round((t-n)/2)+i.getPaddingInfo().top)},ieCenterIcon:function(e,t){this.owner.iconAlign},publishInnerWidth:function(e,t){this.owner.getFrameInfo().table&&e.btnInnerElContext.setWidth(t-e.getFrameInfo().width-e.getPaddingInfo().width-e.btnWrapContext.getPaddingInfo().width)}}),Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(e,t,i){var n=this.shared;return(n=n||(this.shared=new this(e,i))).bind(e),n.setFixedWidth(i||"auto"),n.getSize(t)},destroy:function(){Ext.destroy(this.shared),this.shared=null}},constructor:function(e,t){var i=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"textmetrics"});this.measure=i,e&&this.bind(e),i.position("absolute"),i.setLocalXY(-1e3,-1e3),i.hide(),t&&i.setWidth(t)},getSize:function(e){var t,i=this.measure;return i.update(e),t=i.getSize(),i.update(""),t},bind:function(e){this.el=Ext.get(e),this.measure.setStyle(this.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(e){this.measure.setWidth(e)},getWidth:function(e){return this.measure.dom.style.width="auto",this.getSize(e).width},getHeight:function(e){return this.getSize(e).height},destroy:function(){this.measure.remove(),delete this.el,delete this.measure}},function(){Ext.Element.addMethods({getTextWidth:function(e,t,i){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(e,this.dom.innerHTML,!0)).width,t||0,i||1e6)}})}),Ext.define("Ext.button.Button",{alias:"widget.button",extend:Ext.Component,mixins:{queryable:Ext.Queryable},alternateClassName:"Ext.Button",isButton:!0,componentLayout:"button",hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,textAlign:"center",clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",ariaRole:"button",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<span id="{id}-btnWrap" role="presentation" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button" role="presentation">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="presentation" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<tpl if="closable">','<span id="{id}-closeEl" role="presentation"',' class="{baseCls}-close-btn"','<tpl if="closeText">',' title="{closeText}" aria-label="{closeText}"',"</tpl>",">","</span>","</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){this.disabled||this.doNavigate()},doNavigate:function(){"_blank"===this.hrefTarget?window.open(this.href,this.hrefTarget):location.href=this.href},_triggerRegion:{},initComponent:function(){var e=this;e.autoEl={tag:"a",hidefocus:"on",unselectable:"on"},e.addCls(Ext.baseCSSPrefix+"unselectable"),e.callParent(arguments),e.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout","textchange","iconchange","glyphchange"),e.menu&&(e.split=!0,e.menu=Ext.menu.Manager.get(e.menu),e.menu.ownerButton=e),e.url&&(e.href=e.url),e.href&&!e.hasOwnProperty("preventDefault")&&(e.preventDefault=!1),Ext.isString(e.toggleGroup)&&""!==e.toggleGroup&&(e.enableToggle=!0),e.html&&!e.text&&(e.text=e.html,delete e.html),e.glyphCls=e.baseCls+"-glyph"},getActionEl:function(){return this.el},getFocusEl:function(){return this.el},onDisable:function(){this.callParent(arguments)},setComponentCls:function(){var e=this.getComponentCls();Ext.isEmpty(this.oldCls)||(this.removeClsWithUI(this.oldCls),this.removeClsWithUI(this.pressedCls)),this.oldCls=e,this.addClsWithUI(e)},getComponentCls:function(){var e;return e=this.iconCls||this.icon||this.glyph?[this.text?"icon-text-"+this.iconAlign:"icon"]:this.text?["noicon"]:[],this.pressed&&(e[e.length]=this.pressedCls),e},beforeRender:function(){var e=this,t=e.autoEl,i=e.getHref(),n=e.hrefTarget;e.disabled||(t.tabIndex=e.tabIndex),i&&(t.href=i,n&&(t.target=n)),e.callParent(),e.oldCls=e.getComponentCls(),e.addClsWithUI(e.oldCls),Ext.applyIf(e.renderData,e.getTemplateArgs())},onRender:function(){var e,t,i,n=this;n.doc=Ext.getDoc(),n.callParent(arguments),t=n.el,n.tooltip&&n.setTooltip(n.tooltip,!0),n.handleMouseEvents?(i={scope:n,mouseover:n.onMouseOver,mouseout:n.onMouseOut,mousedown:n.onMouseDown},n.split&&(i.mousemove=n.onMouseMove)):i={scope:n},n.menu&&(n.mon(n.menu,{scope:n,show:n.onMenuShow,hide:n.onMenuHide}),n.keyMap=new Ext.util.KeyMap({target:n.el,key:Ext.EventObject.DOWN,handler:n.onDownKey,scope:n})),n.repeat?n.mon(new Ext.util.ClickRepeater(t,Ext.isObject(n.repeat)?n.repeat:{}),"click",n.onRepeatClick,n):i[n.clickEvent]?e=!0:i[n.clickEvent]=n.onClick,n.mon(t,i),n.hasFrameTable()&&n.mon(n.frameTable,"click",n.frameTableListener,n),e&&n.mon(t,n.clickEvent,n.onClick,n),Ext.button.Manager.register(n)},getTemplateArgs:function(){var e,t=this.glyph,i=Ext._glyphFontFamily;return"string"==typeof t&&(t=(e=t.split("@"))[0],i=e[1]),{innerCls:this.getInnerCls(),splitCls:this.getSplitCls(),iconUrl:this.icon,iconCls:this.iconCls,glyph:t,glyphCls:t?this.glyphCls:"",glyphFontFamily:i,text:this.text||"&#160;",closeText:this.closeText}},setHref:function(e){this.href=e,this.el.dom.href=this.getHref()},getHref:function(){var e=this.href;return!!e&&Ext.urlAppend(e,Ext.Object.toQueryString(Ext.apply({},this.params,this.baseParams)))},setParams:function(e){this.params=e,this.el.dom.href=this.getHref()},getSplitCls:function(){return this.split?this.baseCls+"-"+this.arrowCls+" "+this.baseCls+"-"+this.arrowCls+"-"+this.arrowAlign:""},getInnerCls:function(){return this.textAlign?this.baseCls+"-inner-"+this.textAlign:""},setIcon:function(e){e=e||"";var t=this.btnIconEl,i=this.icon||"";return(this.icon=e)!=i&&(t&&(t.setStyle("background-image",e?"url("+e+")":""),this.setComponentCls(),this.didIconStateChange(i,e)&&this.updateLayout()),this.fireEvent("iconchange",this,i,e)),this},setIconCls:function(e){e=e||"";var t=this.btnIconEl,i=this.iconCls||"";return i!=(this.iconCls=e)&&(t&&(t.removeCls(i),t.addCls(e),this.setComponentCls(),this.didIconStateChange(i,e)&&this.updateLayout()),this.fireEvent("iconchange",this,i,e)),this},setGlyph:function(e){e=e||0;var t,i,n=this.btnIconEl,r=this.glyph;return this.glyph=e,n&&("string"==typeof e&&(e=(i=e.split("@"))[0],t=i[1]||Ext._glyphFontFamily),e?r!=e&&(n.dom.innerHTML="&#"+e+";"):n.dom.innerHTML="",t&&n.setStyle("font-family",t)),this.fireEvent("glyphchange",this,this.glyph,r),this},setTooltip:function(e,t){return this.rendered?(t&&e||this.clearTip(),e&&(Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:this.el.id},e)),this.tooltip=e):this.el.dom.setAttribute(this.getTipAttr(),e))):this.tooltip=e,this},setTextAlign:function(e){var t=this.btnEl;return t&&(t.removeCls(this.baseCls+"-inner-"+this.textAlign),t.addCls(this.baseCls+"-inner-"+e)),this.textAlign=e,this},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},getRefItems:function(e){var t,i=this.menu;return i&&(t=i.getRefItems(e)).unshift(i),t||[]},clearTip:function(){var e=this.el;Ext.quickTipsActive&&Ext.isObject(this.tooltip)?Ext.tip.QuickTipManager.unregister(e):e.dom.removeAttribute(this.getTipAttr())},beforeDestroy:function(){this.rendered&&this.clearTip(),this.menu&&!1!==this.destroyMenu&&Ext.destroy(this.menu),Ext.destroy(this.btnInnerEl,this.repeater),this.callParent()},onDestroy:function(){this.rendered&&(this.doc.un("mouseover",this.monitorMouseOver,this),delete this.doc,Ext.destroy(this.keyMap),delete this.keyMap),Ext.button.Manager.unregister(this),this.callParent()},setHandler:function(e,t){return this.handler=e,this.scope=t,this},setText:function(e){e=e||"";var t=this.text||"";return e!=t&&(this.text=e,this.rendered&&(this.btnInnerEl.update(e||"&#160;"),this.setComponentCls(),this.updateLayout()),this.fireEvent("textchange",this,t,e)),this},didIconStateChange:function(e,t){var i=Ext.isEmpty(t);return Ext.isEmpty(e)?!i:i},getText:function(){return this.text},toggle:function(e,t){var i=this;return(e=void 0===e?!i.pressed:!!e)!==i.pressed&&(i.rendered&&i[e?"addClsWithUI":"removeClsWithUI"](i.pressedCls),i.pressed=e,t||(i.fireEvent("toggle",i,e),Ext.callback(i.toggleHandler,i.scope||i,[i,e]))),i},maybeShowMenu:function(){!this.menu||this.hasVisibleMenu()||this.ignoreNextClick||this.showMenu(!0)},showMenu:function(e){var t=this.menu;return this.rendered&&(this.tooltip&&Ext.quickTipsActive&&"title"!=this.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(this.el),t.isVisible()&&t.hide(),(!e||this.showEmptyMenu||0<t.items.getCount())&&t.showBy(this.el,this.menuAlign)),this},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var e=this.menu;return e&&e.rendered&&e.isVisible()},onRepeatClick:function(e,t){this.onClick(t)},onClick:function(e){this.doPreventDefault(e),"keydown"!==e.type&&0!==e.button||this.disabled||(this.doToggle(),this.maybeShowMenu(),this.fireHandler(e))},doPreventDefault:function(e){(this.preventDefault||this.disabled&&this.getHref()&&e)&&e.preventDefault()},fireHandler:function(e){var t=this.handler;!1!==this.fireEvent("click",this,e)&&t&&t.call(this.scope||this,this,e)},doToggle:function(){!this.enableToggle||!1===this.allowDepress&&this.pressed||this.toggle()},onMouseOver:function(e){this.disabled||e.within(this.el,!0,!0)||this.onMouseEnter(e)},onMouseOut:function(e){e.within(this.el,!0,!0)||(this.overMenuTrigger&&this.onMenuTriggerOut(e),this.onMouseLeave(e))},onMouseMove:function(e){var t,i,n=this.el,r=this.overMenuTrigger;this.split&&((t="right"===this.arrowAlign?e.getX()-this.getX():e.getY()-n.getY())>(i=this.getTriggerRegion()).begin&&t<i.end?r||this.onMenuTriggerOver(e):r&&this.onMenuTriggerOut(e))},getTriggerRegion:function(){var e=this._triggerRegion,t=this.getTriggerSize(),i="right"===this.arrowAlign?this.getWidth():this.getHeight();return e.begin=i-t,e.end=i,e},getTriggerSize:function(){var e,t,i=this.triggerSize;return null==i&&(t=(e=this.arrowAlign).charAt(0),i=this.triggerSize=this.el.getFrameWidth(t)+this.getBtnWrapFrameWidth(t),this.frameSize&&(i=this.triggerSize+=this.frameSize[e])),i},getBtnWrapFrameWidth:function(e){return this.btnWrap.getFrameWidth(e)},addOverCls:function(){this.disabled||this.addClsWithUI(this.overCls)},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(e){this.fireEvent("mouseover",this,e)},onMouseLeave:function(e){this.fireEvent("mouseout",this,e)},onMenuTriggerOver:function(e){var t=this.arrowTooltip;this.overMenuTrigger=!0,this.split&&t&&this.btnWrap.dom.setAttribute(this.getTipAttr(),t),this.fireEvent("menutriggerover",this,this.menu,e)},onMenuTriggerOut:function(e){delete this.overMenuTrigger,this.split&&this.arrowTooltip&&this.btnWrap.dom.setAttribute(this.getTipAttr(),""),this.fireEvent("menutriggerout",this,this.menu,e)},enable:function(e){return this.callParent(arguments),this.removeClsWithUI("disabled"),this.rendered&&this.el.dom.setAttribute("tabIndex",this.tabIndex),this},disable:function(e){return this.callParent(arguments),this.addClsWithUI("disabled"),this.removeClsWithUI(this.overCls),this.rendered&&this.el.dom.removeAttribute("tabIndex"),this},setScale:function(e){var t=this.ui.replace("-"+this.scale,"");if(!Ext.Array.contains(this.allowedScales,e))throw"#setScale: scale must be an allowed scale ("+this.allowedScales.join(", ")+")";this.scale=e,this.setUI(t)},setUI:function(e){this.scale&&!e.match(this.scale)&&(e=e+"-"+this.scale),this.callParent([e])},onMouseDown:function(e){Ext.isIE&&this.getFocusEl().focus(),this.disabled||0!==e.button||(Ext.button.Manager.onButtonMousedown(this,e),this.addClsWithUI(this.pressedCls))},onMouseUp:function(e){this.isDestroyed||0!==e.button||this.pressed||this.removeClsWithUI(this.pressedCls)},onMenuShow:function(e){this.ignoreNextClick=0,this.addClsWithUI(this.menuActiveCls),this.fireEvent("menushow",this,this.menu)},onMenuHide:function(e){this.removeClsWithUI(this.menuActiveCls),this.ignoreNextClick=Ext.defer(this.restoreClick,250,this),this.fireEvent("menuhide",this,this.menu),this.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(e,t){if(this.menu&&!this.disabled)return this.showMenu(),t.stopEvent(),!1}}),Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items" role="menuitem">(None)</div>',constructor:function(e){this.callParent(arguments),this.triggerButtonCls=this.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-after",this.menuItems=[]},beginLayout:function(e){this.callParent(arguments),this.clearOverflow(e)},beginLayoutCycle:function(e,t){this.callParent(arguments),t||(this.clearOverflow(e),this.layout.cacheChildItems(e))},onRemove:function(e){Ext.Array.remove(this.menuItems,e)},getSuffixConfig:function(){var e=this.layout,t=e.owner,i=t.id;return this.menu=new Ext.menu.Menu({listeners:{scope:this,beforeshow:this.beforeMenuShow}}),this.menuTrigger=new Ext.button.Button({id:i+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+this.triggerButtonCls+" "+Ext.baseCSSPrefix+"toolbar-item",plain:t.usePlainButtons,ownerCt:t,ownerLayout:e,iconCls:Ext.baseCSSPrefix+this.getOwnerType(t)+"-more-icon",ui:t instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:this.menu,showEmptyMenu:!0,getSplitCls:function(){return""}}),this.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(e){var t=this.layout.names,i=e.state.boxPlan,n=[null,null];return this.showTrigger(e),"vertical"!==this.layout.direction&&(n[t.heightIndex]=(i.maxSize-this.menuTrigger[t.getHeight]())/2,this.menuTrigger.setPosition.apply(this.menuTrigger,n)),{reservedSpace:this.triggerTotalWidth}},captureChildElements:function(){var e=this.menuTrigger,t=this.layout.names;e.rendering&&(e.finishRender(),this.triggerTotalWidth=e[t.getWidth]()+e.el.getMargin(t.parallelMargins))},_asLayoutRoot:{isRoot:!0},clearOverflow:function(e){var t,i=this.menuItems,n=0,r=i.length,s=this.layout.owner,o=this._asLayoutRoot;for(s.suspendLayouts(),this.captureChildElements(),this.hideTrigger(),s.resumeLayouts();n<r;n++)(t=i[n]).suspendLayouts(),t.show(),t.resumeLayouts(o);i.length=0},showTrigger:function(e){var t,i,n,r,s=this.layout,o=s.owner,a=s.names,l=a.x,d=a.width,h=e.state.boxPlan.targetSize[d],c=e.childItems,u=c.length,f=this.menuTrigger;for(f.suspendLayouts(),f.show(),f.resumeLayouts(this._asLayoutRoot),h-=this.triggerTotalWidth,o.suspendLayouts(),n=this.menuItems.length=0;n<u;n++)(r=(t=c[n]).props)[l]+r[d]>h&&(i=t.target,this.menuItems.push(i),i.hide());o.resumeLayouts()},hideTrigger:function(){var e=this.menuTrigger;e&&e.hide()},beforeMenuShow:function(e){function t(e,t){return e.isXType("buttongroup")&&!(t instanceof Ext.toolbar.Separator)}var i,n,r=this.menuItems,s=0,o=r.length;for(e.suspendLayouts(),this.clearMenu(),e.removeAll();s<o;s++)i=r[s],!s&&i instanceof Ext.toolbar.Separator||(n&&(t(i,n)||t(n,i))&&e.add("-"),this.addComponentToMenu(e,i),n=i);e.items.length<1&&e.add(this.noItemsMenuText),e.resumeLayouts()},createMenuConfig:function(n,e){var t=Ext.apply({},n.initialConfig),i=n.toggleGroup;return Ext.copyTo(t,n,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]),Ext.apply(t,{text:n.overflowText||n.text,hideOnClick:e,destroyMenu:!1,listeners:{}}),n.isFormField?(t.value=n.getValue(),t.listeners.change=function(e,t,i){n.setValue(t)}):(i||n.enableToggle)&&Ext.apply(t,{hideOnClick:!1,group:i,checked:n.pressed,handler:function(e,t){n.onClick(t)}}),n.isButton&&!n.changeListenersAdded&&(n.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle}),n.changeListenersAdded=!0),delete t.margin,delete t.ownerCt,delete t.xtype,delete t.id,delete t.itemId,t},onButtonAttrChange:function(e){var t=e.overflowClone;t.suspendLayouts(),t.setText(e.text),t.setIcon(e.icon),t.setIconCls(e.iconCls),t.resumeLayouts(!0)},onButtonToggle:function(e,t){e.overflowClone.checked!==t&&e.overflowClone.setChecked(t)},addComponentToMenu:function(e,t){var i,n,r;if(t instanceof Ext.toolbar.Separator)e.add("-");else if(t.isComponent)if(t.isXType("splitbutton"))t.overflowClone=e.add(this.createMenuConfig(t,!0));else if(t.isXType("button"))t.overflowClone=e.add(this.createMenuConfig(t,!t.menu));else if(t.isXType("buttongroup"))for(r=(n=t.items.items).length,i=0;i<r;i++)this.addComponentToMenu(e,n[i]);else t.overflowClone=e.add(Ext.create(Ext.getClassName(t),this.createMenuConfig(t)))},clearMenu:function(){var e,t,i,n,r=this.menu;if(r&&r.items)for(i=(e=r.items.items).length,t=0;t<i;t++)(n=e[t]).setMenu&&n.setMenu(null)},destroy:function(){var e=this.menuTrigger;e&&!this.layout.owner.items.contains(e)&&delete e.ownerCt,Ext.destroy(this.menu,e)}}),Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:Ext.util.Observable},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(e,t){this.layout=e,Ext.apply(this,t||{}),this.mixins.observable.constructor.call(this),this.addEvents("scroll"),this.scrollPosition=0,this.scrollSize=0},getPrefixConfig:function(){var e,t=this.layout,i=t.owner;return this.initCSSClasses(),e=Ext.layout.container.Box.prototype.innerCls+" "+this.beforeCtCls,i.plain&&(e+=" "+this.scrollerCls+"-plain"),{role:"presentation",cls:e,cn:{role:"presentation",id:i.id+t.names.beforeScrollerSuffix,cls:this.scrollerCls+" "+this.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var e=this.layout,t=e.owner,i=Ext.layout.container.Box.prototype.innerCls+" "+this.afterCtCls;return t.plain&&(i+=" "+this.scrollerCls+"-plain"),{role:"presentation",cls:i,cn:{role:"presentation",id:t.id+e.names.afterScrollerSuffix,cls:this.scrollerCls+" "+this.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var e=this,t=Ext.baseCSSPrefix,i=e.layout,n=i.names,r=n.beforeX,s=n.afterX,o=e.getOwnerType(i.owner);e.beforeCtCls=e.beforeCtCls||t+"box-scroller-"+r,e.afterCtCls=e.afterCtCls||t+"box-scroller-"+s,e.beforeScrollerCls=e.beforeScrollerCls||t+o+"-scroll-"+r,e.afterScrollerCls=e.afterScrollerCls||t+o+"-scroll-"+s},beginLayout:function(e){this.layout;e.innerCtScrollPos=this.getScrollPosition(),this.callParent(arguments)},completeLayout:function(e){var t,i=e.state.boxPlan,n=this.layout.names;i&&i.tooNarrow&&(t=e.childItems[e.childItems.length-1],this.scrollSize=t.props[n.x]+t.props[n.width],this.updateScrollButtons()),this.callParent(arguments)},finishedLayout:function(e){var t=this.layout,i=Math.min(this.getMaxScrollPosition(),e.innerCtScrollPos);t.innerCt[t.names.setScrollLeft](i)},handleOverflow:function(e){var t=this.layout.names.getWidth;return this.showScrollers(),{reservedSpace:this.beforeCt[t]()+this.afterCt[t]()}},captureChildElements:function(){var e,t,i,n,r,s,o=this,a=o.layout.owner.el;o.beforeCt||(s="-hover",n="-pressed",i=o.scrollerCls+s,r=o.scrollerCls+n,e=o.beforeScroller=a.getById(o.layout.owner.id+"-before-scroller"),t=o.afterScroller=a.getById(o.layout.owner.id+"-after-scroller"),o.beforeCt=e.up(""),o.afterCt=t.up(""),o.createWheelListener(),e.addClsOnOver(i),e.addClsOnOver(o.beforeScrollerCls+s),e.addClsOnClick(r),e.addClsOnClick(o.beforeScrollerCls+n),t.addClsOnOver(i),t.addClsOnOver(o.afterScrollerCls+s),t.addClsOnClick(r),t.addClsOnClick(o.afterScrollerCls+n),e.setVisibilityMode(Ext.Element.DISPLAY),t.setVisibilityMode(Ext.Element.DISPLAY),o.beforeRepeater=new Ext.util.ClickRepeater(e,{interval:o.scrollRepeatInterval,handler:o.scrollLeft,scope:o}),o.afterRepeater=new Ext.util.ClickRepeater(t,{interval:o.scrollRepeatInterval,handler:o.scrollRight,scope:o}))},createWheelListener:function(){var t=this;t.layout.innerCt.on({mousewheel:function(e){t.scrollBy(t.getWheelDelta(e)*t.wheelIncrement*-1,!1)},stopEvent:!0})},getWheelDelta:function(e){return e.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.captureChildElements(),this.beforeScroller.show(),this.afterScroller.show(),this.layout.owner.addClsWithUI("vertical"===this.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){void 0!==this.beforeScroller&&(this.beforeScroller.hide(),this.afterScroller.hide(),this.layout.owner.removeClsWithUI("vertical"===this.layout.direction?"vertical-scroller":"scroller"))},destroy:function(){Ext.destroy(this.beforeRepeater,this.afterRepeater,this.beforeScroller,this.afterScroller,this.beforeCt,this.afterCt)},scrollBy:function(e,t){this.scrollTo(this.getScrollPosition()+e,t)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var e,t,i,n,r,s=this,o="-disabled";null!=s.beforeScroller&&null!=s.afterScroller&&(e=s.atExtremeBefore()?"addCls":"removeCls",t=s.atExtremeAfter()?"addCls":"removeCls",i=[r=s.scrollerCls+o,s.beforeScrollerCls+o],n=[r,s.afterScrollerCls+o],s.beforeScroller[e](i),s.afterScroller[t](n),s.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var e=this.layout;return isNaN(this.scrollPosition)?e.innerCt[e.names.getScrollLeft]():this.scrollPosition},getMaxScrollPosition:function(){var e=this.layout,t=this.scrollSize-e.innerCt[e.names.getWidth]();return t<0?0:t},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(e,t){var i=this,n=i.layout,r=n.names,s=i.getScrollPosition(),o=Ext.Number.constrain(e,0,i.getMaxScrollPosition());o==s||i.scrolling||(i.scrollPosition=NaN,void 0===t&&(t=i.animateScroll),n.innerCt[r.scrollTo](r.beforeScrollX,o,!!t&&i.getScrollAnim()),t?i.scrolling=!0:i.updateScrollButtons(),i.fireEvent("scroll",i,o,!!t&&i.getScrollAnim()))},scrollToItem:function(e,t){var i,n,r,s=this.layout,o=s.owner,a=s.names;void 0!==(e=this.getItem(e))&&(e==o.items.first()?r=0:e===o.items.last()?r=this.getMaxScrollPosition():(i=this.getItemVisibility(e)).fullyVisible||(r=(n=e.getBox(!1,!0))[a.x],i.hiddenEnd&&(r-=this.layout.innerCt[a.getWidth]()-n[a.width])),void 0!==r&&this.scrollTo(r,t))},getItemVisibility:function(e){var t=this.getItem(e).getBox(!0,!0),i=this.layout,n=i.names,r=t[n.x],s=r+t[n.width],o=this.getScrollPosition(),a=o+i.innerCt[n.getWidth]();return{hiddenStart:r<o,hiddenEnd:a<s,fullyVisible:o<r&&s<a}}}),Ext.define("Ext.util.Offset",{statics:{fromObject:function(e){return new this(e.x,e.y)}},constructor:function(e,t){return this.x=null==e||isNaN(e)?0:e,this.y=null==t||isNaN(t)?0:t,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(e){this.x=e.x,this.y=e.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(e){return this.x==e.x&&this.y==e.y},round:function(e){if(isNaN(e))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var t=Math.pow(10,e);this.x=Math.round(this.x*t)/t,this.y=Math.round(this.y*t)/t}},isZero:function(){return 0==this.x&&0==this.y}}),Ext.define("Ext.util.Region",{statics:{getRegion:function(e){return Ext.fly(e).getRegion()},from:function(e){return new this(e.top,e.right,e.bottom,e.left)}},constructor:function(e,t,i,n){this.y=this.top=this[1]=e,this.right=t,this.bottom=i,this.x=this.left=this[0]=n},contains:function(e){return e.x>=this.x&&e.right<=this.right&&e.y>=this.y&&e.bottom<=this.bottom},intersect:function(e){var t=Math.max(this.y,e.y),i=Math.min(this.right,e.right),n=Math.min(this.bottom,e.bottom),r=Math.max(this.x,e.x);return t<n&&r<i&&new this.self(t,i,n,r)},union:function(e){var t=Math.min(this.y,e.y),i=Math.max(this.right,e.right),n=Math.max(this.bottom,e.bottom),r=Math.min(this.x,e.x);return new this.self(t,i,n,r)},constrainTo:function(e){var t=this,i=Ext.Number.constrain;return t.top=t.y=i(t.top,e.y,e.bottom),t.bottom=i(t.bottom,e.y,e.bottom),t.left=t.x=i(t.left,e.x,e.right),t.right=i(t.right,e.x,e.right),t},adjust:function(e,t,i,n){return this.top=this.y+=e,this.left=this.x+=n,this.right+=t,this.bottom+=i,this},getOutOfBoundOffset:function(e,t){if(Ext.isObject(e)){t=e;var i=new Ext.util.Offset;return i.x=this.getOutOfBoundOffsetX(t.x),i.y=this.getOutOfBoundOffsetY(t.y),i}return"x"==e?this.getOutOfBoundOffsetX(t):this.getOutOfBoundOffsetY(t)},getOutOfBoundOffsetX:function(e){return e<=this.x?this.x-e:e>=this.right?this.right-e:0},getOutOfBoundOffsetY:function(e){return e<=this.y?this.y-e:e>=this.bottom?this.bottom-e:0},isOutOfBound:function(e,t){return Ext.isObject(e)?(t=e,this.isOutOfBoundX(t.x)||this.isOutOfBoundY(t.y)):"x"==e?this.isOutOfBoundX(t):this.isOutOfBoundY(t)},isOutOfBoundX:function(e){return e<this.x||e>this.right},isOutOfBoundY:function(e){return e<this.y||e>this.bottom},restrict:function(e,t,i){var n;return Ext.isObject(e)?(i=t,(n=(t=e).copy?t.copy():{x:t.x,y:t.y}).x=this.restrictX(t.x,i),n.y=this.restrictY(t.y,i),n):"x"==e?this.restrictX(t,i):this.restrictY(t,i)},restrictX:function(e,t){return t=t||1,e<=this.x?e-=(e-this.x)*t:e>=this.right&&(e-=(e-this.right)*t),e},restrictY:function(e,t){return t=t||1,e<=this.y?e-=(e-this.y)*t:e>=this.bottom&&(e-=(e-this.bottom)*t),e},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(e){return this.top=this.y=this[1]=e.y,this.right=e.right,this.bottom=e.bottom,this.left=this.x=this[0]=e.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,t){1==arguments.length&&(t=e.y,e=e.x);return this.top=this.y+=t,this.right+=e,this.bottom+=t,this.left=this.x+=e,this},round:function(){var e=this;return e.top=e.y=Math.round(e.y),e.right=Math.round(e.right),e.bottom=Math.round(e.bottom),e.left=e.x=Math.round(e.x),e},equals:function(e){return this.top==e.top&&this.right==e.right&&this.bottom==e.bottom&&this.left==e.left}}),Ext.define("Ext.dd.DragDropManager",{singleton:!0,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(e,t){var i,n,r,s,o=this.ids;for(i in o)if(o.hasOwnProperty(i))for(n in s=o[i])if(s.hasOwnProperty(n)){if(r=s[n],!this.isTypeOfDD(r))continue;r[e].apply(r,t)}},_onLoad:function(){this.init();var e=Ext.EventManager;e.on(document,"mouseup",this.handleMouseUp,this,!0),e.on(document,"mousemove",this.handleMouseMove,this,!0),e.on(window,"unload",this._onUnload,this,!0),e.on(window,"resize",this._onResize,this,!0)},_onResize:function(e){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(e,t){this.initialized||this.init(),this.ids[t]||(this.ids[t]={}),this.ids[t][e.id]=e},removeDDFromGroup:function(e,t){this.ids[t]||(this.ids[t]={});var i=this.ids[t];i&&i[e.id]&&delete i[e.id]},_remove:function(e,t){if(!this.clearingAll){var i,n=this.ids,r=e.groups;for(i in r)r.hasOwnProperty(i)&&(t?delete n[i]:n[i]&&delete n[i][e.id]);delete this.handleIds[e.id]}},regHandle:function(e,t){this.handleIds[e]||(this.handleIds[e]={}),this.handleIds[e][t]=t},isDragDrop:function(e){return!!this.getDDById(e)},getRelated:function(e,t){var i,n,r,s=[];for(i in e.groups)for(n in this.ids[i])r=this.ids[i][n],this.isTypeOfDD(r)&&(t&&!r.isTarget||(s[s.length]=r));return s},isLegalTarget:function(e,t){var i,n,r=this.getRelated(e,!0);for(i=0,n=r.length;i<n;++i)if(r[i].id==t.id)return!0;return!1},isTypeOfDD:function(e){return e&&e.__ygDragDrop},isHandle:function(e,t){return this.handleIds[e]&&this.handleIds[e][t]},getDDById:function(e){var t,i;for(t in this.ids)if((i=this.ids[t][e])instanceof Ext.dd.DDTarget)return i;return null},handleMouseDown:function(e,t){var i,n=this;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable(),n.dragCurrent&&n.handleMouseUp(e),n.mousedownEvent=e.clone(),n.currentTarget=e.getTarget(),i=(n.dragCurrent=t).getEl(),n.startX=e.getPageX(),n.startY=e.getPageY(),n.deltaX=n.startX-i.offsetLeft,n.deltaY=n.startY-i.offsetTop,n.dragThreshMet=!1,n.clickTimeout=setTimeout(function(){n.startDrag(n.startX,n.startY)},n.clickTimeThresh)},startDrag:function(e,t){var i,n=this.dragCurrent;clearTimeout(this.clickTimeout),n&&(n.b4StartDrag(e,t),n.startDrag(e,t),(i=n.getDragEl())&&Ext.fly(i).addCls(this.dragCls)),this.dragThreshMet=!0},handleMouseUp:function(e){Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable(),this.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(this.clickTimeout),this.dragThreshMet&&this.fireEvents(e,!0),this.stopDrag(e),this.stopEvent(e))},stopEvent:function(e){this.stopPropagation&&e.stopPropagation(),this.preventDefault&&e.preventDefault()},stopDrag:function(e){var t,i=this.dragCurrent;i&&(this.dragThreshMet&&((t=i.getDragEl())&&Ext.fly(t).removeCls(this.dragCls),i.b4EndDrag(e),i.endDrag(e)),this.dragCurrent.onMouseUp(e)),this.dragCurrent=null,this.dragOvers={}},handleMouseMove:function(e){var t,i,n=this,r=n.dragCurrent;return r&&(n.dragThreshMet||(t=Math.abs(n.startX-e.getPageX()),i=Math.abs(n.startY-e.getPageY()),(t>n.clickPixelThresh||i>n.clickPixelThresh)&&n.startDrag(n.startX,n.startY)),n.dragThreshMet&&(r.b4Drag(e),r.onDrag(e),r.moveOnly||n.fireEvents(e,!1)),n.stopEvent(e)),!0},fireEvents:function(e,t){var i,n,r,s,o,a,l,d,h,c=this,u=c.dragCurrent,f=e.getPoint(),g=[],p=[],m=[],x=[],y=[],E=[];if(u&&!u.isLocked()){for(l in c.notifyOccluded||Ext.supports.PointerEvents&&!Ext.isIE10m&&!Ext.isOpera||u.deltaX<0||u.deltaY<0||(n=(i=u.getDragEl()).style.top,i.style.top="-10000px",o=e.getXY(),e.target=document.elementFromPoint(o[0],o[1]),i.style.top=n),c.dragOvers)r=c.dragOvers[l],c.isTypeOfDD(r)&&(c.notifyOccluded?this.isOverTarget(f,r,c.mode)||m.push(r):e.within(r.getEl())||m.push(r),p[l]=!0,delete c.dragOvers[l]);for(h in u.groups)if("string"==typeof h)for(l in c.ids[h])if(r=c.ids[h][l],c.isTypeOfDD(r)&&(s=r.getEl())&&r.isTarget&&!r.isLocked()&&Ext.fly(s).isVisible(!0)&&(r!=u||!1===u.ignoreSelf))if(c.notifyOccluded)-1!==(r.zIndex=c.getZIndex(s))&&(a=!0),g.push(r);else if(e.within(r.getEl())){g.push(r);break}for(a&&Ext.Array.sort(g,c.byZIndex),l=0,d=g.length;l<d&&(r=g[l],!c.isOverTarget(f,r,c.mode)||(t?y.push(r):(p[r.id]?x.push(r):E.push(r),c.dragOvers[r.id]=r),c.notifyOccluded));l++);if(c.mode)m.length&&(u.b4DragOut(e,m),u.onDragOut(e,m)),E.length&&u.onDragEnter(e,E),x.length&&(u.b4DragOver(e,x),u.onDragOver(e,x)),y.length&&(u.b4DragDrop(e,y),u.onDragDrop(e,y));else{for(l=0,d=m.length;l<d;++l)u.b4DragOut(e,m[l].id),u.onDragOut(e,m[l].id);for(l=0,d=E.length;l<d;++l)u.onDragEnter(e,E[l].id);for(l=0,d=x.length;l<d;++l)u.b4DragOver(e,x[l].id),u.onDragOver(e,x[l].id);for(l=0,d=y.length;l<d;++l)u.b4DragDrop(e,y[l].id),u.onDragDrop(e,y[l].id)}t&&!y.length&&u.onInvalidDrop(e)}},getZIndex:function(e){var t,i=document.body,n=-1;for(e=Ext.getDom(e);e!==i;)isNaN(t=Number(Ext.fly(e).getStyle("zIndex")))||(n=t),e=e.parentNode;return n},byZIndex:function(e,t){return e.zIndex<t.zIndex},getBestMatch:function(e){var t,i,n=null,r=e.length;if(1==r)n=e[0];else for(t=0;t<r;++t){if((i=e[t]).cursorIsOver){n=i;break}(!n||n.overlap.getArea()<i.overlap.getArea())&&(n=i)}return n},refreshCache:function(e){var t,i,n,r;for(t in e)if("string"==typeof t)for(i in this.ids[t])n=this.ids[t][i],this.isTypeOfDD(n)&&((r=this.getLocation(n))?this.locationCache[n.id]=r:delete this.locationCache[n.id])},verifyEl:function(e){if(e){var t;if(Ext.isIE)try{t=e.offsetParent}catch(e){}else t=e.offsetParent;if(t)return!0}return!1},getLocation:function(e){if(!this.isTypeOfDD(e))return null;if(e.getRegion)return e.getRegion();var t,i,n,r,s,o,a,l,d,h=e.getEl();try{t=Ext.Element.getXY(h)}catch(e){}return t?(n=(i=t[0])+h.offsetWidth,s=(r=t[1])+h.offsetHeight,o=r-e.padding[0],a=n+e.padding[1],l=s+e.padding[2],d=i-e.padding[3],new Ext.util.Region(o,a,l,d)):null},isOverTarget:function(e,t,i){var n,r,s,o,a=this.locationCache[t.id];return a&&this.useCache||(a=this.getLocation(t),this.locationCache[t.id]=a),!!a&&(t.cursorIsOver=a.contains(e),(n=this.dragCurrent)&&n.getTargetCoord&&(i||n.constrainX||n.constrainY)?(t.overlap=null,r=n.getTargetCoord(e.x,e.y),s=n.getDragEl(),!!(o=new Ext.util.Region(r.y,r.x+s.offsetWidth,r.y+s.offsetHeight,r.x).intersect(a))&&(t.overlap=o,!!i||t.cursorIsOver)):t.cursorIsOver)},_onUnload:function(e,t){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var e,t=this,i=t.elementCache;for(e in t.dragCurrent&&(t.stopDrag(),t.dragCurrent=null),t.clearingAll=!0,t._execOnAll("unreg",[]),delete t.clearingAll,i)delete i[e];t.elementCache={},t.ids={},t.handleIds={}},elementCache:{},getElWrapper:function(e){var t=this.elementCache[e];return t&&t.el||(t=this.elementCache[e]=new this.ElementWrapper(Ext.getDom(e))),t},getElement:function(e){return Ext.getDom(e)},getCss:function(e){var t=Ext.getDom(e);return t?t.style:null},ElementWrapper:function(e){this.el=e||null,this.id=this.el&&e.id,this.css=this.el&&e.style},getPosX:function(e){return Ext.Element.getX(e)},getPosY:function(e){return Ext.Element.getY(e)},swapNode:function(e,t){if(e.swapNode)e.swapNode(t);else{var i=t.parentNode,n=t.nextSibling;n==e?i.insertBefore(e,t):t==e.nextSibling?i.insertBefore(t,e):(e.parentNode.replaceChild(t,e),i.insertBefore(e,n))}},getScroll:function(){var e=window.document,t=e.documentElement,i=e.body,n=0,r=0;return Ext.isGecko4?(n=window.scrollYOffset,r=window.scrollXOffset):t&&(t.scrollTop||t.scrollLeft)?(n=t.scrollTop,r=t.scrollLeft):i&&(n=i.scrollTop,r=i.scrollLeft),{top:n,left:r}},getStyle:function(e,t){return Ext.fly(e).getStyle(t)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,t){var i=Ext.Element.getXY(t);Ext.Element.setXY(e,i)},numericSort:function(e,t){return e-t},_timeoutCount:0,_addListeners:function(){document?this._onLoad():this._timeoutCount<=2e3&&(setTimeout(this._addListeners,10),document&&document.body&&(this._timeoutCount+=1))},handleWasClicked:function(e,t){if(this.isHandle(t,e.id))return!0;for(var i=e.parentNode;i;){if(this.isHandle(t,i.id))return!0;i=i.parentNode}return!1}},function(){this._addListeners()}),Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.BoxLayout",defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:void 0,stretchMaxPartner:void 0,alignRoundingMethod:"round",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}" role="presentation">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(e){var t,i=this;i.callParent(arguments),i.flexSortFn=Ext.Function.bind(i.flexSort,i),i.initOverflowHandler(),"string"!=(t=typeof i.padding)&&"number"!=t||(i.padding=Ext.util.Format.parseBox(i.padding),i.padding.height=i.padding.top+i.padding.bottom,i.padding.width=i.padding.left+i.padding.right)},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(e,t){var i=this.sizePolicy,n=this.align,r=e.flex,s=n,o=this.names,a=e[o.width],l=e[o.height],d=this._percentageRe,h=d.test(a),c="stretch"==n,u="stretchmax"==n,f=this.constrainAlign;return!t&&(c||r||h||f&&!u)&&(t=this.owner.getSizeModel()),c?!d.test(l)&&t[o.height].shrinkWrap&&(s="stretchmax"):u||(s=d.test(l)?"stretch":f&&!t[o.height].shrinkWrap?"stretchmax":""),(r||h)&&(t[o.width].shrinkWrap||(i=i.flex)),i[s]},flexSort:function(e,t){var i,n,r,s,o,a,l=this.names.maxWidth,d=this.names.minWidth,h=e.target,c=t.target,u=0;return r=h[l]||1/0,s=c[l]||1/0,i=h[d]||0,n=c[d]||0,o=isFinite(i)||isFinite(n),a=isFinite(r)||isFinite(s),(o||a)&&(a&&(u=r-s),0===u&&o&&(u=n-i)),u},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},roundFlex:function(e){return Math.ceil(e)},beginCollapse:function(e){"vertical"===this.direction&&e.collapsedVertical()?(e.collapseMemento.capture(["flex"]),delete e.flex):"horizontal"===this.direction&&e.collapsedHorizontal()&&(e.collapseMemento.capture(["flex"]),delete e.flex)},beginExpand:function(e){e.collapseMemento.restore(["flex"])},beginLayout:function(e){var t=this,i=t.owner,n=i.stretchMaxPartner,r=t.innerCt.dom.style,s=t.names;e.boxNames=s,t.overflowHandler.beginLayout(e),"string"==typeof n&&(n=Ext.getCmp(n)||i.query(n)[0]),e.stretchMaxPartner=n&&e.context.getCmp(n),t.callParent(arguments),e.innerCtContext=e.getEl("innerCt",t),t.scrollParallel=i.scrollFlags[s.x],t.scrollPerpendicular=i.scrollFlags[s.y],t.scrollParallel&&(t.scrollPos=i.getTargetEl().dom[s.scrollLeft]),r.width="",r.height=""},beginLayoutCycle:function(e,t){var i=this.align,n=e.boxNames,r=this.pack,s=n.heightModel;this.overflowHandler.beginLayoutCycle(e,t),this.callParent(arguments),e.parallelSizeModel=e[n.widthModel],e.perpendicularSizeModel=e[s],e.boxOptions={align:i={stretch:"stretch"==i,stretchmax:"stretchmax"==i,center:i==n.center,bottom:i==n.afterY},pack:r={center:"center"==r,end:"end"==r}},i.stretch&&e.perpendicularSizeModel.shrinkWrap&&(i.stretchmax=!0,i.stretch=!1),i.nostretch=!(i.stretch||i.stretchmax),e.parallelSizeModel.shrinkWrap&&(r.center=r.end=!1),this.cacheFlexes(e),this.targetEl.setWidth(2e4)},cacheFlexes:function(e){for(var t,i,n,r,s=e.boxNames,o=s.widthModel,a=s.heightModel,l=e.boxOptions.align.nostretch,d=0,h=e.childItems,c=h.length,u=[],f=0,g=s.minWidth,p=this._percentageRe,m=0,x=0;c--;)t=(i=h[c]).target,i[o].calculated&&(i.flex=n=t.flex,n?(d+=n,u.push(i),f+=t[g]||0):(r=p.exec(t[s.width]),i.percentageParallel=parseFloat(r[1])/100,++m)),l&&i[a].calculated&&(r=p.exec(t[s.height]),i.percentagePerpendicular=parseFloat(r[1])/100,++x);e.flexedItems=u,e.flexedMinSize=f,e.totalFlex=d,e.percentageWidths=m,e.percentageHeights=x,Ext.Array.sort(u,this.flexSortFn)},calculate:function(e){var t=this,i=t.getContainerSize(e),n=e.boxNames,r=e.state,s=r.boxPlan||(r.boxPlan={});e.targetContext;s.targetSize=i,r.parallelDone||(r.parallelDone=t.calculateParallel(e,n,s)),r.perpendicularDone||(r.perpendicularDone=t.calculatePerpendicular(e,n,s)),r.parallelDone&&r.perpendicularDone?(t.publishInnerCtSize(e,t.reserveOffset?t.availableSpaceOffset:0),t.done&&e.boxOptions.align.stretchmax&&!r.stretchMaxDone&&(t.calculateStretchMax(e,n,s),r.stretchMaxDone=!0),t.overflowHandler.calculate(e)):t.done=!1},calculateParallel:function(e,t,i){var n,r,s,o,a,l,d,h,c,u,f,g=t.width,p=e.childItems,m=t.beforeX,x=t.afterX,y=t.setWidth,E=p.length,v=e.flexedItems,b=v.length,C=e.boxOptions.pack,w=this.padding,S=i.targetSize,P=S[g],k=0,T=w[m],I=T+w[x]+this.scrollOffset+(this.reserveOffset?this.availableSpaceOffset:0),M=Ext.getScrollbarSize()[t.width];if(!e.parallelSizeModel.shrinkWrap&&!S[t.gotWidth])return!1;if(M&&this.scrollPerpendicular&&e.parallelSizeModel.shrinkWrap&&!e.boxOptions.align.stretch&&!e.perpendicularSizeModel.shrinkWrap){if(!e.state.perpendicularDone)return!1;c=!0}for(n=0;n<E;++n)if(k+=(r=(a=p[n]).marginInfo||a.getMarginInfo())[g],!a[t.widthModel].calculated&&(I+=u=a.getProp(g),isNaN(I)))return!1;if(I+=k,e.percentageWidths){if(f=P-k,isNaN(f))return!1;for(n=0;n<E;++n)(a=p[n]).percentageParallel&&(u=Math.ceil(f*a.percentageParallel),I+=u=a.setWidth(u))}if(e.parallelSizeModel.shrinkWrap)i.availableSpace=0,i.tooNarrow=!1;else if(i.availableSpace=P-I,i.tooNarrow=i.availableSpace<e.flexedMinSize,i.tooNarrow&&Ext.getScrollbarSize()[t.height]&&this.scrollParallel&&e.state.perpendicularDone)for(e.state.perpendicularDone=!1,n=0;n<E;++n)p[n].invalidate();for(h=I,s=i.availableSpace,o=e.totalFlex,n=0;n<b;n++)l=(a=v[n]).flex,d=this.roundFlex(l/o*s),h+=d=a[y](d),s=Math.max(0,s-d),o-=l;for(C.center?(T+=s/2)<0&&(T=0):C.end&&(T+=s),n=0;n<E;++n)T+=(r=(a=p[n]).marginInfo)[m],a.setProp(t.x,T),T+=r[x]+a.props[g];return h+=e.targetContext.getPaddingInfo()[g],e.state.contentWidth=h,c&&e.peek(t.contentHeight)>i.targetSize[t.height]&&(h+=M,e[t.hasOverflowY]=!0,e.target.componentLayout[t.setWidthInDom]=!0,e[t.invalidateScrollY]=Ext.isStrict&&Ext.isIE8),e[t.setContentWidth](h),!0},calculatePerpendicular:function(e,t,i){var n,r,s,o,a,l,d,h,c,u,f,g=e.perpendicularSizeModel.shrinkWrap,p=i.targetSize,m=e.childItems,x=m.length,y=Math.max,E=t.height,v=t.setHeight,b=t.beforeY,C=t.y,w=this.padding,S=w[b],P=p[E]-S-w[t.afterY],k=e.boxOptions.align,T=k.stretch,I=k.stretchmax,M=k.center,D=k.bottom,A=this.constrainAlign,F=0,R=0,L=this.onBeforeConstrainInvalidateChild,O=this.onAfterConstrainInvalidateChild,B=Ext.getScrollbarSize().height;if((T||(M||D)&&!g)&&isNaN(P))return!1;if(!T&&!e.parallelSizeModel.shrinkWrap&&!e.state.parallelDone&&this.scrollParallel)return!1;if(this.scrollParallel&&i.tooNarrow&&(g?u=!0:(P-=B,i.targetSize[E]-=B)),T)l=P;else{for(r=0;r<x;r++){if(o=((d=m[r]).marginInfo||d.getMarginInfo())[E],f=d.percentagePerpendicular){if(++R,g)continue;s=f*P-o,s=d[t.setHeight](s)}else s=d.getProp(E);if(!g&&A&&d[t.heightModel].shrinkWrap&&P<s&&(d.invalidate({before:L,after:O,layout:this,childHeight:P,names:t}),e.state.parallelDone=!1),isNaN(F=y(F,s+o,d.target[t.minHeight]||0)))return!1}if(u&&(F+=B,e[t.hasOverflowX]=!0,e.target.componentLayout[t.setHeightInDom]=!0,e[t.invalidateScrollX]=Ext.isStrict&&Ext.isIE8),(h=e.stretchMaxPartner)&&(e.setProp("maxChildHeight",F),(c=h.childItems)&&c.length&&(F=y(F,h.getProp("maxChildHeight")),isNaN(F))))return!1;e[t.setContentHeight](F+this.padding[E]+e.targetContext.getPaddingInfo()[E]),u&&(F-=B),i.maxSize=F,I?l=F:(M||D||R)&&(l=A?g?F:P:g?F:y(P,F),l-=e.innerCtContext.getBorderInfo()[E])}for(r=0;r<x;r++)n=S+(o=(d=m[r]).marginInfo||d.getMarginInfo())[b],T?d[v](l-o[E]):(f=d.percentagePerpendicular,g&&f&&(s=f*l-(o=d.marginInfo||d.getMarginInfo())[E],s=d.setHeight(s)),M?0<(a=l-d.props[E])&&(n=S+Math[this.alignRoundingMethod](a/2)):D&&(n=y(0,l-n-d.props[E]))),d.setProp(C,n);return!0},onBeforeConstrainInvalidateChild:function(e,t){var i=t.names.heightModel;e[i].constrainedMin||(e[i]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(e,t){var i=t.names;e.setProp(i.beforeY,0),e[i.heightModel].calculated&&e[i.setHeight](t.childHeight)},calculateStretchMax:function(e,t,i){var n,r,s,o,a=t.height,l=t.width,d=e.childItems,h=d.length,c=i.maxSize,u=this.onBeforeStretchMaxInvalidateChild,f=this.onAfterStretchMaxInvalidateChild;for(s=0;s<h;++s)r=(n=d[s]).props,(o=c-n.getMarginInfo()[a])==r[a]&&!n[t.heightModel].constrained||n.invalidate({before:u,after:f,layout:this,childWidth:r[l],childHeight:o,childX:r.x,childY:r.y,names:t})},onBeforeStretchMaxInvalidateChild:function(e,t){var i=t.names.heightModel;e[i].constrainedMax||(e[i]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(e,t){var i=t.names,n=t.childHeight,r=t.childWidth;e.setProp("x",t.childX),e.setProp("y",t.childY),e[i.heightModel].calculated&&e[i.setHeight](n),e[i.widthModel].calculated&&e[i.setWidth](r)},completeLayout:function(e){var t,i,n,r,s,o=e.boxNames,a=e.invalidateScrollX,l=e.invalidateScrollY;this.overflowHandler.completeLayout(e),(a||l)&&(s=(t=(i=this.getTarget()).dom).style,a&&("auto"==(n=i.getStyle("overflowX"))?(n=s.overflowX,s.overflowX="scroll"):a=!1),l&&("auto"==(r=i.getStyle("overflowY"))?(r=s.overflowY,s.overflowY="scroll"):l=!1),(a||l)&&(t.scrollWidth,a&&(s.overflowX=n),l&&(s.overflowY=r))),this.scrollParallel&&(this.owner.getTargetEl().dom[o.scrollLeft]=this.scrollPos)},finishedLayout:function(e){this.overflowHandler.finishedLayout(e),this.callParent(arguments),this.targetEl.setWidth(e.innerCtContext.props.width)},publishInnerCtSize:function(e,t){var i,n=e.boxNames,r=n.height,s=n.width,o=e.boxOptions.align,a=this.owner.dock,l=this.padding,d=e.state.boxPlan,h=d.targetSize,c=h[r],u=e.innerCtContext,f=(e.parallelSizeModel.shrinkWrap||d.tooNarrow&&this.scrollParallel?e.state.contentWidth-e.targetContext.getPaddingInfo()[s]:h[s])-(t||0);o.stretch?i=c:(i=d.maxSize+l[n.beforeY]+l[n.afterY]+u.getBorderInfo()[r],e.perpendicularSizeModel.shrinkWrap||!o.center&&!o.bottom||(i=Math.max(c,i))),u[n.setWidth](f),u[n.setHeight](i),isNaN(f+i)&&(this.done=!1),!d.calculatedWidth||"left"!=a&&"right"!=a||e.setWidth(d.calculatedWidth,!0,!0)},onRemove:function(e,t){var i,n=this.names;this.callParent(arguments),this.overflowHandler&&this.overflowHandler.onRemove(e),e.layoutMarginCap==this.id&&delete e.layoutMarginCap,this.owner.destroying||t||!e.rendered||((i=e.getEl()).setStyle(n.beforeY,""),i.setStyle(n.beforeX,""))},initOverflowHandler:function(){var e,t,i=this.overflowHandler;"string"==typeof i&&(i={type:i}),e="None",i&&void 0!==i.type&&(e=i.type),(t=Ext.layout.container.boxOverflow[e])[this.type]&&(t=t[this.type]),this.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+e,this,i)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler),this.flexSortFn=this.innerCt=null,this.callParent(arguments)},getRenderData:function(){var e=this.callParent();return e.targetElCls=this.targetElCls,e}}),Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.HBoxLayout",align:"top",constrainAlign:!1,type:"hbox",direction:"horizontal",horizontal:!0,names:{beforeX:"left",beforeScrollX:"left",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}}),Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.VBoxLayout",align:"left",constrainAlign:!1,type:"vbox",direction:"vertical",horizontal:!1,names:{beforeX:"top",beforeScrollX:"top",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}),Ext.define("Ext.toolbar.Toolbar",{extend:Ext.container.Container,alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:!1,enableOverflow:!1,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var e=this;!e.layout&&e.enableOverflow&&(e.layout={overflowHandler:"Menu"}),"right"!==e.dock&&"left"!==e.dock||(e.vertical=!0),e.layout=Ext.applyIf(Ext.isString(e.layout)?{type:e.layout}:e.layout||{},{type:e.vertical?"vbox":"hbox",align:e.vertical?"stretchmax":"middle"}),e.vertical&&e.addClsWithUI("vertical"),"footer"===e.ui&&(e.ignoreBorderManagement=!0),e.callParent(),e.addEvents("overflowchange")},getRefItems:function(e){var t,i=this.callParent(arguments),n=this.layout;return e&&this.enableOverflow&&(t=n.overflowHandler)&&t.menu&&(i=i.concat(t.menu.getRefItems(e))),i},lookupComponent:function(e){var t=arguments;if("string"==typeof e){var i=Ext.toolbar.Toolbar,n=i.shortcutsHV[this.vertical?1:0][e]||i.shortcuts[e];e="string"==typeof n?{xtype:n}:n?Ext.apply({},n):{xtype:"tbtext",text:e},this.applyDefaults(e),t=[e]}return this.callParent(t)},applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e},trackMenu:function(e,t){if(this.trackMenus&&e.menu){var i=t?"mun":"mon";this[i](e,"mouseover",this.onButtonOver,this),this[i](e,"menushow",this.onButtonMenuShow,this),this[i](e,"menuhide",this.onButtonMenuHide,this)}},onBeforeAdd:function(e){var t=e.isButton;t&&this.defaultButtonUI&&"default"===e.ui&&!e.hasOwnProperty("ui")?e.ui=this.defaultButtonUI:(t||e.isFormField)&&"footer"!==this.ui&&(e.ui=e.ui+"-toolbar",e.addCls(e.baseCls+"-toolbar")),e instanceof Ext.toolbar.Separator&&e.setUI(this.vertical?"vertical":"horizontal"),this.callParent(arguments)},onAdd:function(e){this.callParent(arguments),this.trackMenu(e)},onRemove:function(e){this.callParent(arguments),this.trackMenu(e,!0)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(e){this.activeMenuBtn&&this.activeMenuBtn!=e&&(this.activeMenuBtn.hideMenu(),e.showMenu(),this.activeMenuBtn=e)},onButtonMenuShow:function(e){this.activeMenuBtn=e},onButtonMenuHide:function(e){delete this.activeMenuBtn}}),Ext.define("Ext.layout.component.Dock",{extend:Ext.layout.component.Component,alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var e,t;this.callParent(),e=this.getRenderTarget(),t=this.getDockedItems(),this.finishRenderItems(e,t)},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},handleItemBorders:function(){var e,t,i,n,r,s,o,a=this,l=a.owner,d=a.lastDockedItems,h=a.borders,c=l.dockedItems.generation,u=a.noBorderClassesSides,f=a.borderWidthProps,g=a.collapsed;if(a.initializedBorders!=c&&(!l.border||l.manageBodyBorders)){for(a.initializedBorders=c,a.collapsed=!1,a.lastDockedItems=t=a.getLayoutItems(),a.collapsed=g,e={top:[],right:[],bottom:[],left:[]},i=0,n=t.length;i<n;i++)s=(r=t[i]).dock,r.ignoreBorderManagement||(e[s].satisfied||(e[s].push(r),e[s].satisfied=!0),e.top.satisfied||"bottom"===s||e.top.push(r),e.right.satisfied||"left"===s||e.right.push(r),e.bottom.satisfied||"top"===s||e.bottom.push(r),e.left.satisfied||"right"===s||e.left.push(r));if(d)for(i=0,n=d.length;i<n;i++)(r=d[i]).isDestroyed||r.ignoreBorderManagement||l.manageBodyBorders||r.removeCls(a.noBorderClasses);if(h)for(o in h)l.manageBodyBorders&&h[o].satisfied&&l.setBodyStyle(f[o],"");for(o in e)if(n=e[o].length,l.manageBodyBorders)e[o].satisfied&&l.setBodyStyle(f[o],"1px");else{for(i=0;i<n;i++)e[o][i].addCls(u[o]);(e[o].satisfied||l.bodyBorder)&&!1!==l.bodyBorder||l.addBodyCls(u[o])}a.borders=e}},beforeLayoutCycle:function(e){var t,i,n=this.owner,r=this.sizeModels.shrinkWrap,s=n.shrinkWrapDock;n.collapsed&&(n.collapsedVertical()?(i=!0,e.measureDimensions=1):(t=!0,e.measureDimensions=2)),e.collapsedVert=i,e.collapsedHorz=t,i?e.heightModel=r:t&&(e.widthModel=r),s=!0===s?3:s||0,e.shrinkWrapDockHeight=1&s&&e.heightModel.shrinkWrap,e.shrinkWrapDockWidth=2&s&&e.widthModel.shrinkWrap},beginLayout:function(e){var t,i,n,r,s,o,a,l=this.owner,d=this.getLayoutItems(),h=e.context,c=d.length;for(this.callParent(arguments),(o=l.getCollapsed())!==this.lastCollapsedState&&Ext.isDefined(this.lastCollapsedState)&&(this.owner.collapsed?(e.isCollapsingOrExpanding=1,l.addClsWithUI(l.collapsedCls)):(e.isCollapsingOrExpanding=2,l.removeClsWithUI(l.collapsedCls),e.lastCollapsedState=this.lastCollapsedState)),this.lastCollapsedState=o,e.dockedItems=t=[],i=0;i<c;i++)(n=d[i]).rendered&&(a=n.dock,(r=h.getCmp(n)).dockedAt={x:0,y:0},r.offsets=s=Ext.Element.parseBox(n.offsets||0),r.horizontal="top"==a||"bottom"==a,s.width=s.left+s.right,s.height=s.top+s.bottom,t.push(r));e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e){var t,i,n,r=e.dockedItems,s=r.length,o=this.owner,a=o.frameBody,l=this.lastHeightModel;for(this.callParent(arguments),this.owner.manageHeight?this.lastBodyDisplay&&(o.body.dom.style.display=this.lastBodyDisplay=""):("inline-block"!==this.lastBodyDisplay&&(o.body.dom.style.display=this.lastBodyDisplay="inline-block"),l&&l.shrinkWrap&&!e.heightModel.shrinkWrap&&(o.body.dom.style.marginBottom="")),e.widthModel.auto&&(e.widthModel.shrinkWrap&&o.el.setWidth(null),o.body.setWidth(null),a&&a.setWidth(null)),e.heightModel.auto&&(o.body.setHeight(null),a&&a.setHeight(null)),e.collapsedVert?e.setContentHeight(0):e.collapsedHorz&&e.setContentWidth(0),t=0;t<s;t++)if("right"==(n=(i=r[t].target).dock))i.setLocalX(0);else if("left"!=n)continue},calculate:function(e){var t,i,n,r,s,o=this,a=o.measureAutoDimensions(e,e.measureDimensions),l=e.state,d=l.horzDone,h=l.vertDone,c=e.bodyContext;for(e.borderInfo||e.getBorderInfo(),e.paddingInfo||e.getPaddingInfo(),e.frameInfo||e.getFrameInfo(),c.borderInfo||c.getBorderInfo(),c.paddingInfo||c.getPaddingInfo(),e.frameBorder||((t=e.framing)?(e.frameBorder=t.border,e.framePadding=t.padding):(e.frameBorder=e.borderInfo,e.framePadding=e.paddingInfo)),i=!d&&o.createAxis(e,a.contentWidth,e.widthModel,o.horzAxisProps,e.collapsedHorz),n=!h&&o.createAxis(e,a.contentHeight,e.heightModel,o.vertAxisProps,e.collapsedVert),r=0,s=e.dockedItems.length;s--;++r)i&&o.dockChild(e,i,s,r),n&&o.dockChild(e,n,s,r);i&&o.finishAxis(e,i)&&(l.horzDone=d=i),n&&o.finishAxis(e,n)&&(l.vertDone=h=n),d&&h&&o.finishConstraints(e,d,h)?o.finishPositions(e,d,h):o.done=!1},createAxis:function(e,t,i,n,r){var s,o,a,l=0,d=this.owner,h=d[n.maxSize],c=d[n.minSize]||0,u=n.dockBegin,f=n.dockEnd,g=n.pos,p=n.size,m=null!=h;return a=i.shrinkWrap?r?0:t+e.bodyContext.borderInfo[p]:(s=e.frameBorder,o=e.framePadding,l=s[u]+o[u],e.getProp(p)-(s[f]+o[f])),{shrinkWrap:i.shrinkWrap,sizeModel:i,initialBegin:l,begin:l,end:a,collapsed:r,horizontal:n.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:a-l,maxChildSize:0,hasMinMaxConstraints:(c||m)&&i.shrinkWrap,minSize:c,maxSize:m?h:1e9,bodyPosProp:this.owner.manageHeight?g:n.marginBegin,dockBegin:u,dockEnd:f,posProp:g,sizeProp:p,setSize:n.setSize,shrinkWrapDock:e[n.shrinkWrapDock],sizeModelName:n.sizeModel,dockedPixelsEnd:0}},dockChild:function(e,t,i,n){var r,s,o=e.dockedItems[t.shrinkWrap?i:n],a=o.target,l=a.dock,d=t.sizeProp;a.ignoreParentFrame&&e.isCollapsingOrExpanding&&o.clearMarginCache(),o.marginInfo||o.getMarginInfo(),r=l==t.dockBegin?t.shrinkWrap?this.dockOutwardBegin(e,o,a,t):this.dockInwardBegin(e,o,a,t):l==t.dockEnd?t.shrinkWrap?this.dockOutwardEnd(e,o,a,t):this.dockInwardEnd(e,o,a,t):t.shrinkWrapDock?(s=o.getProp(d)+o.marginInfo[d],t.maxChildSize=Math.max(t.maxChildSize,s),0):this.dockStretch(e,o,a,t),o.dockedAt[t.posProp]=r},dockInwardBegin:function(e,t,i,n){var r,s,o,a=n.begin,l=n.sizeProp,d=i.ignoreParentFrame;return d&&(n.ignoreFrameBegin=t,o=i.dock,a-=(r=e.frameBorder[o])+e.framePadding[o]),i.overlay||(s=t.getProp(l)+t.marginInfo[l],n.begin+=s,d&&(n.begin-=r)),a},dockInwardEnd:function(e,t,i,n){var r,s=n.sizeProp,o=t.getProp(s)+t.marginInfo[s],a=n.end-o;return i.overlay||(n.end=a),i.ignoreParentFrame&&(n.ignoreFrameEnd=t,a+=(r=e.frameBorder[i.dock])+e.framePadding[i.dock],n.end+=r),a},dockOutwardBegin:function(e,t,i,n){var r=n.begin,s=n.sizeProp;return n.collapsed?n.ignoreFrameBegin=n.ignoreFrameEnd=t:i.ignoreParentFrame&&(n.ignoreFrameBegin=t),i.overlay||(r-=t.getProp(s)+t.marginInfo[s],n.begin=r),r},dockOutwardEnd:function(e,t,i,n){var r,s=n.end,o=n.sizeProp;return r=t.getProp(o)+t.marginInfo[o],n.collapsed?n.ignoreFrameBegin=n.ignoreFrameEnd=t:i.ignoreParentFrame&&(n.ignoreFrameEnd=t),i.overlay||(n.end=s+r,n.dockedPixelsEnd+=r),s},dockStretch:function(e,t,i,n){var r,s=i.dock,o=n.sizeProp,a="top"==s||"bottom"==s,l=e.frameBorder,d=t.offsets,h=e.framePadding,c=a?"right":"bottom",u=a?"left":"top",f=n.begin+d[u];return!1!==i.stretch&&(r=n.end-f-d[c],i.ignoreParentFrame&&(f-=h[u]+l[u],r+=h[o]+l[o]),r-=t.marginInfo[o],t[n.setSize](r)),f},finishAxis:function(e,t){if(isNaN(t.maxChildSize))return!1;var i,n,r,s,o=t.begin,a=t.end-o,l=t.collapsed,d=t.setSize,h=t.dockBegin,c=t.dockEnd,u=e.framePadding,f=e.frameBorder,g=f[h],p=e.framing,m=p&&p[h],x=l?0:u[h],y=t.sizeProp,E=t.ignoreFrameBegin,v=t.ignoreFrameEnd,b=e.bodyContext,C=Math.max(g+x-m,0);return t.shrinkWrap?(n=t.initialSize,p?i=(r=-o+g+x)-m-C:r=(i=-o)+x,l||(a+=u[y]),E?(r-=g,i-=g,E.dockedAt[t.posProp]-=x):a+=g,l||(v?v.dockedAt[t.posProp]+=u[c]:a+=f[c]),t.size=a,t.horizontal||this.owner.manageHeight||(s=!1)):(i=p?(r=0,o-m-C):(r=-g,o-x-g),n=a),t.delta=r,b[d](n,s),b.setProp(t.bodyPosProp,i),!isNaN(a)},beforeInvalidateShrinkWrapDock:function(e,t){var i=t.axis.sizeModelName;e[i].constrainedMin||(e[i]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(e,t){var i,n=t.axis,r=t.layout;e[n.sizeModelName].calculated&&(i=r.dockStretch(t.ownerContext,e,e.target,n),e.setProp(n.posProp,n.delta+i))},finishConstraints:function(e,t,i){var n,r,s,o,a,l,d,h,c,u,f=this.sizeModels,g=t.shrinkWrap,p=i.shrinkWrap,m=this.owner;if(g&&(l=t.size,d=t.collapsed?0:t.minSize,h=t.maxSize,c=t.maxChildSize,h<(u=Math.max(l,c))?(a=f.constrainedMax,s=h):u<d?(a=f.constrainedMin,s=d):l<c?(a=f.constrainedDock,m.dockConstrainedWidth=s=c):s=l),p&&(l=i.size,d=i.collapsed?0:i.minSize,h=i.maxSize,c=i.maxChildSize,h<(u=Math.max(l,c+l-i.initialSize))?(o=f.constrainedMax,r=h):u<d?(o=f.constrainedMin,r=d):l<c?(o=f.constrainedDock,m.dockConstrainedHeight=r=c):(e.collapsedVert||m.manageHeight||(n=!1,e.bodyContext.setProp("margin-bottom",i.dockedPixelsEnd)),r=l)),a||o){if(a&&o&&a.constrainedMax&&o.constrainedByMin)return e.invalidate({widthModel:a}),!1;if(!e.widthModel.calculatedFromShrinkWrap&&!e.heightModel.calculatedFromShrinkWrap)return e.invalidate({widthModel:a,heightModel:o}),!1}else this.invalidateAxes(e,t,i);return g&&(e.setWidth(s),a&&(e.widthModel=a)),p&&(e.setHeight(r,n),o&&(e.heightModel=o)),!0},invalidateAxes:function(e,t,i){var n,r,s,o,a,l,d,h,c=this.beforeInvalidateShrinkWrapDock,u=this.afterInvalidateShrinkWrapDock,f=t.end-t.begin,g=i.initialSize,p=t.shrinkWrapDock&&t.maxChildSize<=f,m=i.shrinkWrapDock&&i.maxChildSize<=g;if(p||m)for(m&&(i.begin=i.initialBegin,i.end=i.begin+i.initialSize),s=0,r=(n=e.dockedItems).length;s<r;++s)l=(o=n[s]).horizontal,d=null,p&&l?(h=t.sizeProp,a=f,d=t):m&&!l&&(h=i.sizeProp,a=g,d=i),d&&(a-=o.getMarginInfo()[h])!==o.props[h]&&o.invalidate({before:c,after:u,axis:d,ownerContext:e,layout:this})},finishPositions:function(e,t,i){var n,r,s=e.dockedItems,o=s.length,a=t.delta,l=i.delta;for(n=0;n<o;++n)(r=s[n]).setProp("x",a+r.dockedAt.x),r.setProp("y",l+r.dockedAt.y)},finishedLayout:function(e){var t=e.target;this.callParent(arguments),e.animatePolicy||(1===e.isCollapsingOrExpanding?t.afterCollapse(!1):2===e.isCollapsingOrExpanding&&t.afterExpand(!1))},getAnimatePolicy:function(e){var t,i;return 1==e.isCollapsingOrExpanding?t=this.lastCollapsedState:2==e.isCollapsingOrExpanding&&(t=e.lastCollapsedState),"left"==t||"right"==t?i=this.horizontalCollapsePolicy:"top"!=t&&"bottom"!=t||(i=this.verticalCollapsePolicy),i},getDockedItems:function(r,e){var s,t,i,n,o,a,l=this,d="visual"===r,h=d?Ext.ComponentQuery.query("[rendered]",l.owner.dockedItems.items):l.owner.dockedItems.items,c=h&&h.length&&!1!==r;if(null==e)i=c&&!d?h.slice():h;else{for(i=[],n=0,a=h.length;n<a;++n)o="top"==(t=h[n].dock)||"left"==t,(e?o:!o)&&i.push(h[n]);c=c&&i.length}return c&&(s="render"==(r=r||"render"),Ext.Array.sort(i,function(e,t){var i,n;return!s||(i=l.owner.dockOrder[e.dock])===(n=l.owner.dockOrder[t.dock])||i+n?(i=l.getItemWeight(e,r),n=l.getItemWeight(t,r),void 0!==i&&void 0!==n?i-n:0):i-n})),i||[]},getItemWeight:function(e,t){var i=e.weight||this.owner.defaultDockWeights[e.dock];return i[t]||i},getLayoutItems:function(){var e,t,i,n,r;if(this.owner.collapsed)r=this.owner.getCollapsedDockedItems();else for(t=(e=this.getDockedItems("visual")).length,r=[],n=0;n<t;n++)(i=e[n]).hidden||r.push(i);return r},measureContentWidth:function(e){var t=e.bodyContext;return t.el.getWidth()-t.getBorderInfo().width},measureContentHeight:function(e){var t=e.bodyContext;return t.el.getHeight()-t.getBorderInfo().height},redoLayout:function(e){var t=this.owner;1==e.isCollapsingOrExpanding?(t.reExpander&&t.reExpander.el.show(),t.addClsWithUI(t.collapsedCls),e.redo(!0)):2==e.isCollapsingOrExpanding&&(t.removeClsWithUI(t.collapsedCls),e.bodyContext.redo())},renderChildren:function(){var e=this.getDockedItems(),t=this.getRenderTarget();this.handleItemBorders(),this.renderItems(e,t)},renderItems:function(e,t){var i,n,r,s,o=e.length,a=0,l=0,d=0,h=this.getRenderTarget().dom.childNodes,c=h.length;for(n=i=0;i<c&&(r=h[i],!Ext.fly(r).hasCls(Ext.baseCSSPrefix+"resizable-handle"));i++){for(n=0;n<o&&(!(s=e[n]).rendered||s.el.dom!==r);n++);n===o&&d++}for(;a<o;a++,l++)s=e[a],a!==l||"right"!==s.dock&&"bottom"!==s.dock||(l+=d),s&&!s.rendered?this.renderItem(s,t,l):this.isValidParent(s,t,l)||this.moveItem(s,t,l)},undoLayout:function(e){var t=this.owner;1==e.isCollapsingOrExpanding?(t.reExpander&&t.reExpander.el.hide(),t.removeClsWithUI(t.collapsedCls),e.undo(!0)):2==e.isCollapsingOrExpanding&&(t.addClsWithUI(t.collapsedCls),e.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(e,t){var i,n,r=this.sizePolicy,s=this.owner.shrinkWrapDock;return!1===e.stretch?r.nostretch:(s=!0===s?3:s||0,(n="left"==(i=e.dock)||"right"==i)?(r=r.vert,s&=1):(r=r.horz,s&=2),s&&(t=t||this.owner.getSizeModel())[n?"height":"width"].shrinkWrap?r.shrinkWrap:r.stretch)},configureItem:function(e,t){this.callParent(arguments),e.addCls(Ext.baseCSSPrefix+"docked"),e.addClsWithUI(this.getDockCls(e.dock))},getDockCls:function(e){return"docked-"+e},afterRemove:function(e){this.callParent(arguments),this.itemCls&&e.el.removeCls(this.itemCls+"-"+e.dock);var t=e.el.dom;!e.destroying&&t&&t.parentNode.removeChild(t),this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var e,t=this.borderCollapseMap,i=this.owner,n=i.baseCls,r=i.ui;return(e=(t=t[n]||(t[n]={}))[r])||(n+="-"+r+"-outer-border-",t[r]=e=[0,n+"l",n+"b",n+"bl",n+"r",n+"rl",n+"rb",n+"rbl",n+"t",n+"tl",n+"tb",n+"tbl",n+"tr",n+"trl",n+"trb",n+"trbl"]),e}}),Ext.define("Ext.panel.AbstractPanel",{extend:Ext.container.Container,mixins:{docking:Ext.container.DockingContainer},baseCls:Ext.baseCSSPrefix+"panel",isPanel:!0,contentPaddingProperty:"bodyPadding",shrinkWrapDock:!1,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyRole"> role="{bodyRole}"<tpl else> role="presentation"</tpl>','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:!0,emptyArray:[],initComponent:function(){this.initBorderProps(),this.callParent()},initBorderProps:function(){this.frame&&this.border&&void 0===this.bodyBorder&&(this.bodyBorder=!1),this.frame&&this.border&&(!1===this.bodyBorder||0===this.bodyBorder)&&(this.manageBodyBorders=!0)},beforeDestroy:function(){this.destroyDockedItems(),this.callParent()},initItems:function(){this.callParent(),this.initDockingItems()},initRenderData:function(){var e=this.callParent();return this.initBodyStyles(),this.protoBody.writeTo(e),delete this.protoBody,e},getComponent:function(e){var t=this.callParent(arguments);return void 0!==t||Ext.isNumber(e)||(t=this.getDockedComponent(e)),t},getProtoBody:function(){var e=this.protoBody;return e||(this.protoBody=e=new Ext.util.ProtoElement({cls:this.bodyCls,style:this.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),e},initBodyStyles:function(){var e=this.getProtoBody();void 0!==this.bodyPadding&&(this.layout.managePadding?e.setStyle("padding",0):e.setStyle("padding",this.unitizeBox(!0===this.bodyPadding?5:this.bodyPadding))),this.initBodyBorder()},initBodyBorder:function(){this.frame&&this.bodyBorder&&(Ext.isNumber(this.bodyBorder)||(this.bodyBorder=1),this.getProtoBody().setStyle("border-width",this.unitizeBox(this.bodyBorder)))},getCollapsedDockedItems:function(){return!1===this.header||"placeholder"==this.collapseMode?this.emptyArray:[this.getReExpander()]},setBodyStyle:function(e,t){var i=this.rendered?this.body:this.getProtoBody();return Ext.isFunction(e)&&(e=e()),1==arguments.length?(Ext.isString(e)&&(e=Ext.Element.parseStyles(e)),i.setStyle(e)):i.setStyle(e,t),this},addBodyCls:function(e){return(this.rendered?this.body:this.getProtoBody()).addCls(e),this},removeBodyCls:function(e){return(this.rendered?this.body:this.getProtoBody()).removeCls(e),this},addUIClsToElement:function(e){var t=this.callParent(arguments);return this.addBodyCls([Ext.baseCSSPrefix+e,this.baseCls+"-body-"+e,this.baseCls+"-body-"+this.ui+"-"+e]),t},removeUIClsFromElement:function(e){var t=this.callParent(arguments);return this.removeBodyCls([Ext.baseCSSPrefix+e,this.baseCls+"-body-"+e,this.baseCls+"-body-"+this.ui+"-"+e]),t},addUIToElement:function(){this.callParent(arguments),this.addBodyCls(this.baseCls+"-body-"+this.ui)},removeUIFromElement:function(){this.callParent(arguments),this.removeBodyCls(this.baseCls+"-body-"+this.ui)},getTargetEl:function(){return this.body},applyTargetCls:function(e){this.getProtoBody().addCls(e)},getRefItems:function(e){var t=this.callParent(arguments);return this.getDockingRefItems(e,t)},setupRenderTpl:function(e){this.callParent(arguments),this.setupDockingRenderTpl(e)}}),Ext.define("Ext.panel.Header",{extend:Ext.container.Container,alias:"widget.header",isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,componentLayout:"body",childEls:["body"],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl> role="presentation">',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text {cls}-text-{ui}" unselectable="on"','<tpl if="headerRole">',' role="{headerRole}"',"</tpl>",">{title}</span>"],shrinkWrap:3,titlePosition:0,headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var e=this,t=e.hasOwnProperty("titlePosition"),i=e.items,n=t?e.titlePosition:i?i.length:0,r=[e.orientation,e.getDockName()],s=e.ownerCt;e.addEvents("click","dblclick"),e.indicateDragCls=e.headerCls+"-draggable",e.title=e.title||"&#160;",e.tools=e.tools||[],i=e.items=i?Ext.Array.slice(i):[],e.orientation=e.orientation||"horizontal",e.dock=e.dock?e.dock:"horizontal"==e.orientation?"top":"left",(s?!1!==s.border||s.frame:!1!==e.border)||r.push(e.orientation+"-noborder"),e.addClsWithUI(r),e.addCls([e.headerCls,e.headerCls+"-"+e.orientation]),e.indicateDrag&&e.addCls(e.indicateDragCls),(e.iconCls||e.icon||e.glyph)&&(e.initIconCmp(),t||i.length||++n,i.push(e.iconCmp)),e.titleCmp=new Ext.Component({ariaRole:"presentation",focusable:!1,noWrap:!0,flex:1,rtl:e.rtl,id:e.id+"_hd",style:e.titleAlign?"text-align:"+e.titleAlign:"",cls:e.headerCls+"-text-container "+e.baseCls+"-text-container "+e.baseCls+"-text-container-"+e.ui,renderTpl:e.getTpl("headingTpl"),renderData:{title:e.title,cls:e.baseCls,headerCls:e.headerCls,headerRole:e.headerRole,ui:e.ui},childEls:["textEl"],autoEl:{unselectable:"on"},listeners:{render:e.onTitleRender,scope:e}}),e.layout="vertical"==e.orientation?{type:"vbox",align:"center",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},Ext.Array.push(i,e.tools),e.tools.length=0,e.callParent(),i.length<n&&(n=i.length),e.titlePosition=n,e.insert(n,e.titleCmp),e.on({dblclick:e.onDblClick,click:e.onClick,element:"el",scope:e})},setTitlePosition:function(e){this.titlePosition=e=Math.min(e,this.items.length-1),this.insert(e,this.titleCmp)},initIconCmp:function(){var e,t=this,i=[t.headerCls+"-icon",t.baseCls+"-icon",t.iconCls];t.glyph&&i.push(t.baseCls+"-glyph"),e={focusable:!1,src:Ext.BLANK_IMAGE_URL,cls:i,baseCls:t.baseCls+"-icon",id:t.id+"-iconEl",iconCls:t.iconCls,glyph:t.glyph},Ext.isEmpty(t.icon)||(delete e.iconCls,e.src=t.icon),t.iconCmp=new Ext.Img(e)},beforeRender:function(){this.protoEl.unselectable(),this.callParent()},afterLayout:function(){var e,t,i,n;"vertical"===this.orientation&&(this.adjustTitlePosition(),(t=this.frameTR)&&(e=this.frameBR,i=this.frameTL,n=this.getWidth()-t.getPadding("r")-(i?i.getPadding("l"):this.el.getBorderWidth("l"))+"px",e.setStyle("background-position-x",n),t.setStyle("background-position-x",n)))},beforeLayout:function(){this.callParent(),this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var e,t=this.titleCmp;!Ext.isIE9m&&t&&(e=t.el).setStyle("left",e.getWidth()+"px")},onTitleRender:function(){"vertical"===this.orientation&&this.titleCmp.el.setVertical(90)},addUIClsToElement:function(e){var t,i,n=this.callParent(arguments),r=[this.baseCls+"-body-"+e,this.baseCls+"-body-"+this.ui+"-"+e];if(this.bodyCls){for(t=this.bodyCls.split(" "),i=0;i<r.length;i++)Ext.Array.contains(t,r[i])||t.push(r[i]);this.bodyCls=t.join(" ")}else this.bodyCls=r.join(" ");return n},removeUIClsFromElement:function(e){var t,i,n=this.callParent(arguments),r=[this.baseCls+"-body-"+e,this.baseCls+"-body-"+this.ui+"-"+e];if(this.bodyCls){for(t=this.bodyCls.split(" "),i=0;i<r.length;i++)Ext.Array.remove(t,r[i]);this.bodyCls=t.join(" ")}return n},addUIToElement:function(){var e,t,i=this;i.callParent(arguments),t=i.baseCls+"-body-"+i.ui,i.rendered?i.bodyCls?i.body.addCls(i.bodyCls):i.body.addCls(t):i.bodyCls?(e=i.bodyCls.split(" "),Ext.Array.contains(e,t)||e.push(t),i.bodyCls=e.join(" ")):i.bodyCls=t,i.titleCmp&&i.titleCmp.rendered&&i.titleCmp.addCls(i.baseCls+"-text-container-"+i.ui)},removeUIFromElement:function(){var e,t,i=this;i.callParent(arguments),t=i.baseCls+"-body-"+i.ui,i.rendered?i.bodyCls?i.body.removeCls(i.bodyCls):i.body.removeCls(t):i.bodyCls?(e=i.bodyCls.split(" "),Ext.Array.remove(e,t),i.bodyCls=e.join(" ")):i.bodyCls=t,i.titleCmp&&i.titleCmp.rendered&&i.titleCmp.removeCls(i.baseCls+"-text-container-"+i.ui)},onClick:function(e){this.fireClickEvent("click",e)},onDblClick:function(e){this.fireClickEvent("dblclick",e)},fireClickEvent:function(e,t){var i="."+Ext.panel.Tool.prototype.baseCls;t.getTarget(i)||this.fireEvent(e,this,t)},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(e){this.bodyTargetCls=e},setTitle:function(e){var t=this,i=t.titleCmp;t.title=e,i.rendered?(i.textEl.update(t.title||"&#160;"),i.updateLayout()):t.titleCmp.on({render:function(){t.setTitle(e)},single:!0})},getMinWidth:function(){var e,t,i,n=this.titleCmp.textEl.dom,r=this.tools;if(n.style.display="inline",e=n.offsetWidth,n.style.display="",r&&(t=r.length))for(i=0;i<t;i++)r[i].el&&(e+=r[i].el.dom.offsetWidth);return this.iconCmp&&(e+=this.iconCmp.el.dom.offsetWidth),e+10},setIconCls:function(e){var t=!e||!e.length,i=this.iconCmp;this.iconCls=e,this.iconCmp||t?i&&(t?(this.iconCmp.destroy(),delete this.iconCmp):(i.removeCls(i.iconCls),i.addCls(e),i.iconCls=e)):(this.initIconCmp(),this.insert(0,this.iconCmp))},setIcon:function(e){var t=!e||!e.length,i=this.iconCmp;this.icon=e,this.iconCmp||t?i&&(t?(this.iconCmp.destroy(),delete this.iconCmp):i.setSrc(this.icon)):(this.initIconCmp(),this.insert(0,this.iconCmp))},setGlyph:function(e){var t=this.iconCmp;this.iconCmp?t&&(e?this.iconCmp.setGlyph(e):(this.iconCmp.destroy(),delete this.iconCmp)):(this.initIconCmp(),this.insert(0,this.iconCmp))},getTools:function(){return this.tools.slice()},addTool:function(e){this.add(Ext.ComponentManager.create(e,"tool"))},syncBeforeAfterTitleClasses:function(e){var t,i,n,r,s=this.items,o=s.items,a=this.titlePosition,l=o.length,d=s.generation,h=this.syncBeforeAfterGen;if(e||h!==d)for(this.syncBeforeAfterGen=d,n=0;n<l;++n)t=(r=o[n]).afterTitleCls||(r.afterTitleCls=r.baseCls+"-after-title"),i=r.beforeTitleCls||(r.beforeTitleCls=r.baseCls+"-before-title"),!this.title||n<a?(h&&r.removeCls(t),r.addCls(i)):a<n&&(h&&r.removeCls(i),r.addCls(t))},onAdd:function(e,t){var i=this.tools;this.callParent(arguments),e.isTool&&(i.push(e),i[e.type]=e)},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock},getFramingInfoCls:function(){var e=this.callParent(),t=this.ownerCt;return!this.expanding&&t&&(t.collapsed||this.isCollapsedExpander)&&(e+="-"+t.collapsedCls),e+"-"+this.dock}}),Ext.define("Ext.dd.DragDrop",{constructor:function(e,t,i){e&&this.init(e,t,i)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(e,t){},startDrag:function(e,t){},b4Drag:function(e){},onDrag:function(e){},onDragEnter:function(e,t){},b4DragOver:function(e){},onDragOver:function(e,t){},b4DragOut:function(e){},onDragOut:function(e,t){},b4DragDrop:function(e){},onDragDrop:function(e,t){},onInvalidDrop:function(e){},b4EndDrag:function(e){},endDrag:function(e){},b4MouseDown:function(e){},onMouseDown:function(e){},onMouseUp:function(e){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(e,t,i){Ext.isNumber(t)&&(t={left:t,right:t,top:t,bottom:t}),t=t||this.defaultPadding;var n,r,s,o,a=Ext.get(this.getEl()).getBox(),l=Ext.get(e),d=l.getScroll(),h=l.dom;n=h==document.body?{x:d.left,y:d.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}:{x:(r=l.getXY())[0],y:r[1],width:h.clientWidth,height:h.clientHeight},s=a.y-n.y,o=a.x-n.x,this.resetConstraints(),this.setXConstraint(o-(t.left||0),n.width-o-a.width-(t.right||0),this.xTickSize),this.setYConstraint(s-(t.top||0),n.height-s-a.height-(t.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,t,i){this.initTarget(e,t,i),Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(e,t,i){this.config=i||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},"string"!=typeof e&&(e=Ext.id(e)),this.id=e,this.addToGroup(t||"default"),this.handleElId=e,this.setDragElId(e),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=!1!==this.config.isTarget,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=!1!==this.config.primaryButtonOnly},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(e,t,i,n){this.padding=t||0===t?i||0===i?[e,t,i,n]:[e,t,e,t]:[e,e,e,e]},setInitPosition:function(e,t){var i,n,r,s=this.getEl();this.DDMInstance.verifyEl(s)&&(i=e||0,n=t||0,r=Ext.Element.getXY(s),this.initPageX=r[0]-i,this.initPageY=r[1]-n,this.lastPageX=r[0],this.lastPageY=r[1],this.setStartPosition(r))},setStartPosition:function(e){var t=e||Ext.Element.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=t[0],this.startPageY=t[1]},addToGroup:function(e){this.groups[e]=!0,this.DDMInstance.regDragDrop(this,e)},removeFromGroup:function(e){this.groups[e]&&delete this.groups[e],this.DDMInstance.removeDDFromGroup(this,e)},setDragElId:function(e){this.dragElId=e},setHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.handleElId=e,this.DDMInstance.regHandle(this.id,e)},setOuterHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),Ext.EventManager.on(e,"mousedown",this.handleMouseDown,this),this.setHandleElId(e),this.hasOuterHandles=!0},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this),this._domRef=null,this.DDMInstance._remove(this,this.autoGroup)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(e,t){var i=this;i.primaryButtonOnly&&0!=e.button||i.isLocked()||(i.DDMInstance.refreshCache(i.groups),(i.hasOuterHandles||i.DDMInstance.isOverTarget(e.getPoint(),i))&&i.clickValidator(e)&&(i.setStartPosition(),i.b4MouseDown(e),i.onMouseDown(e),i.DDMInstance.handleMouseDown(e,i),i.DDMInstance.stopEvent(e)))},clickValidator:function(e){var t=e.getTarget();return this.isValidHandleChild(t)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(t,this.id))},addInvalidHandleType:function(e){var t=e.toUpperCase();this.invalidHandleTypes[t]=t},addInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.invalidHandleIds[e]=e},addInvalidHandleClass:function(e){this.invalidHandleClasses.push(e)},removeInvalidHandleType:function(e){var t=e.toUpperCase();delete this.invalidHandleTypes[t]},removeInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),delete this.invalidHandleIds[e]},removeInvalidHandleClass:function(e){for(var t=0,i=this.invalidHandleClasses.length;t<i;++t)this.invalidHandleClasses[t]==e&&delete this.invalidHandleClasses[t]},isValidHandleChild:function(t){var i,e,n,r=!0;try{i=t.nodeName.toUpperCase()}catch(e){i=t.nodeName}for(r=(r=r&&!this.invalidHandleTypes[i])&&!this.invalidHandleIds[t.id],e=0,n=this.invalidHandleClasses.length;r&&e<n;++e)r=!Ext.fly(t).hasCls(this.invalidHandleClasses[e]);return r},setXTicks:function(e,t){this.xTicks=[],this.xTickSize=t;var i,n={};for(i=this.initPageX;i>=this.minX;i-=t)n[i]||(n[this.xTicks[this.xTicks.length]=i]=!0);for(i=this.initPageX;i<=this.maxX;i+=t)n[i]||(n[this.xTicks[this.xTicks.length]=i]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(e,t){this.yTicks=[],this.yTickSize=t;var i,n={};for(i=this.initPageY;i>=this.minY;i-=t)n[i]||(n[this.yTicks[this.yTicks.length]=i]=!0);for(i=this.initPageY;i<=this.maxY;i+=t)n[i]||(n[this.yTicks[this.yTicks.length]=i]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(e,t,i){this.leftConstraint=e,this.rightConstraint=t,this.minX=this.initPageX-e,this.maxX=this.initPageX+t,i&&this.setXTicks(this.initPageX,i),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(e,t,i){this.topConstraint=e,this.bottomConstraint=t,this.minY=this.initPageY-e,this.maxY=this.initPageY+t,i&&this.setYTicks(this.initPageY,i),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var e=this.maintainOffset?this.lastPageX-this.initPageX:0,t=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(e,t)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(e,t){if(t){if(t[0]>=e)return t[0];var i,n,r;for(i=0,n=t.length;i<n;++i)if(t[r=i+1]&&t[r]>=e)return e-t[i]<t[r]-e?t[i]:t[r];return t[t.length-1]}return e},toString:function(){return"DragDrop "+this.id}}),Ext.define("Ext.dd.DD",{extend:Ext.dd.DragDrop,constructor:function(e,t,i){e&&this.init(e,t,i)},scroll:!0,autoOffset:function(e,t){var i=e-this.startPageX,n=t-this.startPageY;this.setDelta(i,n)},setDelta:function(e,t){this.deltaX=e,this.deltaY=t},setDragElPos:function(e,t){var i=this.getDragEl();this.alignElWithMouse(i,e,t)},alignElWithMouse:function(e,t,i){var n,r,s,o,a=this.getTargetCoord(t,i),l=e.dom?e:Ext.fly(e,"_dd"),d=l.getSize(),h=Ext.Element;return this.deltaSetXY?(n=this.cachedViewportSize,this.setLocalXY(l,Math.max(0,Math.min(a.x+this.deltaSetXY[0],n.width-d.width)),Math.max(0,Math.min(a.y+this.deltaSetXY[1],n.height-d.height)))):(n=this.cachedViewportSize={width:h.getDocumentWidth(),height:h.getDocumentHeight()},r=[Math.max(0,Math.min(a.x,n.width-d.width)),Math.max(0,Math.min(a.y,n.height-d.height))],l.setXY(r),s=this.getLocalX(l),o=l.getLocalY(),this.deltaSetXY=[s-a.x,o-a.y]),this.cachePosition(a.x,a.y),this.autoScroll(a.x,a.y,e.offsetHeight,e.offsetWidth),a},cachePosition:function(e,t){if(e)this.lastPageX=e,this.lastPageY=t;else{var i=Ext.Element.getXY(this.getEl());this.lastPageX=i[0],this.lastPageY=i[1]}},autoScroll:function(e,t,i,n){if(this.scroll){var r=Ext.Element.getViewHeight(),s=Ext.Element.getViewWidth(),o=this.DDMInstance.getScrollTop(),a=this.DDMInstance.getScrollLeft(),l=i+t,d=n+e,h=r+o-t-this.deltaY,c=s+a-e-this.deltaX,u=document.all?80:30;r<l&&h<40&&window.scrollTo(a,o+u),t<o&&0<o&&t-o<40&&window.scrollTo(a,o-u),s<d&&c<40&&window.scrollTo(a+u,o),e<a&&0<a&&e-a<40&&window.scrollTo(a-u,o)}},getTargetCoord:function(e,t){var i=e-this.deltaX,n=t-this.deltaY;return this.constrainX&&(i<this.minX&&(i=this.minX),i>this.maxX&&(i=this.maxX)),this.constrainY&&(n<this.minY&&(n=this.minY),n>this.maxY&&(n=this.maxY)),{x:i=this.getTick(i,this.xTicks),y:n=this.getTick(n,this.yTicks)}},applyConfig:function(){this.callParent(),this.scroll=!1!==this.config.scroll},b4MouseDown:function(e){this.autoOffset(e.getPageX(),e.getPageY())},b4Drag:function(e){this.setDragElPos(e.getPageX(),e.getPageY())},toString:function(){return"DD "+this.id},getLocalX:function(e){return e.getLocalX()},setLocalXY:function(e,t,i){e.setLocalXY(t,i)}}),Ext.define("Ext.dd.DDProxy",{extend:Ext.dd.DD,statics:{dragElId:"ygddfdiv"},constructor:function(e,t,i){e&&(this.init(e,t,i),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var e,t,i=this,n=document.body;n&&n.firstChild?(e=this.getDragEl())||((e=document.createElement("div")).id=this.dragElId,e.setAttribute("role","presentation"),(t=e.style).position="absolute",t.visibility="hidden",t.cursor="move",t.border="2px solid #aaa",t.zIndex=999,n.insertBefore(e,n.firstChild)):setTimeout(function(){i.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent(),this.resizeFrame=!1!==this.config.resizeFrame,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,t){this.getEl();var i=this.getDragEl(),n=i.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(n.width,10)/2),Math.round(parseInt(n.height,10)/2)),this.setDragElPos(e,t),Ext.fly(i).show()},_resizeProxy:function(){if(this.resizeFrame){var e=this.getEl();Ext.fly(this.getDragEl()).setSize(e.offsetWidth,e.offsetHeight)}},b4MouseDown:function(e){var t=e.getPageX(),i=e.getPageY();this.autoOffset(t,i),this.setDragElPos(t,i)},b4StartDrag:function(e,t){this.showFrame(e,t)},b4EndDrag:function(e){Ext.fly(this.getDragEl()).hide()},endDrag:function(e){var t=this.getEl(),i=this.getDragEl();i.style.visibility="",this.beforeMove(),t.style.visibility="hidden",Ext.dd.DDM.moveToEl(t,i),i.style.visibility="hidden",t.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.define("Ext.dd.StatusProxy",{extend:Ext.Component,animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon" role="presentation"></div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost" role="presentation"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",ariaRole:"presentation",constructor:function(e){e=e||{},Ext.apply(this,{hideMode:"visibility",hidden:!0,floating:!0,id:this.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:e.shadow||!1,renderTo:Ext.getDetachedBody()}),this.callParent(arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(e){e=e||this.dropNotAllowed,this.dropStatus!=e&&(this.el.replaceCls(this.dropStatus,e),this.dropStatus=e)},reset:function(e){var t=Ext.baseCSSPrefix+"dd-drag-proxy ";this.el.replaceCls(t+this.dropAllowed,t+this.dropNotAllowed),this.dropStatus=this.dropNotAllowed,e&&this.ghost.update("")},update:function(e){"string"==typeof e?this.ghost.update(e):(this.ghost.update(""),e.style.margin="0",this.ghost.dom.appendChild(e));var t=this.ghost.dom.firstChild;t&&Ext.fly(t).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(e){this.callParent(),e&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(e,t,i){var n=this;n.callback=t,n.scope=i,e&&!1!==n.animRepair?(n.el.addCls(n.repairCls),n.el.hideUnders(!0),n.anim=n.el.animate({duration:n.repairDuration||500,easing:"ease-out",to:{x:e[0],y:e[1]},stopAnimation:!0,callback:n.afterRepair,scope:n})):n.afterRepair()},afterRepair:function(){this.hide(!0),this.el.removeCls(this.repairCls),"function"==typeof this.callback&&this.callback.call(this.scope||this),delete this.callback,delete this.scope}}),Ext.define("Ext.dd.DragSource",{extend:Ext.dd.DDProxy,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(e,t){this.el=Ext.get(e),this.dragData||(this.dragData={}),Ext.apply(this,t),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:!0===this.scroll}]),this.dragging=!1},getDragData:function(e){return this.dragData},onDragEnter:function(e,t){var i,n=Ext.dd.DragDropManager.getDDById(t);this.cachedTarget=n,!1!==this.beforeDragEnter(n,e,t)&&(n.isNotifyTarget?(i=n.notifyEnter(this,e,this.dragData),this.proxy.setStatus(i)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(n,e,t))},beforeDragEnter:function(e,t,i){return!0},onDragOver:function(e,t){var i,n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragOver(n,e,t)&&(n.isNotifyTarget&&(i=n.notifyOver(this,e,this.dragData),this.proxy.setStatus(i)),this.afterDragOver&&this.afterDragOver(n,e,t))},beforeDragOver:function(e,t,i){return!0},onDragOut:function(e,t){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragOut(i,e,t)&&(i.isNotifyTarget&&i.notifyOut(this,e,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(i,e,t)),this.cachedTarget=null},beforeDragOut:function(e,t,i){return!0},onDragDrop:function(e,t){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragDrop(i,e,t)&&(i.isNotifyTarget?!1!==i.notifyDrop(this,e,this.dragData)?this.onValidDrop(i,e,t):this.onInvalidDrop(i,e,t):this.onValidDrop(i,e,t),this.afterDragDrop&&this.afterDragDrop(i,e,t)),delete this.cachedTarget},beforeDragDrop:function(e,t,i){return!0},onValidDrop:function(e,t,i){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(e,t,i)},getRepairXY:function(e,t){return this.el.getXY()},onInvalidDrop:function(e,t,i){var n=this;t||(t=e,e=null,i=t.getTarget().id),!1!==n.beforeInvalidDrop(e,t,i)&&(n.cachedTarget&&(n.cachedTarget.isNotifyTarget&&n.cachedTarget.notifyOut(n,t,n.dragData),n.cacheTarget=null),n.proxy.repair(n.getRepairXY(t,n.dragData),n.afterRepair,n),n.afterInvalidDrop&&n.afterInvalidDrop(t,i))},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.repairHighlightColor),this.dragging=!1},beforeInvalidDrop:function(e,t,i){return!0},handleMouseDown:function(e){if(!this.dragging){var t=this.getDragData(e);t&&!1!==this.onBeforeDrag(t,e)&&(this.dragData=t,this.proxy.stop(),this.callParent(arguments))}},onBeforeDrag:function(e,t){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),this.callParent(arguments)},startDrag:function(e,t){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(e,t),this.proxy.show()},onInitDrag:function(e,t){var i=this.el.dom.cloneNode(!0);return i.id=Ext.id(),this.proxy.update(i),this.onStartDrag(e,t),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(e){},endDrag:function(e){this.onEndDrag(this.dragData,e)},onEndDrag:function(e,t){},autoOffset:function(e,t){this.setDelta(-12,-20)},destroy:function(){this.callParent(),Ext.destroy(this.proxy)}}),Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(e,t){this.panel=e,this.id=this.panel.id+"-ddproxy",Ext.apply(this,t)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){this.ghost&&(this.proxy&&(this.proxy.remove(),delete this.proxy),this.panel.unghost(null,this.moveOnDrag),delete this.ghost)},show:function(){var e;this.ghost||(e=this.panel.getSize(),this.panel.el.setVisibilityMode(Ext.Element.DISPLAY),this.ghost=this.panel.ghost(),this.insertProxy&&(this.proxy=this.panel.el.insertSibling({role:"presentation",cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),this.proxy.setSize(e)))},repair:function(e,t,i){this.hide(),Ext.callback(t,i||this)},moveProxy:function(e,t){this.proxy&&e.insertBefore(this.proxy.dom,t)}}),Ext.define("Ext.panel.DD",{extend:Ext.dd.DragSource,constructor:function(e,t){this.panel=e,this.dragData={panel:e},this.panelProxy=new Ext.panel.Proxy(e,t),this.proxy=this.panelProxy.proxy,this.callParent([e.el,t]),this.setupEl(e)},setupEl:function(e){var t=e.header,i=e.body;t&&(this.setHandleElId(t.id),i=t.el),i?(i.setStyle("cursor","move"),this.scroll=!1):e.on("boxready",this.setupEl,this,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(e,t){this.panelProxy.show()},b4MouseDown:function(e){var t=e.getPageX(),i=e.getPageY();this.autoOffset(t,i)},onInitDrag:function(e,t){return this.onStartDrag(e,t),!0},createFrame:Ext.emptyFn,getDragEl:function(e){var t=this.panelProxy.ghost;if(t)return t.el.dom},endDrag:function(e){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(e,t){e-=this.startPageX,t-=this.startPageY,this.setDelta(e,t)},onInvalidDrop:function(e,t,i){!1!==this.beforeInvalidDrop(e,t,i)&&(this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,t,this.dragData),this.cacheTarget=null),this.afterInvalidDrop&&this.afterInvalidDrop(t,i))}}),Ext.define("Ext.util.Memento",{data:null,target:null,constructor:function(e,t){e&&(this.target=e,t&&this.capture(t))},capture:function(e,t,i){VZb(RZb,this.data||(this.data={}),t||this.target,e,i)},remove:function(e){VZb(SZb,this.data,null,e)},restore:function(e,t,i,n){VZb(TZb,this.data,i||this.target,e,n),!1!==t&&this.remove(e)},restoreAll:function(e,t){var i,n=t||this.target,r=this.data;for(i in r)r.hasOwnProperty(i)&&UZb(n,i,r[i]);!1!==e&&delete this.data}}),Ext.define("Ext.panel.Panel",{extend:Ext.panel.AbstractPanel,alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:void 0,floatable:!0,collapsible:void 0,closable:!1,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:!1,header:void 0,headerPosition:"top",frame:!1,frameHeader:!0,manageHeight:!0,constrain:!1,constrainHeader:!1,initComponent:function(){var e=this;e.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange","glyphchange","float","unfloat"),e.collapsible&&e.addStateEvents(["expand","collapse"]),e.unstyled&&e.setUI("plain"),e.frame&&e.setUI(e.ui+"-framed"),e.bridgeToolbars(),e.callParent(),e.collapseDirection=e.collapseDirection||e.headerPosition||Ext.Component.DIRECTION_TOP,e.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){Ext.destroy(this.placeholder,this.ghostPanel,this.dd),this.callParent()},getFocusEl:function(){return this.el},getHeader:function(){return this.header},setTitle:function(e){var t=this.title,i=this.header,n=this.reExpander,r=this.placeholder;this.title=e,i?i.isHeader?i.setTitle(e):i.title=e:this.rendered&&this.updateHeader(),n&&n.setTitle(e),r&&r.setTitle&&r.setTitle(e),this.fireEvent("titlechange",this,e,t)},setIconCls:function(e){var t=this.iconCls,i=this.header,n=this.placeholder;this.iconCls=e,i?i.isHeader?i.setIconCls(e):i.iconCls=e:this.updateHeader(),n&&n.setIconCls&&n.setIconCls(e),this.fireEvent("iconclschange",this,e,t)},setIcon:function(e){var t=this.icon,i=this.header,n=this.placeholder;this.icon=e,i?i.isHeader?i.setIcon(e):i.icon=e:this.updateHeader(),n&&n.setIcon&&n.setIcon(e),this.fireEvent("iconchange",this,e,t)},setGlyph:function(e){var t=this.glyph,i=this.header,n=this.placeholder;this.glyph=e,i?i.isHeader?i.setGlyph(e):i.glyph=e:this.updateHeader(),n&&n.setGlyph&&n.setIcon(e),this.fireEvent("glyphchange",this,e,t)},bridgeToolbars:function(){var e,r,n=this,t=[],s=n.minButtonWidth;function i(e,t,i){return Ext.isArray(e)?e={xtype:"toolbar",items:e}:e.xtype||(e.xtype="toolbar"),"left"!=(e.dock=t)&&"right"!=t||(e.vertical=!0),i&&(e.layout=Ext.applyIf(e.layout||{},{pack:{left:"start",center:"center"}[n.buttonAlign]||"end"})),e}n.tbar&&(t.push(i(n.tbar,"top")),n.tbar=null),n.bbar&&(t.push(i(n.bbar,"bottom")),n.bbar=null),n.buttons&&(n.fbar=n.buttons,n.buttons=null),n.fbar&&((e=i(n.fbar,"bottom",!0)).ui="footer",s&&(r=e.defaults,e.defaults=function(e){var t,i=r||{},n=!e.xtype||e.isButton;return n||(t=Ext.ClassManager.getByAlias("widget."+e.xtype))&&(n=t.prototype.isButton),!n||"minWidth"in i||(i=Ext.apply({minWidth:s},i)),i}),t.push(e),n.fbar=null),n.lbar&&(t.push(i(n.lbar,"left")),n.lbar=null),n.rbar&&(t.push(i(n.rbar,"right")),n.rbar=null),n.dockedItems?(Ext.isArray(n.dockedItems)||(n.dockedItems=[n.dockedItems]),n.dockedItems=n.dockedItems.concat(t)):n.dockedItems=t},isPlaceHolderCollapse:function(){return"placeholder"==this.collapseMode},onBoxReady:function(){this.callParent(),this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var e,t=this;t.callParent(),t.initTools(),t.preventHeader||!1===t.header||t.updateHeader(),t.collapsed&&(t.isPlaceHolderCollapse()?t.hidden||(t.setHiddenState(!0),t.preventCollapseFire=!0,t.placeholderCollapse(),delete t.preventCollapseFire,e=t.collapsed,t.collapsed=!1):(t.beginCollapse(),t.addClsWithUI(t.collapsedCls))),e&&(t.collapsed=e)},initTools:function(){var e,t,i=this,n=i.tools;for(i.tools=[],e=n&&n.length;e;)--e,i.tools[e]=t=n[e],t.toolOwner=i;!i.collapsible||i.hideCollapseTool||!1===i.header||i.preventHeader||(i.collapseDirection=i.collapseDirection||i.headerPosition||"top",i.collapseTool=i.expandTool=Ext.widget({xtype:"tool",handler:i.toggleCollapse,scope:i}),i.updateCollapseTool(),i.collapseFirst&&i.tools.unshift(i.collapseTool)),i.addTools(),i.closable&&(i.addClsWithUI("closable"),i.addTool(Ext.widget({xtype:"tool",type:"close",handler:Ext.Function.bind(i.close,i,[])}))),i.collapseTool&&!i.collapseFirst&&i.addTool(i.collapseTool)},addTools:Ext.emptyFn,updateCollapseTool:function(){var e=this.collapseTool;e&&(this.collapsed&&!this.isPlaceHolderCollapse()?e.setType("expand-"+this.getOppositeDirection(this.collapseDirection)):e.setType("collapse-"+this.collapseDirection))},close:function(){!1!==this.fireEvent("beforeclose",this)&&this.doClose()},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},updateHeader:function(e){var t=this,i=t.header,n=t.title,r=t.tools,s=t.icon||t.iconCls,o="left"===t.headerPosition||"right"===t.headerPosition;Ext.isObject(i)||!1!==i&&(e||n||s||r&&r.length||t.collapsible&&!t.titleCollapse)?i&&i.isHeader?i.show():(i=t.header=Ext.widget(Ext.apply({xtype:"header",title:n,titleAlign:t.titleAlign,orientation:o?"vertical":"horizontal",dock:t.headerPosition||"top",textCls:t.headerTextCls,iconCls:t.iconCls,icon:t.icon,glyph:t.glyph,baseCls:t.baseCls+"-header",tools:r,ui:t.ui,id:t.id+"_header",overCls:t.headerOverCls,indicateDrag:t.draggable,frame:(t.frame||t.alwaysFramed)&&t.frameHeader,ignoreParentFrame:t.frame||t.overlapHeader,ignoreBorderManagement:t.frame||t.ignoreHeaderBorderManagement,headerRole:t.headerRole,ownerCt:t,listeners:t.collapsible&&t.titleCollapse?{click:t.toggleCollapse,scope:t}:null},t.header)),t.addDocked(i,0)):i&&i.hide()},setUI:function(e){this.callParent(arguments),this.header&&this.header.rendered&&this.header.setUI(e)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.protoBody||this.frameBody||this.el},isVisible:function(e){return this.collapsed&&this.placeholder?this.placeholder.isVisible(e):this.callParent(arguments)},onHide:function(){var e=this.dd;this.floatedFromCollapse&&this.slideOutFloatedPanel(!0),this.draggable&&e&&e.endDrag(),this.collapsed&&this.placeholder?this.placeholder.hide():this.callParent(arguments)},onShow:function(){this.collapsed&&this.isPlaceHolderCollapse()?(this.setHiddenState(!0),this.placeholderCollapse()):this.callParent(arguments)},onRemoved:function(e){this.placeholder&&!e&&this.ownerCt.remove(this.placeholder,!1),this.callParent(arguments)},addTool:function(e){Ext.isArray(e)||(e=[e]);var t,i,n=this.header,r=e.length;for(t=0;t<r;t++)(i=e[t]).toolOwner=this,n&&n.isHeader?n.addTool(i):this.tools.push(i);this.updateHeader()},getOppositeDirection:function(e){var t=Ext.Component;switch(e){case t.DIRECTION_TOP:return t.DIRECTION_BOTTOM;case t.DIRECTION_RIGHT:return t.DIRECTION_LEFT;case t.DIRECTION_BOTTOM:return t.DIRECTION_TOP;case t.DIRECTION_LEFT:return t.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var e=this.getCollapsed();return"left"===e||"right"===e},collapsedVertical:function(){var e=this.getCollapsed();return"top"===e||"bottom"===e},restoreDimension:function(){var e=this.collapseDirection;return"top"===e||"bottom"===e?"height":"width"},getCollapsed:function(){return!0===this.collapsed?this.collapseDirection:this.collapsed},getState:function(){var e,t=this.callParent();return t=this.addPropertyToState(t,"collapsed"),this.collapsed&&(e=(e=this.collapseMemento)&&e.data,this.collapsedVertical()?(t&&delete t.height,e&&(t=this.addPropertyToState(t,"height",e.height))):(t&&delete t.width,e&&(t=this.addPropertyToState(t,"width",e.width)))),t},findReExpander:function(e){var t,i,n=Ext.Component,r=this.dockedItems.items,s=r.length;if("mini"!==this.collapseMode)switch(e){case n.DIRECTION_TOP:case n.DIRECTION_BOTTOM:for(i=0;i<s;i++)if(!(t=r[i]).hidden&&t.isHeader&&(!t.dock||"top"===t.dock||"bottom"===t.dock))return t;break;case n.DIRECTION_LEFT:case n.DIRECTION_RIGHT:for(i=0;i<s;i++)if(!(t=r[i]).hidden&&t.isHeader&&("left"===t.dock||"right"===t.dock))return t;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},getReExpander:function(e){var t=this,i=e||t.collapseDirection,n=t.reExpander||t.findReExpander(i);return t.expandDirection=t.getOppositeDirection(i),n||(t.reExpander=n=t.createReExpander(i,{dock:i,cls:Ext.baseCSSPrefix+"docked "+t.baseCls+"-"+t.ui+"-collapsed",isCollapsedExpander:!0}),t.dockedItems.insert(0,n)),n},createReExpander:function(e,t){var i=this,n="left"===e,r="right"===e,s=n||r,o=i.ownerCt,a=Ext.apply({hideMode:"offsets",title:i.title||"&#160;",titleAlign:i.titleAlign,orientation:s?"vertical":"horizontal",textCls:i.headerTextCls,icon:i.icon,iconCls:i.iconCls,glyph:i.glyph,baseCls:i.self.prototype.baseCls+"-header",ui:i.ui,frame:i.frame&&i.frameHeader,ignoreParentFrame:i.frame||i.overlapHeader,ignoreBorderManagement:i.frame||i.ignoreHeaderBorderManagement,indicateDrag:i.draggable,collapseImmune:!0,headerRole:i.headerRole,ownerCt:o&&"placeholder"===i.collapseMode?o:i,ownerLayout:i.componentLayout,margin:i.margin},t);return"mini"===i.collapseMode&&(s?a.width=1:a.height=1),i.hideCollapseTool||((n||r&&i.isPlaceHolderCollapse())&&(a.titlePosition=1),a.tools=[{xtype:"tool",type:"expand-"+i.getOppositeDirection(e),uiCls:["top"],handler:i.toggleCollapse,scope:i}]),(a=new Ext.panel.Header(a)).addClsWithUI(i.getHeaderCollapsedClasses(a)),a},getHeaderCollapsedClasses:function(e){var t,i=this.collapsedCls;return t=[i,i+"-"+e.getDockName()],this.border&&(!this.frame||this.frame&&Ext.supports.CSS3BorderRadius)&&t.push(i+"-border-"+e.getDockName()),t},beginCollapse:function(){var e,t=this,i=t.lastBox,n=t.rendered,r=t.collapseMemento||(t.collapseMemento=new Ext.util.Memento(t)),s=t.getSizeModel(),o=t.header;r.capture(["height","minHeight","width","minWidth"]),i&&r.capture(t.restoreDimension(),i,"last."),t.collapsedVertical()?(s.width.shrinkWrap&&(t.width=n?t.getWidth():t.width||t.minWidth||100),delete t.height,t.minHeight=0):t.collapsedHorizontal()&&(s.height.shrinkWrap&&(t.height=n?t.getHeight():t.height||t.minHeight||100),delete t.width,t.minWidth=0),t.ownerCt&&t.ownerCt.getLayout().beginCollapse(t),t.isPlaceHolderCollapse()||!1===o||(o===(e=t.getReExpander())?(o.collapseImmune=!0,o.getHierarchyState().collapseImmune=!0,o.addClsWithUI(t.getHeaderCollapsedClasses(o)),o.rendered&&o.updateFrame()):e.el&&(e.el.show(),e.hidden=!1)),t.resizer&&t.resizer.disable()},beginExpand:function(){var e,t=this,i=t.lastBox,n=t.collapseMemento,r=t.restoreDimension(),s=t.header;n&&(n.restore(["minHeight","minWidth",r]),i&&n.restore(r,!0,i,"last.")),t.ownerCt&&t.ownerCt.getLayout().beginExpand(t),t.isPlaceHolderCollapse()||!1===s||(s===(e=t.getReExpander())?(delete s.collapseImmune,delete s.getHierarchyState().collapseImmune,s.removeClsWithUI(t.getHeaderCollapsedClasses(s)),s.rendered&&(s.expanding=!0,s.updateFrame(),delete s.expanding)):(e.hidden=!0,e.el.hide())),t.resizer&&t.resizer.enable()},collapse:function(e,t){var i=this,n=e||i.collapseDirection,r=i.ownerCt,s=i.ownerLayout;return i.isCollapsingOrExpanding?i:(arguments.length<2&&(t=i.animCollapse),i.collapsed||!1===i.fireEvent("beforecollapse",i,e,t)?i:s&&s.onBeforeComponentCollapse&&!1===s.onBeforeComponentCollapse(i)?i:r&&i.isPlaceHolderCollapse()?i.placeholderCollapse(e,t):(i.collapsed=n,i.beginCollapse(),i.getHierarchyState().collapsed=!0,i.fireHierarchyEvent("collapse"),i.doCollapseExpand(1,t)))},doCollapseExpand:function(e,t){var i=this.animCollapse,n=this.ownerLayout;return this.animCollapse=t,this.isCollapsingOrExpanding=e,t&&this.addCls(Ext.baseCSSPrefix+"animating-size"),n&&!t?n.onContentChange(this):this.updateLayout({isRoot:!0}),this.animCollapse=i,this},afterCollapse:function(e){var t=this.ownerLayout;this.isCollapsingOrExpanding=0,this.updateCollapseTool(),e&&this.removeCls(Ext.baseCSSPrefix+"animating-size"),t&&e&&t.onContentChange(this),this.setHiddenDocked(),this.fireEvent("collapse",this)},setHiddenDocked:function(){var e,t,i=this.hiddenOnCollapse,n=this.getDockedItems(),r=n.length,s=0;for(!1!==this.header&&(t=this.getReExpander()),i.add(this.body);s<r;s++)(e=n[s])&&e!==t&&e.el&&i.add(e.el);i.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var e=this.hiddenOnCollapse;e.setStyle("visibility",""),e.clear()},getPlaceholder:function(e){var t=this,i=e||t.collapseDirection,n=null,r=t.placeholder,s=t.floatable,o=t.titleCollapse;return r||((s||t.collapsible&&o)&&(n={click:{fn:!o&&s?t.floatCollapsedPanel:t.toggleCollapse,element:"el",scope:t}}),t.placeholder=r=Ext.widget(t.createReExpander(i,{id:t.id+"-placeholder",listeners:n}))),r.placeholderFor||(r.isComponent||(t.placeholder=r=t.lookupComponent(r)),Ext.applyIf(r,{margins:t.margins,placeholderFor:t}),r.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+i+"-placeholder",t.collapsedCls])),r},placeholderCollapse:function(e,t){var i,n=this,r=n.ownerCt,s=e||n.collapseDirection,o=Ext.baseCSSPrefix+"border-region-slide-in",a=n.getPlaceholder(s);return n.isCollapsingOrExpanding=1,n.setHiddenState(!0),n.collapsed=s,a.rendered?(a.el.dom.parentNode!==n.el.dom.parentNode&&n.el.dom.parentNode.insertBefore(a.el.dom,n.el.dom),a.hidden=!1,a.el.show(),r.updateLayout()):r.insert(r.items.indexOf(n),a),n.rendered?(n.el.setVisibilityMode(n.placeholderCollapseHideMode),t?(n.el.addCls(o),a.el.hide(),i=n.convertCollapseDir(s),n.el.slideOut(i,{preserveScroll:!0,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.el.removeCls(o),a.el.show().setStyle("display","none").slideIn(i,{easing:"linear",duration:100,listeners:{afteranimate:function(){a.focus(),n.isCollapsingOrExpanding=0,n.fireEvent("collapse",n)}}})}}})):(n.el.hide(),n.isCollapsingOrExpanding=0,n.fireEvent("collapse",n))):(n.isCollapsingOrExpanding=0,n.preventCollapseFire||n.fireEvent("collapse",n)),n},floatCollapsedPanel:function(){var e,t,i=this,n=i.placeholder,r=n.getSize(),s=Ext.baseCSSPrefix+"border-region-slide-in",o=i.collapsed,a=i.ownerCt||i;if(!i.isSliding)if(i.el.hasCls(s))i.slideOutFloatedPanel();else{switch(i.isSliding=!0,n.el.hide(),n.hidden=!0,i.el.show(),i.setHiddenState(!1),i.collapsed=!1,a.updateLayout(),e=i.getBox(!1,!0),n.el.show(),n.hidden=!1,i.el.hide(),i.setHiddenState(!0),i.collapsed=o,a.updateLayout(),i.slideOutTask=i.slideOutTask||new Ext.util.DelayedTask(i.slideOutFloatedPanel,i),n.el.on("mouseleave",i.onMouseLeaveFloated,i),i.el.on("mouseleave",i.onMouseLeaveFloated,i),n.el.on("mouseenter",i.onMouseEnterFloated,i),i.el.on("mouseenter",i.onMouseEnterFloated,i),i.el.addCls(s),i.floated=!0,i.collapseTool&&i.collapseTool.el.hide(),i.collapsed){case"top":i.setLocalXY(e.x,e.y+r.height-1);break;case"right":i.setLocalXY(e.x-r.width+1,e.y);break;case"bottom":i.setLocalXY(e.x,e.y-r.height+1);break;case"left":i.setLocalXY(e.x+r.width-1,e.y)}t=i.convertCollapseDir(i.collapsed),i.floatedFromCollapse=i.collapsed,i.collapsed=!1,i.setHiddenState(!1),i.el.slideIn(t,{preserveScroll:!0,duration:Ext.Number.from(i.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.isSliding=!1,i.fireEvent("float",i)}}})}},onMouseLeaveFloated:function(e){this.slideOutTask.delay(500)},onMouseEnterFloated:function(e){this.slideOutTask.cancel()},isLayoutRoot:function(){return!!this.floatedFromCollapse||this.callParent()},slideOutFloatedPanel:function(e){var t,i=this,n=i.el;i.isSliding||i.isDestroyed||(i.isSliding=!0,i.floated=!1,i.slideOutFloatedPanelBegin(),"string"==typeof i.collapsed&&(t=i.convertCollapseDir(i.collapsed)),n.slideOut(t,{preserveScroll:!0,duration:Ext.Number.from(i.animCollapse,Ext.fx.Anim.prototype.duration),autoEnd:!0===e,listeners:{afteranimate:function(){i.slideOutFloatedPanelEnd(),i.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}}))},slideOutFloatedPanelBegin:function(){var e=this,t=e.placeholder.el,i=e.el;e.collapsed=e.floatedFromCollapse,e.setHiddenState(!0),e.floatedFromCollapse=null,t.un("mouseleave",e.onMouseLeaveFloated,e),i.un("mouseleave",e.onMouseLeaveFloated,e),t.un("mouseenter",e.onMouseEnterFloated,e),i.un("mouseenter",e.onMouseEnterFloated,e)},slideOutFloatedPanelEnd:function(e){this.collapseTool&&this.collapseTool.el.show(),this.slideOutTask.cancel(),this.isSliding=!1,e||this.fireEvent("unfloat",this)},expand:function(e){var t=this,i=t.ownerLayout;return t.isCollapsingOrExpanding?t:(arguments.length||(e=t.animCollapse),t.collapsed||t.floatedFromCollapse?!1===t.fireEvent("beforeexpand",t,e)?t:i&&i.onBeforeComponentExpand&&!1===i.onBeforeComponentExpand(t)?t:(delete t.getHierarchyState().collapsed,t.isPlaceHolderCollapse()?t.placeholderExpand(e):(t.restoreHiddenDocked(),t.beginExpand(),t.collapsed=!1,t.doCollapseExpand(2,e))):t)},placeholderExpand:function(e){var t,i,n=this,r=n.collapsed,s=Ext.baseCSSPrefix+"border-region-slide-in",o=n.ownerLayout?n.ownerLayout.centerRegion:null;return Ext.AbstractComponent.layoutSuspendCount&&(e=!1),n.floatedFromCollapse&&(i=n.getPosition(!0),n.slideOutFloatedPanelBegin(),n.slideOutFloatedPanelEnd(),n.floated=!1),e?(Ext.suspendLayouts(),n.placeholder.hide(),n.el.show(),n.collapsed=!1,n.setHiddenState(!1),o&&!i&&(o.hidden=!0),Ext.resumeLayouts(!0),o.hidden=!1,n.el.addCls(s),n.isCollapsingOrExpanding=2,i?(t=n.getXY(),n.setLocalXY(i[0],i[1]),n.setXY([t[0],t[1]],{duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.el.removeCls(s),n.isCollapsingOrExpanding=0,n.fireEvent("expand",n)}}})):(n.el.hide(),n.placeholder.el.show(),n.placeholder.hidden=!1,n.setHiddenState(!1),n.el.slideIn(n.convertCollapseDir(r),{preserveScroll:!0,duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.el.removeCls(s),n.placeholder.hide(),n.updateLayout(),n.isCollapsingOrExpanding=0,n.fireEvent("expand",n)}}}))):(n.floated=n.collapsed=!1,n.el.removeCls(s),Ext.suspendLayouts(),n.placeholder.hide(),n.show(),Ext.resumeLayouts(!0),n.fireEvent("expand",n)),n},afterExpand:function(e){var t=this.ownerLayout;this.isCollapsingOrExpanding=0,this.updateCollapseTool(),e&&this.removeCls(Ext.baseCSSPrefix+"animating-size"),t&&e&&t.onContentChange(this),this.fireEvent("expand",this),this.fireHierarchyEvent("expand")},setBorder:function(e,t){if(!t){var i=this.header;e=e?!0===e?"1px":this.unitizeBox(e):0,i&&(i.isHeader?i.setBorder(e):i.border=e),this.rendered&&!1!==this.bodyBorder&&this.body.setStyle("border-width",e),this.updateLayout(),this.border=e}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.simpleDrag?this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initSimpleDraggable:function(){var e,t,i=this;i.header||i.updateHeader(!0),i.header&&(e=Ext.applyIf({el:i.el,delegate:"#"+Ext.escapeId(i.header.id)},i.draggable),(i.constrain||i.constrainHeader)&&(e.constrain=i.constrain,e.constrainDelegate=i.constrainHeader,e.constrainTo=i.constrainTo||i.container),t=i.dd=new Ext.util.ComponentDragger(i,e),i.relayEvents(t,["dragstart","drag","dragend"]),i.maximized&&t.disable())},ghostTools:function(){var e,t,i,n=[],r=this.header,s=r?r.query("tool[hidden=false]"):[];if(s.length)for(e=0,t=s.length;e<t;e++)i=s[e],n.push({type:i.type});else n=[{type:"placeholder"}];return n},ghost:function(e){var t,i,n,r=this,s=r.ghostPanel,o=r.getBox(),a=r.header;if(s?s.el.show():r.ghostPanel=s=Ext.widget(r.createGhost(e)),s.setHiddenState(!1),s.floatParent=r.floatParent,s.toFront(),a&&!r.preventHeader){for((t=s.header).suspendLayouts(),n=(i=t.query("tool")).length;n--;)t.remove(i[n]);s.addTool(r.ghostTools()),s.setTitle(r.title),t.setTitlePosition(a.titlePosition),r.iconCls?s.setIconCls(r.iconCls):r.icon?s.setIcon(r.icon):r.glyph&&s.setGlyph(r.glyph),t.addCls(Ext.baseCSSPrefix+"header-ghost"),t.resumeLayouts()}return s.setPagePosition(o.x,o.y),s.setSize(o.width,o.height),r.el.hide(),s},createGhost:function(e){var t=this,i=t.header,n=t.frame&&!t.alwaysFramed;return{xtype:"panel",hidden:!1,header:i?{titleAlign:i.titleAlign}:null,ui:n?t.ui.replace(/-framed$/,""):t.ui,id:t.id+"-ghost",renderTo:Ext.getBody(),resizable:!1,floating:{shadow:!1},frame:n,alwaysFramed:t.alwaysFramed,overlapHeader:t.overlapHeader,headerPosition:t.headerPosition,baseCls:t.baseCls,cls:t.baseCls+"-ghost "+(e||"")}},unghost:function(e,t){var i=this.ghostPanel;i&&(!1!==e&&(this.el.show(),!1!==t&&(this.setPagePosition(i.getXY()),"offsets"==this.hideMode&&delete this.el.hideModeStyles),Ext.defer(this.focus,10,this)),i.el.hide(),i.setHiddenState(!0))},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},initResizable:function(){this.callParent(arguments),this.collapsed&&this.resizer.disable()},convertCollapseDir:function(e){return e.substr(0,1)}},function(){this.prototype.animCollapse=Ext.enableFx}),Ext.define("Ext.tip.Tip",{extend:Ext.panel.Panel,alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0},focusOnToFront:!1,closeAction:"hide",alwaysFramed:!0,frameHeader:!1,initComponent:function(){this.floating=Ext.apply({},{shadow:this.shadow,constrain:this.constrainPosition},this.self.prototype.floating),this.callParent(arguments),this.constrain=this.constrain||this.constrainPosition},showAt:function(e){this.callParent(arguments),this.isVisible()&&(this.setPagePosition(e[0],e[1]),(this.constrainPosition||this.constrain)&&this.doConstrain(),this.toFront(!0))},initDraggable:function(){this.draggable={el:this.getDragEl(),delegate:this.header.el,constrain:this,constrainTo:this.el.dom.parentNode},Ext.Component.prototype.initDraggable.call(this)},ghost:void 0,unghost:void 0}),Ext.define("Ext.tip.ToolTip",{extend:Ext.tip.Tip,alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,ariaRole:"tooltip",initComponent:function(){this.callParent(arguments),this.lastActive=new Date,this.setTarget(this.target),this.origAnchor=this.anchor},onRender:function(e,t){this.callParent(arguments),this.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+this.getAnchorPosition(),this.anchorEl=this.el.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"tip-anchor "+this.anchorCls})},setTarget:function(e){var t,i=this,n=Ext.get(e);i.target&&(t=Ext.get(i.target),i.mun(t,"mouseover",i.onTargetOver,i),i.mun(t,"mouseout",i.onTargetOut,i),i.mun(t,"mousemove",i.onMouseMove,i)),(i.target=n)&&i.mon(n,{freezeEvent:!0,mouseover:i.onTargetOver,mouseout:i.onTargetOut,mousemove:i.onMouseMove,scope:i}),i.anchor&&(i.anchorTarget=i.target)},onMouseMove:function(e){var t,i=this,n=i.delegate?e.getTarget(i.delegate):i.triggerElement=!0;n?(i.targetXY=e.getXY(),n===i.triggerElement?!i.hidden&&i.trackMouse&&(t=i.getTargetXY(),i.constrainPosition&&(t=i.el.adjustForConstraints(t,i.el.parent())),i.setPagePosition(t)):(i.hide(),i.lastActive=new Date(0),i.onTargetOver(e))):!i.closable&&i.isVisible()&&!1!==i.autoHide&&i.hide()},getTargetXY:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u=this;if(u.delegate&&(u.anchorTarget=u.triggerElement),u.anchor){if(u.targetCounter++,t=u.getOffsets(),i=u.anchorToTarget&&!u.trackMouse?u.getAlignToXY(u.anchorTarget,u.getAnchorAlign()):u.targetXY,n=Ext.Element.getViewWidth()-5,r=Ext.Element.getViewHeight()-5,s=document.documentElement,o=document.body,a=(s.scrollLeft||o.scrollLeft||0)+5,l=(s.scrollTop||o.scrollTop||0)+5,d=[i[0]+t[0],i[1]+t[1]],h=u.getSize(),c=u.constrainPosition,u.anchorEl.removeCls(u.anchorCls),u.targetCounter<2&&c){if(d[0]<a)return u.anchorToTarget&&(u.defaultAlign="l-r",u.mouseOffset&&(u.mouseOffset[0]*=-1)),u.anchor="left",u.getTargetXY();if(d[0]+h.width>n)return u.anchorToTarget&&(u.defaultAlign="r-l",u.mouseOffset&&(u.mouseOffset[0]*=-1)),u.anchor="right",u.getTargetXY();if(d[1]<l)return u.anchorToTarget&&(u.defaultAlign="t-b",u.mouseOffset&&(u.mouseOffset[1]*=-1)),u.anchor="top",u.getTargetXY();if(d[1]+h.height>r)return u.anchorToTarget&&(u.defaultAlign="b-t",u.mouseOffset&&(u.mouseOffset[1]*=-1)),u.anchor="bottom",u.getTargetXY()}return u.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+u.getAnchorPosition(),u.anchorEl.addCls(u.anchorCls),u.targetCounter=0,d}return e=u.getMouseOffset(),u.targetXY?[u.targetXY[0]+e[0],u.targetXY[1]+e[1]]:e},getMouseOffset:function(){var e=this.anchor?[0,0]:[15,18];return this.mouseOffset&&(e[0]+=this.mouseOffset[0],e[1]+=this.mouseOffset[1]),e},getAnchorPosition:function(){var e;switch(this.anchor?this.tipAnchor=this.anchor.charAt(0):(e=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/),this.tipAnchor=e[1].charAt(0)),this.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var e,t,i=this,n=i.getAnchorPosition().charAt(0);if(i.anchorToTarget&&!i.trackMouse)switch(n){case"t":t=[0,9];break;case"b":t=[0,-13];break;case"r":t=[-13,0];break;default:t=[9,0]}else switch(n){case"t":t=[-15-i.anchorOffset,30];break;case"b":t=[-19-i.anchorOffset,-13-i.el.dom.offsetHeight];break;case"r":t=[-15-i.el.dom.offsetWidth,-13-i.anchorOffset];break;default:t=[25,-13-i.anchorOffset]}return e=i.getMouseOffset(),t[0]+=e[0],t[1]+=e[1],t},onTargetOver:function(e){var t,i=this.delegate;this.disabled||e.within(this.target.dom,!0)||(t=!i||e.getTarget(i))&&(this.triggerElement=t,this.triggerEvent=e,this.clearTimer("hide"),this.targetXY=e.getXY(),this.delayShow())},delayShow:function(){var e=this;e.hidden&&!e.showTimer?Ext.Date.getElapsed(e.lastActive)<e.quickShowInterval?e.show():e.showTimer=Ext.defer(e.showFromDelay,e.showDelay,e):e.hidden||!1===e.autoHide||e.show()},showFromDelay:function(){this.fromDelayShow=!0,this.show(),delete this.fromDelayShow},onShowVeto:function(){this.callParent(),delete this.triggerElement,this.clearTimer("show")},onTargetOut:function(e){var t=this.triggerElement,i=!0===t?this.target:t;this.disabled||!t||e.within(i,!0)||(this.showTimer&&(this.clearTimer("show"),this.triggerElement=null),!1!==this.autoHide&&this.delayHide())},delayHide:function(){this.hidden||this.hideTimer||(this.hideTimer=Ext.defer(this.hide,this.hideDelay,this))},hide:function(){this.clearTimer("dismiss"),this.lastActive=new Date,this.anchorEl&&this.anchorEl.hide(),this.callParent(arguments),delete this.triggerElement},show:function(){var e=this;this.callParent(),!1===this.hidden&&(e.setPagePosition(-1e4,-1e4),e.anchor&&(e.anchor=e.origAnchor),e.calledFromShowAt||e.showAt(e.getTargetXY()),e.anchor?(e.syncAnchor(),e.anchorEl.show()):e.anchorEl.hide())},showAt:function(e){var t=this;t.lastActive=new Date,t.clearTimers(),t.calledFromShowAt=!0,t.isVisible()||this.callParent(arguments),t.isVisible()&&(t.setPagePosition(e[0],e[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0),t.el.sync(!0),t.dismissDelay&&!1!==t.autoHide&&(t.dismissTimer=Ext.defer(t.hide,t.dismissDelay,t)),t.anchor?(t.syncAnchor(),t.anchorEl.isVisible()||t.anchorEl.show()):t.anchorEl.hide()),delete t.calledFromShowAt},syncAnchor:function(){var e,t,i;switch(this.tipAnchor.charAt(0)){case"t":e="b",t="tl",i=[20+this.anchorOffset,1];break;case"r":e="l",t="tr",i=[-1,12+this.anchorOffset];break;case"b":e="t",t="bl",i=[20+this.anchorOffset,-1];break;default:e="r",t="tl",i=[1,12+this.anchorOffset]}this.anchorEl.alignTo(this.el,e+"-"+t,i),this.anchorEl.setStyle("z-index",parseInt(this.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(e,t){this.callParent(arguments),this.anchor&&this.syncAnchor()},_timerNames:{},clearTimer:function(e){var t=this._timerNames,i=t[e]||(t[e]=e+"Timer"),n=this[i];n&&(clearTimeout(n),this[i]=null)},clearTimers:function(){this.clearTimer("show"),this.clearTimer("dismiss"),this.clearTimer("hide")},onShow:function(){this.callParent(),this.mon(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onHide:function(){this.callParent(),this.mun(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(e){this.closable||e.within(this.el.dom)||(this.disable(),Ext.defer(this.doEnable,100,this))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent(),this.clearTimers(),this.hide()},beforeDestroy:function(){this.clearTimers(),Ext.destroy(this.anchorEl),delete this.anchorEl,delete this.target,delete this.anchorTarget,delete this.triggerElement,this.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this),this.callParent()}}),Ext.define("Ext.tip.QuickTip",{extend:Ext.tip.ToolTip,alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay"},shrinkWrapDock:!0,initComponent:function(){this.target=this.target||Ext.getDoc(),this.targets=this.targets||{},this.callParent()},register:function(e){for(var t,i,n,r=Ext.isArray(e)?e:arguments,s=0,o=r.length;s<o;s++)if(t=(e=r[s]).target)if(Ext.isArray(t))for(i=0,n=t.length;i<n;i++)this.targets[Ext.id(t[i])]=e;else this.targets[Ext.id(t)]=e},unregister:function(e){delete this.targets[Ext.id(e)]},cancelShow:function(e){var t=this.activeTarget;e=Ext.get(e).dom,this.isVisible()?t&&t.el==e&&this.hide():t&&t.el==e&&this.clearTimer("show")},getTipCfg:function(e){var t,i=e.getTarget(),n=i.title;return this.interceptTitles&&n&&Ext.isString(n)?(i.qtip=n,i.removeAttribute("title"),e.preventDefault(),{text:n}):(t=this.tagConfig,(i=e.getTarget("["+t.namespace+t.attribute+"]"))?{target:i,text:i.getAttribute(t.namespace+t.attribute)}:void 0)},onTargetOver:function(e){var t,i,n,r,s,o,a,l,d,h,c,u=this,f=e.getTarget(u.delegate);if(!u.disabled&&(u.targetXY=e.getXY(),f&&1===f.nodeType&&f!=document.documentElement&&f!=document.body))if(!u.activeTarget||f!=u.activeTarget.el&&!Ext.fly(u.activeTarget.el).contains(f)){if(f){for(c in l=u.targets)if(l.hasOwnProperty(c)&&(h=l[c],(d=Ext.fly(h.target))&&(d.dom===f||d.contains(f)))){n=d.dom;break}if(n)return u.activeTarget=u.targets[n.id],u.activeTarget.el=f,u.anchor=u.activeTarget.anchor,u.anchor&&(u.anchorTarget=f),(t=parseInt(u.activeTarget.showDelay,10))&&(i=u.showDelay,u.showDelay=t),u.delayShow(),void(t&&(u.showDelay=i))}n=Ext.fly(f,"_quicktip-target"),s=(r=u.tagConfig).namespace,(o=u.getTipCfg(e))&&(o.target&&(f=o.target,n=Ext.fly(f,"_quicktip-target")),a=n.getAttribute(s+r.hide),u.activeTarget={el:f,text:o.text,width:+n.getAttribute(s+r.width)||null,autoHide:"user"!=a&&"false"!==a,title:n.getAttribute(s+r.title),cls:n.getAttribute(s+r.cls),align:n.getAttribute(s+r.align),showDelay:parseInt(n.getAttribute(s+r.showDelay),10)},u.anchor=n.getAttribute(s+r.anchor),u.anchor&&(u.anchorTarget=f),(t=parseInt(u.activeTarget.showDelay,10))&&(i=u.showDelay,u.showDelay=t),u.delayShow(),t&&(u.showDelay=i))}else u.targetTextEmpty()?(u.onShowVeto(),delete u.activeTarget):(u.clearTimer("hide"),u.show())},onTargetOut:function(e){var t,i,n=this,r=n.activeTarget;r&&e.within(n.activeTarget.el)&&!n.getTipCfg(e)||(n.clearTimer("show"),delete n.activeTarget,!1!==n.autoHide&&((t=r&&parseInt(r.hideDelay,10))&&(i=n.hideDelay,n.hideDelay=t),n.delayHide(),t&&(n.hideDelay=i)))},targetTextEmpty:function(){var e,t=this.activeTarget,i=this.tagConfig;return!(!t||!(e=t.el)||e.getAttribute(i.namespace+i.attribute)||this.targets[Ext.id(t.target)])},show:function(){if(this.fromDelayShow&&this.targetTextEmpty())return this.onShowVeto(),void delete this.activeTarget;this.callParent(arguments)},showAt:function(e){var t,i,n=this,r=n.activeTarget,s=n.header;r&&(n.rendered||(n.render(Ext.getBody()),n.activeTarget=r),n.suspendLayouts(),r.title?(n.setTitle(r.title),s.show()):s&&s.hide(),n.update(r.text),n.autoHide=r.autoHide,t=r.dismissDelay,n.dismissDelay=Ext.isNumber(t)?t:n.dismissDelay,r.mouseOffset&&(e[0]+=r.mouseOffset[0],e[1]+=r.mouseOffset[1]),(i=n.lastCls)&&(n.removeCls(i),delete n.lastCls),(i=r.cls)&&(n.addCls(i),n.lastCls=i),n.setWidth(r.width),n.anchor?n.constrainPosition=!1:r.align?(e=n.getAlignToXY(r.el,r.align),n.constrainPosition=!1):n.constrainPosition=!0,n.resumeLayouts(!0)),n.callParent([e])},hide:function(){delete this.activeTarget,this.callParent()}}),Ext.define("Ext.tip.QuickTipManager",{singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(e,t){if(!this.tip){if(!Ext.isReady)return Ext.onReady(function(){Ext.tip.QuickTipManager.init(e,t)}),!1;var i=Ext.apply({disabled:this.disabled,id:"ext-quicktips-tip"},t),n=i.className,r=i.xtype;n?delete i.className:r&&(n="widget."+r,delete i.xtype),!1!==e&&(i.renderTo=document.body),this.tip=Ext.create(n||"Ext.tip.QuickTip",i),Ext.quickTipsActive=!0}},destroy:function(){Ext.destroy(this.tip),this.tip=void 0},ddDisable:function(){var e=this.tip;e&&!this.disabled&&e.disable()},ddEnable:function(){var e=this.tip;e&&!this.disabled&&e.enable()},enable:function(){var e=this.tip;e&&e.enable(),this.disabled=!1},disable:function(){var e=this.tip;e&&e.disable(),this.disabled=!0},isEnabled:function(){var e=this.tip;return void 0!==e&&!e.disabled},getQuickTip:function(){return this.tip},register:function(){var e=this.tip;e.register.apply(e,arguments)},unregister:function(){var e=this.tip;e.unregister.apply(e,arguments)},tips:function(){var e=this.tip;e.register.apply(e,arguments)}}),Ext.define("Ext.app.Application",{extend:Ext.app.Controller,scope:void 0,enableQuickTips:!0,appFolder:"app",appProperty:"app",namespaces:[],autoCreateViewport:!1,paths:null,onClassExtended:function(e,t,i){var n,r,s,o,a,l=Ext.app.Controller,d=e.prototype,h=[];if(s=t.name||e.superclass.name,a=t.appFolder||e.superclass.appFolder,s&&(t.$namespace=s,Ext.app.addNamespaces(s)),t.namespaces&&Ext.app.addNamespaces(t.namespaces),t["paths processed"])delete t["paths processed"];else if(s&&a&&Ext.Loader.setPath(s,a),r=t.paths)for(o in r)r.hasOwnProperty(o)&&Ext.Loader.setPath(o,r[o]);t.autoCreateViewport&&l.processDependencies(d,h,s,"view",["Viewport"]),h.length&&(n=i.onBeforeCreated,i.onBeforeCreated=function(e,t){var i=Ext.Array.clone(arguments);Ext.require(h,function(){return n.apply(this,i)})})},constructor:function(e){this.callParent(arguments),this.doInit(this),this.initNamespace(),this.initControllers(),this.onBeforeLaunch(),this.finishInitControllers()},initNamespace:function(){var e,t=this,i=t.appProperty;(e=Ext.namespace(t.name))&&(e.getApplication=function(){return t},i&&(e[i]||(e[i]=t)))},initControllers:function(){var e=Ext.Array.from(this.controllers);this.controllers=new Ext.util.MixedCollection;for(var t=0,i=e.length;t<i;t++)this.getController(e[t])},finishInitControllers:function(){var e,t,i;for(t=0,i=(e=this.controllers.getRange()).length;t<i;t++)e[t].finishInit(this)},launch:Ext.emptyFn,onBeforeLaunch:function(){var e,t,i,n=this;for(n.enableQuickTips&&n.initQuickTips(),n.autoCreateViewport&&n.initViewport(),n.launch.call(n.scope||n),n.launched=!0,n.fireEvent("launch",n),i=(e=n.controllers.items).length,t=0;t<i;t++)e[t].onLaunch(n)},getModuleClassName:function(e,t){return Ext.app.Controller.getFullName(e,t,this.name).absoluteName},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var e=this.getView("Viewport");e&&e.create()},getController:function(e){var t,i,n=this.controllers;return(i=n.get(e))||(t=this.getModuleClassName(e,"controller"),i=Ext.create(t,{application:this,id:e}),n.add(i),this._initialized&&i.doInit(this)),i},getApplication:function(){return this}}),Ext.define("Ext.app.domain.Controller",{extend:Ext.app.EventDomain,singleton:!0,type:"controller",idProperty:"id",constructor:function(){this.callParent(),this.monitor(Ext.app.Controller)}}),Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:Ext.button.Button,alternateClassName:"Ext.SplitButton",arrowCls:"split",split:!0,initComponent:function(){this.callParent(),this.addEvents("arrowclick")},setArrowHandler:function(e,t){this.arrowHandler=e,this.scope=t},onClick:function(e){var t=this;t.doPreventDefault(e),t.disabled||(t.overMenuTrigger?(e.preventDefault(),t.maybeShowMenu(),t.fireEvent("arrowclick",t,e),t.arrowHandler&&t.arrowHandler.call(t.scope||t,t,e)):(t.doToggle(),t.fireHandler(e)))}}),Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:Ext.button.Split,alternateClassName:"Ext.CycleButton",getButtonText:function(e){var t="";return e&&!0===this.showText?(this.prependText&&(t+=this.prependText),t+=e.text):this.text},setActiveItem:function(e,t){var i=this;Ext.isObject(e)||(e=i.menu.getComponent(e)),e&&(i.rendered?(i.setText(i.getButtonText(e)),i.setIconCls(e.iconCls),i.setGlyph(e.glyph)):(i.text=i.getButtonText(e),i.iconCls=e.iconCls,i.glyph=e.glyph),(i.activeItem=e).checked||e.setChecked(!0,!1),i.forceIcon&&i.setIconCls(i.forceIcon),i.forceGlyph&&i.setGlyph(i.forceGlyph),t||i.fireEvent("change",i,e))},getActiveItem:function(){return this.activeItem},initComponent:function(){var e,t,i,n,r=this,s=0;for(r.addEvents("change"),r.changeHandler&&(r.on("change",r.changeHandler,r.scope||r),delete r.changeHandler),e=(r.menu.items||[]).concat(r.items||[]),r.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},r.menu),i=e.length,t=0;t<i;t++)n=e[t],n=Ext.applyIf({group:r.id,itemIndex:t,checkHandler:r.checkHandler,scope:r,checked:n.checked||!1},n),r.menu.items.push(n),n.checked&&(s=t);r.itemCount=r.menu.items.length,r.callParent(arguments),r.on("click",r.toggleSelected,r),r.setActiveItem(s,r),r.width&&r.showText&&r.addCls(Ext.baseCSSPrefix+"cycle-fixed-width")},checkHandler:function(e,t){t&&this.setActiveItem(e)},toggleSelected:function(){var e=this.menu;(this.activeItem.next(":not([disabled])")||e.items.getAt(0)).setChecked(!0)}}),Ext.define("Ext.chart.Callout",{constructor:function(e){e.callouts&&(e.callouts.styles=Ext.applyIf(e.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"}),this.callouts=Ext.apply(this.callouts||{},e.callouts),this.calloutsArray=[])},renderCallouts:function(){if(this.callouts){var e,t,i,n,r,s,o,a,l=this.items,d=this.chart.animate,h=this.callouts,c=h.styles,u=this.calloutsArray,f=this.chart.getChartStore(),g=f.getCount(),p=l.length/g,m=[];for(t=e=0;e<g;e++)for(i=0;i<p;i++)if(r=l[t],s=u[t],o=f.getAt(e),(a=!h.filter||h.filter(o))||s){for(n in s||(u[t]=s=this.onCreateCallout(o,r,e,a,i,t)),s)s[n]&&s[n].setAttributes&&s[n].setAttributes(c,!0);if(!a)for(n in s)s[n]&&(s[n].setAttributes?s[n].setAttributes({hidden:!0},!0):s[n].setVisible&&s[n].setVisible(!1));h&&h.renderer&&h.renderer(s,o),this.onPlaceCallout(s,o,r,e,a,d,i,t,m),m.push(s),t++}else t++;this.hideCallouts(t)}},onCreateCallout:function(e,t,i,n){this.calloutsGroup;var r=this.callouts,s=r?r.styles:void 0,o=s?s.width:0,a=s?s.height:0,l=this.chart,d=l.surface,h={lines:!1};return h.lines=d.add(Ext.apply({},{type:"path",path:"M0,0",stroke:this.getLegendColor()||"#555"},s)),r.items&&(h.panel=new Ext.Panel({style:"position: absolute;",width:o,height:a,items:r.items,renderTo:l.el})),h},hideCallouts:function(e){for(var t,i,n=this.calloutsArray,r=n.length;r-- >e;)for(i in t=n[r])t[i]&&t[i].hide(!0)}}),Ext.define("Ext.draw.CompositeSprite",{extend:Ext.util.MixedCollection,mixins:{animate:Ext.util.Animate},autoDestroy:!1,isCompositeSprite:!0,constructor:function(e){e=e||{},Ext.apply(this,e),this.addEvents("mousedown","mouseup","mouseover","mouseout","click"),this.id=Ext.id(null,"ext-sprite-group-"),this.callParent()},onClick:function(e){this.fireEvent("click",e)},onMouseUp:function(e){this.fireEvent("mouseup",e)},onMouseDown:function(e){this.fireEvent("mousedown",e)},onMouseOver:function(e){this.fireEvent("mouseover",e)},onMouseOut:function(e){this.fireEvent("mouseout",e)},attachEvents:function(e){e.on({scope:this,mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseover:this.onMouseOver,mouseout:this.onMouseOut,click:this.onClick})},add:function(e,t){var i=this.callParent(arguments);return this.attachEvents(i),i},insert:function(e,t,i){return this.callParent(arguments)},remove:function(e){return e.un({scope:this,mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseover:this.onMouseOver,mouseout:this.onMouseOut,click:this.onClick}),this.callParent(arguments)},getBBox:function(){for(var e,t,i=0,n=this.items,r=this.length,s=1/0,o=-1/0,a=1/0,l=-1/0;i<r;i++)(e=n[i]).el&&!e.bboxExcluded&&(t=e.getBBox(),s=Math.min(s,t.x),a=Math.min(a,t.y),o=Math.max(o,t.height+t.y),l=Math.max(l,t.width+t.x));return{x:s,y:a,height:o-a,width:l-s}},setAttributes:function(e,t){for(var i=0,n=this.items,r=this.length;i<r;i++)n[i].setAttributes(e,t);return this},hide:function(e){for(var t=0,i=this.items,n=this.length;t<n;t++)i[t].hide(e);return this},show:function(e){for(var t=0,i=this.items,n=this.length;t<n;t++)i[t].show(e);return this},redraw:function(){var e=0,t=this.items,i=this.getSurface(),n=this.length;if(i)for(;e<n;e++)i.renderItem(t[e]);return this},setStyle:function(e){for(var t,i=0,n=this.items,r=this.length;i<r;i++)(t=n[i].el)&&t.setStyle(e)},addCls:function(e){var t=0,i=this.items,n=this.getSurface(),r=this.length;if(n)for(;t<r;t++)n.addCls(i[t],e)},removeCls:function(e){var t=0,i=this.items,n=this.getSurface(),r=this.length;if(n)for(;t<r;t++)n.removeCls(i[t],e)},getSurface:function(){var e=this.first();return e?e.surface:null},destroy:function(){var e,t=this.getSurface(),i=this.autoDestroy;if(t)for(;0<this.getCount();)e=this.first(),this.remove(e),t.remove(e,i);this.clearListeners()}}),Ext.define("Ext.draw.Surface",{mixins:{observable:Ext.util.Observable},separatorRe:/[, ]+/,enginePriority:["Svg","Vml"],statics:{create:function(e,t){for(var i=0,n=(t=t||this.prototype.enginePriority).length;i<n;i++)if(Ext.supports[t[i]])return Ext.create("Ext.draw.engine."+t[i],e);return!1},save:function(e,t){var i={"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"}[(t=t||{}).type]||"Svg";return Ext.draw.engine[i+"Exporter"].generate(e,t)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:!1,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:void 0,height:352,width:512,x:0,y:0,orderSpritesByZIndex:!0,constructor:function(e){var t=this;e=e||{},Ext.apply(t,e),t.domRef=Ext.getDoc().dom,t.customAttributes={},t.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick"),t.mixins.observable.constructor.call(t),t.getId(),t.initGradients(),t.initItems(),t.renderTo&&(t.render(t.renderTo),delete t.renderTo),t.initBackground(e.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(e,t,i,n){isFinite(e)&&isFinite(t)&&isFinite(i)&&isFinite(n)&&(this.viewBox={x:e,y:t,width:i,height:n},this.applyViewBox())},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var e,t,i=this.gradients,n=this.addGradient;if(i)for(e=0,t=i.length;e<t&&!1!==n.call(this,i[e],e,t);e++);}},initItems:function(){var e=this.items;this.items=new Ext.draw.CompositeSprite,this.items.autoDestroy=!0,this.groups=new Ext.draw.CompositeSprite,e&&this.add(e)},initBackground:function(e){var t,i,n=this,r=n.width,s=n.height;Ext.isString(e)&&(e={fill:e}),e&&(e.gradient?(t=(i=e.gradient).id,n.addGradient(i),n.background=n.add({type:"rect",isBackground:!0,x:0,y:0,width:r,height:s,fill:"url(#"+t+")",zIndex:-1})):e.fill?n.background=n.add({type:"rect",isBackground:!0,x:0,y:0,width:r,height:s,fill:e.fill,zIndex:-1}):e.image&&(n.background=n.add({type:"image",isBackground:!0,x:0,y:0,width:r,height:s,src:e.image,zIndex:-1})),n.background.bboxExcluded=!0)},setSize:function(e,t){this.applyViewBox()},scrubAttrs:function(e){var t,i={},n={},r=e.attr;for(t in r)this.translateAttrs.hasOwnProperty(t)?(i[this.translateAttrs[t]]=r[t],n[this.translateAttrs[t]]=!0):this.availableAttrs.hasOwnProperty(t)&&!n[t]&&(i[t]=r[t]);return i},onClick:function(e){this.processEvent("click",e)},onDblClick:function(e){this.processEvent("dblclick",e)},onMouseUp:function(e){this.processEvent("mouseup",e)},onMouseDown:function(e){this.processEvent("mousedown",e)},onMouseOver:function(e){this.processEvent("mouseover",e)},onMouseOut:function(e){this.processEvent("mouseout",e)},onMouseMove:function(e){this.fireEvent("mousemove",e)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var e,t,i,n,r,s,o=Array.prototype.slice.call(arguments),a=1<o.length;if(a||Ext.isArray(o[0])){for(i=[],n=0,r=(t=a?o:o[0]).length;n<r;n++)s=t[n],s=this.add(s),i.push(s);return i}return e=this.prepareItems(o[0],!0)[0],this.insertByZIndex(e),this.onAdd(e),e},insertByZIndex:function(e){var t,i=this.items.items,n=i.length,r=Math.ceil,s=e.attr.zIndex,o=n,a=o-1,l=0;if(this.orderSpritesByZIndex&&n&&s<i[a].attr.zIndex){for(;l<=a;)if(s<(t=i[o=r((l+a)/2)].attr.zIndex))a=o-1;else{if(!(t<s))break;l=o+1}for(;o<n&&i[o].attr.zIndex<=s;)o++}return this.items.insert(o,e),o},onAdd:function(e){var t,i,n,r=e.group,s=e.draggable;if(r){for(i=(t=[].concat(r)).length,n=0;n<i;n++)r=t[n],this.getGroup(r).add(e);delete e.group}s&&e.initDraggable()},remove:function(e,t){if(e){this.items.remove(e);var i,n=[].concat(this.groups.items),r=n.length;for(i=0;i<r;i++)n[i].remove(e);e.onRemove(),!0===t&&e.destroy()}},removeAll:function(e){var t,i=this.items.items;for(t=i.length-1;-1<t;t--)this.remove(i[t],e)},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var e,t,i,n,r,s,o,a=this.viewBox,l=this.width||1,d=this.height||1;a&&(l||d)?(e=a.x,t=a.y,i=a.width,r=d/(n=a.height),s=l/i,i*(o=Math.min(s,r))<l&&(e-=(l-i*o)/2/o),n*o<d&&(t-=(d-n*o)/2/o),this.viewBoxShift={dx:-e,dy:-t,scale:o},this.background&&this.background.setAttributes(Ext.apply({},{x:e,y:t,width:l/o,height:d/o},{hidden:!1}),!0)):this.background&&l&&d&&this.background.setAttributes(Ext.apply({x:0,y:0,width:l,height:d},{hidden:!1}),!0)},getBBox:function(e,t){var i=this["getPath"+e.type](e);return t?(e.bbox.plain=e.bbox.plain||Ext.draw.Draw.pathDimensions(i),e.bbox.plain):(e.dirtyTransform&&this.applyTransformations(e,!0),e.bbox.transform=e.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(i,e.matrix)),e.bbox.transform)},transformToViewBox:function(e,t){if(this.viewBoxShift){var i=this.viewBoxShift;return[e/i.scale-i.dx,t/i.scale-i.dy]}return[e,t]},applyTransformations:function(e,t){"text"==e.type&&(e.bbox.transform=0,this.transform(e,!1)),e.dirtyTransform=!1;var i=e.attr;null==i.translation.x&&null==i.translation.y||this.translate(e),null==i.scaling.x&&null==i.scaling.y||this.scale(e),null!=i.rotation.degrees&&this.rotate(e),e.bbox.transform=0,this.transform(e,t),e.transformations=[]},rotate:function(e){var t,i=e.attr.rotation.degrees,n=e.attr.rotation.x,r=e.attr.rotation.y;Ext.isNumber(n)&&Ext.isNumber(r)||(t=this.getBBox(e,!0),n=Ext.isNumber(n)?n:t.x+t.width/2,r=Ext.isNumber(r)?r:t.y+t.height/2),e.transformations.push({type:"rotate",degrees:i,x:n,y:r})},translate:function(e){var t=e.attr.translation.x||0,i=e.attr.translation.y||0;e.transformations.push({type:"translate",x:t,y:i})},scale:function(e){var t,i=e.attr.scaling.x||1,n=e.attr.scaling.y||1,r=e.attr.scaling.centerX,s=e.attr.scaling.centerY;Ext.isNumber(r)&&Ext.isNumber(s)||(t=this.getBBox(e,!0),r=Ext.isNumber(r)?r:t.x+t.width/2,s=Ext.isNumber(s)?s:t.y+t.height/2),e.transformations.push({type:"scale",x:i,y:n,centerX:r,centerY:s})},rectPath:function(e,t,i,n,r){return r?[["M",e+r,t],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",e,t],["l",i,0],["l",0,n],["l",-i,0],["z"]]},ellipsePath:function(e,t,i,n){return null==n&&(n=i),[["M",e,t],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},getPathpath:function(e){return e.attr.path},getPathcircle:function(e){var t=e.attr;return this.ellipsePath(t.x,t.y,t.radius,t.radius)},getPathellipse:function(e){var t=e.attr;return this.ellipsePath(t.x,t.y,t.radiusX||t.width/2||0,t.radiusY||t.height/2||0)},getPathrect:function(e){var t=e.attr;return this.rectPath(t.x||0,t.y||0,t.width||0,t.height||0,t.r||0)},getPathimage:function(e){var t=e.attr;return this.rectPath(t.x||0,t.y||0,t.width,t.height)},getPathtext:function(e){var t=this.getBBoxText(e);return this.rectPath(t.x,t.y,t.width,t.height)},createGroup:function(e){var t=this.groups.get(e);return t||((t=new Ext.draw.CompositeSprite({surface:this})).id=e||Ext.id(null,"ext-surface-group-"),this.groups.add(t)),t},getGroup:function(e){return"string"==typeof e?this.groups.get(e)||this.createGroup(e):e},prepareItems:function(e,t){var i,n,r;for(n=0,r=(e=[].concat(e)).length;n<r;n++)(i=e[n])instanceof Ext.draw.Sprite?i.surface=this:(i.surface=this,e[n]=this.createItem(i));return e},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){delete this.domRef,this.background&&this.background.destroy(),this.removeAll(!0),Ext.destroy(this.groups.items)}}),Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:Ext.layout.component.Auto,setHeightInDom:!0,setWidthInDom:!0,type:"draw",measureContentWidth:function(e){var t=e.target,i=e.getPaddingInfo(),n=this.getBBox(e);return t.viewBox?e.heightModel.shrinkWrap?i.width:n.width/n.height*(e.getProp("contentHeight")-i.height)+i.width:t.autoSize?n.width+i.width:n.x+n.width+i.width},measureContentHeight:function(e){var t=e.target,i=e.getPaddingInfo(),n=this.getBBox(e);return e.target.viewBox?e.widthModel.shrinkWrap?i.height:n.height/n.width*(e.getProp("contentWidth")-i.width)+i.height:t.autoSize?n.height+i.height:n.y+n.height+i.height},getBBox:function(e){var t=e.surfaceBBox;return t||((t=e.target.surface.items.getBBox()).width===-1/0&&t.height===-1/0&&(t.width=t.height=t.x=t.y=0),e.surfaceBBox=t),t},publishInnerWidth:function(e,t){e.setContentWidth(t-e.getFrameInfo().width,!0)},publishInnerHeight:function(e,t){e.setContentHeight(t-e.getFrameInfo().height,!0)},finishedLayout:function(e){var t=e.props,i=e.getPaddingInfo();this.owner.setSurfaceSize(t.contentWidth-i.width,t.contentHeight-i.height),this.callParent(arguments)}}),Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:Ext.Component,enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:!0,shrinkWrap:3,autoSize:!1,suspendSizing:0,initComponent:function(){this.callParent(arguments),this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){this.callParent(arguments),!1!==this.createSurface()&&this.configureSurfaceSize()},configureSurfaceSize:function(){var e,t=this.viewBox,i=this.autoSize;!t&&!i||this.suspendSizing||(e=this.surface.items.getBBox(),t?this.surface.setViewBox(e.x,e.y,e.width,e.height):this.autoSizeSurface(e))},autoSizeSurface:function(e){e=e||this.surface.items.getBBox(),this.setSurfaceSize(e.width,e.height)},setSurfaceSize:function(e,t){if(this.surface.setSize(e,t),this.autoSize){var i=this.surface.items.getBBox();this.surface.setViewBox(i.x,i.y-+Ext.isOpera,e,t)}},createSurface:function(){var e,i=this,t=Ext.applyIf({renderTo:i.el,height:i.height,width:i.width,items:i.items},i.initialConfig);if(delete t.listeners,t.gradients||(t.gradients=i.gradients),i.initSurfaceCfg(t),!(e=Ext.draw.Surface.create(t,i.enginePriority)))return!1;function n(t){return function(e){i.fireEvent(t,e)}}(i.surface=e).owner=i,e.on({scope:i,mouseup:n("mouseup"),mousedown:n("mousedown"),mousemove:n("mousemove"),mouseenter:n("mouseenter"),mouseleave:n("mouseleave"),click:n("click"),dblclick:n("dblclick")})},initSurfaceCfg:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.surface),this.callParent(arguments)}}),Ext.chart=Ext.chart||{},Ext.define("Ext.chart.theme.Theme",{theme:"Base",themeAttrs:(Ext.chart.theme=function(e,t){e=e||{};var i,n,r,s,o,a,l,d,h,c,u=0,f=Ext.Date.now(),g=[];if(e.baseColor&&((c=(h=Ext.draw.Color.fromString(e.baseColor)).getHSL()[2])<.15?h=h.getLighter(.3):c<.3?h=h.getLighter(.15):.85<c?h=h.getDarker(.3):.7<c&&(h=h.getDarker(.15)),e.colors=[h.getDarker(.3).toString(),h.getDarker(.15).toString(),h.toString(),h.getLighter(.15).toString(),h.getLighter(.3).toString()],delete e.baseColor),e.colors){for(n=e.colors.slice(),o=t.markerThemes,s=t.seriesThemes,i=n.length,t.colors=n;u<i;u++)r=n[u],l=o[u]||{},a=s[u]||{},l.fill=a.fill=l.stroke=a.stroke=r,o[u]=l,s[u]=a;t.markerThemes=o.slice(0,i),t.seriesThemes=s.slice(0,i)}for(d in t)d in e&&(Ext.isObject(e[d])&&Ext.isObject(t[d])?Ext.apply(t[d],e[d]):t[d]=e[d]);if(e.useGradients){for(n=t.colors||function(){var e=[];for(u=0,s=t.seriesThemes,i=s.length;u<i;u++)e.push(s[u].fill||s[u].stroke);return e}(),u=0,i=n.length;u<i;u++)(h=Ext.draw.Color.fromString(n[u]))&&(r=h.getDarker(.1).toString(),d="theme-"+(h=h.toString()).substr(1)+"-"+r.substr(1)+"-"+f,g.push({id:d,angle:45,stops:{0:{color:h.toString()},100:{color:r.toString()}}}),n[u]="url(#"+d+")");t.gradients=g,t.colors=n}Ext.apply(this,t)},!1),initTheme:function(e){var t,i,n=Ext.chart.theme;if(e)for(t in e=e.split(":"),n)if(t==e[0])return i="gradients"==e[1],this.themeAttrs=new n[t]({useGradients:i}),i&&(this.gradients=this.themeAttrs.gradients),void(this.themeAttrs.background&&(this.background=this.themeAttrs.background))}}),Ext.define("Ext.chart.MaskLayer",{extend:Ext.Component,constructor:function(e){e=Ext.apply(e||{},{style:"position:absolute;background-color:#ff9;cursor:crosshair;opacity:0.5;border:1px solid #00f;"}),this.callParent([e])},initComponent:function(){this.callParent(arguments),this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments),this.dd.onStart=function(e){var t=this.comp;this.startPosition=t.getPosition(!0),t.ghost&&!t.liveDrag&&(this.proxy=t.ghost(),this.dragTarget=this.proxy.header.el),(this.constrain||this.constrainDelegate)&&(this.constrainTo=this.calculateConstrainRegion())}}}),Ext.define("Ext.chart.Mask",{constructor:function(e){var t=this;t.addEvents("select"),e&&Ext.apply(t,e),t.enableMask&&t.on("afterrender",function(){var e=new Ext.chart.MaskLayer({renderTo:t.el,hidden:!0});e.el.on({mousemove:function(e){t.onMouseMove(e)},mouseup:function(e){t.onMouseUp(e)}}),e.initDraggable(),t.maskType=t.mask,t.mask=e,t.maskSprite=t.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:.6,hidden:!0,stroke:"#00f",cursor:"crosshair"})},t,{single:!0})},onMouseUp:function(e){var t,i=this,n=i.bbox||i.chartBBox;i.maskMouseDown=!1,i.mouseDown=!1,i.mouseMoved&&(i.handleMouseEvent(e),i.mouseMoved=!1,t=i.maskSelection,i.fireEvent("select",i,{x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}))},onMouseDown:function(e){this.handleMouseEvent(e)},onMouseMove:function(e){this.handleMouseEvent(e)},handleMouseEvent:function(e){var t,i=this,n=i.maskType,r=i.bbox||i.chartBBox,s=r.x,o=r.y,a=Math,l=a.floor,d=a.abs,h=a.min,c=a.max,u=l(o+r.height),f=l(s+r.width),g=e.getPageX()-i.el.getX(),p=e.getPageY()-i.el.getY(),m=i.maskMouseDown;g=c(g,s),p=c(p,o),g=h(g,f),p=h(p,u),"mousedown"===e.type?(i.mouseDown=!0,i.mouseMoved=!1,i.maskMouseDown={x:g,y:p}):(i.mouseMoved=i.mouseDown,m&&i.mouseDown?("horizontal"==n?(p=o,m.y=u):"vertical"==n&&(g=s,m.x=f),t=["M",g,p,"l",f=m.x-g,0,0,u=m.y-p,-f,0,"z"],i.maskSelection={x:(0<f?g:g+f)+i.el.getX(),y:(0<u?p:p+u)+i.el.getY(),width:d(f),height:d(u)},i.mask.updateBox(i.maskSelection),i.mask.show(),i.maskSprite.setAttributes({hidden:!0},!0)):(t="horizontal"==n?["M",g,o,"L",g,u]:"vertical"==n?["M",s,p,"L",f,p]:["M",g,o,"L",g,u,"M",s,p,"L",f,p],i.maskSprite.setAttributes({path:t,"stroke-width":1,hidden:!1},!0)))},onMouseLeave:function(e){this.mouseMoved=!1,this.mouseDown=!1,this.maskMouseDown=!1,this.mask.hide(),this.maskSprite.hide(!0)}}),Ext.define("Ext.chart.Navigation",{setZoom:function(e){var t,i,n,r,s,o,a,l,d,h,c,u,f=this.axes.items,g=this.chartBBox,p=g.width,m=g.height,x={x:e.x-this.el.getX(),y:e.y-this.el.getY(),width:e.width,height:e.height};for(t=0,i=f.length;t<i;t++)u="bottom"==(n=f[t]).position||"top"==n.position,"Category"==n.type?(l||(d=(l=this.getChartStore()).data.items.length),r=x,c=n.length,h=Math.round(c/d),a=u?(o=r.x?Math.floor(r.x/h)+1:0,(r.x+r.width)/h):(o=r.y?Math.floor(r.y/h)+1:0,(r.y+r.height)/h)):(r={x:x.x/p,y:x.y/m,width:x.width/p,height:x.height/m},s=n.calcEnds(),u?(o=(s.to-s.from)*r.x+s.from,a=(s.to-s.from)*r.width+o):o=(a=(s.to-s.from)*(1-r.y)+s.from)-(s.to-s.from)*r.height),n.minimum=o,n.maximum=a,u?n.doConstrain&&"vertical"!=this.maskType&&n.doConstrain():n.doConstrain&&"horizontal"!=this.maskType&&n.doConstrain();this.redraw(!1)},restoreZoom:function(){var e,t,i,n=this.axes.items;for(this.setSubStore(null),e=0,t=n.length;e<t;e++)delete(i=n[e]).minimum,delete i.maximum;this.redraw(!1)}}),Ext.define("Ext.chart.Shape",{singleton:!0,circle:function(e,t){return e.add(Ext.apply({type:"circle",x:t.x,y:t.y,stroke:null,radius:t.radius},t))},line:function(e,t){return e.add(Ext.apply({type:"rect",x:t.x-t.radius,y:t.y-t.radius,height:2*t.radius,width:2*t.radius/5},t))},square:function(e,t){return e.add(Ext.applyIf({type:"rect",x:t.x-t.radius,y:t.y-t.radius,height:2*t.radius,width:2*t.radius,radius:null},t))},triangle:function(e,t){return t.radius*=1.75,e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x,",",t.y,"m0-",.58*t.radius,"l",.5*t.radius,",",.87*t.radius,"-",t.radius,",0z")},t))},diamond:function(e,t){var i=t.radius;return i*=1.5,e.add(Ext.apply({type:"path",stroke:null,path:["M",t.x,t.y-i,"l",i,i,-i,i,-i,-i,i,-i,"z"]},t))},cross:function(e,t){var i=t.radius;return i/=1.7,e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x-i,",",t.y,"l",[-i,-i,i,-i,i,i,i,-i,i,i,-i,i,i,i,-i,i,-i,-i,-i,i,-i,-i,"z"])},t))},plus:function(e,t){var i=t.radius/1.3;return e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x-i/2,",",t.y-i/2,"l",[0,-i,i,0,0,i,i,0,0,i,-i,0,0,i,-i,0,0,-i,-i,0,0,-i,"z"])},t))},arrow:function(e,t){var i=t.radius;return e.add(Ext.apply({type:"path",path:"M".concat(t.x-.7*i,",",t.y-.4*i,"l",[.6*i,0,0,.4*-i,i,.8*i,-i,.8*i,0,.4*-i,.6*-i,0],"z")},t))},drop:function(e,t,i,n,r,s){r=r||30,s=s||0,e.add({type:"path",path:["M",t,i,"l",r,0,"A",.4*r,.4*r,0,1,0,t+.7*r,i-.7*r,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-s,x:t,y:i}}),s=(s+90)*Math.PI/180,e.add({type:"text",x:t+r*Math.sin(s)-10,y:i+r*Math.cos(s)+5,text:n,"font-size":12*r/40,stroke:"none",fill:"#fff"})}}),Ext.define("Ext.chart.LegendItem",{extend:Ext.draw.CompositeSprite,hiddenSeries:!1,label:void 0,x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(e){this.callParent(arguments),this.createLegend(e)},createLegend:function(e){var t=this,i=t.series,n=e.yFieldIndex;t.label=t.createLabel(e),t.createSeriesMarkers(e),t.setAttributes({hidden:!1},!0),t.yFieldIndex=n,t.on("mouseover",t.onMouseOver,t),t.on("mouseout",t.onMouseOut,t),t.on("mousedown",t.onMouseDown,t),i.visibleInLegend(n)||(t.hiddenSeries=!0,t.label.setAttributes({opacity:.5},!0)),t.updatePosition({x:0,y:0})},getLabelText:function(){var i=this.series,n=this.yFieldIndex;function e(e){var t=i[e];return Ext.isArray(t)?t[n]:t}return e("title")||e("yField")},createLabel:function(e){var t=this.legend;return this.add("label",this.surface.add({type:"text",x:20,y:0,zIndex:(this.zIndex||0)+2,fill:t.labelColor,font:t.labelFont,text:this.getLabelText(),style:{cursor:"pointer"}}))},createSeriesMarkers:function(e){var t=e.yFieldIndex,i=this.series,n=i.type,r=(this.surface,this.zIndex);if("line"===n||"scatter"===n){if("line"===n){var s=Ext.apply(i.seriesStyle,i.style);this.drawLine(.5,.5,16.5,.5,r,s,t)}if(i.showMarkers||"scatter"===n){var o=Ext.apply(i.markerStyle,i.markerConfig||{},{fill:i.getLegendColor(t)});this.drawMarker(8.5,.5,r,o)}}else this.drawFilledBox(12,12,r,t)},drawLine:function(e,t,i,n,r,s,o){var a=this.surface,l=this.series;return this.add("line",a.add({type:"path",path:"M"+e+","+t+"L"+i+","+n,zIndex:(r||0)+2,"stroke-width":l.lineWidth,"stroke-linejoin":"round","stroke-dasharray":l.dash,stroke:s.stroke||l.getLegendColor(o)||"#000",style:{cursor:"pointer"}}))},drawMarker:function(e,t,i,n){var r=this.surface;this.series;return this.add("marker",Ext.chart.Shape[n.type](r,{fill:n.fill,x:e,y:t,zIndex:(i||0)+2,radius:n.radius||n.size,style:{cursor:"pointer"}}))},drawFilledBox:function(e,t,i,n){var r=this.surface,s=this.series;return this.add("box",r.add({type:"rect",zIndex:(i||0)+2,x:0,y:0,width:e,height:t,fill:s.getLegendColor(n),style:{cursor:"pointer"}}))},onMouseOver:function(){this.label.setStyle({"font-weight":"bold"}),this.series._index=this.yFieldIndex,this.series.highlightItem()},onMouseOut:function(){var e=this.legend,t=this.boldRe;this.label.setStyle({"font-weight":e.labelFont&&t.test(e.labelFont)?"bold":"normal"}),this.series._index=this.yFieldIndex,this.series.unHighlightItem()},onMouseDown:function(){var e=this.yFieldIndex;this.hiddenSeries?(this.series.showAll(e),this.label.setAttributes({opacity:1},!0)):(this.series.hideAll(e),this.label.setAttributes({opacity:.5},!0)),this.hiddenSeries=!this.hiddenSeries,this.legend.chart.redraw()},updatePosition:function(e){var t,i,n,r,s,o,a,l,d=this.items,h=d.length,c=this.x,u=this.y;for(a=(e=e||this.legend).x,l=e.y,i=0;i<h;i++){switch(s=!0,(t=d[i]).type){case"text":n=20+a+c,r=l+u,s=!1;break;case"rect":n=a+c,r=l+u-6;break;default:n=a+c,r=l+u}o={x:n,y:r},t.setAttributes(s?{translate:o}:o,!0)}}}),Ext.define("Ext.chart.Legend",{visible:!0,update:!0,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(e){e&&Ext.apply(this,e),this.items=[],this.isVertical=-1!=="left|right|float".indexOf(this.position),this.origX=this.x,this.origY=this.y},create:function(){var e,t,i=this.chart.series.items;if(this.createBox(),!1!==this.rebuild&&this.createItems(),!this.created&&this.isDisplayed())for(this.created=!0,e=0,t=i.length;e<t;e++)i[e].on("titlechange",this.redraw,this)},init:Ext.emptyFn,redraw:function(){this.create(),this.updatePosition()},isDisplayed:function(){return this.visible&&-1!==this.chart.series.findIndex("showInLegend",!0)},createItems:function(){var e,t,i,n,r,s,o=this.chart.series.items,a=this.items;for(this.removeItems(),e=0,t=o.length;e<t;e++)if((r=o[e]).showInLegend)for(i=0,n=[].concat(r.yField).length;i<n;i++)s=this.createLegendItem(r,i),a.push(s);this.alignItems()},removeItems:function(){var e,t=this.items,i=t?t.length:0;if(i)for(e=0;e<i;e++)t[e].destroy();t.length=[]},alignItems:function(){var e,t,i,n,r,s=this.padding,o=this.isVertical,a=Math.floor;t=(e=this.updateItemDimensions()).maxWidth,i=e.maxHeight,n=e.totalWidth,r=e.totalHeight,this.width=a((o?t:n)+2*s),this.height=a((o?r:i)+2*s)},updateItemDimensions:function(){var e,t,i,n,r,s,o=this.items,a=this.padding,l=this.itemSpacing,d=0,h=0,c=0,u=0,f=this.isVertical,g=Math.floor,p=Math.max,m=0;for(e=0,t=o.length;e<t;e++)r=(n=(i=o[e]).getBBox()).width,s=n.height,m=0===e?0:l,i.x=a+g(f?0:c+m),i.y=a+g(f?u+m:0)+s/2,c+=m+r,u+=m+s,d=p(d,r),h=p(h,s);return{totalWidth:c,totalHeight:u,maxWidth:d,maxHeight:h}},createLegendItem:function(e,t){return new Ext.chart.LegendItem({legend:this,series:e,surface:this.chart.surface,yFieldIndex:t})},getBBox:function(){return{x:Math.round(this.x)-this.boxStrokeWidth/2,y:Math.round(this.y)-this.boxStrokeWidth/2,width:this.width+this.boxStrokeWidth,height:this.height+this.boxStrokeWidth}},createBox:function(){var e,t=this;t.boxSprite&&t.boxSprite.destroy(),e=t.getBBox(),isNaN(e.width)||isNaN(e.height)?t.boxSprite=!1:(t.boxSprite=t.chart.surface.add(Ext.apply({type:"rect",stroke:t.boxStroke,"stroke-width":t.boxStrokeWidth,fill:t.boxFill,zIndex:t.boxZIndex},e))).redraw()},calcPosition:function(){var e,t,i=this.width,n=this.height,r=this.chart,s=r.chartBBox,o=r.insetPadding,a=s.width-2*o,l=s.height-2*o,d=s.x+o,h=s.y+o,c=r.surface,u=Math.floor;switch(this.position){case"left":e=o,t=u(h+l/2-n/2);break;case"right":e=u(c.width-i)-o,t=u(h+l/2-n/2);break;case"top":e=u(d+a/2-i/2),t=o;break;case"bottom":e=u(d+a/2-i/2),t=u(c.height-n)-o;break;default:e=u(this.origX)+o,t=u(this.origY)+o}return{x:e,y:t}},updatePosition:function(){var e,t,i,n,r=this,s=r.items;if(r.isDisplayed()){for(e=r.calcPosition(),r.x=e.x,r.y=e.y,t=0,i=s.length;t<i;t++)s[t].updatePosition();n=r.getBBox(),isNaN(n.width)||isNaN(n.height)?r.boxSprite&&r.boxSprite.hide(!0):(r.boxSprite||r.createBox(),r.boxSprite.setAttributes(n,!0),r.boxSprite.show(!0))}},toggle:function(e){var t=0,i=this.items,n=i.length;for(this.boxSprite&&(e?this.boxSprite.show(!0):this.boxSprite.hide(!0));t<n;++t)e?i[t].show(!0):i[t].hide(!0);this.visible=e}}),Ext.define("Ext.chart.theme.Base",{constructor:function(e){var t=Ext.identityFn;Ext.chart.theme.call(this,e,{background:!1,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:t},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:t},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:t},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:t},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})}},function(){for(var e=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],t=["Green","Sky","Red","Purple","Blue","Yellow"],i=0,n=e.length,r=Ext.chart.theme,s=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],o=s.length;i<n;i++)r[t[i]]=function(t){return Ext.extend(r.Base,{constructor:function(e){r.Base.prototype.constructor.call(this,Ext.apply({baseColor:t},e))}})}(e[i]);for(i=0;i<o;i++)r["Category"+(i+1)]=function(t){return Ext.extend(r.Base,{constructor:function(e){r.Base.prototype.constructor.call(this,Ext.apply({colors:t},e))}})}(s[i])}),Ext.define("Ext.chart.Chart",{extend:Ext.draw.Component,alias:"widget.chart",mixins:{themeManager:Ext.chart.theme.Theme,mask:Ext.chart.Mask,navigation:Ext.chart.Navigation,bindable:Ext.util.Bindable,observable:Ext.util.Observable},viewBox:!1,animate:!1,legend:!1,insetPadding:10,background:!1,refreshBuffer:1,constructor:function(e){var t,i=this;e=Ext.apply({},e),i.initTheme(e.theme||i.theme),i.gradients&&Ext.apply(e,{gradients:i.gradients}),i.background&&Ext.apply(e,{background:i.background}),e.animate&&(t={easing:"ease",duration:500},Ext.isObject(e.animate)?e.animate=Ext.applyIf(e.animate,t):e.animate=t),i.mixins.observable.constructor.call(i,e),e.mask&&(e=Ext.apply({enableMask:!0},e)),e.enableMask&&i.mixins.mask.constructor.call(i,e),i.mixins.navigation.constructor.call(i),i.callParent([e])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var e,t,i=this;i.callParent(),i.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdblclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh"),Ext.applyIf(i,{zoom:{width:1,height:1,x:0,y:0}}),i.maxGutters={left:0,right:0,bottom:0,top:0},i.store=Ext.data.StoreManager.lookup(i.store),e=i.axes,i.axes=new Ext.util.MixedCollection(!1,function(e){return e.position}),e&&i.axes.addAll(e),t=i.series,i.series=new Ext.util.MixedCollection(!1,function(e){return e.seriesId||(e.seriesId=Ext.id(null,"ext-chart-series-"))}),t&&i.series.addAll(t),!1!==i.legend&&(i.legend=new Ext.chart.Legend(Ext.applyIf({chart:i},i.legend))),i.on({mousemove:i.onMouseMove,mouseleave:i.onMouseLeave,mousedown:i.onMouseDown,mouseup:i.onMouseUp,click:i.onClick,dblclick:i.onDblClick,scope:i})},afterComponentLayout:function(e,t,i,n){Ext.isNumber(e)&&Ext.isNumber(t)&&(e!==i||t!==n?(this.curWidth=e,this.curHeight=t,this.redraw(!0),this.needsRedraw=!1):this.needsRedraw&&(this.redraw(),this.needsRedraw=!1)),this.callParent(arguments)},redraw:function(e){var t,i,n=this,r=n.series.items,s=r.length,o=n.axes.items,a=o.length,l=0,d=n.chartBBox={x:0,y:0,height:n.curHeight,width:n.curWidth},h=n.legend;for(n.surface.setSize(d.width,d.height),t=0;t<s;t++)((i=r[t]).initialized?i:n.initializeSeries(i,t,l)).onRedraw(),Ext.isArray(i.yField)?l+=i.yField.length:++l;for(t=0;t<a;t++)(i=o[t]).initialized||n.initializeAxis(i);for(t=0;t<a;t++)o[t].processView();for(t=0;t<a;t++)o[t].drawAxis(!0);for(!1!==h&&h.visible&&(!h.update&&h.created||h.create()),n.alignAxes(),!1!==h&&h.visible&&h.updatePosition(),n.getMaxGutters(),n.resizing=!!e,t=0;t<a;t++)o[t].drawAxis();for(t=0;t<s;t++)n.drawCharts(r[t]);n.resizing=!1},afterRender:function(){var e=this,t=e.legend;e.callParent(arguments),e.categoryNames&&e.setCategoryNames(e.categoryNames),t&&t.init(),e.bindStore(e.store,!0),e.refresh(),"Vml"===e.surface.engine&&(e.on("added",e.onAddedVml,e),e.mon(e.hierarchyEventSource,"added",e.onContainerAddedVml,e))},onAddedVml:function(){this.needsRedraw=!0},onContainerAddedVml:function(e){this.isDescendantOf(e)&&(this.needsRedraw=!0)},getEventXY:function(e){var t=this.surface.getRegion(),i=e.getXY();return[i[0]-t.left,i[1]-t.top]},onClick:function(e){this.handleClick("itemclick",e)},onDblClick:function(e){this.handleClick("itemdblclick",e)},handleClick:function(e,t){var i,n,r,s,o=this.getEventXY(t),a=this.series.items;for(i=0,n=a.length;i<n;i++)r=a[i],Ext.draw.Draw.withinBox(o[0],o[1],r.bbox)&&r.getItemForPoint&&(s=r.getItemForPoint(o[0],o[1]))&&r.fireEvent(e,s)},onMouseDown:function(e){var t,i,n,r,s=this.getEventXY(e),o=this.series.items;for(this.enableMask&&this.mixins.mask.onMouseDown.call(this,e),t=0,i=o.length;t<i;t++)n=o[t],Ext.draw.Draw.withinBox(s[0],s[1],n.bbox)&&n.getItemForPoint&&(r=n.getItemForPoint(s[0],s[1]))&&n.fireEvent("itemmousedown",r)},onMouseUp:function(e){var t,i,n,r,s=this.getEventXY(e),o=this.series.items;for(this.enableMask&&this.mixins.mask.onMouseUp.call(this,e),t=0,i=o.length;t<i;t++)n=o[t],Ext.draw.Draw.withinBox(s[0],s[1],n.bbox)&&n.getItemForPoint&&(r=n.getItemForPoint(s[0],s[1]))&&n.fireEvent("itemmouseup",r)},onMouseMove:function(e){var t,i,n,r,s,o,a,l=this.getEventXY(e),d=this.series.items;for(this.enableMask&&this.mixins.mask.onMouseMove.call(this,e),t=0,i=d.length;t<i;t++)n=d[t],Ext.draw.Draw.withinBox(l[0],l[1],n.bbox)?n.getItemForPoint&&(r=n.getItemForPoint(l[0],l[1]),s=n._lastItemForPoint,o=n._lastStoreItem,a=n._lastStoreField,r===s&&(!r||r.storeItem==o&&r.storeField==a)||(s&&(n.fireEvent("itemmouseout",s),delete n._lastItemForPoint,delete n._lastStoreField,delete n._lastStoreItem),r&&(n.fireEvent("itemmouseover",r),n._lastItemForPoint=r,n._lastStoreItem=r.storeItem,n._lastStoreField=r.storeField))):(s=n._lastItemForPoint)&&(n.fireEvent("itemmouseout",s),delete n._lastItemForPoint,delete n._lastStoreField,delete n._lastStoreItem)},onMouseLeave:function(e){var t,i,n=this.series.items;for(this.enableMask&&this.mixins.mask.onMouseLeave.call(this,e),t=0,i=n.length;t<i;t++)delete n[t]._lastItemForPoint},delayRefresh:function(){this.refreshTask||(this.refreshTask=new Ext.util.DelayedTask(this.refresh,this)),this.refreshTask.delay(this.refreshBuffer)},refresh:function(){var e=this;if(e.rendered&&void 0!==e.curWidth&&void 0!==e.curHeight){if(!e.isVisible(!0))return void(e.refreshPending||(e.setShowListeners("mon"),e.refreshPending=!0));!1!==e.fireEvent("beforerefresh",e)&&(e.redraw(),e.fireEvent("refresh",e))}},onShow:function(){this.callParent(arguments),this.refreshPending&&(this.delayRefresh(),this.setShowListeners("mun")),delete this.refreshPending},setShowListeners:function(e){this[e](this.hierarchyEventSource,{scope:this,single:!0,show:this.forceRefresh,expand:this.forceRefresh})},doRefresh:function(){this.setSubStore(null),this.refresh()},forceRefresh:function(e){this.isDescendantOf(e)&&this.refreshPending&&(this.setShowListeners("mun"),this.delayRefresh()),delete this.refreshPending},bindStore:function(e,t){this.mixins.bindable.bindStore.apply(this,arguments),this.store&&!t&&this.refresh()},getStoreListeners:function(){var e=this.doRefresh,t=this.delayRefresh;return{refresh:e,add:t,bulkremove:t,update:t,clear:e}},setSubStore:function(e){this.substore=e},initializeAxis:function(e){var t=this.chartBBox,i=t.width,n=t.height,r=t.x,s=t.y,o=this.themeAttrs,a=this.axes,l={chart:this};switch(o&&(l.axisStyle=Ext.apply({},o.axis),l.axisLabelLeftStyle=Ext.apply({},o.axisLabelLeft),l.axisLabelRightStyle=Ext.apply({},o.axisLabelRight),l.axisLabelTopStyle=Ext.apply({},o.axisLabelTop),l.axisLabelBottomStyle=Ext.apply({},o.axisLabelBottom),l.axisTitleLeftStyle=Ext.apply({},o.axisTitleLeft),l.axisTitleRightStyle=Ext.apply({},o.axisTitleRight),l.axisTitleTopStyle=Ext.apply({},o.axisTitleTop),l.axisTitleBottomStyle=Ext.apply({},o.axisTitleBottom)),e.position){case"top":Ext.apply(l,{length:i,width:n,x:r,y:s});break;case"bottom":Ext.apply(l,{length:i,width:n,x:r,y:n});break;case"left":Ext.apply(l,{length:n,width:i,x:r,y:n});break;case"right":Ext.apply(l,{length:n,width:i,x:i,y:n})}e.chart?Ext.apply(e,l):(Ext.apply(l,e),e=Ext.createByAlias("axis."+e.type.toLowerCase(),l),a.replace(e)),e.initialized=!0},getInsets:function(){var e=this.insetPadding;return{top:e,right:e,bottom:e,left:e}},calculateInsets:function(){var e,t,i,n,r,s,o,a,l,d=this.legend,h=this.axes,c=["top","right","bottom","left"];for(e=this.getInsets(),t=0,i=c.length;t<i;t++)r="left"===(n=c[t])||"right"===n,a=n,void 0,s=(l=h.findIndex("position",a))<0?null:h.getAt(l),!1!==d&&d.position===n&&(o=d.getBBox(),e[n]+=(r?o.width:o.height)+this.insetPadding),s&&s.bbox&&(o=s.bbox,e[n]+=r?o.width:o.height);return e},alignAxes:function(){var e,t,i,n,r,s,o,a=this.axes.items;for(t={x:(e=this.calculateInsets()).left,y:e.top,width:this.curWidth-e.left-e.right,height:this.curHeight-e.top-e.bottom},this.chartBBox=t,i=0,n=a.length;i<n;i++)o="left"===(s=(r=a[i]).position)||"right"===s,r.x="right"===s?t.x+t.width:t.x,r.y="top"===s?t.y:t.y+t.height,r.width=o?t.width:t.height,r.length=o?t.height:t.width},initializeSeries:function(e,t,n){var r,s,o,a,l,d,h,c=this.themeAttrs,u=[],f=(e instanceof Ext.chart.series.Series).i=0;if(!e.initialized){if(h={chart:this,seriesId:e.seriesId},c){if(o=c.seriesThemes,l=c.markerThemes,r=Ext.apply({},c.series),s=Ext.apply({},c.marker),h.seriesStyle=Ext.apply(r,o[n%o.length]),h.seriesLabelStyle=Ext.apply({},c.seriesLabel),h.markerStyle=Ext.apply(s,l[n%l.length]),c.colors)h.colorArrayStyle=c.colors;else{for(u=[],d=o.length;i<d;i++)((a=o[i]).fill||a.stroke)&&u.push(a.fill||a.stroke);u.length&&(h.colorArrayStyle=u)}h.seriesIdx=t,h.themeIdx=n}f?Ext.applyIf(e,h):(Ext.applyIf(h,e),e=this.series.replace(Ext.createByAlias("series."+e.type.toLowerCase(),h)))}return e.initialize(),e.initialized=!0,e},getMaxGutters:function(){var e,t,i,n=this.series.items,r=0,s=0,o=0,a=0;for(e=0,t=n.length;e<t;e++)(i=n[e].getGutters())&&(i.verticalAxis?(o=Math.max(o,i.lower),a=Math.max(a,i.upper)):(r=Math.max(r,i.lower),s=Math.max(s,i.upper)));this.maxGutters={left:r,right:s,bottom:o,top:a}},drawAxis:function(e){e.drawAxis()},drawCharts:function(e){e.triggerafterrender=!1,e.drawSeries(),this.animate||e.fireEvent("afterrender",e)},save:function(e){return Ext.draw.Surface.save(this.surface,e)},destroy:function(){var e=this.refreshTask;e&&(e.cancel(),this.refreshTask=null),Ext.destroy(this.surface),this.bindStore(null),this.callParent(arguments)}}),Ext.define("Ext.chart.Highlight",{highlight:!1,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(e){e.highlight&&"boolean"!=typeof e.highlight&&(this.highlightCfg=Ext.merge({},this.highlightCfg,e.highlight))},highlightItem:function(e){if(e){var t,i,n,r,s=e.sprite,o=Ext.merge({},this.highlightCfg,this.highlight),a=this.chart.surface,l=this.chart.animate;if(this.highlight&&s&&!s._highlighted){if(s._anim&&(s._anim.paused=!0),s._highlighted=!0,!s._defaults){for(t in s._defaults=Ext.apply({},s.attr),i={},n={},o)if(t in s._defaults||(s._defaults[t]=a.availableAttrs[t]),i[t]=s._defaults[t],n[t]=o[t],Ext.isObject(o[t])){for(r in i[t]={},n[t]={},Ext.apply(s._defaults[t],s.attr[t]),Ext.apply(i[t],s._defaults[t]),s._defaults[t])r in o[t]?n[t][r]=o[t][r]:n[t][r]=i[t][r];for(r in o[t])r in n[t]||(n[t][r]=o[t][r])}s._from=i,s._to=n,s._endStyle=n}l?s._anim=new Ext.fx.Anim({target:s,from:s._from,to:s._to,duration:150}):s.setAttributes(s._to,!0)}}},unHighlightItem:function(){if(this.highlight&&this.items)for(var e,t,i,n=this.items,r=n.length,s=Ext.merge({},this.highlightCfg,this.highlight),o=this.chart.animate,a=0;a<r;a++)if(n[a]&&(i=n[a].sprite)&&i._highlighted){for(t in i._anim&&(i._anim.paused=!0),e={},s)Ext.isObject(i._defaults[t])?e[t]=Ext.apply({},i._defaults[t]):e[t]=i._defaults[t];o?(i._endStyle=e,i._anim=new Ext.fx.Anim({target:i,to:e,duration:150})):i.setAttributes(e,!0),delete i._highlighted}},cleanHighlights:function(){if(this.highlight){var e,t=this.group,i=this.markerGroup,n=0;for(e=t.getCount();n<e;n++)delete t.getAt(n)._defaults;if(i)for(e=i.getCount();n<e;n++)delete i.getAt(n)._defaults}}}),Ext.define("Ext.chart.Label",{colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(e){this.label=Ext.applyIf(this.label||{},{display:"none",stackedDisplay:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:Ext.identityFn}),"none"!==this.label.display&&(this.labelsGroup=this.chart.surface.getGroup(this.seriesId+"-labels"))},renderLabels:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u,f,g,p,m,x,y,E,v,b,C=this,w=C.chart,S=w.gradients,P=C.items,k=w.animate,T=C.label,I=T.display,M=T.stackedDisplay,D=T.renderer,A=T.color,F=[].concat(T.field),R=C.labelsGroup,L=R?R.length:0,O=C.chart.getChartStore(),B=O.getCount(),H=P?P.length:0,N=H/B,z=S?S.length:0,W=Ext.draw.Color,V=[];if("none"!=I&&R){if(0==H)for(;L--;)V.push(L);else{for(n=i=t=0;t<B;t++)for(s=r=0;s<N;s++){for(h=P[i],c=R.getAt(n),u=O.getAt(t);this.__excludes&&this.__excludes[r];)r++;if(!h&&c&&(c.hide(!0),n++),h&&F[s]){if(!c&&!(c=C.onCreateLabel(u,h,t,I)))break;if(c.setAttributes({fill:String(A)},!0),C.onPlaceLabel(c,u,h,t,I,k,r),n++,T.contrast&&h.sprite){if(f=h.sprite,x=(x=k&&f._endStyle?f._endStyle.fill:k&&f._to?f._to.fill:f.attr.fill)||f.attr.fill,g=W.fromString(x),x&&!g){for(x=x.match(C.colorStringRe)[1],o=0;o<z;o++)if((e=S[o]).id==x){for(l in a=d=0,e.stops)d++,a+=W.fromString(e.stops[l].color).getGrayscale();p=a/d/255;break}}else p=g.getGrayscale()/255;c.isOutside&&(p=1),(m=W.fromString(c.attr.fill||c.attr.color).getHSL())[2]=.5<p?.2:.8,c.setAttributes({fill:String(W.fromHSL.apply({},m))},!0)}C.stacked&&M&&(h.totalPositiveValues||h.totalNegativeValues)&&(y=h.totalPositiveValues||0,E=h.totalNegativeValues||0,"total"==M?v=D(y+E):"balances"==M&&(0==y&&0==E?v=D(0):(v=D(y),b=D(E))),v&&(c=(c=R.getAt(n))||C.onCreateLabel(u,h,t,"over"),m=W.fromString(c.attr.color||c.attr.fill).getHSL(),c.setAttributes({text:v,style:T.font,fill:String(W.fromHSL.apply({},m))},!0),C.onPlaceLabel(c,u,h,t,"over",k,r),n++),b&&(c=(c=R.getAt(n))||C.onCreateLabel(u,h,t,"under"),m=W.fromString(c.attr.color||c.attr.fill).getHSL(),c.setAttributes({text:b,style:T.font,fill:String(W.fromHSL.apply({},m))},!0),C.onPlaceLabel(c,u,h,t,"under",k,r),n++))}i++,r++}for(L=R.length;n<L;)V.push(n),n++}C.hideLabels(V)}},hideLabels:function(e){var t=this.labelsGroup,i=!!e&&e.length;if(t)if(!1===i)for(i=t.getCount();i--;)t.getAt(i).hide(!0);else for(;i--;)t.getAt(e[i]).hide(!0)}}),Ext.define("Ext.chart.TipSurface",{extend:Ext.draw.Component,spriteArray:!1,renderFirst:!0,constructor:function(e){this.callParent([e]),e.sprites&&(this.spriteArray=[].concat(e.sprites),delete e.sprites)},onRender:function(){var e,t=0,i=0;if(this.callParent(arguments),e=this.spriteArray,this.renderFirst&&e)for(this.renderFirst=!1,i=e.length;t<i;t++)this.surface.add(e[t]).setAttributes({hidden:!1},!0)}}),Ext.define("Ext.chart.Tip",{constructor:function(e){var t,i,n,r=this;e.tips&&(r.tipTimeout=null,r.tipConfig=Ext.apply({},e.tips,{renderer:Ext.emptyFn,constrainPosition:!0,autoHide:!0,shrinkWrapDock:!0}),r.tooltip=new Ext.tip.ToolTip(r.tipConfig),r.chart.surface.on("mousemove",r.tooltip.onMouseMove,r.tooltip),r.chart.surface.on("mouseleave",function(){r.hideTip()}),r.tipConfig.surface&&(i=(t=r.tipConfig.surface).sprites,n=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:i}),t.width&&t.height&&n.setSize(t.width,t.height),r.tooltip.add(n),r.spriteTip=n))},showTip:function(e){var t,i,n,r,s,o,a,l,d,h;this.tooltip&&(clearTimeout(this.tipTimeout),t=this.tooltip,i=this.spriteTip,n=this.tipConfig,(r=t.trackMouse)||(t.trackMouse=!0,o=(s=e.sprite).surface,(a=Ext.get(o.getId()))&&(d=(l=a.getXY())[0]+(s.attr.x||0)+(s.attr.translation&&s.attr.translation.x||0),h=l[1]+(s.attr.y||0)+(s.attr.translation&&s.attr.translation.y||0),t.targetXY=[d,h])),i?n.renderer.call(t,e.storeItem,e,i.surface):n.renderer.call(t,e.storeItem,e),t.delayShow(),t.trackMouse=r)},hideTip:function(e){var t=this.tooltip;t&&(clearTimeout(this.tipTimeout),this.tipTimeout=setTimeout(function(){t.delayHide()},0))}}),Ext.define("Ext.chart.axis.Abstract",{constructor:function(e){var t=(e=e||{}).position||"left";t=t.charAt(0).toUpperCase()+t.substring(1),e.label=Ext.apply(e["axisLabel"+t+"Style"]||{},e.label||{}),e.axisTitleStyle=Ext.apply(e["axisTitle"+t+"Style"]||{},e.labelTitle||{}),Ext.apply(this,e),this.fields=Ext.Array.from(this.fields),this.callParent(),this.labels=[],this.getId(),this.labelGroup=this.chart.surface.getGroup(this.axisId+"-labels")},alignment:null,grid:!1,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn}),Ext.define("Ext.chart.axis.Axis",{extend:Ext.chart.axis.Abstract,alternateClassName:"Ext.chart.Axis",hidden:!1,forceMinMax:!1,dashSize:3,position:"bottom",skipFirst:!1,length:0,width:0,adjustEnd:!0,majorTickSteps:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},applyData:Ext.emptyFn,getRange:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u=this,f=u.chart,g=f.getChartStore().data.items,p=f.series.items,m=u.position,x=Ext.chart.series,y=[],E=1/0,v=-1/0,b="left"===u.position||"right"===u.position||"radial"===u.position,C=g.length,w={},S={},P=!0;for(r=0,i=(a=u.fields).length;r<i;r++)S[a[r]]=!0;for(t=0,i=p.length;t<i;t++)if(!p[t].seriesIsHidden&&p[t].getAxesForXAndYFields&&(!(e=p[t].getAxesForXAndYFields()).xAxis||e.xAxis===m||!e.yAxis||e.yAxis===m)){if(a=x.Bar&&p[t]instanceof x.Bar&&!p[t].column?b?Ext.Array.from(p[t].xField):Ext.Array.from(p[t].yField):b?Ext.Array.from(p[t].yField):Ext.Array.from(p[t].xField),u.fields.length){for(r=0,n=a.length;r<n&&!S[a[r]];r++);if(r==n)continue}if((o=p[t].stacked)&&(x.Bar&&p[t]instanceof x.Bar?p[t].column!=b&&(P=o=!1):b||(P=o=!1)),o){for(l={},r=0;r<a.length;r++)P&&p[t].__excludes&&p[t].__excludes[r]||(S[a[r]]||Ext.Logger.warn("Field `"+a[r]+"` is not included in the "+m+" axis config."),S[a[r]]=l[a[r]]=!0);y.push({fields:l,positiveValue:0,negativeValue:0})}else for(a&&0!=a.length||(a=u.fields),r=0;r<a.length;r++)P&&p[t].__excludes&&p[t].__excludes[r]||(S[a[r]]=w[a[r]]=!0)}for(t=0;t<C;t++){for(d=g[t],s=0;s<y.length;s++)y[s].positiveValue=0,y[s].negativeValue=0;for(h in S)if(c=d.get(h),"Time"==u.type&&"string"==typeof c&&(c=Date.parse(c)),!isNaN(c))for(c=void 0===c?0:Number(c),w[h]&&(c<E&&(E=c),v<c&&(v=c)),s=0;s<y.length;s++)y[s].fields[h]&&(0<=c?(y[s].positiveValue+=c,v<y[s].positiveValue&&(v=y[s].positiveValue),0<E&&(E=0)):(y[s].negativeValue+=c,E>y[s].negativeValue&&(E=y[s].negativeValue),v<0&&(v=0)))}return isFinite(v)||(v=u.prevMax||0),isFinite(E)||(E=u.prevMin||0),"number"==typeof E&&(E=Ext.Number.correctFloat(E)),"number"==typeof v&&(v=Ext.Number.correctFloat(v)),E==v||v==Math.floor(v)&&E==Math.floor(E)||(E=Math.floor(E),v=Math.floor(v)+1),isNaN(u.minimum)||(E=u.minimum),isNaN(u.maximum)||(v=u.maximum),v<=E&&(v=(E=Math.floor(E))+1),{min:E,max:v}},calcEnds:function(){var e,t,i,n,r=this,s=r.getRange(),o=s.min,a=s.max;return e=Ext.isNumber(r.majorTickSteps)?r.majorTickSteps+1:r.steps,t=!(Ext.isNumber(r.maximum)&&Ext.isNumber(r.minimum)&&Ext.isNumber(r.majorTickSteps)&&0<r.majorTickSteps),i=Ext.draw.Draw.snapEnds(o,a,e,t),Ext.isNumber(r.maximum)&&(i.to=r.maximum,n=!0),Ext.isNumber(r.minimum)&&(i.from=r.minimum,n=!0),r.adjustMaximumByMajorUnit&&(i.to=Math.ceil(i.to/i.step)*i.step,n=!0),r.adjustMinimumByMajorUnit&&(i.from=Math.floor(i.from/i.step)*i.step,n=!0),n&&(i.steps=Math.ceil((i.to-i.from)/i.step)),r.prevMin=o==a?0:o,r.prevMax=a,i},drawAxis:function(e){var t,i,n,r,s,o,a,l,d,h,c,u,f,g,p,m,x,y,E=this,v=E.x,b=E.y,C=E.dashSize,w=E.length,S=E.position,P="left"==S||"right"==S,k=[],T=E.isNumericAxis,I=E.applyData(),M=I.step,D=I.steps,A=Ext.isArray(D),F=I.from,R=I.to,L=R-F||1,O=E.minorTickSteps||0,B=E.minorTickSteps||0,H=(Math.max(O+1,0),Math.max(B+1,0),C*("left"==S||"top"==S?-1:1)),N=E.chart.series.items,z=N[0],W=Ext.clone(z?z.nullGutters:E.nullGutters);if(E.from=F,E.to=R,!(E.hidden||R<F||A&&0==D.length||!A&&isNaN(M))){if(A)D=Ext.Array.filter(D,function(e,t,i){return+e>+E.from&&+e<+E.to},this),D=Ext.Array.union([E.from],D,[E.to]);else{for(D=new Array,m=+E.from;m<+E.to;m+=M)D.push(m);D.push(+E.to)}for(u=D.length,t=0,p=N.length;t<p;t++)N[t].seriesIsHidden||N[t].getAxesForXAndYFields&&((g=N[t].getAxesForXAndYFields()).xAxis&&g.yAxis&&g.xAxis!==S&&g.yAxis!==S||(l=(a=void 0!==(o=Ext.clone(N[t].getGutters())).verticalAxis)&&o.verticalAxis==P,a&&(l||(d=N[t].getPadding(),o=P?{lower:d.bottom,upper:d.top,verticalAxis:!0}:{lower:d.left,upper:d.right,verticalAxis:!1}),W.lower<o.lower&&(W.lower=o.lower),W.upper<o.upper&&(W.upper=o.upper),W.verticalAxis=P)));if(T&&(E.labels=[]),W)if(P)for(s=["M",(n=Math.floor(v))+.5,b,"l",0,-w],i=w-(W.lower+W.upper),f=0;f<u;f++)r=b-W.lower-(D[f]-D[0])*i/L,s.push("M",n,Math.floor(r)+.5,"l",2*H,0),k.push([n,Math.floor(r)]),T&&E.labels.push(D[f]);else for(s=["M",v,(r=Math.floor(b))+.5,"l",w,0],i=w-(W.lower+W.upper),f=0;f<u;f++)n=v+W.lower+(D[f]-D[0])*i/L,s.push("M",Math.floor(n)+.5,r,"l",0,2*H+1),k.push([Math.floor(n),r]),T&&E.labels.push(D[f]);if(h=P?B:O,Ext.isArray(h)?c=2==h.length?+Ext.Date.add(new Date,h[0],h[1])-Date.now():h[0]:Ext.isNumber(h)&&0<h&&(c=M/(h+1)),W&&c)for(f=0;f<u-1;f++)if(x=+D[f],y=+D[f+1],P)for(value=x+c;value<y;value+=c)r=b-W.lower-(value-D[0])*i/L,s.push("M",n,Math.floor(r)+.5,"l",H,0);else for(value=x+c;value<y;value+=c)n=v+W.upper+(value-D[0])*i/L,s.push("M",Math.floor(n)+.5,r,"l",0,1+H);E.axis||(E.axis=E.chart.surface.add(Ext.apply({type:"path",path:s},E.axisStyle))),E.axis.setAttributes({path:s},!0),E.inflections=k,!e&&E.grid&&E.drawGrid(),E.axisBBox=E.axis.getBBox(),E.drawLabel()}},drawGrid:function(){var e,t,i,n,r=this,s=r.chart.surface,o=r.grid,a=o.odd,l=o.even,d=r.inflections,h=d.length-(a||l?0:1),c=r.position,u=r.chart.maxGutters,f=r.width-2,g=1,p=[],m=[],x=[];for((0===u.bottom&&0===u.top||"left"!=c&&"right"!=c)&&(0===u.left&&0===u.right||"top"!=c&&"bottom"!=c)||(g=0,h++);g<h;g++)e=d[g],t=d[g-1],a||l?(p=g%2?m:x,2*(n=((i=(g%2?a:l)||{}).lineWidth||i["stroke-width"]||0)/2),"left"==c?p.push("M",t[0]+1+n,t[1]+.5-n,"L",t[0]+1+f-n,t[1]+.5-n,"L",e[0]+1+f-n,e[1]+.5+n,"L",e[0]+1+n,e[1]+.5+n,"Z"):"right"==c?p.push("M",t[0]-n,t[1]+.5-n,"L",t[0]-f+n,t[1]+.5-n,"L",e[0]-f+n,e[1]+.5+n,"L",e[0]-n,e[1]+.5+n,"Z"):"top"==c?p.push("M",t[0]+.5+n,t[1]+1+n,"L",t[0]+.5+n,t[1]+1+f-n,"L",e[0]+.5-n,e[1]+1+f-n,"L",e[0]+.5-n,e[1]+1+n,"Z"):p.push("M",t[0]+.5+n,t[1]-n,"L",t[0]+.5+n,t[1]-f+n,"L",e[0]+.5-n,e[1]-f+n,"L",e[0]+.5-n,e[1]-n,"Z")):p="left"==c?p.concat(["M",e[0]+.5,e[1]+.5,"l",f,0]):"right"==c?p.concat(["M",e[0]-.5,e[1]+.5,"l",-f,0]):"top"==c?p.concat(["M",e[0]+.5,e[1]+.5,"l",0,f]):p.concat(["M",e[0]+.5,e[1]-.5,"l",0,-f]);a||l?(m.length&&(!r.gridOdd&&m.length&&(r.gridOdd=s.add({type:"path",path:m})),r.gridOdd.setAttributes(Ext.apply({path:m,hidden:!1},a||{}),!0)),x.length&&(r.gridEven||(r.gridEven=s.add({type:"path",path:x})),r.gridEven.setAttributes(Ext.apply({path:x,hidden:!1},l||{}),!0))):p.length?(r.gridLines||(r.gridLines=r.chart.surface.add({type:"path",path:p,"stroke-width":r.lineWidth||1,stroke:r.gridColor||"#ccc"})),r.gridLines.setAttributes({hidden:!1,path:p},!0)):r.gridLines&&r.gridLines.hide(!0)},getOrCreateLabel:function(e,t){var i=this.labelGroup,n=i.getAt(e),r=this.chart.surface;return n?t!=n.attr.text&&(n.setAttributes(Ext.apply({text:t},this.label),!0),n._bbox=n.getBBox()):(n=r.add(Ext.apply({group:i,type:"text",x:0,y:0,text:t},this.label)),r.renderItem(n),n._bbox=n.getBBox()),this.label.rotation?(n.setAttributes({rotation:{degrees:0}},!0),n._ubbox=n.getBBox(),n.setAttributes(this.label,!0)):n._ubbox=n._bbox,n},rect2pointArray:function(e){var t=this.chart.surface.getBBox(e,!0),i=[t.x,t.y],n=i.slice(),r=[t.x+t.width,t.y],s=r.slice(),o=[t.x+t.width,t.y+t.height],a=o.slice(),l=[t.x,t.y+t.height],d=l.slice(),h=e.matrix;return i[0]=h.x.apply(h,n),i[1]=h.y.apply(h,n),r[0]=h.x.apply(h,s),r[1]=h.y.apply(h,s),o[0]=h.x.apply(h,a),o[1]=h.y.apply(h,a),l[0]=h.x.apply(h,d),l[1]=h.y.apply(h,d),[i,r,o,l]},intersect:function(e,t){var i=this.rect2pointArray(e),n=this.rect2pointArray(t);return!!Ext.draw.Draw.intersect(i,n).length},drawHorizontalLabels:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u,f=this,g=f.label,p=Math.floor,m=Math.max,x=f.chart.axes,y=f.chart.insetPadding,E=f.chart.maxGutters,v=f.position,b=f.inflections,C=b.length,w=f.labels,S=0,P=f.adjustEnd,k=-1!=x.findIndex("position","left"),T=-1!=x.findIndex("position","right"),I=f.reverse;for(l=C-1,i=b[0],u=f.getOrCreateLabel(0,f.label.renderer(w[0])),e=Math.floor(Math.abs(Math.sin(g.rotate&&g.rotate.degrees*Math.PI/180||0))),c=0;c<C;c++){if(i=b[c],a=c,I&&(a=C-c-1),o=f.label.renderer(w[a]),S=m(S,(t=(s=f.getOrCreateLabel(c,o))._bbox).height+f.dashSize+f.label.padding),d=p(i[0]-(e?t.height:t.width)/2),P&&0==E.left&&0==E.right&&(0!=c||k?c!=l||T||(d=Math.min(d,i[0]-t.width+y)):d=i[0]),h="top"==v?i[1]-2*f.dashSize-f.label.padding-t.height/2:i[1]+2*f.dashSize+f.label.padding+t.height/2,s.setAttributes({hidden:!1,x:d,y:h},!0),0!=c&&(f.intersect(s,n)||f.intersect(s,u))){if(c!==l||0===r){s.hide(!0);continue}n.hide(!0)}n=s,r=c}return S},drawVerticalLabels:function(){var e,t,i,n,r,s,o,a,l,d=this,h=d.inflections,c=d.position,u=h.length,f=d.chart.insetPadding,g=d.labels,p=0,m=Math.max,x=Math.floor,y=Math.ceil,E=d.chart.axes,v=d.chart.maxGutters,b=-1!=E.findIndex("position","top"),C=-1!=E.findIndex("position","bottom"),w=d.adjustEnd,S=u-1;for(l=0;l<u;l++){if(t=h[l],s=d.label.renderer(g[l]),p=m(p,(e=(r=d.getOrCreateLabel(l,s))._bbox).width+d.dashSize+d.label.padding),a=t[1],w&&v.bottom+v.top<e.height/2&&(l!=S||b?0!=l||C||(a=d.y+v.bottom-x(e.height/2)):a=Math.max(a,d.y-d.length+y(e.height/2)-f)),o="left"==c?t[0]-e.width-d.dashSize-d.label.padding-2:t[0]+d.dashSize+d.label.padding+2,r.setAttributes(Ext.apply({hidden:!1,x:o,y:a},d.label),!0),0!=l&&d.intersect(r,i)){if(l!==S||0===n){r.hide(!0);continue}i.hide(!0)}i=r,n=l}return p},drawLabel:function(){var e,t,i=this,n=i.position,r=i.labelGroup,s=i.inflections,o=0,a=0;for("left"==n||"right"==n?o=i.drawVerticalLabels():a=i.drawHorizontalLabels(),e=r.getCount(),t=s.length;t<e;t++)r.getAt(t).hide(!0);i.bbox={},Ext.apply(i.bbox,i.axisBBox),i.bbox.height=a,i.bbox.width=o,Ext.isString(i.title)&&i.drawTitle(o,a)},setTitle:function(e){this.title=e,this.drawLabel()},drawTitle:function(e,t){var i,n,r,s=this,o=s.position,a=s.chart.surface,l=s.displaySprite,d=s.title,h="left"==o||"right"==o,c=s.x,u=s.y;l?l.setAttributes({text:d},!0):(i={type:"text",x:0,y:0,text:d},l=s.displaySprite=a.add(Ext.apply(i,s.axisTitleStyle,s.labelTitle)),a.renderItem(l)),n=l.getBBox(),r=s.dashSize+s.label.padding,h?(u-=s.length/2-n.height/2,"left"==o?c-=e+r+n.width/2:c+=e+r+n.width-n.width/2,s.bbox.width+=n.width+10):(c+=s.length/2-.5*n.width,"top"==o?u-=t+r+.3*n.height:u+=t+r+.8*n.height,s.bbox.height+=n.height+10),l.setAttributes({translate:{x:c,y:u}},!0)}}),Ext.define("Ext.chart.axis.Category",{extend:Ext.chart.axis.Axis,alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",isCategoryAxis:!0,doConstrain:function(){var e,t=this.chart,i=t.getChartStore(),n=i.data.items,r=t.series.items,s=r.length,o=[];for(e=0;e<s;e++)if("bar"===r[e].type&&r[e].stacked)return;for(e=this.minimum;e<this.maximum;e++)o.push(n[e]);t.setSubStore(new Ext.data.Store({model:i.model,data:o}))},setLabels:function(){var e,t,i,n,r,s,o=this.chart.getChartStore().data.items,a=this.fields,l=a.length;for(n=this.labels=[],e=0,t=o.length;e<t;e++)for(i=o[e],s=0;s<l;s++)r=i.get(a[s]),n.push(r)},applyData:function(){this.callParent(),this.setLabels();var e=this.chart.getChartStore().getCount();return{from:0,to:e-1,power:1,step:1,steps:e-1}}}),Ext.define("Ext.chart.axis.Gauge",{extend:Ext.chart.axis.Abstract,position:"gauge",alias:"axis.gauge",drawAxis:function(e){var t,i,n=this.chart,r=n.surface,s=n.chartBBox,o=s.x+s.width/2,a=s.y+s.height,l=this.margin||10,d=Math.min(s.width,2*s.height)/2+l,h=[],c=this.steps,u=Math.PI,f=Math.cos,g=Math.sin;if(!this.sprites||n.resizing){if(0<=this.margin)if(this.sprites)for(h=this.sprites,i=0;i<=c;i++)h[i].setAttributes({path:["M",o+(d-l)*f(i/c*u-u),a+(d-l)*g(i/c*u-u),"L",o+d*f(i/c*u-u),a+d*g(i/c*u-u),"Z"],stroke:"#ccc"},!0);else for(i=0;i<=c;i++)(t=r.add({type:"path",path:["M",o+(d-l)*f(i/c*u-u),a+(d-l)*g(i/c*u-u),"L",o+d*f(i/c*u-u),a+d*g(i/c*u-u),"Z"],stroke:"#ccc"})).setAttributes({hidden:!1},!0),h.push(t);this.sprites=h,this.drawLabel(),this.title&&this.drawTitle()}else this.drawLabel()},drawTitle:function(){var e,t=this.chart,i=t.surface,n=t.chartBBox,r=this.titleSprite;r||(this.titleSprite=r=i.add(Ext.apply({type:"text",zIndex:2},this.axisTitleStyle,this.labelTitle))),r.setAttributes(Ext.apply({text:this.title},this.label||{}),!0),e=r.getBBox(),r.setAttributes({x:n.x+n.width/2-e.width/2,y:n.y+n.height-e.height/2-4},!0)},setTitle:function(e){this.title=e,this.drawTitle()},drawLabel:function(){var e,t,i,n,r=this.chart,s=r.surface,o=r.chartBBox,a=o.x+o.width/2,l=o.y+o.height,d=this.margin||10,h=Math.min(o.width,2*o.height)/2+2*d,c=Math.round,u=[],f=this.maximum||0,g=this.minimum||0,p=this.steps,m=Math.PI,x=Math.cos,y=Math.sin,E=this.label.renderer||Ext.identityFn,v=this.reverse;if(this.labelArray)for(u=this.labelArray,t=0;t<=p;t++)i=0===t||t===p?7:0,n=v?p-t:t,u[t].setAttributes({text:E(c(g+n/p*(f-g))),x:a+h*x(t/p*m-m),y:l+h*y(t/p*m-m)-i},!0);else for(t=0;t<=p;t++)i=0===t||t===p?7:0,n=v?p-t:t,(e=s.add({type:"text",text:E(c(g+n/p*(f-g))),x:a+h*x(t/p*m-m),y:l+h*y(t/p*m-m)-i,"text-anchor":"middle","stroke-width":.2,zIndex:10,stroke:"#333"})).setAttributes({hidden:!1},!0),u.push(e);this.labelArray=u}}),Ext.define("Ext.chart.axis.Numeric",{extend:Ext.chart.axis.Axis,alternateClassName:"Ext.chart.NumericAxis",type:"Numeric",isNumericAxis:!0,alias:"axis.numeric",constructor:function(e){var t,i=this,n=!(!e.label||!e.label.renderer);i.callParent([e]),t=i.label,null==e.constrain&&(i.constrain=null!=e.minimum&&null!=e.maximum),n||(t.renderer=function(e){return i.roundToDecimal(e,i.decimals)})},roundToDecimal:function(e,t){var i=Math.pow(10,t||0);return Math.round(e*i)/i},minimum:NaN,maximum:NaN,constrain:!0,decimals:2,scale:"linear",doConstrain:function(){var e,t,i,n,r,s,o=this.chart,a=o.getChartStore(),l=a.data.items,d=(o.series.items,this.fields),h=d.length,c=this.calcEnds(),u=c.from,f=c.to,g=[];for(e=0,t=l.length;e<t;e++){for(s=!0,i=l[e],n=0;n<h;n++){if(r=i.get(d[n]),"Time"==this.type&&"string"==typeof r&&(r=Date.parse(r)),+r<+u){s=!1;break}if(+f<+r){s=!1;break}}s&&g.push(i)}o.setSubStore(new Ext.data.Store({model:a.model,data:g}))},position:"left",adjustMaximumByMajorUnit:!1,adjustMinimumByMajorUnit:!1,processView:function(){var e,t,i=this.chart.series.items;for(e=0,t=i.length;e<t;e++)if(i[e].stacked){delete this.minimum,delete this.maximum,this.constrain=!1;break}this.constrain&&this.doConstrain()},applyData:function(){return this.callParent(),this.calcEnds()}}),Ext.define("Ext.chart.axis.Radial",{extend:Ext.chart.axis.Numeric,position:"radial",alias:"axis.radial",drawAxis:function(e){var t,i,n,r=this.chart,s=r.surface,o=r.chartBBox,a=r.getChartStore().getCount(),l=o.x+o.width/2,d=o.y+o.height/2,h=Math.min(o.width,o.height)/2,c=[],u=this.steps,f=2*Math.PI,g=Math.cos,p=Math.sin;if(!this.sprites||r.resizing){if(this.sprites){for(c=this.sprites,i=0;i<u;i++)c[i].setAttributes({x:l,y:d,radius:Math.max(h*(i+1)/u,0),stroke:"#ccc"},!0);for(n=0;n<a;n++)c[i+n].setAttributes({path:["M",l,d,"L",l+h*g(n/a*f),d+h*p(n/a*f),"Z"],stroke:"#ccc"},!0)}else{for(i=1;i<=u;i++)(t=s.add({type:"circle",x:l,y:d,radius:Math.max(h*i/u,0),stroke:"#ccc"})).setAttributes({hidden:!1},!0),c.push(t);for(i=0;i<a;i++)(t=s.add({type:"path",path:["M",l,d,"L",l+h*g(i/a*f),d+h*p(i/a*f),"Z"],stroke:"#ccc"})).setAttributes({hidden:!1},!0),c.push(t)}this.sprites=c,this.drawLabel()}else this.drawLabel()},drawLabel:function(){var e,t,i,n,r,s,o,a,l,d=this.chart,h=d.series.items,c=d.surface,u=d.chartBBox,f=d.getChartStore().data.items,g=u.x+u.width/2,p=u.y+u.height/2,m=Math.min(u.width,u.height)/2,x=Math.max,y=Math.round,E=[],v=[],b=[],C=!this.maximum,w=this.maximum||0,S=this.steps,P=0,k=2*Math.PI,T=Math.cos,I=Math.sin,M=this.label.display;if("none"!==M){for(P=0,t=h.length;P<t;P++)e=h[P],v.push(e.yField),s=e.xField;for(o=0,t=f.length;o<t;o++)if(i=f[o],b.push(i.get(s)),C)for(P=0,r=v.length;P<r;P++)w=x(+i.get(v[P]),w);if(this.labelArray){if(E=this.labelArray,"categories"!=M)for(P=0;P<S;P++)E[P].setAttributes({text:y((P+1)/S*w),x:g,y:p-m*(P+1)/S,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},!0);if("scale"!=M)for(o=0,S=b.length;o<S;o++)a=T(o/S*k)*(10+m),l=I(o/S*k)*(10+m),E[P+o]&&E[P+o].setAttributes({type:"text",text:b[o],x:g+a,y:p+l,"text-anchor":a*a<=.001?"middle":a<0?"end":"start"},!0)}else{if("categories"!=M)for(P=1;P<=S;P++)(n=c.add({type:"text",text:y(P/S*w),x:g,y:p-m*P/S,"text-anchor":"middle","stroke-width":.1,stroke:"#333"})).setAttributes({hidden:!1},!0),E.push(n);if("scale"!=M)for(o=0,S=b.length;o<S;o++)a=T(o/S*k)*(10+m),l=I(o/S*k)*(10+m),(n=c.add({type:"text",text:b[o],x:g+a,y:p+l,"text-anchor":a*a<=.001?"middle":a<0?"end":"start"})).setAttributes({hidden:!1},!0),E.push(n)}this.labelArray=E}},getRange:function(){var e=this.callParent();return e.min=0,e},processView:function(){var e,t,i,n,r=this.chart.series.items,s=[];for(e=0,t=r.length;e<t;e++)i=r[e],s.push(i.yField);this.fields=s,n=this.calcEnds(),this.maximum=n.to,this.steps=n.steps}}),Ext.define("Ext.chart.axis.Time",{extend:Ext.chart.axis.Numeric,alternateClassName:"Ext.chart.TimeAxis",type:"Time",alias:"axis.time",dateFormat:!1,fromDate:!1,toDate:!1,step:[Ext.Date.DAY,1],constrain:!1,constructor:function(e){var t,i,n;this.callParent([e]),t=this.label||{},(n=this.dateFormat)&&(t.renderer?(i=t.renderer,t.renderer=function(e){return e=i(e),Ext.Date.format(new Date(i(e)),n)}):t.renderer=function(e){return Ext.Date.format(new Date(e>>0),n)})},processView:function(){this.fromDate&&(this.minimum=+this.fromDate),this.toDate&&(this.maximum=+this.toDate),this.constrain&&this.doConstrain()},calcEnds:function(){var e,t=this.step;return t?(e=this.getRange(),e=Ext.draw.Draw.snapEndsByDateAndStep(new Date(e.min),new Date(e.max),Ext.isNumber(t)?[Date.MILLI,t]:t),this.minimum&&(e.from=this.minimum),this.maximum&&(e.to=this.maximum),e):this.callParent(arguments)}}),Ext.define("Ext.chart.series.Series",{mixins:{observable:Ext.util.Observable,labels:Ext.chart.Label,highlights:Ext.chart.Highlight,tips:Ext.chart.Tip,callouts:Ext.chart.Callout},type:null,title:null,showInLegend:!0,renderer:function(e,t,i,n,r){return i},shadowAttributes:null,animating:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},nullPadding:{left:0,right:0,width:0,bottom:0,top:0,height:0},constructor:function(e){var t=this;e&&Ext.apply(t,e),t.shadowGroups=[],t.mixins.labels.constructor.call(t,e),t.mixins.highlights.constructor.call(t,e),t.mixins.tips.constructor.call(t,e),t.mixins.callouts.constructor.call(t,e),t.addEvents({scope:t,itemclick:!0,itemdblclick:!0,itemmouseover:!0,itemmouseout:!0,itemmousedown:!0,itemmouseup:!0,mouseleave:!0,afterdraw:!0,titlechange:!0}),t.mixins.observable.constructor.call(t,e),t.on({scope:t,itemmouseover:t.onItemMouseOver,itemmouseout:t.onItemMouseOut,mouseleave:t.onMouseLeave}),t.style&&Ext.apply(t.seriesStyle,t.style)},initialize:Ext.emptyFn,onRedraw:Ext.emptyFn,eachRecord:function(e,t){this.chart.getChartStore().each(e,t)},getRecordCount:function(){var e=this.chart.getChartStore();return e?e.getCount():0},isExcluded:function(e){var t=this.__excludes;return!(!t||!t[e])},setBBox:function(e){var t,i,n=this.chart,r=n.chartBBox,s=e?{left:0,right:0,bottom:0,top:0}:n.maxGutters;t={x:r.x,y:r.y,width:r.width,height:r.height},i={x:(this.clipBox=t).x+s.left-n.zoom.x*n.zoom.width,y:t.y+s.bottom-n.zoom.y*n.zoom.height,width:(t.width-(s.left+s.right))*n.zoom.width,height:(t.height-(s.bottom+s.top))*n.zoom.height},this.bbox=i},onAnimate:function(e,t){var i=this;return e.stopAnimation(),i.animating?e.animate(Ext.applyIf(t,i.chart.animate)):(i.animating=!0,e.animate(Ext.apply(Ext.applyIf(t,i.chart.animate),{callback:function(){i.animating=!1,i.fireEvent("afterrender",i)}})))},getGutters:function(){return this.nullGutters},getPadding:function(){return this.nullPadding},onItemMouseOver:function(e){e.series===this&&(this.highlight&&this.highlightItem(e),this.tooltip&&this.showTip(e))},onItemMouseOut:function(e){e.series===this&&(this.unHighlightItem(),this.tooltip&&this.hideTip(e))},onMouseLeave:function(){this.unHighlightItem(),this.tooltip&&this.hideTip()},getItemForPoint:function(e,t){if(!this.items||!this.items.length||this.seriesIsHidden)return null;var i,n,r=this.items,s=this.bbox;if(!Ext.draw.Draw.withinBox(e,t,s))return null;for(i=0,n=r.length;i<n;i++)if(r[i]&&this.isItemInPoint(e,t,r[i],i))return r[i];return null},isItemInPoint:function(e,t,i,n){return!1},hideAll:function(){var e,t,i,n,r,s,o=this.items;for(this.seriesIsHidden=!0,this._prevShowMarkers=this.showMarkers,this.showMarkers=!1,this.hideLabels(0),t=0,e=o.length;t<e;t++)if((r=o[t].sprite)&&r.setAttributes({hidden:!0},!0),r&&r.shadows)for(i=0,n=(s=r.shadows).length;i<n;++i)s[i].setAttributes({hidden:!0},!0)},showAll:function(){var e=this.chart.animate;this.chart.animate=!1,this.seriesIsHidden=!1,this.showMarkers=this._prevShowMarkers,this.drawSeries(),this.chart.animate=e},hide:function(){if(this.items){var e,t,i,n,r,s=this.items;if(s&&s.length){for(e=0,n=s.length;e<n;++e)if(s[e].sprite&&(s[e].sprite.hide(!0),r=s[e].shadows||s[e].sprite.shadows))for(t=0,i=r.length;t<i;++t)r[t].hide(!0);this.hideLabels()}}},getLegendColor:function(e){var t,i;if(this.seriesStyle){if(t=this.seriesStyle.fill,i=this.seriesStyle.stroke,t&&"none"!=t)return t;if(i)return i}return this.colorArrayStyle?this.colorArrayStyle[this.themeIdx%this.colorArrayStyle.length]:"#000"},visibleInLegend:function(e){var t=this.__excludes;return t?!t[e]:!this.seriesIsHidden},setTitle:function(e,t){var i=this.title;Ext.isString(e)&&(t=e,e=0),Ext.isArray(i)?i[e]=t:this.title=t,this.fireEvent("titlechange",t,e)}}),Ext.define("Ext.chart.series.Cartesian",{extend:Ext.chart.series.Series,alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var e,t,i,n,r,s,o,a=[],l=this.combinations;for(t=0,i=(e=[].concat(this.yField)).length;t<i;t++)n=this.title,a.push((Ext.isArray(n)?n[t]:n)||e[t]);if(l)for(t=0,i=(l=Ext.Array.from(l)).length;t<i;t++)s=a[(r=l[t])[0]],o=a[r[1]],a[r[1]]=s+" & "+o,a.splice(r[0],1);return a},eachYValue:function(e,t,i){var n,r,s,o=this.getYValueAccessors();for(n=0,r=o.length;n<r;n++)s=o[n],t.call(i,s(e),n)},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(e,t){var i=this.getYValueAccessors(),n=i[e],r=i[t];i[t]=function(e){return n(e)+r(e)},i.splice(e,1),this.callParent([e,t])},clearCombinations:function(){delete this.yValueAccessors,this.callParent()},getYValueAccessors:function(){var e,t,i,n=this.yValueAccessors;function r(t){return function(e){return e.get(t)}}if(!n)for(n=this.yValueAccessors=[],t=0,i=(e=[].concat(this.yField)).length;t<i;t++)n.push(r(e[t]));return n},getMinMaxXValues:function(){var e,t,i,n,r,s=this.chart.getChartStore().data.items,o=this.getRecordCount(),a=this.xField;if(0<o){for(n=-(i=1/0),e=0,t=s.length;e<t;e++)n<(r=s[e].get(a))&&(n=r),r<i&&(i=r);i==1/0&&(i=0),n==-1/0&&(n=o-1)}else i=n=0;return[i,n]},getMinMaxYValues:function(){var e,t,i,n,r,s,o,a=this,l=a.chart.getChartStore().data.items,d=a.getRecordCount(),h=a.stacked;function c(e,t){a.isExcluded(t)||(e<0?o+=e:s+=e)}function u(e,t){a.isExcluded(t)||(r<e&&(r=e),e<n&&(n=e))}if(0<d){for(r=-(n=1/0),e=0,t=l.length;e<t;e++)i=l[e],h?(o=s=0,a.eachYValue(i,c),r<s&&(r=s),o<n&&(n=o)):a.eachYValue(i,u);n==1/0&&(n=0),r==-1/0&&(r=d-1)}else n=r=0;return[n,r]},getAxesForXAndYFields:function(){var e,t,i,n,r,s,o=this.chart.axes,a=(this.reverse,[].concat(this.axis)),l={},d=[].concat(this.yField),h={},c=[].concat(this.xField);if((s="bar"===this.type&&!1===this.column)&&(e=d,d=c,c=e),-1<Ext.Array.indexOf(a,"top"))t="top";else if(-1<Ext.Array.indexOf(a,"bottom"))t="bottom";else if(o.get("top")&&o.get("bottom")){for(n=0,r=c.length;n<r;n++)h[c[n]]=!0;for(n=0,r=(e=[].concat(o.get("bottom").fields)).length;n<r;n++)if(h[e[n]]){t="bottom";break}for(n=0,r=(e=[].concat(o.get("top").fields)).length;n<r;n++)if(h[e[n]]){t="top";break}}else o.get("top")?t="top":o.get("bottom")&&(t="bottom");if(-1<Ext.Array.indexOf(a,"left"))i=s?"right":"left";else if(-1<Ext.Array.indexOf(a,"right"))i=s?"left":"right";else if(o.get("left")&&o.get("right")){for(n=0,r=d.length;n<r;n++)l[d[n]]=!0;for(n=0,r=(e=[].concat(o.get("right").fields)).length;n<r&&!l[e[n]];n++);for(n=0,r=(e=[].concat(o.get("left").fields)).length;n<r;n++)if(l[e[n]]){i="left";break}}else o.get("left")?i="left":o.get("right")&&(i="right");return s?{xAxis:i,yAxis:t}:{xAxis:t,yAxis:i}}}),Ext.define("Ext.chart.series.Area",{extend:Ext.chart.series.Cartesian,alias:"series.area",type:"area",stacked:!0,style:{},constructor:function(e){this.callParent(arguments);var t=this.chart.surface;e.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},e.highlightCfg),Ext.apply(this,e,{__excludes:[]}),this.highlight&&(this.highlightSprite=t.add({type:"path",path:["M",0,0],zIndex:1e3,opacity:.3,lineWidth:5,hidden:!0,stroke:"#444"})),this.group=t.getGroup(this.seriesId)},shrink:function(e,t,i){var n,r,s=e.length,o=Math.floor(s/i),a=0,l=this.areas.length,d=[],h=[],c=[];for(r=0;r<l;++r)d[r]=0;for(n=0;n<s;++n){for(a+=+e[n],r=0;r<l;++r)d[r]+=+t[n][r];if(n%o==0){for(h.push(a/o),r=0;r<l;++r)d[r]/=o;for(c.push(d),r=a=0,d=[];r<l;++r)d[r]=0}}return{x:h,y:c}},getBounds:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u,f,g,p=this,m=p.chart,x=m.getChartStore().data.items,y=[].concat(p.yField),E=y.length,v=[],b=[],C=1/0,w=1/0,S=-1/0,P=-1/0,k=Math,T=(k.min,k.max,p.getAxesForXAndYFields()),I=T.xAxis,M=T.yAxis;for(p.setBBox(),o=p.bbox,(g=m.axes.get(I))&&("Time"===g.type&&(r=!0),C=(n=g.applyData()).from,S=n.to),(g=m.axes.get(M))&&(w=(n=g.applyData()).from,P=n.to),p.xField&&!Ext.isNumber(C)&&(r=!0,C=(g=p.getMinMaxXValues())[0],S=g[1]),p.yField&&!Ext.isNumber(w)&&(w=(g=p.getMinMaxYValues())[0],P=g[1]),Ext.isNumber(w)||(w=0),Ext.isNumber(P)||(P=0),0<(t=x.length)&&r&&"number"!=typeof(s=x[0].get(p.xField))&&(s=+s,isNaN(s)&&(r=!1)),e=0;e<t;e++){for(h=[],"number"!=typeof(d=(i=x[e]).get(p.xField))&&(d=r?+d:e),v.push(d),c=0;c<E;c++)p.__excludes[c]||"number"==typeof(f=i.get(y[c]))&&h.push(f);b.push(h)}return a=o.width/(S-C||1),l=o.height/(P-w||1),v.length>o.width&&p.areas&&(v=(u=p.shrink(v,b,o.width)).x,b=u.y),{bbox:o,minX:C,minY:w,xValues:v,yValues:b,xScale:a,yScale:l,areasLen:E}},getPaths:function(){this.chart.getChartStore();var e,t,i,n,r,s,o,a,l,d,h,c,u,f=!0,g=this.getBounds(),p=g.bbox,m=this.items=[],x=[],y=0,E=[],v=this.reverse;for(i=g.xValues.length,t=0;t<i;t++)for(s=g.xValues[t],u=v?i-t-1:t,o=g.yValues[u],n=p.x+(s-g.minX)*g.xScale,void 0===c&&(c=n),l=y=a=0;l<g.areasLen;l++)this.__excludes[l]||(x[l]||(x[l]=[]),a+=o[y],r=p.y+p.height-(a-g.minY)*g.yScale,E[l]?E[l].push("L",n,r):E[l]=["M",n,r],x[l].push(["L",n,r]),m[l]||(m[l]={pointsUp:[],pointsDown:[],series:this}),m[l].pointsUp.push([n,r]),y++);for(l=0;l<g.areasLen;l++)if(!this.__excludes[l]){if(h=E[l],0==l||f)f=!1,h.push("L",n,p.y+p.height,"L",c,p.y+p.height,"Z");else{for((e=x[d]).reverse(),h.push("L",n,e[0][2]),t=0;t<i;t++)h.push(e[t][0],e[t][1],e[t][2]),m[l].pointsDown[i-t-1]=[e[t][1],e[t][2]];h.push("L",c,h[2],"Z")}d=l}return{paths:E,areasLen:g.areasLen}},drawSeries:function(){var e,t,i,n,r,s,o=this,a=o.chart,l=a.getChartStore(),d=a.surface,h=a.animate,c=o.group,u=Ext.apply(o.seriesStyle,o.style),f=o.colorArrayStyle,g=f&&f.length||0,p=o.themeIdx;if(o.unHighlightItem(),o.cleanHighlights(),!l||!l.getCount()||o.seriesIsHidden)return o.hide(),void(o.items=[]);for(i=o.getPaths(),o.areas||(o.areas=[]),e=0;e<i.areasLen;e++)o.__excludes[e]||(s=p+e,o.areas[e]||(o.items[e].sprite=o.areas[e]=d.add(Ext.apply({},{type:"path",group:c,path:i.paths[e],stroke:u.stroke||f[s%g],fill:f[s%g]},u||{}))),t=o.areas[e],n=i.paths[e],h?(r=o.renderer(t,!1,{path:n,fill:f[e%g],stroke:u.stroke||f[e%g]},e,l),o.animation=o.onAnimate(t,{to:r})):(r=o.renderer(t,!1,{path:n,hidden:!1,fill:f[s%g],stroke:u.stroke||f[s%g]},e,l),o.areas[e].setAttributes(r,!0)));o.renderLabels(),o.renderCallouts()},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},onCreateLabel:function(e,t,i,n){return null},onPlaceLabel:function(e,t,i,n,r,s,o){var a,l,d,h=this.chart.resizing,c=this.label,u=c.renderer,f=c.field,g=this.bbox,p=Number(i.point[n][0]),m=Number(i.point[n][1]);e.setAttributes({text:u(t.get(f[o]),e,t,i,n,r,s,o),hidden:!0},!0),l=(a=e.getBBox()).width/2,d=a.height/2,p<g.x+l?p=g.x+l:p+l>g.x+g.width&&(p=g.x+g.width-l),(m-=d)<g.y+d?m+=2*d:m+d>g.y+g.height&&(m-=2*d),this.chart.animate&&!this.chart.resizing?(e.show(!0),this.onAnimate(e,{to:{x:p,y:m}})):(e.setAttributes({x:p,y:m},!0),h&&this.animation?this.animation.on("afteranimate",function(){e.show(!0)}):e.show(!0))},onPlaceCallout:function(e,t,i,n,r,s,o){var a,l,d,h,c,u,f,g,p,m,x,y,E,v=this.chart,b=(v.surface,v.resizing,this.callouts,this.items),C=0!=n&&b[n-1].point,w=n!=b.length-1&&b[n+1].point,S=i.point,P=e&&e.label?e.label.getBBox():{width:0,height:0},k=this.clipRect;if(P.width&&P.height)for(x in C=C||S,h=((w=w||S)[1]-C[1])/(w[0]-C[0]),c=(S[1]-C[1])/(S[0]-C[0]),u=(w[1]-S[1])/(w[0]-S[0]),d=[-(a=[1/(l=Math.sqrt(1+h*h)),h/l])[1],a[0]],0<c&&u<0&&d[1]<0||c<0&&0<u&&0<d[1]?(d[0]*=-1,d[1]*=-1):(Math.abs(c)<Math.abs(u)&&d[0]<0||Math.abs(c)>Math.abs(u)&&0<d[0])&&(d[0]*=-1,d[1]*=-1),y=S[0]+30*d[0],E=S[1]+30*d[1],f=y+(0<d[0]?0:-(P.width+6)),g=E-P.height/2-3,p=P.width+6,m=P.height+6,(f<k[0]||f+p>k[0]+k[2])&&(d[0]*=-1),(g<k[1]||g+m>k[1]+k[3])&&(d[1]*=-1),y=S[0]+30*d[0],E=S[1]+30*d[1],f=y+(0<d[0]?0:-(P.width+6)),g=E-P.height/2-3,p=P.width+6,m=P.height+6,e.lines.setAttributes({path:["M",S[0],S[1],"L",y,E,"Z"]},!0),e.box.setAttributes({x:f,y:g,width:p,height:m},!0),e.label.setAttributes({x:y+(0<d[0]?3:-(P.width+3)),y:E},!0),e)e[x].show(!0)},isItemInPoint:function(e,t,i,n){var r,s,o,a=i.pointsUp,l=i.pointsDown,d=Math.abs,h=!1,c=!1,u=this.reverse,f=1/0;for(r=0,s=a.length;r<s;r++)if(h=!(o=[a[r][0],a[r][1]]),c=r==s-1,f>d(e-o[0])&&(f=d(e-o[0]),h=!0,c&&++r),!h||h&&c){if(t>=(o=a[r-1])[1]&&(!l.length||t<=l[r-1][1]))return idx=u?s-r:r-1,i.storeIndex=idx,i.storeField=this.yField[n],i.storeItem=this.chart.getChartStore().getAt(idx),i._points=l.length?[o,l[r-1]]:[o],!0;break}return!1},highlightSeries:function(){var e,t,i;void 0!==this._index&&((e=this.areas[this._index]).__highlightAnim&&(e.__highlightAnim.paused=!0),e.__highlighted=!0,e.__prevOpacity=e.__prevOpacity||e.attr.opacity||1,e.__prevFill=e.__prevFill||e.attr.fill,e.__prevLineWidth=e.__prevLineWidth||e.attr.lineWidth,i=Ext.draw.Color.fromString(e.__prevFill),t={lineWidth:(e.__prevLineWidth||0)+2},i?t.fill=i.getLighter(.2).toString():t.opacity=Math.max(e.__prevOpacity-.3,0),this.chart.animate?e.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:e,to:t},this.chart.animate)):e.setAttributes(t,!0))},unHighlightSeries:function(){var e;void 0!==this._index&&((e=this.areas[this._index]).__highlightAnim&&(e.__highlightAnim.paused=!0),e.__highlighted&&(e.__highlighted=!1,e.__highlightAnim=new Ext.fx.Anim({target:e,to:{fill:e.__prevFill,opacity:e.__prevOpacity,lineWidth:e.__prevLineWidth}})))},highlightItem:function(e){var t,i;e?(i=2===(t=e._points).length?["M",t[0][0],t[0][1],"L",t[1][0],t[1][1]]:["M",t[0][0],t[0][1],"L",t[0][0],this.bbox.y+this.bbox.height],this.highlightSprite.setAttributes({path:i,hidden:!1},!0)):this.highlightSeries()},unHighlightItem:function(e){e||this.unHighlightSeries(),this.highlightSprite&&this.highlightSprite.hide(!0)},hideAll:function(e){e=(isNaN(this._index)?e:this._index)||0,this.__excludes[e]=!0,this.areas[e].hide(!0),this.redraw()},showAll:function(e){e=(isNaN(this._index)?e:this._index)||0,this.__excludes[e]=!1,this.areas[e].show(!0),this.redraw()},redraw:function(){var e;e=this.chart.legend.rebuild,this.chart.legend.rebuild=!1,this.chart.redraw(),this.chart.legend.rebuild=e},hide:function(){if(this.areas){var e,t,i=this.areas;if(i&&i.length){for(e=0,t=i.length;e<t;++e)i[e]&&i[e].hide(!0);this.hideLabels()}}},getLegendColor:function(e){return e+=this.themeIdx,this.colorArrayStyle[e%this.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Bar",{extend:Ext.chart.series.Cartesian,alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],type:"bar",alias:"series.bar",column:!1,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,defaultRotate:{x:0,y:0,degrees:0},constructor:function(e){this.callParent(arguments);var t,i,n=this.chart.surface,r=this.chart.shadow;if(e.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},e.highlightCfg),Ext.apply(this,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:.9}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:.6}}]}),this.group=n.getGroup(this.seriesId+"-bars"),r)for(t=0,i=this.shadowAttributes.length;t<i;t++)this.shadowGroups.push(n.getGroup(this.seriesId+"-shadows"+t))},getPadding:function(){var e=this.xPadding,t=this.yPadding,i={};return Ext.isNumber(e)?(i.left=e,i.right=e):Ext.isObject(e)?(i.left=e.left,i.right=e.right):(i.left=0,i.right=0),i.width=i.left+i.right,Ext.isNumber(t)?(i.bottom=t,i.top=t):Ext.isObject(t)?(i.bottom=t.bottom,i.top=t.top):(i.bottom=0,i.top=0),i.height=i.bottom+i.top,i},getBarGirth:function(){var e,t,i=this.chart.getChartStore(),n=this.column,r=i.getCount(),s=this.gutter/100;return t=n?"width":"height",this.style&&this.style[t]?(this.configuredColumnGirth=!0,+this.style[t]):(e=this.getPadding(),(this.chart.chartBBox[t]-e[t])/(r*(1+s)-s))},getGutters:function(){var e=this.column,t=this.getPadding(),i=this.getBarGirth()/2;return{lower:Math.ceil((e?t.left:t.bottom)+i),upper:Math.ceil((e?t.right:t.top)+i),verticalAxis:!e}},getBounds:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u,f,g,p,m,x,y,E,v,b,C,w,S,P,k=this,T=k.chart,I=T.getChartStore().data.items,M=[].concat(k.yField),D=[],A=M.length,F=A,R=k.groupGutter/100,L=k.column,O=k.getPadding(),B=k.stacked,H=k.getBarGirth(),N=L?"width":"height",z=Math,W=z.min,V=z.max,G=z.abs,_=k.getAxesForXAndYFields(),X=_.yAxis;if(k.setBBox(!0),c=k.bbox,k.__excludes)for(v=0,y=k.__excludes.length;v<y;v++)k.__excludes[v]&&F--;if((g=T.axes.get(X))&&(u=(l=g.applyData()).from,f=l.to),k.yField&&!Ext.isNumber(u)&&(u=(p=k.getMinMaxYValues())[0],f=p[1]),Ext.isNumber(u)||(u=0),Ext.isNumber(f)||(f=0),m=(L?c.height-O.height:c.width-O.width)/(f-u),h=(d=H)/((B?1:F)*(1+R)-R),N in k.style&&(d=(h=W(h,k.style[N]))*((B?1:F)*(1+R)-R)),x=L?c.y+c.height-O.bottom:c.x+O.left,B){for(y=[[],[]],e=0,t=I.length;e<t;e++)for(i=I[e],y[0][e]=y[0][e]||0,y[1][e]=y[1][e]||0,v=0;v<A;v++)k.__excludes&&k.__excludes[v]||(y[+(0<(E=i.get(M[v])))][e]+=G(E));y[+(0<f)].push(G(f)),y[+(0<u)].push(G(u)),C=V.apply(z,y[0]),b=V.apply(z,y[1]),x+=C*(m=(L?c.height-O.height:c.width-O.width)/(b+C))*(L?-1:1)}else u/f<0&&(x-=u*m*(L?-1:1));if(k.boundColumn)for((g=T.axes.get(_.xAxis))&&(n=(l=g.applyData()).from,r=l.to),k.xField&&!Ext.isNumber(n)&&(n=(p=k.getMinMaxYValues())[0],r=p[1]),Ext.isNumber(n)||(n=0),Ext.isNumber(r)||(r=0),a=k.getGutters(),s=(c.width-(a.lower+a.upper))/(r-n||1),o=c.x+a.lower,D=[],e=0,t=I.length;e<t;e++)E=(i=I[e]).get(k.xField),D[e]=o+(E-n)*s-h/2;else if(k.configuredColumnGirth&&(g=T.axes.get(_.xAxis))&&(w=g.inflections,g.isCategoryAxis||w.length==I.length))for(D=[],e=0,t=I.length;e<t;e++)S=w[e],P=L?S[0]:S[1],D[e]=P-d/2;return{bars:M,barsLoc:D,bbox:c,shrunkBarWidth:d,barsLen:A,groupBarsLen:F,barWidth:H,groupBarWidth:h,scale:m,zero:x,padding:O,signed:u/f<0,minY:u,maxY:f}},getPaths:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u,f,g,p,m,x,y,E,v,b,C,w,S,P,k,T=this,I=T.chart,M=I.getChartStore().data.items,D=T.bounds=T.getBounds(),A=T.items=[],F=Ext.isArray(T.yField)?T.yField:[T.yField],R=T.gutter/100,L=T.groupGutter/100,O=I.animate,B=T.column,H=T.group,N=I.shadow,z=T.shadowGroups,W=(T.shadowAttributes,z.length),V=D.bbox,G=D.barWidth,_=D.shrunkBarWidth,X=T.getPadding(),Y=T.stacked,j=D.barsLen,U=T.colorArrayStyle,K=U&&U.length||0,q=T.themeIdx,$=T.reverse,Q=Math,Z=Q.max,J=(Q.min,Q.abs);for(e=0,t=M.length;e<t;e++){for(i=M[e],l=D.zero,d=D.zero,g=p=a=o=0,h=!1,f=n=P=0;n<j;n++)if(!T.__excludes||!T.__excludes[n]){if(0<=(r=i.get(D.bars[n]))?g+=r:p+=r,s=Math.round((r-Z(D.minY,0))*D.scale),c={fill:U[(b=q+(1<j?n:0))%K]},B?(b=$?t-e-1:e,k=$?j-f-1:f,C=T.boundColumn?D.barsLoc[b]:T.configuredColumnGirth&&D.barsLoc.length?D.barsLoc[b]+k*D.groupBarWidth*(1+L)*!Y:V.x+X.left+.5*(G-_)+b*G*(1+R)+k*D.groupBarWidth*(1+L)*!Y,Ext.apply(c,{height:s,width:Z(D.groupBarWidth,0),x:C,y:l-s})):(E=t-1-e,S=s+(l==D.zero),C=l+(l!=D.zero),$&&(C=D.zero+V.width-S-(0===P?1:0),Y&&(C-=P,P+=S)),w=T.configuredColumnGirth&&D.barsLoc.length?D.barsLoc[e]+f*D.groupBarWidth*(1+L)*!Y:V.y+X.top+.5*(G-_)+E*G*(1+R)+f*D.groupBarWidth*(1+L)*!Y+1,Ext.apply(c,{height:Z(D.groupBarWidth,0),width:S,x:C,y:w})),s<0&&(B?(c.y=d,c.height=J(s)):(c.x=d+s,c.width=J(s))),Y&&(s<0?d+=s*(B?-1:1):l+=s*(B?-1:1),o+=J(s),s<0&&(a+=J(s))),c.x=Math.floor(c.x)+1,v=Math.floor(c.y),c.y=v,c.width=Math.floor(c.width),c.height=Math.floor(c.height),A.push({series:T,yField:F[n],storeItem:i,value:[i.get(T.xField),r],attr:c,point:B?[c.x+c.width/2,0<=r?c.y:c.y+c.height]:[0<=r?c.x+c.width:c.x,c.y+c.height/2]}),O&&I.resizing){if(u=B?{x:c.x,y:D.zero,width:c.width,height:0}:{x:D.zero,y:c.y,width:0,height:c.height},N&&(Y&&!h||!Y))for(h=!0,m=0;m<W;m++)(x=z[m].getAt(Y?e:e*j+n))&&x.setAttributes(u,!0);(y=H.getAt(e*j+n))&&y.setAttributes(u,!0)}f++}Y&&A.length&&(A[e*f].totalDim=o,A[e*f].totalNegDim=a,A[e*f].totalPositiveValues=g,A[e*f].totalNegativeValues=p)}if(Y&&0==f)for(e=0,t=M.length;e<t;e++)for(m=0;m<W;m++)(x=z[m].getAt(e))&&x.hide(!0)},renderShadows:function(e,t,i,n){var r,s,o,a,l,d,h,c=this.chart,u=c.surface,f=c.animate,g=this.stacked,p=this.shadowGroups,m=this.shadowAttributes,x=p.length,y=c.getChartStore(),E=this.column,v=this.items,b=[],C=this.reverse,w=n.zero;if(g&&e%n.groupBarsLen==0||!g)for(d=e/n.groupBarsLen,r=0;r<x;r++)s=Ext.apply({},m[r]),o=p[r].getAt(g?d:e),Ext.copyTo(s,t,"x,y,width,height"),o=o||u.add(Ext.apply({type:"rect",group:p[r]},Ext.apply({},i,s))),g&&(a=v[e].totalDim,l=v[e].totalNegDim,E?(s.y=w+l-a-1,s.height=a):(s.x=C?w+n.bbox.width-a:w-l,s.width=a)),(h=this.renderer(o,y.getAt(d),s,e,y)).hidden=!!t.hidden,f?this.onAnimate(o,{zero:n.zero+n.bbox.width,to:h}):o.setAttributes(h,!0),b.push(o);return b},drawSeries:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u,f,g=this,p=g.chart,m=p.getChartStore(),x=p.surface,y=p.animate,E=g.stacked,v=g.column,b=p.axes,C=g.getAxesForXAndYFields(),w=C.xAxis,S=(C.yAxis,p.shadow),P=g.shadowGroups,k=P.length,T=g.group,I=g.seriesStyle;if(!m||!m.getCount()||g.seriesIsHidden)return g.hide(),void(g.items=[]);for(delete(h=Ext.apply({},this.style,I)).fill,delete h.x,delete h.y,delete h.width,delete h.height,g.unHighlightItem(),g.cleanHighlights(),g.boundColumn=w&&Ext.Array.contains(g.axis,w)&&b.get(w)&&b.get(w).isNumericAxis,g.getPaths(),d=g.bounds,e=g.items,r=v?{y:d.zero,height:0}:{x:d.zero,width:0},t=e.length,i=0;i<t;i++){if(s=T.getAt(i),c=e[i].attr,S&&(e[i].shadows=g.renderShadows(i,c,r,d)),s||(u=Ext.apply({},r,c),u=Ext.apply(u,h||{}),s=x.add(Ext.apply({},{type:"rect",group:T},u))),y){if(o=g.renderer(s,m.getAt(i),c,i,m),s._to=o,f=g.onAnimate(s,{zero:d.zero+d.bbox.width,to:Ext.apply(o,h)}),S&&E&&i%d.barsLen==0)for(n=i/d.barsLen,a=0;a<k;a++)f.on("afteranimate",function(){this.show(!0)},P[a].getAt(n))}else o=g.renderer(s,m.getAt(i),Ext.apply(c,{hidden:!1}),i,m),s.setAttributes(Ext.apply(o,h),!0);e[i].sprite=s}for(t=T.getCount(),n=i;n<t;n++)T.getAt(n).hide(!0);if(g.stacked&&(i=m.getCount()),S)for(a=0;a<k;a++)for(t=(l=P[a]).getCount(),n=i;n<t;n++)l.getAt(n).hide(!0);g.renderLabels()},onCreateLabel:function(e,t,i,n){var r=this.chart.surface,s=this.labelsGroup,o=this.label,a=Ext.apply({},o,this.seriesLabelStyle||{});return r.add(Ext.apply({type:"text",group:s},a||{}))},onPlaceLabel:function(e,t,i,n,r,s,o){var a,l,d,h,c,u,f,g=this,p=g.bounds,m=p.groupBarWidth,x=g.column,y=g.chart,E=y.chartBBox,v=y.resizing,b=(i.value[0],i.value[1]),C=i.attr,w=g.label,S=g.stacked,P=w.stackedDisplay,k="vertical"==w.orientation,T=[].concat(w.field),I=w.renderer,M=p.zero,D="insideStart",A="insideEnd",F="outside",R=(p.signed,g.reverse);if(r==D||r==A||r==F){if(S&&r==F)return void e.hide(!0);if(e.setAttributes({style:void 0}),a=Ext.isNumber(o)?I(t.get(T[o]),e,t,i,n,r,s,o):"",e.setAttributes({text:a}),d=(l=g.getLabelSize(a,e.attr.style)).width,h=l.height,x){if(!d||!h||S&&C.height<h)return void e.hide(!0);if(c=C.x+(k?m/2:(m-d)/2),r==F)(0<=b?C.y-E.y:E.y+E.height-C.y-C.height)<h+2&&(r=A);if(S||r==F||h+2>C.height&&(r=F),!u)if(u=C.y,0<=b)switch(r){case D:u+=C.height+(k?-2:-h/2);break;case A:u+=k?h+4:h/2;break;case F:u+=k?-2:-h/2}else switch(r){case D:u+=k?h+2:h/2;break;case A:u+=k?C.height-2:C.height-h/2;break;case F:u+=k?C.height+h+2:C.height+h/2}}else{if(!d||!h||S&&!C.width)return void e.hide(!0);if(u=C.y+(k?(m+h)/2:m/2),r==F)(0<=b?E.x+E.width-C.x-C.width:C.x-E.x)<d+4&&(r=A);if(r!=F&&!k&&d+8>=C.width)if(S){if(h>C.width)return void e.hide(!0);c=C.x+C.width/2,k=!0}else r=F;if(!c)if(c=C.x,0<=b)switch(r){case D:c+=R?C.width+(k?-d/2:-d-4):k?d/2:4;break;case A:R?c-=k?-d/2:-d-4:c+=C.width+(k?-d/2:-d-4);break;case F:R?c-=d+(k?d/2:4):c+=C.width+(k?d/2:4)}else switch(r){case D:R?c-=k?-d/2:-d-4:c+=C.width+(k?-d/2:-d-4);break;case A:c+=R?C.width+(k?-d/2:-d-4):k?d/2:4;break;case F:R?c-=d+(k?d/2:4):c+=k?-d/2:-d-4}}}else if(("over"==r||"under"==r)&&S&&P)switch(a=e.attr.text,e.setAttributes({style:Ext.applyIf(e.attr&&e.attr.style||{},{"font-weight":"bold","font-size":"14px"})}),d=(l=g.getLabelSize(a,e.attr.style)).width,h=l.height,r){case"over":u=x?(c=C.x+(k?m/2:(m-d)/2),M-(i.totalDim-i.totalNegDim)-h/2-2):(c=M+(i.totalDim-i.totalNegDim)+4,C.y+(k?(m+h)/2:m/2));break;case"under":u=x?(c=C.x+(k?m/2:(m-d)/2),M+i.totalNegDim+h/2):(c=M-i.totalNegDim-d-4,C.y+(k?(m+h)/2:m/2))}null!=c&&null!=u?(e.isOutside=r==F,e.setAttributes({text:a}),(f={x:c,y:u}).rotate=k?{x:c,y:u,degrees:270}:g.defaultRotate,s&&v&&(u=x?(c=C.x+C.width/2,M):(c=M,C.y+C.height/2),e.setAttributes({x:c,y:u},!0),k&&e.setAttributes({rotate:{x:c,y:u,degrees:270}},!0)),s?g.onAnimate(e,{zero:i.point[0],to:f}):e.setAttributes(Ext.apply(f,{hidden:!1}),!0)):e.hide(!0)},getLabelSize:function(e,t){var i,n,r,s=this.testerLabel,o=this.label,a=Ext.apply({},o,t,this.seriesLabelStyle||{}),l="vertical"===o.orientation;return(s=s||(this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},a)))).setAttributes({style:t,text:e},!0),n=(i=s.getBBox()).width,r=i.height,{width:l?r:n,height:l?n:r}},onAnimate:function(e,t){var i=t.to;return e.show(),this.reverse&&!this.column&&(t.from={x:this.stacked||"text"==e.type?t.zero:i.x+i.width,width:0},this.inHighlight&&delete t.from.x),this.callParent(arguments)},isItemInPoint:function(e,t,i){var n=i.sprite.getBBox();return n.x<=e&&n.y<=t&&n.x+n.width>=e&&n.y+n.height>=t},hideAll:function(e){var t=this.chart.axes.items,i=t.length,n=0;for(e=(isNaN(this._index)?e:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[e]=!0,this.drawSeries();n<i;n++)t[n].drawAxis()},showAll:function(e){var t=this.chart.axes.items,i=t.length,n=0;for(e=(isNaN(this._index)?e:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[e]=!1,this.drawSeries();n<i;n++)t[n].drawAxis()},getLegendColor:function(e){var t=this.colorArrayStyle,i=t&&t.length;return this.style&&this.style.fill?this.style.fill:t?t[(this.themeIdx+e)%i]:"#000"},highlightItem:function(e){this.callParent(arguments),this.inHighlight=!0,this.renderLabels(),delete this.inHighlight},unHighlightItem:function(){this.callParent(arguments),this.inHighlight=!0,this.renderLabels(),delete this.inHighlight},cleanHighlights:function(){this.callParent(arguments),this.inHighlight=!0,this.renderLabels(),delete this.inHighlight}}),Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:Ext.chart.series.Bar,type:"column",alias:"series.column",column:!0,boundColumn:!1,xPadding:10,yPadding:0}),Ext.define("Ext.chart.series.Gauge",{extend:Ext.chart.series.Series,type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:!1,needle:!1,donut:!1,showInLegend:!1,style:{},constructor:function(e){this.callParent(arguments);var t,i,n=this,r=n.chart,s=r.surface,o=(r.store,r.shadow);if(Ext.apply(n,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),n.group=s.getGroup(n.seriesId),o)for(t=0,i=n.shadowAttributes.length;t<i;t++)n.shadowGroups.push(s.getGroup(n.seriesId+"-shadows"+t));s.customAttributes.segment=function(e){return n.getSegment(e)}},initialize:function(){var e=this.chart.getChartStore().data.items,t=this.label,i=e.length;this.yField=[],t&&t.field&&0<i&&this.yField.push(e[0].get(t.field))},getSegment:function(e){var t,i,n,r,s,o,a,l,d=this.rad,h=Math.cos,c=Math.sin,u=Math.abs,f=this.centerX,g=this.centerY,p=(e.endRho,e.startRho,e.startAngle),m=e.endAngle,x=(p+m)/2*d,y=e.margin||0,E=180<u(m-p),v=Math.min(p,m)*d,b=Math.max(p,m)*d,C=!1;return f+=y*h(x),g+=y*c(x),t=f+e.startRho*h(v),s=g+e.startRho*c(v),i=f+e.endRho*h(v),o=g+e.endRho*c(v),n=f+e.startRho*h(b),a=g+e.startRho*c(b),r=f+e.endRho*h(b),l=g+e.endRho*c(b),u(t-n)<=.01&&u(s-a)<=.01&&(C=!0),C?{path:[["M",t,s],["L",i,o],["A",e.endRho,e.endRho,0,+E,1,r,l],["Z"]]}:{path:[["M",t,s],["L",i,o],["A",e.endRho,e.endRho,0,+E,1,r,l],["L",n,a],["A",e.startRho,e.startRho,0,+E,0,t,s],["Z"]]}},calcMiddle:function(e){var t=this.rad,i=e.slice,n=this.centerX,r=this.centerY,s=i.startAngle,o=i.endAngle,a=(Math.max("rho"in i?i.rho:this.radius,this.label.minMargin),this.donut,Math.min(s,o)*t),l=-(a+(Math.max(s,o)*t-a)/2),d=n+(e.endRho+e.startRho)/2*Math.cos(l),h=r-(e.endRho+e.startRho)/2*Math.sin(l);e.middle={x:d,y:h}},drawSeries:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u,f,g,p=this,m=p.chart,x=m.getChartStore(),y=p.group,E=p.chart.animate,v=p.chart.axes.get(0),b=v&&v.minimum||p.minimum||0,C=v&&v.maximum||p.maximum||0,w=p.angleField||p.field||p.xField,S=m.surface,P=m.chartBBox,k=(p.rad,+p.donut),T=[],I=p.seriesStyle,M=(p.seriesLabelStyle,p.colorArrayStyle),D=M&&M.length||0,A=Math.cos,F=Math.sin,R=p.reverse;if(Ext.apply(I,p.style||{}),p.setBBox(),p.bbox,p.colorSet&&(D=(M=p.colorSet).length),!x||!x.getCount()||p.seriesIsHidden)return p.hide(),void(p.items=[]);for(t=p.centerX=P.x+P.width/2,i=p.centerY=P.y+P.height,p.radius=Math.min(t-P.x,i-P.y),p.slices=r=[],p.items=T=[],p.value||(d=x.getAt(0),p.value=d.get(w)),o=R?C-p.value:p.value,p.needle?(f={series:p,value:o,startAngle:-180,endAngle:0,rho:p.radius},u=-180*(1-(o-b)/(C-b)),r.push(f)):(f={series:p,value:o,startAngle:-180,endAngle:u=-180*(1-(o-b)/(C-b)),rho:p.radius},g={series:p,value:C-o,startAngle:u,endAngle:0,rho:p.radius},R?r.push(g,f):r.push(f,g)),h=0,l=r.length;h<l;h++)n=r[h],s=y.getAt(h),e=Ext.apply({segment:{startAngle:n.startAngle,endAngle:n.endAngle,margin:0,rho:n.rho,startRho:n.rho*+k/100,endRho:n.rho}},Ext.apply(I,M&&{fill:M[h%D]}||{})),a=Ext.apply({},e.segment,{slice:n,series:p,storeItem:d,index:h}),T[h]=a,s||(c=Ext.apply({type:"path",group:y},Ext.apply(I,M&&{fill:M[h%D]}||{})),s=S.add(Ext.apply(c,e))),n.sprite=n.sprite||[],a.sprite=s,n.sprite.push(s),E?(e=p.renderer(s,d,e,h,x),s._to=e,p.onAnimate(s,{to:e})):(e=p.renderer(s,d,Ext.apply(e,{hidden:!1}),h,x),s.setAttributes(e,!0));p.needle&&(u=u*Math.PI/180,p.needleSprite?E?p.onAnimate(p.needleSprite,{to:{path:["M",t+p.radius*+k/100*A(u),i+-Math.abs(p.radius*+k/100*F(u)),"L",t+p.radius*A(u),i+-Math.abs(p.radius*F(u))]}}):p.needleSprite.setAttributes({type:"path",path:["M",t+p.radius*+k/100*A(u),i+-Math.abs(p.radius*+k/100*F(u)),"L",t+p.radius*A(u),i+-Math.abs(p.radius*F(u))]}):p.needleSprite=p.chart.surface.add({type:"path",path:["M",t+p.radius*+k/100*A(u),i+-Math.abs(p.radius*+k/100*F(u)),"L",t+p.radius*A(u),i+-Math.abs(p.radius*F(u))],"stroke-width":4,stroke:"#222"}),p.needleSprite.setAttributes({hidden:!1},!0)),delete p.value},setValue:function(e){this.value=e,this.drawSeries()},onCreateLabel:function(e,t,i,n){},onPlaceLabel:function(e,t,i,n,r,s,o){},onPlaceCallout:function(){},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,i,n){var r=this.centerX,s=this.centerY,o=Math.abs,a=o(e-r),l=o(t-s),d=i.startAngle,h=i.endAngle,c=Math.sqrt(a*a+l*l),u=Math.atan2(t-s,e-r)/this.rad;return 0===n&&d<=u&&u<h&&c>=i.startRho&&c<=i.endRho},getLegendColor:function(e){var t=this.colorSet||this.colorArrayStyle;return t[e%t.length]}}),Ext.define("Ext.chart.series.Line",{extend:Ext.chart.series.Cartesian,alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:!0,markerConfig:{},style:{},smooth:!1,defaultSmoothness:3,fill:!1,constructor:function(e){this.callParent(arguments);var t,i,n=this,r=n.chart.surface,s=n.chart.shadow;if(e.highlightCfg=Ext.Object.merge({"stroke-width":3},e.highlightCfg),Ext.apply(n,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]}),n.group=r.getGroup(n.seriesId),n.showMarkers&&(n.markerGroup=r.getGroup(n.seriesId+"-markers")),s)for(t=0,i=n.shadowAttributes.length;t<i;t++)n.shadowGroups.push(r.getGroup(n.seriesId+"-shadows"+t))},shrink:function(e,t,i){for(var n=e.length,r=Math.floor(n/i),s=1,o=0,a=0,l=[+e[0]],d=[+t[0]];s<n;++s)o+=+e[s]||0,a+=+t[s]||0,s%r==0&&(l.push(o/r),d.push(a/r),a=o=0);return{x:l,y:d}},drawSeries:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u,f,g,p,m,x,y,E,v,b,C,w,S,P,k,T,I,M,D,A,F,R,L,O,B,H,N,z,W,V,G,_=this,X=_.chart,Y=X.axes,j=X.getChartStore(),U=j.data.items,K=j.getCount(),q=_.chart.surface,$=_.group,Q=_.showMarkers,Z=_.markerGroup,J=X.shadow,ee=_.shadowGroups,te=_.shadowAttributes,ie=_.smooth,ne=ee.length,re=["M"],se=["M"],oe=["M"],ae=["M"],le=X.markerIndex,de=([].concat(_.axis),[]),he=[],ce=!1,ue=_.reverse,fe=[],ge=Ext.apply({},_.markerStyle),pe=_.seriesStyle,me=_.colorArrayStyle,xe=me&&me.length||0,ye=Ext.isNumber,Ee=(_.seriesIdx,_.getAxesForXAndYFields()),ve=Ee.xAxis,be=Ee.yAxis,Ce=Y&&Y.get(ve),we=Y&&Y.get(be),Se=ve?Ce&&Ce.type:"",Pe=be?we&&we.type:"";if(!1!==_.fireEvent("beforedraw",_)){if(!K||_.seriesIsHidden){if(_.hide(),_.items=[],_.line){if(_.line.hide(!0),_.line.shadows)for(y=0,ne=(n=_.line.shadows).length;y<ne;y++)(r=n[y]).hide(!0);_.fillPath&&_.fillPath.hide(!0)}return _.line=null,void(_.fillPath=null)}if(H=(O=Ext.apply(ge||{},_.markerConfig,{fill:_.seriesStyle.fill||me[_.themeIdx%me.length]})).type,delete O.type,(B=pe)["stroke-width"]||(B["stroke-width"]=.5),z="opacity"in B?B.opacity:1,G="opacity"in B?B.opacity:.3,W="lineOpacity"in B?B.lineOpacity:z,V="fillOpacity"in B?B.fillOpacity:G,le&&Z&&Z.getCount())for(x=0;x<le;x++)C=Z.getAt(x),Z.remove(C),Z.add(C),w=Z.getAt(Z.getCount()-2),C.setAttributes({x:0,y:0,translate:{x:w.attr.translation.x,y:w.attr.translation.y}},!0);for(_.unHighlightItem(),_.cleanHighlights(),_.setBBox(),t=_.bbox,_.clipRect=[t.x,t.y,t.width,t.height],Ce&&(D=(b=Ce.applyData()).from,A=b.to),we&&(F=(b=we.applyData()).from,R=b.to),_.xField&&!Ext.isNumber(D)&&(D=(v=_.getMinMaxXValues())[0],A=v[1]),_.yField&&!Ext.isNumber(F)&&(F=(v=_.getMinMaxYValues())[0],R=v[1]),I=isNaN(D)?(D=0,t.width/(K-1||1)):t.width/(A-D||K-1||1),M=isNaN(F)?(F=0,t.height/(K-1||1)):t.height/(R-F||K-1||1),x=0,E=U.length;x<E;x++)P=(e=U[x]).get(_.xField),"Time"===Se&&"string"==typeof P&&(P=Date.parse(P)),"string"!=typeof P&&("object"!=typeof P||Ext.isDate(P))&&"Category"!==Se||(P=x),k=e.get(_.yField),"Time"===Pe&&"string"==typeof k&&(k=Date.parse(k)),void 0===k||"string"==typeof k&&!k||("string"!=typeof k&&("object"!=typeof k||Ext.isDate(k))&&"Category"!==Pe||(k=x),fe.push(x),de.push(P),he.push(k));for((E=de.length)>t.width&&(de=(T=_.shrink(de,he,t.width)).x,he=T.y),_.items=[],N=0,E=de.length,x=0;x<E;x++)if(P=de[x],!1!==(k=he[x])){if(h=ue?t.x+t.width-(P-D)*I:t.x+(P-D)*I,h=Ext.Number.toFixed(h,2),c=Ext.Number.toFixed(t.y+t.height-(k-F)*M,2),ce&&(ce=!1,se.push("M")),se=se.concat([h,c]),void 0===p&&void 0!==c&&(p=c,g=h),_.line&&!X.resizing||(re=re.concat([h,t.y+t.height/2])),X.animate&&X.resizing&&_.line&&(_.line.setAttributes({path:re,opacity:W},!0),_.fillPath&&_.fillPath.setAttributes({path:re,opacity:V},!0),_.line.shadows))for(y=0,ne=(n=_.line.shadows).length;y<ne;y++)(r=n[y]).setAttributes({path:re},!0);Q&&((C=Z.getAt(N++))?(C.setAttributes({value:'"'+P+", "+k+'"',x:0,y:0,hidden:!1},!0),C._to={translate:{x:+h,y:+c}}):(C=Ext.chart.Shape[H](q,Ext.apply({group:[$,Z],x:0,y:0,translate:{x:+(u||h),y:f||t.y+t.height/2},value:'"'+P+", "+k+'"',zIndex:4e3},O)))._to={translate:{x:+h,y:+c}}),_.items.push({series:_,value:[P,k],point:[h,c],sprite:C,storeItem:j.getAt(fe[x])}),u=h,f=c}else 1==se.length&&(se=[]),ce=!0,_.items.push(!1);if(!(se.length<=1)){if(_.smooth&&(ae=Ext.draw.Draw.smooth(se,ye(ie)?ie:_.defaultSmoothness)),oe=ie?ae:se,X.markerIndex&&_.previousPath?(o=_.previousPath,ie||Ext.Array.erase(o,1,2)):o=se,!_.line&&(_.line=q.add(Ext.apply({type:"path",group:$,path:re,stroke:B.stroke||B.fill},B||{})),_.line.setAttributes({opacity:W},!0),J&&_.line.setAttributes(Ext.apply({},_.shadowOptions),!0),_.line.setAttributes({fill:"none",zIndex:3e3}),!B.stroke&&xe&&_.line.setAttributes({stroke:me[_.themeIdx%xe]},!0),J))for(n=_.line.shadows=[],s=0;s<ne;s++)i=te[s],i=Ext.apply({},i,{path:re}),r=q.add(Ext.apply({},{type:"path",group:ee[s]},i)),n.push(r);if(_.fill&&(l=oe.concat([["L",h,t.y+t.height],["L",g,t.y+t.height],["L",g,p]]),_.fillPath||(_.fillPath=q.add({group:$,type:"path",fill:B.fill||me[_.themeIdx%xe],path:re}))),m=Q&&Z.getCount(),X.animate){if(a=_.fill,L=_.line,d=_.renderer(L,!1,{path:oe},x,j),Ext.apply(d,B||{},{stroke:B.stroke||B.fill}),delete d.fill,L.show(!0),X.markerIndex&&_.previousPath?_.animation=_.onAnimate(L,{to:d,from:{path:o}}):_.animation=_.onAnimate(L,{to:d}),J)for(n=L.shadows,y=0;y<ne;y++)n[y].show(!0),X.markerIndex&&_.previousPath?_.onAnimate(n[y],{to:{path:oe},from:{path:o}}):_.onAnimate(n[y],{to:{path:oe}});if(a&&(_.fillPath.show(!0),_.onAnimate(_.fillPath,{to:Ext.apply({},{path:l,fill:B.fill||me[_.themeIdx%xe],"stroke-width":0,opacity:V},B||{})})),Q){for(x=N=0;x<E;x++)_.items[x]&&(S=Z.getAt(N++))&&(d=_.renderer(S,j.getAt(x),S._to,x,j),_.onAnimate(S,{to:Ext.applyIf(d,O||{})}),S.show(!0));for(;N<m;N++)(S=Z.getAt(N)).hide(!0)}}else{if(d=_.renderer(_.line,!1,{path:oe,hidden:!1},x,j),Ext.apply(d,B||{},{stroke:B.stroke||B.fill}),delete d.fill,_.line.setAttributes(d,!0),_.line.setAttributes({opacity:W},!0),J)for(n=_.line.shadows,y=0;y<ne;y++)n[y].setAttributes({path:oe,hidden:!1},!0);if(_.fill&&_.fillPath.setAttributes({path:l,hidden:!1,opacity:V},!0),Q){for(x=N=0;x<E;x++)_.items[x]&&(S=Z.getAt(N++))&&(d=_.renderer(S,j.getAt(x),S._to,x,j),S.setAttributes(Ext.apply(O||{},d||{}),!0),S.attr.hidden||S.show(!0));for(;N<m;N++)(S=Z.getAt(N)).hide(!0)}}X.markerIndex&&(_.smooth?Ext.Array.erase(se,1,2):Ext.Array.splice(se,1,0,se[1],se[2]),_.previousPath=se),_.renderLabels(),_.renderCallouts(),_.fireEvent("draw",_)}}},onCreateLabel:function(e,t,i,n){var r=this.labelsGroup,s=this.label,o=this.bbox,a=Ext.apply({},s,this.seriesLabelStyle||{});return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:r,x:Number(t.point[0]),y:o.y+o.height/2},a||{}))},onPlaceLabel:function(e,t,i,n,r,s,o){var a,l,d,h,c,u,f=this.chart.resizing,g=this.label,p=g.renderer,m=g.field,x=this.bbox,y=Number(i.point[0]),E=Number(i.point[1]),v=i.sprite.attr.radius;e.setAttributes({text:p(t.get(m),e,t,i,n,r,s,o),hidden:!0},!0),(l=i.sprite.getBBox()).width=l.width||2*v,l.height=l.height||2*v,d=(a=e.getBBox()).width/2,h=a.height/2,"rotate"==r?(y+(c=l.width/2+d+h/2)+d>x.x+x.width?y-=c:y+=c,e.setAttributes({rotation:{x:y,y:E,degrees:-45}},!0)):"under"!=r&&"over"!=r||(e.setAttributes({rotation:{degrees:0}},!0),y<x.x+d?y=x.x+d:y+d>x.x+x.width&&(y=x.x+x.width-d),u=l.height/2+h,(E+="over"==r?-u:u)<x.y+h?E+=2*u:E+h>x.y+x.height&&(E-=2*u)),this.chart.animate&&!this.chart.resizing?(e.show(!0),this.onAnimate(e,{to:{x:y,y:E}})):(e.setAttributes({x:y,y:E},!0),f&&this.animation?this.animation.on("afteranimate",function(){e.show(!0)}):e.show(!0))},highlightItem:function(){var e=this.line;this.callParent(arguments),e&&!this.highlighted&&("__strokeWidth"in e||(e.__strokeWidth=parseFloat(e.attr["stroke-width"])||0),e.__anim&&(e.__anim.paused=!0),e.__anim=new Ext.fx.Anim({target:e,to:{"stroke-width":e.__strokeWidth+3}}),this.highlighted=!0)},unHighlightItem:function(){var e,t=this.line;this.callParent(arguments),t&&this.highlighted&&(e=t.__strokeWidth||parseFloat(t.attr["stroke-width"])||0,t.__anim=new Ext.fx.Anim({target:t,to:{"stroke-width":e}}),this.highlighted=!1)},onPlaceCallout:function(e,t,i,n,r,s,o){if(r){var a,l,d,h,c,u,f,g,p,m,x,y,E,v=this.chart,b=(v.surface,v.resizing,this.callouts),C=this.items,w=0!=n&&C[n-1].point,S=n!=C.length-1&&C[n+1].point,P=[+i.point[0],+i.point[1]],k=b.offsetFromViz||30,T=(b.offsetToSide,b.offsetBox||3),I=this.clipRect,M=b.styles.width||10,D=b.styles.height||10;for(x in h=((S=S||P)[1]-(w=w||P)[1])/(S[0]-w[0]),c=(P[1]-w[1])/(P[0]-w[0]),u=(S[1]-P[1])/(S[0]-P[0]),d=[-(a=[1/(l=Math.sqrt(1+h*h)),h/l])[1],a[0]],0<c&&u<0&&d[1]<0||c<0&&0<u&&0<d[1]?(d[0]*=-1,d[1]*=-1):(Math.abs(c)<Math.abs(u)&&d[0]<0||Math.abs(c)>Math.abs(u)&&0<d[0])&&(d[0]*=-1,d[1]*=-1),y=P[0]+d[0]*k,g=(E=P[1]+d[1]*k)-D/2-T,p=M+2*T,m=D+2*T,((f=y+(0<d[0]?0:-(M+2*T)))<I[0]||f+p>I[0]+I[2])&&(d[0]*=-1),(g<I[1]||g+m>I[1]+I[3])&&(d[1]*=-1),y=P[0]+d[0]*k,E=P[1]+d[1]*k,f=y+(0<d[0]?0:-(M+2*T)),g=E-D/2-T,p=M+2*T,m=D+2*T,v.animate?(this.onAnimate(e.lines,{to:{path:["M",P[0],P[1],"L",y,E,"Z"]}}),e.panel&&e.panel.setPosition(f,g,!0)):(e.lines.setAttributes({path:["M",P[0],P[1],"L",y,E,"Z"]},!0),e.panel&&e.panel.setPosition(f,g)),e)e[x].show(!0)}},isItemInPoint:function(e,t,i,n){var r,s,o,a,l,d,h,c,u,f,g,p=this.items,m=this.selectionTolerance,x=Math.sqrt;Math.abs;return s=p[n],r=n&&p[n-1],void 0<=n&&(r=p.NaN),o=r&&r.point,a=s&&s.point,l=r?o[0]:a[0]-m,d=r?o[1]:a[1],h=s?a[0]:o[0]+m,c=s?a[1]:o[1],u=x((e-l)*(e-l)+(t-d)*(t-d)),f=x((e-h)*(e-h)+(t-c)*(t-c)),(g=Math.min(u,f))<=m&&(g==u?r:s)},toggleAll:function(e){var t,i,n;if(e?Ext.chart.series.Cartesian.prototype.showAll.call(this):Ext.chart.series.Cartesian.prototype.hideAll.call(this),this.line&&(this.line.setAttributes({hidden:!e},!0),this.line.shadows))for(t=0,i=(n=this.line.shadows).length;t<i;t++)n[t].setAttributes({hidden:!e},!0);this.fillPath&&this.fillPath.setAttributes({hidden:!e},!0)},hideAll:function(){this.toggleAll(!1)},showAll:function(){this.toggleAll(!0)}}),Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:Ext.chart.series.Series,type:"pie",alias:"series.pie",accuracy:1e5,rad:2*Math.PI/1e5,highlightDuration:150,angleField:!1,lengthField:!1,donut:!1,showInLegend:!1,style:{},constructor:function(e){this.callParent(arguments);var t,i,n=this,r=n.chart,s=r.surface,o=(r.store,r.shadow);if(e.highlightCfg=Ext.merge({segment:{margin:20}},e.highlight),Ext.apply(n,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),n.group=s.getGroup(n.seriesId),o)for(t=0,i=n.shadowAttributes.length;t<i;t++)n.shadowGroups.push(s.getGroup(n.seriesId+"-shadows"+t));s.customAttributes.segment=function(e){var t=n.getSegment(e);return t.path&&0!==t.path.length||(t.path=["M",0,0]),t},n.__excludes=n.__excludes||[]},onRedraw:function(){this.initialize()},initialize:function(){var e,t,i,n=this.chart.getChartStore().data.items;if(this.callParent(),this.yField=[],this.label.field)for(e=0,t=n.length;e<t;e++)i=n[e],this.yField.push(i.get(this.label.field))},getSegment:function(e){var t,i,n,r,s,o,a=this.rad,l=Math.cos,d=Math.sin,h=this.centerX,c=this.centerY,u=0,f=0,g=0,p=0,m=0,x=0,y=e.startAngle,E=e.endAngle,v=(y+E)/2*a,b=e.margin||0,C=Math.min(y,E)*a,w=Math.max(y,E)*a,S=l(C),P=d(C),k=l(w),T=d(w),I=l(v),M=d(v);return w-C<.01?{path:""}:(0!==b&&(h+=b*I,c+=b*M),t=h+e.endRho*S,n=c+e.endRho*P,i=h+e.endRho*k,r=c+e.endRho*T,s=h+e.endRho*I,o=c+e.endRho*M,0!==e.startRho?(u=h+e.startRho*S,g=c+e.startRho*P,f=h+e.startRho*k,p=c+e.startRho*T,m=h+e.startRho*I,x=c+e.startRho*M,{path:[["M",t,n],["A",e.endRho,e.endRho,0,0,1,s,o],["L",s,o],["A",e.endRho,e.endRho,0,0,1,i,r],["L",i,r],["L",f,p],["A",e.startRho,e.startRho,0,0,0,m,x],["L",m,x],["A",e.startRho,e.startRho,0,0,0,u,g],["L",u,g],["Z"]]}):{path:[["M",h,c],["L",t,n],["A",e.endRho,e.endRho,0,0,1,s,o],["L",s,o],["A",e.endRho,e.endRho,0,0,1,i,r],["L",i,r],["L",h,c],["Z"]]})},calcMiddle:function(e){var t=this.rad,i=e.slice,n=this.centerX,r=this.centerY,s=i.startAngle,o=i.endAngle,a=(this.donut,-(s+o)*t/2),l=(e.endRho+e.startRho)/2,d=n+l*Math.cos(a),h=r-l*Math.sin(a);e.middle={x:d,y:h}},drawSeries:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u,f,g,p,m,x,y,E,v=this,b=v.chart.getChartStore(),C=b.data.items,w=v.group,S=v.chart.animate,P=v.angleField||v.field||v.xField,k=[].concat(v.lengthField),T=0,I=v.chart,M=I.surface,D=I.chartBBox,A=I.shadow,F=v.shadowGroups,R=v.shadowAttributes,L=F.length,O=k.length,B=0,H=+v.donut,N=[],z=[],W=0,V=0,G=0,_=v.seriesStyle,X=v.colorArrayStyle,Y=X&&X.length||0,j=0;if(Ext.apply(_,v.style||{}),v.setBBox(),v.bbox,v.colorSet&&(Y=(X=v.colorSet).length),!b||!b.getCount()||v.seriesIsHidden)return v.hide(),void(v.items=[]);for(v.unHighlightItem(),v.cleanHighlights(),o=v.centerX=D.x+D.width/2,a=v.centerY=D.y+D.height/2,v.radius=Math.min(o-D.x,a-D.y),v.slices=h=[],v.items=z=[],m=0,p=C.length;m<p;m++)if(e=C[m],(!this.__excludes||!this.__excludes[m])&&(W+=+e.get(P),k[0])){for(T=x=0;x<O;x++)T+=+e.get(k[x]);N[m]=T,V=Math.max(V,T)}for(W=W||1,m=0,p=C.length;m<p;m++){if(e=C[m],this.__excludes&&this.__excludes[m]?u=0:(u=e.get(P),0===j&&(j=1)),1==j)for(j=2,v.firstAngle=G=v.accuracy*u/W/2,x=0;x<m;x++)h[x].startAngle=h[x].endAngle=v.firstAngle;y=G-v.accuracy*u/W,d={series:v,value:u,startAngle:G,endAngle:y,storeItem:e},k[0]?(g=+N[m],d.rho=Math.floor(v.radius/V*g)):d.rho=v.radius,h[m]=d,G=y}if(A)for(m=0,p=h.length;m<p;m++)for((d=h[m]).shadowAttrs=[],B=x=0,n=[];x<O;x++){for(c=w.getAt(m*O+x),l=k[x]?b.getAt(m).get(k[x])/N[m]*d.rho:d.rho,t={segment:{startAngle:d.startAngle,endAngle:d.endAngle,margin:0,rho:d.rho,startRho:B+l*H/100,endRho:B+l},hidden:!d.value&&d.startAngle%v.accuracy==d.endAngle%v.accuracy},s=0,n=[];s<L;s++)i=R[s],r=(r=F[s].getAt(m))||I.surface.add(Ext.apply({},{type:"path",group:F[s],strokeLinejoin:"round"},t,i)),i=v.renderer(r,b.getAt(m),Ext.apply({},t,i),m,b),S?v.onAnimate(r,{to:i}):r.setAttributes(i,!0),n.push(r);d.shadowAttrs[x]=n}for(m=0,p=h.length;m<p;m++)for(d=h[m],B=x=0;x<O;x++)c=w.getAt(m*O+x),l=k[x]?b.getAt(m).get(k[x])/N[m]*d.rho:d.rho,t=Ext.apply({segment:{startAngle:d.startAngle,endAngle:d.endAngle,margin:0,rho:d.rho,startRho:B+l*H/100,endRho:B+l},hidden:!d.value&&d.startAngle%v.accuracy==d.endAngle%v.accuracy},Ext.apply(_,X&&{fill:X[(1<O?x:m)%Y]}||{})),f=Ext.apply({},t.segment,{slice:d,series:v,storeItem:d.storeItem,index:m}),v.calcMiddle(f),A&&(f.shadows=d.shadowAttrs[x]),z[m]=f,c||(E=Ext.apply({type:"path",group:w,middle:f.middle},Ext.apply(_,X&&{fill:X[(1<O?x:m)%Y]}||{})),c=M.add(Ext.apply(E,t))),d.sprite=d.sprite||[],f.sprite=c,d.sprite.push(c),d.point=[f.middle.x,f.middle.y],S?(t=v.renderer(c,b.getAt(m),t,m,b),c._to=t,c._animating=!0,v.onAnimate(c,{to:t,listeners:{afteranimate:{fn:function(){this._animating=!1},scope:c}}})):(t=v.renderer(c,b.getAt(m),Ext.apply(t,{hidden:!1}),m,b),c.setAttributes(t,!0)),B+=l;for(p=w.getCount(),m=0;m<p;m++)!h[m/O>>0]&&w.getAt(m)&&w.getAt(m).hide(!0);if(A)for(L=F.length,s=0;s<p;s++)if(!h[s/O>>0])for(x=0;x<L;x++)F[x].getAt(s)&&F[x].getAt(s).hide(!0);v.renderLabels(),v.renderCallouts()},setSpriteAttributes:function(e,t,i){i?(e.stopAnimation(),e.animate({to:t,duration:this.highlightDuration})):e.setAttributes(t,!0)},createLabelLine:function(e){return calloutLine=this.label.calloutLine,line=this.chart.surface.add({type:"path",stroke:void 0===e?"#555":calloutLine&&calloutLine.color||this.getLegendColor(e),lineWidth:calloutLine&&calloutLine.width||2,path:"M0,0Z"}),line},drawLabelLine:function(e,t,i,n){var r=e.lineSprite,s="M"+t.x+" "+t.y+"L"+i.x+" "+i.y+"Z";this.setSpriteAttributes(r,{path:s},n)},onCreateLabel:function(e,t,i,n){var r=this.labelsGroup,s=this.label,o=(this.centerX,this.centerY,t.middle),a=Ext.apply(this.seriesLabelStyle||{},s||{});return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:r,x:o.x,y:o.y},a))},onPlaceLabel:function(e,t,i,n,r,s,o){var a,l,d,h,c=this.chart.resizing,u=this.label,f=u.renderer,g=u.field,p=this.centerX,m=this.centerY,x=i.middle,y={x:x.x,y:x.y},E=x.x-p,v=x.y-m,b=1,C=Math.atan2(v,E||1),w=Ext.draw.Draw.degrees(C),S="outside"===r,P=e.attr.calloutLine,k=P&&P.width||2,T=(e.attr.padding||20)+(S?k/2+4:0),I=0,M=0;if(y.hidden=!1,this.__excludes&&this.__excludes[n]&&(y.hidden=!0),e.setAttributes({opacity:y.hidden?0:1,text:f(t.get(g),e,t,i,n,r,s,o)},!0),e.lineSprite){var D={opacity:y.hidden?0:1};y.hidden&&(D.translate={x:0,y:0}),this.setSpriteAttributes(e.lineSprite,D,!1)}switch(r){case"outside":e.isOutside=!0,b=i.endRho,I=Math.abs(w)<=90?T:-T,M=0<=w?T:-T,e.setAttributes({rotation:{degrees:0}},!0),d=(l=e.getBBox()).width/2*Math.cos(C),h=l.height/2*Math.sin(C),d+=I,h+=M,b+=Math.sqrt(d*d+h*h),y.x=b*Math.cos(C)+p,y.y=b*Math.sin(C)+m;break;case"rotate":w=90<(w=Ext.draw.Draw.normalizeDegrees(w))&&w<270?w+180:w,null!=(a=e.attr.rotation.degrees)&&90<Math.abs(a-w)?(a<w?w-=360:w+=360,w%=360):w=Ext.draw.Draw.normalizeDegrees(w),y.rotate={degrees:w,x:y.x,y:y.y}}if(y.translate={x:0,y:0},!s||c||"rotate"==r&&null==a?e.setAttributes(y,!0):this.onAnimate(e,{to:y}),e._from={},e.isOutside&&P){var A=e.lineSprite,F=s,R={x:(i.endRho-k/2)*Math.cos(C)+p,y:(i.endRho-k/2)*Math.sin(C)+m},L=y.x,O=y.y,B={};function H(e){return e?e<0?-1:1:0}if(P&&P.length)B={x:(i.endRho+P.length)*Math.cos(C)+p,y:(i.endRho+P.length)*Math.sin(C)+m};else{var N=Ext.draw.Draw.normalizeRadians(-C),z=Math.cos(N),W=Math.sin(N),V=(l.width+k+4)/2,G=(l.height+k+4)/2;Math.abs(z)*G>Math.abs(W)*V?(B.x=L-V*H(z),B.y=O+V*W/z*H(z)):(B.x=L-G*z/W*H(W),B.y=O+G*H(W))}A||(A=e.lineSprite=this.createLabelLine(n),F=!1),this.drawLabelLine(e,R,B,F)}else delete e.lineSprite},onPlaceCallout:function(e,t,i,n,r,s,o){var a,l,d,h=this.chart,c=this.centerX,u=this.centerY,f=i.middle,g={x:f.x,y:f.y},p=f.x-c,m=f.y-u,x=Math.atan2(m,p||1),y=e&&e.label?e.label.getBBox():{width:0,height:0};if(y.width&&y.height)for(d in a=i.endRho+20,l=(i.endRho+i.startRho)/2+(i.endRho-i.startRho)/3,g.x=a*Math.cos(x)+c,g.y=a*Math.sin(x)+u,p=l*Math.cos(x),m=l*Math.sin(x),h.animate?(this.onAnimate(e.lines,{to:{path:["M",p+c,m+u,"L",g.x,g.y,"Z","M",g.x,g.y,"l",0<p?10:-10,0,"z"]}}),this.onAnimate(e.box,{to:{x:g.x+(0<p?10:-(10+y.width+20)),y:g.y+(-y.height-5),width:y.width+20,height:y.height+20}}),this.onAnimate(e.label,{to:{x:g.x+(0<p?20:-(10+y.width+10)),y:g.y+-y.height/4}})):(e.lines.setAttributes({path:["M",p+c,m+u,"L",g.x,g.y,"Z","M",g.x,g.y,"l",0<p?10:-10,0,"z"]},!0),e.box.setAttributes({x:g.x+(0<p?10:-(10+y.width+20)),y:g.y+(-y.height-5),width:y.width+20,height:y.height+20},!0),e.label.setAttributes({x:g.x+(0<p?20:-(10+y.width+10)),y:g.y+-y.height/4},!0)),e)e[d].show(!0)},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,i,n){var r=this.centerX,s=this.centerY,o=Math.abs,a=o(e-r),l=o(t-s),d=i.startAngle,h=i.endAngle,c=Math.sqrt(a*a+l*l),u=Math.atan2(t-s,e-r)/this.rad;return u>this.firstAngle&&(u-=this.accuracy),u<=d&&h<u&&c>=i.startRho&&c<=i.endRho},hideAll:function(e){var t,i,n,r,s,o,a;for(e=(isNaN(this._index)?e:this._index)||0,this.__excludes=this.__excludes||[],this.__excludes[e]=!0,s=0,o=(a=this.slices[e].sprite).length;s<o;s++){a[s].setAttributes({hidden:!0},!0);var l=a[s].lineSprite;l&&l.setAttributes({hidden:!0},!0)}if(this.slices[e].shadowAttrs)for(t=0,i=(r=this.slices[e].shadowAttrs).length;t<i;t++)for(s=0,o=(n=r[t]).length;s<o;s++)n[s].setAttributes({hidden:!0},!0);this.drawSeries()},showAll:function(e){e=(isNaN(this._index)?e:this._index)||0,this.__excludes[e]=!1,this.drawSeries()},highlightItem:function(e){var t,i,n,r,s,o,a,l,d,h,c,u,f,g,p,m,x,y=this,E=y.rad;if(e=e||this.items[this._index],this.unHighlightItem(),!(!e||y.animating||e.sprite&&e.sprite._animating)&&(y.callParent([e]),y.highlight&&"segment"in y.highlightCfg&&(t=y.highlightCfg.segment,i=y.chart.animate,y.labelsGroup&&(c=y.labelsGroup,y.label.display,u=c.getAt(e.index),f=(e.startAngle+e.endAngle)/2*E,p=(g=t.margin||0)*Math.cos(f),m=g*Math.sin(f),Math.abs(p)<1e-10&&(p=0),Math.abs(m)<1e-10&&(m=0),y.setSpriteAttributes(u,{translate:{x:p,y:m}},i),(x=u.lineSprite)&&y.setSpriteAttributes(x,{translate:{x:p,y:m}},i)),y.chart.shadow&&e.shadows)))for(r=0,a=(s=e.shadows).length;r<a;r++){for(h in o=s[r],l={},d=e.sprite._from.segment)h in t||(l[h]=d[h]);n={segment:Ext.applyIf(l,y.highlightCfg.segment)},y.setSpriteAttributes(o,n,i)}},unHighlightItem:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u,f,g,p,m,x,y,E=this;if(E.highlight){if("segment"in E.highlightCfg&&E.items)for(e=E.items,t=E.chart.animate,i=!!E.chart.shadow,n=E.labelsGroup,r=e.length,o=s=0,a=E.label.display;s<r;s++)if((m=e[s])&&(f=m.sprite)&&f._highlighted){if(n){x=n.getAt(m.index),y=Ext.apply({translate:{x:0,y:0}},"rotate"==a?{rotate:{x:x.attr.x,y:x.attr.y,degrees:x.attr.rotation.degrees}}:{}),E.setSpriteAttributes(x,y,t);var v=x.lineSprite;v&&E.setSpriteAttributes(v,{translate:{x:0,y:0}},t)}if(i)for(l=(g=m.shadows).length;o<l;o++){for(d in h={},c=m.sprite._to.segment,u=m.sprite._from.segment,Ext.apply(h,u),c)d in u||(h[d]=c[d]);p=g[o],E.setSpriteAttributes(p,{segment:h},t)}}E.callParent(arguments)}},getLegendColor:function(e){return this.colorSet&&this.colorSet[e%this.colorSet.length]||this.colorArrayStyle[e%this.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Radar",{extend:Ext.chart.series.Series,type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:!1,style:{},constructor:function(e){this.callParent(arguments);var t=this.chart.surface;this.group=t.getGroup(this.seriesId),this.showMarkers&&(this.markerGroup=t.getGroup(this.seriesId+"-markers"))},drawSeries:function(){var e,t,i,n,r,s,o,a,l,d,h,c,u,f,g,p,m=this,x=m.chart.getChartStore(),y=x.data.items,E=m.group,v=m.chart,b=v.series.items,C=m.field||m.yField,w=v.surface,S=v.chartBBox,P=m.colorArrayStyle,k=0,T=[],I=Math.max,M=Math.cos,D=Math.sin,A=2*Math.PI,F=x.getCount(),R=m.seriesStyle,L=v.axes&&v.axes.get(0),O=!(L&&L.maximum);if(m.setBBox(),k=O?0:L.maximum||0,Ext.apply(R,m.style||{}),!x||!x.getCount()||m.seriesIsHidden)return m.hide(),m.items=[],m.radar&&m.radar.hide(!0),void(m.radar=null);if(R.stroke||(R.stroke=P[m.themeIdx%P.length]),m.unHighlightItem(),m.cleanHighlights(),s=m.centerX=S.x+S.width/2,o=m.centerY=S.y+S.height/2,m.radius=l=Math.min(S.width,S.height)/2,m.items=a=[],O){for(i=0,n=b.length;i<n;i++)r=b[i],T.push(r.yField);for(e=0;e<F;e++)for(t=y[e],g=0,p=T.length;g<p;g++)k=I(+t.get(T[g]),k)}for(k=k||1,d=[],h=[],g=0;g<F;g++)c=(f=l*(t=y[g]).get(C)/k)*M(g/F*A),u=f*D(g/F*A),0==g?(h.push("M",c+s,u+o),d.push("M",.01*c+s,.01*u+o)):(h.push("L",c+s,u+o),d.push("L",.01*c+s,.01*u+o)),a.push({sprite:!1,point:[s+c,o+u],storeItem:t,series:m});h.push("Z"),m.radar||(m.radar=w.add(Ext.apply({type:"path",group:E,path:d},R||{}))),v.resizing&&m.radar.setAttributes({path:d},!0),v.animate?m.onAnimate(m.radar,{to:Ext.apply({path:h},R||{})}):m.radar.setAttributes(Ext.apply({path:h},R||{}),!0),m.showMarkers&&m.drawMarkers(),m.renderLabels(),m.renderCallouts()},drawMarkers:function(){var e,t,i,n,r,s=this,o=s.chart,a=o.surface,l=o.getChartStore(),d=Ext.apply({},s.markerStyle||{}),h=Ext.apply(d,s.markerConfig,{fill:s.colorArrayStyle[s.themeIdx%s.colorArrayStyle.length]}),c=s.items,u=h.type,f=s.markerGroup,g=s.centerX,p=s.centerY;for(delete h.type,t=0,i=c.length;t<i;t++)e=c[t],(n=f.getAt(t))?n.show():n=Ext.chart.Shape[u](a,Ext.apply({group:f,x:0,y:0,translate:{x:g,y:p}},h)),e.sprite=n,o.resizing&&n.setAttributes({x:0,y:0,translate:{x:g,y:p}},!0),n._to={translate:{x:e.point[0],y:e.point[1]}},r=s.renderer(n,l.getAt(t),n._to,t,l),r=Ext.applyIf(r||{},h||{}),o.animate?s.onAnimate(n,{to:r}):n.setAttributes(r,!0)},isItemInPoint:function(e,t,i){var n,r=Math.abs;return r((n=i.point)[0]-e)<=10&&r(n[1]-t)<=10},onCreateLabel:function(e,t,i,n){var r=this.labelsGroup,s=this.label,o=this.centerX,a=this.centerY,l=Ext.apply({},s,this.seriesLabelStyle||{});return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:r,x:o,y:a},l||{}))},onPlaceLabel:function(e,t,i,n,r,s,o){var a,l,d,h=this.chart.resizing,c=this.label,u=c.renderer,f=c.field,g=this.centerX,p=this.centerY,m={x:Number(i.point[0]),y:Number(i.point[1])},x=m.x-g,y=m.y-p,E=180*Math.atan2(y,x||1)/Math.PI;e.setAttributes({text:u(t.get(f),e,t,i,n,r,s,o),hidden:!0},!0),a=e.getBBox(),(d=E)<0&&(d+=360),45<(E=d%360)&&E<135||225<E&&E<315?(l=45<E&&E<135?1:-1,m.y+=l*a.height/2):(l=135<=E&&E<=225?-1:1,m.x+=l*a.width/2),h&&e.setAttributes({x:g,y:p},!0),s?(e.show(!0),this.onAnimate(e,{to:m})):(e.setAttributes(m,!0),e.show(!0))},toggleAll:function(e){var t,i,n;if(e?Ext.chart.series.Radar.superclass.showAll.call(this):Ext.chart.series.Radar.superclass.hideAll.call(this),this.radar&&(this.radar.setAttributes({hidden:!e},!0),this.radar.shadows))for(t=0,i=(n=this.radar.shadows).length;t<i;t++)n[t].setAttributes({hidden:!e},!0)},hideAll:function(){this.toggleAll(!1),this.hideMarkers(0)},showAll:function(){this.toggleAll(!0)},hideMarkers:function(e){for(var t=this.markerGroup&&this.markerGroup.getCount()||0,i=e||0;i<t;i++)this.markerGroup.getAt(i).hide(!0)},getAxesForXAndYFields:function(){var e=this.chart.axes;return{yAxis:[].concat(e&&e.get(0))}}}),Ext.define("Ext.chart.series.Scatter",{extend:Ext.chart.series.Cartesian,type:"scatter",alias:"series.scatter",constructor:function(e){this.callParent(arguments);var t,i,n=this.chart.shadow,r=this.chart.surface;if(Ext.apply(this,e,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)"}]}),this.group=r.getGroup(this.seriesId),n)for(t=0,i=this.shadowAttributes.length;t<i;t++)this.shadowGroups.push(r.getGroup(this.seriesId+"-shadows"+t))},getBounds:function(){var e,t,i,n,r,s,o,a,l,d=this.chart,h=d.getChartStore(),c=d.axes,u=this.getAxesForXAndYFields(),f=u.xAxis,g=u.yAxis;return this.setBBox(),e=this.bbox,(a=c.get(f))&&(n=(l=a.applyData()).from,s=l.to),(a=c.get(g))&&(r=(l=a.applyData()).from,o=l.to),this.xField&&!Ext.isNumber(n)&&(n=(a=this.getMinMaxXValues())[0],s=a[1]),this.yField&&!Ext.isNumber(r)&&(r=(a=this.getMinMaxYValues())[0],o=a[1]),t=isNaN(n)?(n=0,s=h.getCount()-1,e.width/(h.getCount()-1)):e.width/(s-n),i=isNaN(r)?(r=0,o=h.getCount()-1,e.height/(h.getCount()-1)):e.height/(o-r),{bbox:e,minX:n,minY:r,xScale:t,yScale:i}},getPaths:function(){var e,t,i,n,r,s,o,a,l=this,d=l.chart,h=d.shadow,c=d.getChartStore().data.items,u=l.group,f=l.bounds=l.getBounds(),g=l.bbox,p=f.xScale,m=f.yScale,x=f.minX,y=f.minY,E=g.x,v=g.y,b=g.height,C=(l.items=[],[]),w=l.reverse;for(e=0,t=c.length;e<t;e++)s=(i=c[e]).get(l.xField),void 0===(o=i.get(l.yField))||"string"==typeof o&&!o||null==s||null==o||("string"!=typeof s&&("object"!=typeof s||Ext.isDate(s))||(s=e),"string"!=typeof o&&("object"!=typeof o||Ext.isDate(o))||(o=e),n=w?E+g.width-(s-x)*p:E+(s-x)*p,r=v+b-(o-y)*m,C.push({x:n,y:r}),l.items.push({series:l,value:[s,o],point:[n,r],storeItem:i}),d.animate&&d.resizing&&(a=u.getAt(e))&&(l.resetPoint(a),h&&l.resetShadow(a)));return C},resetPoint:function(e){var t=this.bbox;e.setAttributes({translate:{x:(t.x+t.width)/2,y:(t.y+t.height)/2}},!0)},resetShadow:function(e){var t,i,n=e.shadows,r=this.shadowAttributes,s=this.shadowGroups.length,o=this.bbox;for(t=0;t<s;t++)(i=Ext.apply({},r[t])).translate?(i.translate.x+=(o.x+o.width)/2,i.translate.y+=(o.y+o.height)/2):i.translate={x:(o.x+o.width)/2,y:(o.y+o.height)/2},n[t].setAttributes(i,!0)},createPoint:function(e,t){var i=this.chart,n=this.group,r=this.bbox;return Ext.chart.Shape[t](i.surface,Ext.apply({},{x:0,y:0,group:n,translate:{x:(r.x+r.width)/2,y:(r.y+r.height)/2}},e))},createShadow:function(e,t,i){var n,r,s,o,a=this.chart,l=this.shadowGroups,d=this.shadowAttributes,h=l.length,c=this.bbox;for(e.shadows=s=[],n=0;n<h;n++)(o=Ext.apply({},d[n])).translate?(o.translate.x+=(c.x+c.width)/2,o.translate.y+=(c.y+c.height)/2):Ext.apply(o,{translate:{x:(c.x+c.width)/2,y:(c.y+c.height)/2}}),Ext.apply(o,t),r=Ext.chart.Shape[i](a.surface,Ext.apply({},{x:0,y:0,group:l[n]},o)),s.push(r)},drawSeries:function(){var e,t,i,n,r,s,o,a,l,d,h,c=this,u=c.chart,f=u.getChartStore(),g=c.group,p=u.shadow,m=c.shadowGroups,x=c.shadowAttributes,y=m.length;if(a=(s=Ext.apply(c.markerStyle,c.markerConfig)).type||"circle",delete s.type,!f||!f.getCount())return c.hide(),void(c.items=[]);for(c.unHighlightItem(),c.cleanHighlights(),n=(t=c.getPaths()).length,r=0;r<n;r++){if(i=t[r],e=g.getAt(r),Ext.apply(i,s),e||(e=c.createPoint(i,a),p&&c.createShadow(e,s,a)),l=e.shadows,u.animate)for(d=c.renderer(e,f.getAt(r),{translate:i},r,f),e._to=d,c.onAnimate(e,{to:d}),o=0;o<y;o++)h=Ext.apply({},x[o]),d=c.renderer(l[o],f.getAt(r),Ext.apply({},{hidden:!1,translate:{x:i.x+(h.translate?h.translate.x:0),y:i.y+(h.translate?h.translate.y:0)}},h),r,f),c.onAnimate(l[o],{to:d});else for(d=c.renderer(e,f.getAt(r),{translate:i},r,f),e._to=d,e.setAttributes(d,!0),o=0;o<y;o++)h=Ext.apply({},x[o]),d=c.renderer(l[o],f.getAt(r),Ext.apply({},{hidden:!1,translate:{x:i.x+(h.translate?h.translate.x:0),y:i.y+(h.translate?h.translate.y:0)}},h),r,f),l[o].setAttributes(d,!0);c.items[r].sprite=e}for(n=g.getCount(),r=t.length;r<n;r++)g.getAt(r).hide(!0);c.renderLabels(),c.renderCallouts()},onCreateLabel:function(e,t,i,n){var r=this.labelsGroup,s=this.label,o=Ext.apply({},s,this.seriesLabelStyle),a=this.bbox;return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:r,x:Number(t.point[0]),y:a.y+a.height/2},o))},onPlaceLabel:function(e,t,i,n,r,s,o){var a,l,d,h,c,u,f,g=this.chart,p=g.resizing,m=this.label,x=m.renderer,y=m.field,E=this.bbox,v=Number(i.point[0]),b=Number(i.point[1]),C=i.sprite.attr.radius;e.setAttributes({text:x(t.get(y),e,t,i,n,r,s,o),hidden:!0},!0),(l=i.sprite.getBBox()).width=l.width||2*C,l.height=l.height||2*C,d=(a=e.getBBox()).width/2,h=a.height/2,"rotate"==r?(c=l.width/2+d+h/2,v+c+d>E.x+E.width?v-=c:v+=c,e.setAttributes({rotation:{x:v,y:b,degrees:-45}},!0)):"under"!=r&&"over"!=r||(e.setAttributes({rotation:{degrees:0}},!0),v<E.x+d?v=E.x+d:v+d>E.x+E.width&&(v=E.x+E.width-d),u=l.height/2+h,(b+="over"==r?-u:u)<E.y+h?b+=2*u:b+h>E.y+E.height&&(b-=2*u)),g.animate?p?(f=i.sprite.getActiveAnimation())?f.on("afteranimate",function(){e.setAttributes({x:v,y:b},!0),e.show(!0)}):e.show(!0):this.onAnimate(e,{to:{x:v,y:b}}):(e.setAttributes({x:v,y:b},!0),e.show(!0))},onPlaceCallout:function(e,t,i,n,r,s,o){var a,l,d,h,c,u,f,g,p=this.chart,m=(p.surface,p.resizing,this.callouts,this.items,i.point),x=e.label.getBBox(),y=this.bbox;for(u in a=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)],f=m[0]+30*a[0],g=m[1]+30*a[1],l=f+(0<a[0]?0:-(x.width+6)),d=g-x.height/2-3,h=x.width+6,c=x.height+6,(l<y[0]||l+h>y[0]+y[2])&&(a[0]*=-1),(d<y[1]||d+c>y[1]+y[3])&&(a[1]*=-1),f=m[0]+30*a[0],g=m[1]+30*a[1],l=f+(0<a[0]?0:-(x.width+6)),d=g-x.height/2-3,h=x.width+6,c=x.height+6,p.animate?(this.onAnimate(e.lines,{to:{path:["M",m[0],m[1],"L",f,g,"Z"]}},!0),this.onAnimate(e.box,{to:{x:l,y:d,width:h,height:c}},!0),this.onAnimate(e.label,{to:{x:f+(0<a[0]?3:-(x.width+3)),y:g}},!0)):(e.lines.setAttributes({path:["M",m[0],m[1],"L",f,g,"Z"]},!0),e.box.setAttributes({x:l,y:d,width:h,height:c},!0),e.label.setAttributes({x:f+(0<a[0]?3:-(x.width+3)),y:g},!0)),e)e[u].show(!0)},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,i){var n;Math.abs;return(n=i.point)[0]-10<=e&&n[0]+10>=e&&n[1]-10<=t&&n[1]+10>=t}}),Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.TableLayout",monitorResize:!1,type:"table",createsInnerCt:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(e){return this.autoSizePolicy},initHierarchyState:function(e){e.inShrinkWrapTable=!0},getLayoutItems:function(){var e,t,i=[],n=this.callParent(),r=n.length;for(t=0;t<r;t++)(e=n[t]).hidden||i.push(e);return i},getHiddenItems:function(){for(var e,t=[],i=this.owner.items.items,n=i.length,r=0;r<n;++r)(e=i[r]).rendered&&e.hidden&&t.push(e);return t},renderChildren:function(){var e,t,i,n,r,s,o,a,l=this,d=l.getLayoutItems(),h=l.owner.getTargetEl().child("table",!0).tBodies[0],c=h.rows,u=0,f=d.length,g=l.getHiddenItems();for(e=l.calculateCells(d);u<f;u++)if(i=(t=e[u]).rowIdx,n=t.cellIdx,r=d[u],(s=c[i])||(s=h.insertRow(i),l.trAttrs&&s.set(l.trAttrs)),a=o=Ext.get(s.cells[n]||s.insertCell(n)),l.needsDivWrap()&&(a=o.first()||o.createChild({tag:"div",role:"presentation"})).setWidth(null),r.rendered?l.isValidParent(r,a,i,n,h)||l.moveItem(r,a,0):l.renderItem(r,a,0),l.tdAttrs&&o.set(l.tdAttrs),r.tdAttrs&&o.set(r.tdAttrs),o.set({colSpan:r.colspan||1,rowSpan:r.rowspan||1,id:r.cellId||"",cls:l.cellCls+" "+(r.cellCls||"")}),!e[u+1]||e[u+1].rowIdx!==i)for(n++;s.cells[n];)s.deleteCell(n);for(i++;h.rows[i];)h.deleteRow(i);for(u=0,f=g.length;u<f;++u)l.ensureInDocument(g[u].getEl())},ensureInDocument:function(e){for(var t=e.dom.parentNode;t;){if("BODY"==t.tagName.toUpperCase())return;t=t.parentNode}Ext.getDetachedBody().appendChild(e)},calculate:function(e){if(e.hasDomProp("containerChildrenSizeDone")){var t=e.targetContext,i=e.widthModel.shrinkWrap,n=e.heightModel.shrinkWrap,r=n||i,s=r&&t.el.child("table",!0),o=r&&t.getPaddingInfo();i&&e.setContentWidth(s.offsetWidth+o.width,!0),n&&e.setContentHeight(s.offsetHeight+o.height,!0)}else this.done=!1},finalizeLayout:function(){if(this.needsDivWrap()){var e,t,i=this.getLayoutItems(),n=i.length;for(e=0;e<n;e++)t=i[e],Ext.fly(t.el.dom.parentNode).setWidth(t.getWidth())}},calculateCells:function(e){for(var t,i,n=[],r=0,s=0,o=0,a=this.columns||1/0,l=[],d=0,h=e.length;d<h;d++){for(i=e[d];a<=s||0<l[s];)if(a<=s)for(r++,t=o=s=0;t<a;t++)0<l[t]&&l[t]--;else s++;for(n.push({rowIdx:r,cellIdx:o}),t=i.colspan||1;t;--t)l[s]=i.rowspan||1,++s;++o}return n},getRenderTree:function(){var e,t,i,n,r,s,o,a,l=this,d=l.getLayoutItems(),h=[],c=Ext.apply({tag:"table",role:"presentation",cls:l.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",role:"presentation",cn:h}},l.tableAttrs),u=l.tdAttrs,f=l.needsDivWrap(),g=d.length;for(e=l.calculateCells(d),t=0;t<g;t++)i=d[t],s=(n=e[t]).rowIdx,o=n.cellIdx,(r=h[s])||(r=h[s]={tag:"tr",role:"presentation",cn:[]},l.trAttrs&&Ext.apply(r,l.trAttrs)),a=r.cn[o]={tag:"td",role:"presentation"},u&&Ext.apply(a,u),Ext.apply(a,{colSpan:i.colspan||1,rowSpan:i.rowspan||1,id:i.cellId||"",cls:l.cellCls+" "+(i.cellCls||"")}),f&&(a=a.cn={tag:"div",role:"presentation"}),l.configureItem(i),a.cn=i.getRenderTree();return c},isValidParent:function(e,t,i,n){var r,s;return 3===arguments.length?(s=e.el.up("table"))&&s.dom.parentNode===t.dom:(r=this.owner.getTargetEl().child("table",!0).tBodies[0].rows[i].cells[n],e.el.dom.parentNode===r)},needsDivWrap:function(){return Ext.isOpera10_5}}),Ext.define("Ext.container.ButtonGroup",{extend:Ext.panel.Panel,alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",noTitleCls:"notitle",ariaRole:"group",initComponent:function(){var e=this.columns;e&&(this.layout=Ext.apply({},{columns:e},this.layout)),this.title||this.addClsWithUI(this.noTitleCls),this.callParent(arguments)},onBeforeAdd:function(e){e.isButton&&(this.defaultButtonUI&&"default"===e.ui&&!e.hasOwnProperty("ui")?e.ui=this.defaultButtonUI:e.ui=e.ui+"-toolbar"),this.callParent(arguments)},applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e}}),Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,disabled:0,constructor:function(e){Ext.apply(this,e)},bind:function(e){(this.target=e).on("beforedestroy",this.disable,this),this.onContainerAdd(e)},unbind:function(){var e=this.target;e&&e.un("beforedestroy",this.disable,this),this.items=null},disable:function(){++this.disabled},enable:function(){0<this.disabled&&--this.disabled},handleAdd:function(e,t){this.disabled||(t.is(this.selector)&&this.onItemAdd(t.ownerCt,t),t.isQueryable&&this.onContainerAdd(t))},onItemAdd:function(e,t){var i=this.items,n=this.addHandler;this.disabled||(n&&n.call(this.scope||t,t),i&&i.add(t))},onItemRemove:function(e,t){var i=this.items,n=this.removeHandler;this.disabled||(n&&n.call(this.scope||t,t),i&&i.remove(t))},onContainerAdd:function(e,t){var i,n,r,s,o=this.handleAdd,a=this.handleRemove;if(e.isContainer&&(e.on("add",o,this),e.on("dockedadd",o,this),e.on("remove",a,this),e.on("dockedremove",a,this)),!0!==t)for(r=0,n=(i=e.query(this.selector)).length;r<n;++r)s=i[r],this.onItemAdd(s.ownerCt,s);for(r=0,n=(i=e.query(">container")).length;r<n;++r)this.onContainerAdd(i[r],!0)},handleRemove:function(e,t){this.disabled||(t.is(this.selector)&&this.onItemRemove(e,t),t.isQueryable&&this.onContainerRemove(e,t))},onContainerRemove:function(e,t){var i,n,r,s;if(t.isDestroyed||t.destroying||!t.isContainer)this.invalidateItems();else{for(this.removeCtListeners(t),n=0,r=(i=t.query(this.selector)).length;n<r;++n)s=i[n],this.onItemRemove(s.ownerCt,s);for(n=0,r=(i=t.query("container")).length;n<r;++n)this.removeCtListeners(i[n])}},removeCtListeners:function(e){e.un("add",this.handleAdd,this),e.un("dockedadd",this.handleAdd,this),e.un("remove",this.handleRemove,this),e.un("dockedremove",this.handleRemove,this)},getItems:function(){var e=this.items;return e||(e=this.items=new Ext.util.MixedCollection).addAll(this.target.query(this.selector)),e},invalidateItems:function(){this.items=null}}),Ext.define("Ext.container.Viewport",{extend:Ext.container.Container,alias:"widget.viewport",alternateClassName:"Ext.Viewport",isViewport:!0,ariaRole:"application",preserveElOnDestroy:!0,viewportCls:Ext.baseCSSPrefix+"viewport",initComponent:function(){var e=this,t=document.body.parentNode,i=e.el=Ext.getBody();Ext.getScrollbarSize(),e.width=e.height=void 0,e.callParent(arguments),Ext.fly(t).addCls(e.viewportCls),e.autoScroll&&(Ext.fly(t).setStyle(e.getOverflowStyle()),delete e.autoScroll),i.setHeight=i.setWidth=Ext.emptyFn,i.dom.scroll="no",e.allowDomMove=!1,e.renderTo=e.el},applyTargetCls:function(e){this.el.addCls(e)},onRender:function(){this.callParent(arguments),this.width=Ext.Element.getViewportWidth(),this.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var e=this;e.callParent(arguments),setTimeout(function(){Ext.EventManager.onWindowResize(e.fireResize,e)},1)},fireResize:function(e,t){e==this.width&&t==this.height||this.setSize(e,t)},initHierarchyState:function(e){this.callParent([this.hierarchyState=Ext.rootHierarchyState])},beforeDestroy:function(){this.removeUIFromElement(),this.el.removeCls(this.baseCls),Ext.fly(document.body.parentNode).removeCls(this.viewportCls),this.callParent()}}),Ext.define("Ext.data.IdGenerator",{isGenerator:!0,constructor:function(e){Ext.apply(this,e),this.id&&(Ext.data.IdGenerator.all[this.id]=this)},getRecId:function(e){return e.modelName+"-"+e.internalId},statics:{all:{},get:function(e){var t,i;if("string"==typeof e)t=i=e,e=null;else{if(e.isGenerator)return e;t=e.id||e.type,i=e.type}return this.all[t]||Ext.create("idgen."+i,e)}}}),Ext.define("Ext.data.SortTypes",{singleton:!0,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(e){return String(e).replace(this.stripTagsRE,"")},asUCText:function(e){return String(e).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(e){return String(e).toUpperCase()},asDate:function(e){return e?Ext.isDate(e)?e.getTime():Date.parse(String(e)):0},asFloat:function(e){var t=parseFloat(String(e).replace(/,/g,""));return isNaN(t)?0:t},asInt:function(e){var t=parseInt(String(e).replace(/,/g,""),10);return isNaN(t)?0:t}}),Ext.define("Ext.data.Types",{singleton:!0},function(){var e=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:e.none,type:"auto"},STRING:{convert:function(e){var t=this.useNull?null:"";return null==e?t:String(e)},sortType:e.asUCString,type:"string"},INT:{convert:function(e){return"number"==typeof e?parseInt(e):null!=e&&""!==e?parseInt(String(e).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:e.none,type:"int"},FLOAT:{convert:function(e){return"number"==typeof e?e:null!=e&&""!==e?parseFloat(String(e).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:e.none,type:"float"},BOOL:{convert:function(e){return"boolean"==typeof e?e:!this.useNull||null!=e&&""!==e?"true"===e||1==e:null},sortType:e.none,type:"bool"},DATE:{convert:function(e){var t,i=this.dateReadFormat||this.dateFormat;return e?e instanceof Date?e:i?Ext.Date.parse(e,i):(t=Date.parse(e))?new Date(t):null:null},sortType:e.asDate,type:"date"}}),Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})}),Ext.define("Ext.data.Field",{alias:"data.field",isField:!0,constructor:function(e){var t,i=this,n=Ext.data.Types;Ext.isString(e)&&(e={name:e}),Ext.apply(i,e),t=i.sortType,i.type?Ext.isString(i.type)&&(i.type=n[i.type.toUpperCase()]||n.AUTO):i.type=n.AUTO,Ext.isString(t)?i.sortType=Ext.data.SortTypes[t]:Ext.isEmpty(t)&&(i.sortType=i.type.sortType),e.hasOwnProperty("convert")?i.convert||!i.type.convert||e.hasOwnProperty("defaultValue")||(i.defaultValue=i.type.convert(i.defaultValue)):i.convert=i.type.convert,e.convert&&(i.hasCustomConvert=!0)},dateFormat:null,dateReadFormat:null,dateWriteFormat:null,useNull:!1,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0,persist:!0}),Ext.define("Ext.data.Errors",{extend:Ext.util.MixedCollection,isValid:function(){return 0===this.length},getByField:function(e){var t,i,n=[];for(i=0;i<this.length;i++)(t=this.items[i]).field==e&&n.push(t);return n}}),Ext.define("Ext.data.validations",{singleton:!0,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(e,t){return 1===arguments.length&&(t=e),!!t||0===t||!1===t},length:function(e,t){if(null==t)return!1;var i=t.length,n=e.min,r=e.max;return!(n&&i<n||r&&r<i)},email:function(e,t){return Ext.data.validations.emailRe.test(t)},format:function(e,t){return!(!e.matcher||!e.matcher.test(t))},inclusion:function(e,t){return e.list&&-1!=Ext.Array.indexOf(e.list,t)},exclusion:function(e,t){return e.list&&-1==Ext.Array.indexOf(e.list,t)}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:Ext.util.Observable},compareConvertFields:function(e,t){var i=e.convert&&e.type&&e.convert!==e.type.convert,n=t.convert&&t.type&&t.convert!==t.type.convert;return i&&!n?1:!i&&n?-1:0},itemNameFn:function(e){return e.name},onClassExtended:function(e,t,T){var I=T.onBeforeCreated;T.onBeforeCreated=function(e,t){function i(e,t){var i,n,r=0;if(e)for(i=(e=Ext.Array.from(e)).length;r<i;++r)n=e[r],Ext.isObject(n)||(n={model:n}),n.type=t,p.push(n)}function n(e,t,i){var n,r;x.events.add.firing?(r=e,n=t):(n=i,r=t.originalIndex),n.originalIndex=r,S&&(n.mapping&&n.mapping===S.mapping||n.name===S.name)&&(c.idField=n,P=!0,n.defaultValue=void 0)}function r(){x.sortBy(c.compareConvertFields)}var s,o,a,l,d=this,h=Ext.getClassName(e),c=e.prototype,u=e.prototype.superclass,f=t.validations||[],g=t.fields||[],p=t.associations||[],m=t.idgen,x=new Ext.util.MixedCollection(!1,c.itemNameFn),y=new Ext.util.MixedCollection(!1,c.itemNameFn),E=u.validations,v=u.fields,b=u.associations,C=[],w="idProperty"in t?t.idProperty:c.idProperty,S=w?w.isField?w:new Ext.data.Field(w):null,P=!1,k=t.proxy;for(e.modelName=h,c.modelName=h,E&&(f=E.concat(f)),t.validations=f,v&&(g=v.items.concat(g)),x.on({add:n,replace:n}),a=0,l=g.length;a<l;++a)s=g[a],x.add(s.isField?s:new Ext.data.Field(s));for(S&&!P&&((c.idField=S).defaultValue=void 0,x.add(S)),r(),x.on({add:r,replace:r}),t.fields=x,m&&(t.idgen=Ext.data.IdGenerator.get(m)),i(t.belongsTo,"belongsTo"),delete t.belongsTo,i(t.hasMany,"hasMany"),delete t.hasMany,i(t.hasOne,"hasOne"),delete t.hasOne,b&&(p=b.items.concat(p)),a=0,l=p.length;a<l;++a)C.push("association."+p[a].type.toLowerCase());k?k.isProxy||C.push("proxy."+(k.type||k)):e.prototype.proxy||(e.prototype.proxy=e.prototype.defaultProxyType,C.push("proxy."+e.prototype.defaultProxyType)),Ext.require(C,function(){for(Ext.ModelManager.registerType(h,e),a=0,l=p.length;a<l;++a)(o=p[a]).isAssociation?o=Ext.applyIf({ownerModel:h,associatedModel:o.model},o.initialConfig):Ext.apply(o,{ownerModel:h,associatedModel:o.model}),void 0===Ext.ModelManager.getModel(o.model)?Ext.ModelManager.registerDeferredAssociation(o):y.add(Ext.data.association.Association.create(o));t.associations=y,I.call(d,e,t,T),k&&k.isProxy&&e.setProxy(k),Ext.ModelManager.onModelDefined(e)})}},inheritableStatics:{setProxy:function(e){return e.isProxy||("string"==typeof e&&(e={type:e}),e=Ext.createByAlias("proxy."+e.type,e)),e.setModel(this),this.proxy=this.prototype.proxy=e,e},getProxy:function(){var e=this.proxy;return e||((e=this.prototype.proxy).isProxy&&(e=e.clone()),this.setProxy(e))},setFields:function(e,t,i){var n,r,s,o,a=!1,l=this.prototype,d=l.fields,h=l.superclass.fields;for(t&&(r=(l.idProperty=t).isField?t:new Ext.data.Field(t)),i&&(l.clientIdProperty=i),d?d.clear():d=this.prototype.fields=new Ext.util.MixedCollection(!1,function(e){return e.name}),h&&(e=h.items.concat(e)),o=0,s=e.length;o<s;o++)n=new Ext.data.Field(e[o]),r&&(n.mapping&&n.mapping===r.mapping||n.name===r.name)&&(a=!0,n.defaultValue=void 0),d.add(n);return r&&!a&&(r.defaultValue=void 0,d.add(r)),this.fields=d},getFields:function(){return this.prototype.fields.items},load:function(n,r){r=Ext.apply({},r),r=Ext.applyIf(r,{action:"read",id:n});var e,t=new Ext.data.Operation(r),s=r.scope||this;e=function(e){var t=null,i=e.wasSuccessful();i?((t=e.getRecords()[0]).hasId()||t.setId(n),Ext.callback(r.success,s,[t,e])):Ext.callback(r.failure,s,[t,e]),Ext.callback(r.callback,s,[t,e,i])},this.getProxy().read(t,e,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(e){var t=[this.PREFIX,"-",this.AUTO_ID++].join("");return e.phantom=!0,e.internalId=t}},idgen:{isGenerator:!0,type:"default",generate:function(){return null},getRecId:function(e){return e.modelName+"-"+e.internalId}},editing:!1,dirty:!1,persistenceProperty:"data",evented:!1,isModel:!0,phantom:!1,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",emptyData:[],constructor:function(e,t,i,n){var r,s,o,a,l,d,h,c,u,f=this,g=t||0===t,p=f.idProperty,m=f.idField;if(f.raw=i||e,f.modified={},c=f[f.persistenceProperty]=n||{},f.data=f[f.persistenceProperty],f.mixins.observable.constructor.call(f),!n)if(e?!g&&p&&(r=(t=e[p])||0===t):e=f.emptyData,o=(s=f.fields.items).length,u=0,Ext.isArray(e))for(;u<o;u++)l=(a=s[u]).name,void 0===(d=e[a.originalIndex])&&(d=a.defaultValue),a.convert&&(d=a.convert(d,f)),void 0!==d&&(c[l]=d);else for(;u<o;u++)void 0===(d=e[l=(a=s[u]).name])&&(d=a.defaultValue),a.convert&&(d=a.convert(d,f)),void 0!==d&&(c[l]=d);f.stores=[],g?(r=!0,c[p]=m&&m.convert?m.convert(t):t):r||null!=(h=f.idgen.generate())&&(f.preventInternalUpdate=!0,f.setId(h),delete f.preventInternalUpdate),f.internalId=r?t:Ext.data.Model.id(f),"function"==typeof f.init&&f.init(),f.id=f.idgen.getRecId(f)},get:function(e){return this[this.persistenceProperty][e]},_singleProp:{},set:function(e,t){var i,n,r,s,o,a,l,d,h,c,u=this,f=u[u.persistenceProperty],g=u.fields,p=u.modified,m="string"==typeof e;for(a in m?(c=u._singleProp)[e]=t:c=e,c)if(c.hasOwnProperty(a)){if(h=c[a],g&&(n=g.get(a))&&n.convert&&(h=n.convert(h,u)),i=f[a],u.isEqual(i,h))continue;if(f[a]=h,(o=o||[]).push(a),n&&n.persist)if(p.hasOwnProperty(a)){if(u.isEqual(p[a],h))for(s in delete p[a],u.dirty=!1,p)if(p.hasOwnProperty(s)){u.dirty=!0;break}}else u.dirty=!0,p[a]=i;a==u.idProperty&&(r=!0,l=i,d=h)}return m&&delete c[e],r&&u.changeId(l,d),!u.editing&&o&&u.afterEdit(o),o||null},copyFrom:function(e){var t,i,n,r,s=this,o=s.fields.items,a=o.length,l=[],d=0,h=s.idProperty;if(e){for(t=s[s.persistenceProperty],i=e[e.persistenceProperty];d<a;d++)(n=o[d].name)!=h&&(void 0===(r=i[n])||s.isEqual(t[n],r)||(t[n]=r,l.push(n)));s.phantom&&!e.phantom&&(s.beginEdit(),s.setId(e.getId()),s.endEdit(!0),s.commit(!0))}return l},isEqual:function(e,t){return e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t},beginEdit:function(){var e,t,i;if(!this.editing){for(e in this.editing=!0,this.dirtySave=this.dirty,i=this[this.persistenceProperty],t=this.dataSave={},i)i.hasOwnProperty(e)&&(t[e]=i[e]);for(e in i=this.modified,t=this.modifiedSave={},i)i.hasOwnProperty(e)&&(t[e]=i[e])}},cancelEdit:function(){var e=this;e.editing&&(e.editing=!1,e.modified=e.modifiedSave,e[e.persistenceProperty]=e.dataSave,e.dirty=e.dirtySave,e.modifiedSave=e.dataSave=e.dirtySave=null)},endEdit:function(e,t){var i;e=!0===e,this.editing&&(this.editing=!1,i=this.dataSave,this.modifiedSave=this.dataSave=this.dirtySave=null,e||(t=t||this.getModifiedFieldNames(i),(this.dirty||0<t.length)&&this.afterEdit(t)))},getModifiedFieldNames:function(e){var t,i=this[this.persistenceProperty],n=[];for(t in e=e||this.dataSave,i)i.hasOwnProperty(t)&&(this.isEqual(i[t],e[t])||n.push(t));return n},getChanges:function(){var e,t=this.modified,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=this.get(e));return i},isModified:function(e){return this.modified.hasOwnProperty(e)},setDirty:function(){var e,t,i,n=this.fields.items,r=n.length;for(this.dirty=!0,i=0;i<r;i++)(e=n[i]).persist&&(t=e.name,this.modified[t]=this.get(t))},reject:function(e){var t,i=this.modified;for(t in i)i.hasOwnProperty(t)&&"function"!=typeof i[t]&&(this[this.persistenceProperty][t]=i[t]);this.dirty=!1,this.editing=!1,this.modified={},!0!==e&&this.afterReject()},commit:function(e,t){this.phantom=this.dirty=this.editing=!1,this.modified={},!0!==e&&this.afterCommit(t)},copy:function(e){return new this.self(this.raw,e,null,Ext.apply({},this[this.persistenceProperty]))},setProxy:function(e){return e.isProxy||("string"==typeof e&&(e={type:e}),e=Ext.createByAlias("proxy."+e.type,e)),e.setModel(this.self),this.proxy=e},getProxy:function(){return this.hasOwnProperty("proxy")?this.proxy:this.self.getProxy()},validate:function(){var e,t,i,n,r,s=new Ext.data.Errors,o=this.validations,a=Ext.data.validations;if(o)for(e=o.length,r=0;r<e;r++)i=(t=o[r]).field||t.name,a[n=t.type](t,this.get(i))||s.add({field:i,message:t.message||a[n+"Message"]});return s},isValid:function(){return this.validate().isValid()},save:function(i){i=Ext.apply({},i);var n,r,e,t,s=this,o=s.phantom?"create":"update",a=i.scope||s,l=s.stores,d=0;return Ext.apply(i,{records:[s],action:o}),e=new Ext.data.Operation(i),t=function(e){var t=e.wasSuccessful();if(t){for(n=l.length;d<n;d++)(r=l[d]).fireEvent("write",r,e),r.fireEvent("datachanged",r);Ext.callback(i.success,a,[s,e])}else Ext.callback(i.failure,a,[s,e]);Ext.callback(i.callback,a,[s,e,t])},s.getProxy()[o](e,t,s),s},destroy:function(t){t=Ext.apply({records:[this],action:"destroy"},t);var i,n,r,s,e,o,a=this,l=!0!==a.phantom,d=t.scope||a,h=0;return e=new Ext.data.Operation(t),o=function(e){if(s=[a,e],i=Ext.Array.clone(a.stores),e.wasSuccessful()){for(n=i.length;h<n;h++)(r=i[h]).remove?r.remove(a,!0):r.fireEvent("bulkremove",r,[a],[r.indexOf(a)],!1),l&&r.fireEvent("write",r,e);a.clearListeners(),Ext.callback(t.success,d,s)}else Ext.callback(t.failure,d,s);Ext.callback(t.callback,d,s)},l?a.getProxy().destroy(e,o,a):(e.complete=e.success=!0,e.resultSet=a.getProxy().reader.nullResultSet,o(e)),a},getId:function(){return this.get(this.idField.name)},getObservableId:function(){return this.id},setId:function(e){this.set(this.idProperty,e)},changeId:function(e,t){var i,n,r,s=this;s.preventInternalUpdate||(i=s.hasId(e),n=s.hasId(t),r=s.internalId,s.phantom=!n,(n!==i||n&&i)&&(s.internalId=n?t:Ext.data.Model.id(s)),s.fireEvent("idchanged",s,e,t,r),s.callStore("onIdChanged",e,t,r))},hasId:function(e){return 0===arguments.length&&(e=this.getId()),!(!e&&0!==e)},join:function(e){this.stores.length?Ext.Array.include(this.stores,e):this.stores[0]=e,this.store=this.stores[0]},unjoin:function(e){Ext.Array.remove(this.stores,e),this.store=this.stores[0]||null},afterEdit:function(e){this.callStore("afterEdit",e)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(e){this.callStore("afterCommit",e)},callStore:function(e){var t,i=Ext.Array.clone(arguments),n=this.stores,r=0,s=n.length;for(i[0]=this;r<s;++r)(t=n[r])&&Ext.isFunction(t[e])&&t[e].apply(t,i)},getData:function(e){var t,i,n=this.fields.items,r=n.length,s={};for(i=0;i<r;i++)s[t=n[i].name]=this.get(t);return!0===e&&Ext.apply(s,this.getAssociatedData()),s},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(e,t){var i,n,r,s,o,a,l,d,h,c,u,f,g,p,m=this.associations.items,x=m.length,y={},E=[],v=[],b=[];for(u=0;u<x;u++)if(!(l=e[d=(c=m[u]).associationId])||l===t)if(e[d]=t,g=c.type,p=c.name,"hasMany"==g){if(i=this[c.storeName],y[p]=[],i&&0<i.getCount())for(h=(n=i.data.items).length,f=0;f<h;f++)r=n[f],y[p][f]=r.getData(),E.push(r),v.push(p),b.push(f)}else"belongsTo"!=g&&"hasOne"!=g||void 0!==(r=this[c.instanceName])&&(y[p]=r.getData(),E.push(r),v.push(p),b.push(-1));for(u=0,h=E.length;u<h;++u)r=E[u],s=y[v[u]],o=b[u],a=r.prepareAssociatedData(e,t+1),-1===o?Ext.apply(s,a):Ext.apply(s[o],a);return y}}),Ext.define("Ext.data.proxy.Server",{extend:Ext.data.proxy.Proxy,alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,constructor:function(e){e=e||{},this.callParent([e]),this.extraParams=e.extraParams||{},this.api=Ext.apply({},e.api||this.api),this.nocache=this.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(e,t){this.extraParams[e]=t},buildRequest:function(e){var t,i=e.params=Ext.apply({},e.params,this.extraParams);return Ext.applyIf(i,this.getParams(e)),void 0!==e.id&&void 0===i[this.idParam]&&(i[this.idParam]=e.id),(t=new Ext.data.Request({params:i,action:e.action,records:e.records,operation:e,url:e.url,proxy:this})).url=this.buildUrl(t),e.request=t},processResponse:function(e,t,i,n,r,s){var o,a;!0===e?((o=this.getReader()).applyDefaults="read"===t.action,!1!==(a=o.read(this.extractResponseData(n))).success?(Ext.apply(t,{response:n,resultSet:a}),t.commitRecords(a.records),t.setCompleted(),t.setSuccessful()):(t.setException(a.message),this.fireEvent("exception",this,n,t))):(this.setException(t,n),this.fireEvent("exception",this,n,t)),"function"==typeof r&&r.call(s||this,t),this.afterRequest(i,e)},setException:function(e,t){e.setException({status:t.status,statusText:t.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(e){return Ext.encode(e)},encodeSorters:function(e){for(var t=[],i=e.length,n=0;n<i;n++)t[n]={property:e[n].property,direction:e[n].direction};return this.applyEncoding(t)},encodeFilters:function(e){for(var t=[],i=e.length,n=0;n<i;n++)t[n]={property:e[n].property,value:e[n].value};return this.applyEncoding(t)},getParams:function(e){var t,i,n=this,r={},s=Ext.isDefined,o=e.groupers,a=e.sorters,l=e.filters,d=e.page,h=e.start,c=e.limit,u=n.simpleSortMode,f=n.simpleGroupMode,g=n.pageParam,p=n.startParam,m=n.limitParam,x=n.groupParam,y=n.groupDirectionParam,E=n.sortParam,v=n.filterParam,b=n.directionParam;return g&&s(d)&&(r[g]=d),p&&s(h)&&(r[p]=h),m&&s(c)&&(r[m]=c),(t=x&&o&&0<o.length)&&(f?(r[x]=o[0].property,r[y]=o[0].direction||"ASC"):r[x]=n.encodeSorters(o)),E&&a&&0<a.length&&(u?(i=0,1<a.length&&t&&(i=1),r[E]=a[i].property,r[b]=a[i].direction):r[E]=n.encodeSorters(a)),v&&l&&0<l.length&&(r[v]=n.encodeFilters(l)),r},buildUrl:function(e){var t=this.getUrl(e);return this.noCache&&(t=Ext.urlAppend(t,Ext.String.format("{0}={1}",this.cacheString,Ext.Date.now()))),t},getUrl:function(e){return e.url||this.api[e.action]||this.url},doRequest:function(e,t,i){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}}),Ext.define("Ext.data.proxy.Ajax",{extend:Ext.data.proxy.Server,alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},binary:!1,paramsAsJson:!1,doRequest:function(e,t,i){var n=this.getWriter(),r=this.buildRequest(e),s=this.getMethod(r);return e.allowWrite()&&(r=n.write(r)),Ext.apply(r,{binary:this.binary,headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(r,e,t,i),method:s,disableCaching:!1}),"GET"!==s.toUpperCase()&&this.paramsAsJson&&delete(r=Ext.apply({jsonData:r.params},r)).params,Ext.Ajax.request(r),r},getMethod:function(e){var t,i=this.actionMethods,n=e.action;return i&&(t=i[n]),t||this.defaultActionMethods[n]},createRequestCallback:function(n,r,s,o){var a=this;return function(e,t,i){a.processResponse(t,r,n,i,s,o)}}}),Ext.define("Ext.data.proxy.Client",{extend:Ext.data.proxy.Proxy,alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){}}),Ext.define("Ext.data.proxy.Memory",{extend:Ext.data.proxy.Client,alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(e){this.callParent([e]),this.setReader(this.reader)},updateOperation:function(e,t,i){for(var n=0,r=e.getRecords(),s=r.length;n<s;n++)r[n].commit();e.setCompleted(),e.setSuccessful(),Ext.callback(t,i||this,[e])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(e,t,i){var n=e.resultSet=this.getReader().read(this.data),r=n.records,s=e.sorters,o=e.groupers,a=e.filters;e.setCompleted(),n.success&&(a&&a.length&&(r=n.records=Ext.Array.filter(r,Ext.util.Filter.createFilterFn(a)),n.total=r.length),o&&o.length&&(s=s?s.concat(o):s),s&&s.length&&(n.records=Ext.Array.sort(r,Ext.util.Sortable.createComparator(s))),this.enablePaging&&void 0!==e.start&&void 0!==e.limit&&(e.start>=n.total?(n.success=!1,n.count=0,n.records=[]):(n.records=Ext.Array.slice(n.records,e.start,e.start+e.limit),n.count=n.records.length))),n.success?e.setSuccessful():this.fireEvent("exception",this,null,e),Ext.callback(t,i||this,[e])},clear:Ext.emptyFn}),Ext.define("Ext.util.LruCache",{extend:Ext.util.HashMap,constructor:function(e){Ext.apply(this,e),this.callParent([e])},add:function(e,t){var i,n=this,r=n.findKey(t);return r?(n.unlinkEntry(i=n.map[r]),i.prev=n.last,i.next=null):i={prev:n.last,next:null,key:e,value:t},n.last?n.last.next=i:n.first=i,n.last=i,n.callParent([e,i]),n.prune(),t},insertBefore:function(e,t,i){var n,r;return(i=this.map[this.findKey(i)])?((n=this.findKey(t))?this.unlinkEntry(r=this.map[n]):r={prev:i.prev,next:i,key:e,value:t},i.prev?r.prev.next=r:this.first=r,(r.next=i).prev=r,this.prune(),t):this.add(e,t)},get:function(e){var t=this.map[e];if(t)return t.next&&this.moveToEnd(t),t.value},removeAtKey:function(e){return this.unlinkEntry(this.map[e]),this.callParent(arguments)},clear:function(e){return this.first=this.last=null,this.callParent(arguments)},unlinkEntry:function(e){e&&(e.next?e.next.prev=e.prev:this.last=e.prev,e.prev?e.prev.next=e.next:this.first=e.next,e.prev=e.next=null)},moveToEnd:function(e){this.unlinkEntry(e),(e.prev=this.last)?this.last.next=e:this.first=e,this.last=e},getArray:function(e){for(var t=[],i=this.first;i;)t.push(e?i.key:i.value),i=i.next;return t},each:function(e,t,i){var n=i?this.last:this.first,r=this.length;for(t=t||this;n&&!1!==e.call(t,n.key,n.value,r);)n=i?n.prev:n.next;return this},findKey:function(e){var t,i=this.map;for(t in i)if(i.hasOwnProperty(t)&&i[t].value===e)return t},clone:function(){var e,t=new this.self(this.initialConfig),i=this.map;for(e in t.suspendEvents(),i)i.hasOwnProperty(e)&&t.add(e,i[e].value);return t.resumeEvents(),t},prune:function(){var e=this.maxSize?this.length-this.maxSize:0;if(0<e)for(;this.first&&e;e--)this.removeAtKey(this.first.key)}}),Ext.define("Ext.data.PageMap",{extend:Ext.util.LruCache,clear:function(e){this.pageMapGeneration=(this.pageMapGeneration||0)+1,this.callParent(arguments)},forEach:function(e,t){var i,n,r,s,o,a=Ext.Object.getKeys(this.map),l=a.length;for(i=0;i<l;i++)a[i]=Number(a[i]);for(Ext.Array.sort(a),t=t||this,i=0;i<l;i++)for(r=a[i],o=(s=this.getPage(r)).length,n=0;n<o;n++)if(!1===e.call(t,s[n],(r-1)*this.pageSize+n))return},findBy:function(i,n){var r=null;return n=n||this,this.forEach(function(e,t){if(i.call(n,e,t))return r=e,!1}),r},findIndexBy:function(i,n){var r=-1;return n=n||this,this.forEach(function(e,t){if(i.call(n,e))return r=t,!1}),r},getPageFromRecordIndex:function(){return Ext.data.Store.prototype.getPageFromRecordIndex.apply(this,arguments)},addAll:function(e){this.addPage(1,e)},addPage:function(e,t){var i,n,r=e+Math.floor((t.length-1)/this.pageSize);for(i=0;e<=r;e++,i+=this.pageSize)n=Ext.Array.slice(t,i,i+this.pageSize),this.add(e,n),this.fireEvent("pageAdded",e,n)},getCount:function(){var e=this.callParent();return e=e&&(e-1)*this.pageSize+this.last.value.length},indexOf:function(e){return e?e.index:-1},insert:function(){},remove:function(){},removeAt:function(){},getPage:function(e){return this.get(e)},hasRange:function(e,t){for(var i=this.getPageFromRecordIndex(e),n=this.getPageFromRecordIndex(t);i<=n;i++)if(!this.hasPage(i))return!1;return!0},hasPage:function(e){return!!this.get(e)},getAt:function(e){return this.getRange(e,e)[0]},getRange:function(e,t){this.hasRange(e,t)||Ext.Error.raise("PageMap asked for range which it does not have");for(var i,n,r,s,o=this.getPageFromRecordIndex(e),a=this.getPageFromRecordIndex(t),l=(o-1)*this.pageSize,d=a*this.pageSize-1,h=o,c=[],u=0;h<=a;h++)r=h==o?(i=e-l,!0):(i=0,!1),h==a&&(n=this.pageSize-(d-t),r=!0),r?Ext.Array.push(c,Ext.Array.slice(this.getPage(h),i,n)):Ext.Array.push(c,this.getPage(h));for(s=c.length;u<s;u++)c[u].index=e++;return c}}),Ext.define("Ext.data.Group",{extend:Ext.util.Observable,key:void 0,dirty:!0,constructor:function(){this.callParent(arguments),this.records=[]},contains:function(e){return-1!==Ext.Array.indexOf(this.records,e)},add:function(e){Ext.Array.push(this.records,e),this.dirty=!0},remove:function(e){Ext.isArray(e)||(e=[e]);var t,i=e.length;for(t=0;t<i;++t)Ext.Array.remove(this.records,e[t]);this.dirty=!0},isDirty:function(){return this.dirty},hasAggregate:function(){return!!this.aggregate},setDirty:function(){this.dirty=!0},commit:function(){this.dirty=!1},isCollapsed:function(){return this.collapsed},getAggregateRecord:function(e){var t;return!0!==e&&!this.dirty&&this.aggregate||(t=this.store.model,this.aggregate=new t,this.aggregate.isSummary=!0),this.aggregate}}),Ext.define("Ext.data.Store",{extend:Ext.data.AbstractStore,alias:"store.store",remoteSort:!1,remoteFilter:!1,remoteGroup:!1,groupField:void 0,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:void 0,currentPage:1,clearOnPageLoad:!0,loading:!1,sortOnFilter:!0,buffered:!1,purgePageCount:5,clearRemovedOnLoad:!0,defaultPageSize:25,defaultViewSize:100,addRecordsOptions:{addRecords:!0},statics:{recordIdFn:function(e){return e.internalId},recordIndexFn:function(e){return e.index},grouperIdFn:function(e){return e.id||e.property},groupIdFn:function(e){return e.key}},constructor:function(e){e=Ext.apply({},e);var t,i,n=this,r=e.groupers||n.groupers,s=e.groupField||n.groupField;(i=e.data||n.data)&&(n.inlineData=i,delete e.data),!r&&s&&(r=[{property:s,direction:e.groupDir||n.groupDir}],!e.getGroupString&&n.getGroupString===Ext.data.Store.prototype.getGroupString||(r[0].getGroupString=function(e){return n.getGroupString(e)})),delete e.groupers,n.groupers=new Ext.util.MixedCollection(!1,Ext.data.Store.grouperIdFn),n.groupers.addAll(n.decodeGroupers(r)),n.groups=new Ext.util.MixedCollection(!1,Ext.data.Store.groupIdFn),n.callParent([e]),n.buffered?(n.data=new Ext.data.PageMap({store:n,keyFn:Ext.data.Store.recordIdFn,pageSize:n.pageSize,maxSize:n.purgePageCount,listeners:{clear:n.onPageMapClear,scope:n}}),n.pageRequests={},n.remoteSort=n.remoteGroup=n.remoteFilter=!0,n.sortOnLoad=!1,n.filterOnLoad=!1):n.data=new Ext.util.MixedCollection({getKey:Ext.data.Store.recordIdFn,maintainIndices:!0}),n.remoteGroup&&(n.remoteSort=!0),n.sorters.insert(0,n.groupers.getRange()),t=n.proxy,i=n.inlineData,n.buffered||n.pageSize||(n.pageSize=n.defaultPageSize),i?(t instanceof Ext.data.proxy.Memory?(t.data=i,n.read()):n.add.apply(n,[i]),n.sorters.items.length&&!n.remoteSort&&n.group(null,null,!0),delete n.inlineData):n.autoLoad&&Ext.defer(n.load,1,n,["object"==typeof n.autoLoad?n.autoLoad:void 0])},onBeforeSort:function(){var e=this.groupers;0<e.getCount()&&this.sort(e.items,"prepend",!1)},decodeGroupers:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,i,n=e.length,r=Ext.util.Grouper,s=[];for(i=0;i<n;i++)(t=e[i])instanceof r?s.push(t):(Ext.isString(t)&&(t={property:t}),(t=Ext.apply({root:"data",direction:"ASC"},t)).fn&&(t.sorterFn=t.fn),"function"==typeof t&&(t={sorterFn:t}),s.push(new r(t)));return s},group:function(e,t,i){var n,r,s=this;e&&(s.sorters.removeAll(s.groupers.items),Ext.isArray(e)?r=e:Ext.isObject(e)?r=[e]:Ext.isString(e)&&((n=s.groupers.get(e))?void 0===t?n.toggle():n.setDirection(t):r=[n={property:e,direction:t||"ASC"}]),r&&r.length&&(s.groupers.clear(),s.groupers.addAll(s.decodeGroupers(r))),s.sorters.insert(0,s.groupers.items)),s.remoteGroup?s.buffered?(s.data.clear(),s.loadPage(1,{groupChange:!0})):s.load({scope:s,callback:i?null:s.fireGroupChange}):(s.doSort(s.generateComparator()),s.constructGroups(),i||s.fireGroupChange())},getGroupField:function(){var e,t=this.groupers.first();return t&&(e=t.property),e},constructGroups:function(){var e,t,i,n,r=this.data.items,s=r.length,o=this.groups;if(o.clear(),this.isGrouped())for(t=0;t<s;++t)n=r[t],e=this.getGroupString(n),(i=o.get(e))||(i=new Ext.data.Group({key:e,store:this}),o.add(i)),i.add(n)},clearGrouping:function(){var e,t=this,i=t.groupers.items,n=i.length;for(e=0;e<n;e++)t.sorters.remove(i[e]);t.groupers.clear(),t.remoteGroup?t.buffered?(t.data.clear(),t.loadPage(1,{groupChange:!0})):t.load({scope:t,callback:t.fireGroupChange}):(t.groups.clear(),t.sorters.length?t.sort():(t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireGroupChange())},isGrouped:function(){return 0<this.groupers.getCount()},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(e){var t,i,n,r,s=this.data.items,o=s.length,a=[],l={};for(r=0;r<o;r++)t=s[r],void 0===(n=l[i=this.getGroupString(t)])&&(n={name:i,children:[]},a.push(n),l[i]=n),n.children.push(t);return e?l[e]:a},getGroupsForGrouper:function(e,t){var i,n,r,s,o,a=e.length,l=[];for(o=0;o<a;o++)r=e[o],(n=t.getGroupString(r))!==i&&(s={name:n,grouper:t,records:[]},l.push(s)),s.records.push(r),i=n;return l},getGroupsForGrouperIndex:function(e,t){var i,n=this.groupers,r=n.getAt(t),s=this.getGroupsForGrouper(e,r),o=s.length;if(t+1<n.length)for(i=0;i<o;i++)s[i].children=this.getGroupsForGrouperIndex(s[i].records,t+1);for(i=0;i<o;i++)s[i].depth=t;return s},getGroupData:function(e){return!1!==e&&this.sort(),this.getGroupsForGrouperIndex(this.data.items,0)},getGroupString:function(e){var t=this.groupers.first();return t?t.getGroupString(e):""},insert:function(e,t){var i,n,r,s,o=this,a=!1,l=o.modelDefaults;if(s=Ext.isIterable(t)?[]:t=[t],n=t.length){for(i=0;i<n;i++)(r=t[i]).isModel||(r=o.createModel(r)),s[i]=r,l&&r.set(l),r.join(o),a=a||!0===r.phantom;o.data.insert(e,s),o.snapshot&&o.snapshot.addAll(s),o.requireSort&&(o.suspendEvents(),o.sort(),o.resumeEvents()),o.isGrouped()&&o.updateGroupsOnAdd(s),o.fireEvent("add",o,s,e),o.fireEvent("datachanged",o),o.autoSync&&a&&!o.autoSyncSuspended&&o.sync()}return s},updateGroupsOnAdd:function(e){var t,i,n,r=this.groups,s=e.length;for(t=0;t<s;++t)n=e[t],i=this.getGroupString(n),(r.getByKey(i)||r.add(new Ext.data.Group({key:i,store:this}))).add(n)},updateGroupsOnRemove:function(e){var t,i,n,r,s=this.groups,o=e.length;for(t=0;t<o;++t)r=e[t],i=this.getGroupString(r),(n=s.getByKey(i))&&(n.remove(r),0===n.records.length&&s.remove(n))},updateGroupsOnUpdate:function(e,t){var i,n,r,s,o=this.getGroupField(),a=this.getGroupString(e),l=this.groups;if(t&&Ext.Array.contains(t,o)){for(this.buffered&&Ext.Error.raise({msg:"Cannot move records between groups in a buffered store record"}),n=0,i=(r=l.items).length;n<i;++n)if((s=r[n]).contains(e)){s.remove(e);break}(s=(s=l.getByKey(a))||l.add(new Ext.data.Group({key:a,store:this}))).add(e),this.data.remove(e),this.data.insert(this.data.findInsertionIndex(e,this.generateComparator()),e)}else l.getByKey(a).setDirty()},add:function(e){var t,i,n;return i=(t=Ext.isArray(e)?e:arguments).length,(n=!this.remoteSort&&this.sorters&&this.sorters.items.length)&&1===i?[this.addSorted(this.createModel(t[0]))]:(n&&(this.requireSort=!0),t=this.insert(this.data.length,t),delete this.requireSort,t)},addSorted:function(e){var t=this.data.findInsertionIndex(e,this.generateComparator());return this.insert(t,e),e},createModel:function(e){return e.isModel||(e=Ext.ModelManager.create(e,this.model)),e},onUpdate:function(e,t,i){this.isGrouped()&&this.updateGroupsOnUpdate(e,i)},each:function(e,t){var i,n,r=this.data.items,s=r.length;for(n=0;n<s&&(i=r[n],!1!==e.call(t||i,i,n,s));n++);},remove:function(e,t,i){t=!0===t;var n,r,s,o,a,l,d,h=this,c=!1,u=h.snapshot,f=h.data,g=0,p=[],m=[],x=[],y=!i&&h.hasListeners.remove;if(e.isModel?(e=[e],n=1):Ext.isIterable(e)?n=e.length:"object"==typeof e&&(l=!0,g=e.start,d=(n=e.end+1)-g),!l){for(g=0;g<n;++g)"number"==typeof(a=e[g])?(o=a,a=f.getAt(o)):o=h.indexOf(a),a&&-1<o&&p.push({record:a,index:o}),u&&u.remove(a);g=0,n=(p=Ext.Array.sort(p,function(e,t){var i=e.index,n=t.index;return i===t.index2?0:i<n?-1:1})).length}if(n){for(;g<n;g++)o=l?(a=f.getAt(g),g):(a=(r=p[g]).record,r.index),m.push(a),x.push(o),s=!0!==a.phantom,!t&&s&&(a.removedFrom=o,h.removed.push(a)),a.unjoin(h),o-=g,c=c||s,l||(f.removeAt(o),y&&h.fireEvent("remove",h,a,o,!!t));l&&f.removeRange(e.start,d),i||(h.fireEvent("bulkremove",h,m,x,!!t),h.fireEvent("datachanged",h)),!t&&h.autoSync&&c&&!h.autoSyncSuspended&&h.sync()}},removeAt:function(e,t){var i=this.getCount();e<=i&&(1===arguments.length?this.remove([e]):t&&this.remove({start:e,end:Math.min(e+t,i)-1}))},removeAll:function(e){var t=this.snapshot,i=this.data;t&&t.removeAll(i.getRange()),this.buffered?i&&(e&&this.suspendEvent("clear"),i.clear(),e&&this.resumeEvent("clear")):(this.remove({start:0,end:this.getCount()-1},!1,e),!0!==e&&this.fireEvent("clear",this))},load:function(e){var t=this;return e="function"==typeof e?{callback:e}:Ext.apply({},e),t.remoteGroup&&!e.groupers&&t.groupers.items.length&&(e.groupers=t.groupers.items),e.page=e.page||t.currentPage,e.start=void 0!==e.start?e.start:(e.page-1)*t.pageSize,e.limit=e.limit||t.pageSize,e.addRecords=e.addRecords||!1,t.buffered?(e.limit=t.viewSize||t.defaultViewSize,e.loadCallback=e.callback,delete e.callback,t.loadToPrefetch(e)):t.callParent([e])},reload:function(e){var t,i,n,r,s,o,a,l,d=this;if(e=e||{},!d.buffered)return d.callParent(arguments);if(delete d.totalCount,d.data.clear(!0),o=function(){d.rangeCached(t,i)&&(d.loading=!1,d.data.un("pageAdded",o),l=d.data.getRange(t,i),d.fireEvent("load",d,l,!0))},a=Math.ceil((d.leadingBufferZone+d.trailingBufferZone)/2),i=d.lastRequestStart?(t=d.lastRequestStart,d.lastRequestEnd):(t=e.start||0)+(e.count||d.pageSize)-1,n=d.getPageFromRecordIndex(Math.max(t-a,0)),r=d.getPageFromRecordIndex(i+a),!1!==d.fireEvent("beforeload",d,e))for(d.loading=!0,d.data.on("pageAdded",o),s=n;s<=r;s++)d.prefetchPage(s,e)},onProxyLoad:function(e){var t=this,i=e.getResultSet(),n=e.getRecords(),r=e.wasSuccessful();t.isDestroyed||(i&&(t.totalCount=i.total),t.loading=!1,r&&t.loadRecords(n,e),t.hasListeners.load&&t.fireEvent("load",t,n,r),t.hasListeners.read&&t.fireEvent("read",t,n,r),Ext.callback(e.callback,e.scope||t,[n,e,r]))},getNewRecords:function(){return(this.snapshot||this.data).filterBy(this.filterNew).items},getUpdatedRecords:function(){return(this.snapshot||this.data).filterBy(this.filterUpdated).items},filter:function(e,t){Ext.isString(e)&&(e={property:e,value:t});var i,n=this,r=n.decodeFilters(e),s=n.sorters.length&&n.sortOnFilter&&!n.remoteSort,o=r.length;for(i=0;i<o;i++)n.filters.replace(r[i]);(e=n.filters.items).length&&(n.remoteFilter?(delete n.totalCount,n.buffered?(n.data.clear(),n.loadPage(1)):(n.currentPage=1,n.load())):(n.snapshot=n.snapshot||n.data.clone(),n.data=n.snapshot.filter(e),n.constructGroups(),s?n.sort():(n.fireEvent("datachanged",n),n.fireEvent("refresh",n))),n.fireEvent("filterchange",n,e))},clearFilter:function(e){var t=this;if(t.filters.clear(),t.remoteFilter){if(e)return;delete t.totalCount,t.buffered?(t.data.clear(),t.loadPage(1)):(t.currentPage=1,t.load())}else t.isFiltered()&&(t.data=t.snapshot,delete t.snapshot,t.constructGroups(),!0!==e&&(t.fireEvent("datachanged",t),t.fireEvent("refresh",t)));t.fireEvent("filterchange",t,t.filters.items)},removeFilter:function(e,t){var i=this;!i.remoteFilter&&i.isFiltered()&&(e instanceof Ext.util.Filter?i.filters.remove(e):i.filters.removeAtKey(e),!1!==t?i.filters.length?i.filter():i.clearFilter():i.fireEvent("filterchange",i,i.filters.items))},addFilter:function(e,t){var i,n,r;for(r=(i=this.decodeFilters(e)).length,n=0;n<r;n++)this.filters.replace(i[n]);!1!==t&&this.filters.length?this.filter():this.fireEvent("filterchange",this,this.filters.items)},isFiltered:function(){var e=this.snapshot;return!(!e||e===this.data)},filterBy:function(e,t){var i=this;i.snapshot=i.snapshot||i.data.clone(),i.data=i.queryBy(e,t||i),i.fireEvent("datachanged",i),i.fireEvent("refresh",i)},queryBy:function(e,t){return(this.snapshot||this.data).filterBy(e,t||this)},query:function(e,t,i,n,r){var s=this.createFilterFn(e,t,i,n,r),o=this.queryBy(s);return o=o||new Ext.util.MixedCollection},loadData:function(e,t){var i,n=e.length,r=[];for(i=0;i<n;i++)r.push(this.createModel(e[i]));this.loadRecords(r,t?this.addRecordsOptions:void 0)},loadRawData:function(e,t){var i=this.proxy.reader.read(e),n=i.records;i.success&&(this.totalCount=i.total,this.loadRecords(n,t?this.addRecordsOptions:void 0))},loadRecords:function(e,t){var i,n,r=this,s=0,o=e.length,a=r.snapshot;if(t&&(i=t.start,n=t.addRecords),n?a&&a.addAll(e):(delete r.snapshot,r.clearData(!0)),r.data.addAll(e),void 0!==i)for(;s<o;s++)e[s].index=i+s,e[s].join(r);else for(;s<o;s++)e[s].join(r);r.suspendEvents(),r.filterOnLoad&&!r.remoteFilter&&r.filter(),r.sortOnLoad&&!r.remoteSort&&r.sort(void 0,void 0,void 0,!0),r.resumeEvents(),r.isGrouped()&&r.constructGroups(),r.fireEvent("datachanged",r),r.fireEvent("refresh",r)},loadPage:function(e,t){if(this.currentPage=e,t=Ext.apply({page:e,start:(e-1)*this.pageSize,limit:this.pageSize,addRecords:!this.clearOnPageLoad},t),this.buffered)return t.limit=this.viewSize||this.defaultViewSize,t.loadCallback=t.callback,delete t.callback,this.loadToPrefetch(t);this.read(t)},nextPage:function(e){this.loadPage(this.currentPage+1,e)},previousPage:function(e){this.loadPage(this.currentPage-1,e)},clearData:function(e){var t,i;if(!this.buffered&&this.data)for(i=(t=this.data.items).length;i--;)t[i].unjoin(this);this.data&&this.data.clear(),!0===e&&!this.clearRemovedOnLoad||(this.removed.length=0)},loadToPrefetch:function(e){var r,t,s,o,a=this,l=e,i=e.start,n=e.start+e.limit-1,d=Math.min(n,e.start+(a.viewSize||e.limit)-1),h=a.getPageFromRecordIndex(Math.max(i-a.trailingBufferZone,0)),c=a.getPageFromRecordIndex(n+a.leadingBufferZone),u=function(){a.rangeCached(i,d)&&(a.loading=!1,t=a.data.getRange(i,d),a.data.un("pageAdded",u),a.hasListeners.guaranteedrange&&a.guaranteeRange(i,d,e.callback,e.scope),e.loadCallback&&e.loadCallback.call(e.scope||a,t,o,!0),e.callback&&e.callback.call(e.scope||a,t,i,n,e),a.fireEvent("datachanged",a),a.fireEvent("refresh",a),a.fireEvent("load",a,t,!0),e.groupChange&&a.fireGroupChange())};!1!==a.fireEvent("beforeload",a,e)&&(delete a.totalCount,a.loading=!0,e.callback&&delete(l=Ext.apply({},e)).callback,a.on("prefetch",function(e,t,i,n){if(i)if(o=n,s=a.getTotalCount())for(a.data.on("pageAdded",u),d=Math.min(d,s-1),c=a.getPageFromRecordIndex(Math.min(d+a.leadingBufferZone,s-1)),r=h+1;r<=c;++r)a.prefetchPage(r,l);else a.fireEvent("datachanged",a),a.fireEvent("refresh",a),a.fireEvent("load",a,t,!0);else a.fireEvent("load",a,t,!1)},null,{single:!0}),a.prefetchPage(h,l))},prefetch:function(e){var t,i,n=this,r=n.pageSize;return r?(n.lastPageSize&&r!=n.lastPageSize&&Ext.Error.raise("pageSize cannot be dynamically altered"),n.data.pageSize||(n.data.pageSize=r)):n.pageSize=n.data.pageSize=r=e.limit,n.lastPageSize=r,e.page||(e.page=n.getPageFromRecordIndex(e.start),e.start=(e.page-1)*r,e.limit=Math.ceil(e.limit/r)*r),n.pageRequests[e.page]||(e=Ext.apply({action:"read",filters:n.filters.items,sorters:n.sorters.items,groupers:n.groupers.items,pageMapGeneration:n.data.pageMapGeneration},e),i=new Ext.data.Operation(e),!1!==n.fireEvent("beforeprefetch",n,i)&&(t=n.proxy,n.pageRequests[e.page]=t.read(i,n.onProxyPrefetch,n),t.isSynchronous&&delete n.pageRequests[e.page])),n},onPageMapClear:function(){var e,t,i=this.wasLoading,n=this.pageRequests;for(t in this.data.events.pageadded&&this.data.events.pageadded.clearListeners(),this.loading=!0,this.totalCount=0,n)n.hasOwnProperty(t)&&(e=n[t],delete n[t],delete e.callback);this.fireEvent("clear",this),this.loading=i},prefetchPage:function(e,t){var i=this.pageSize||this.defaultPageSize,n=(e-1)*this.pageSize,r=this.totalCount;void 0!==r&&this.getCount()===r||this.prefetch(Ext.applyIf({page:e,start:n,limit:i},t))},onProxyPrefetch:function(e){var t=this,i=e.getResultSet(),n=e.getRecords(),r=e.wasSuccessful(),s=e.page;e.pageMapGeneration===t.data.pageMapGeneration&&(i&&(t.totalCount=i.total,t.fireEvent("totalcountchange",t.totalCount)),void 0!==s&&delete t.pageRequests[s],t.loading=!1,t.fireEvent("prefetch",t,n,r,e),r&&t.cachePage(n,e.page),Ext.callback(e.callback,e.scope||t,[n,e,r]))},cachePage:function(e,t){var i,n=e.length;for(Ext.isDefined(this.totalCount)||(this.totalCount=e.length,this.fireEvent("totalcountchange",this.totalCount)),i=0;i<n;i++)e[i].join(this);this.data.addPage(t,e)},rangeCached:function(e,t){return this.data&&this.data.hasRange(e,t)},pageCached:function(e){return this.data&&this.data.hasPage(e)},pagePending:function(e){return!!this.pageRequests[e]},rangeSatisfied:function(e,t){return this.rangeCached(e,t)},getPageFromRecordIndex:function(e){return Math.floor(e/this.pageSize)+1},onGuaranteedRange:function(e){var t,i=this.getTotalCount(),n=e.prefetchStart,r=e.prefetchEnd>i-1?i-1:e.prefetchEnd;r=Math.max(0,r),t=this.data.getRange(n,r),!1!==e.fireEvent&&this.fireEvent("guaranteedrange",t,n,r,e),e.callback&&e.callback.call(e.scope||this,t,n,r,e)},guaranteeRange:function(e,t,i,n,r){r=Ext.apply({callback:i,scope:n},r),this.getRange(e,t,r)},prefetchRange:function(e,t){var i,n,r;if(!this.rangeCached(e,t))for(i=this.getPageFromRecordIndex(e),n=this.getPageFromRecordIndex(t),this.data.maxSize=this.purgePageCount?n-i+1+this.purgePageCount:0,r=i;r<=n;r++)this.pageCached(r)||this.prefetchPage(r)},primeCache:function(e,t,i){var n=this;t=-1===i?(e=Math.max(e-n.leadingBufferZone,0),Math.min(t+n.trailingBufferZone,n.totalCount-1)):1===i?(e=Math.max(Math.min(e-n.trailingBufferZone,n.totalCount-n.pageSize),0),Math.min(t+n.leadingBufferZone,n.totalCount-1)):(e=Math.min(Math.max(Math.floor(e-(n.leadingBufferZone+n.trailingBufferZone)/2),0),n.totalCount-n.pageSize),Math.min(Math.max(Math.ceil(t+(n.leadingBufferZone+n.trailingBufferZone)/2),0),n.totalCount-1)),n.prefetchRange(e,t)},sort:function(e){return e&&this.buffered&&this.remoteSort&&this.data.clear(),this.callParent(arguments)},doSort:function(e){var t,i,n,r=this;if(r.remoteSort)r.buffered?(r.data.clear(),r.loadPage(1)):r.load();else{if(r.data.sortBy(e),!r.buffered)for(i=(t=r.getRange()).length,n=0;n<i;n++)t[n].index=n;r.fireEvent("datachanged",r),r.fireEvent("refresh",r)}},find:function(e,t,i,n,r,s){var o=this.createFilterFn(e,t,n,r,s);return o?this.data.findIndexBy(o,null,i):-1},findRecord:function(){var e=this.find.apply(this,arguments);return-1!==e?this.getAt(e):null},createFilterFn:function(t,i,e,n,r){return!Ext.isEmpty(i)&&(i=Ext.util.AbstractMixedCollection.prototype.createValueMatcher(i,e,n,r),function(e){return i.test(e.data[t])})},findExact:function(t,i,e){return this.data.findIndexBy(function(e){return e.isEqual(e.get(t),i)},this,e)},findBy:function(e,t,i){return this.data.findIndexBy(e,t,i)},collect:function(e,t,i){return(!0===i&&this.snapshot?this.snapshot:this.data).collect(e,"data",t)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.totalCount||0},getAt:function(e){return this.data.getAt(e)},getRange:function(i,n,r){var s,o,a,e,l=this,t=l.totalCount-1,d=l.lastRequestStart;return r=Ext.apply({prefetchStart:i,prefetchEnd:n},r),l.buffered?(n=n>=l.totalCount?t:n,s=0===i?0:i-1,o=n===t?n:n+1,l.lastRequestStart=i,l.lastRequestEnd=n,l.rangeCached(s,o)?(l.onGuaranteedRange(r),e=l.data.getRange(i,n)):(l.fireEvent("cachemiss",l,i,n),a=function(e,t){l.rangeCached(s,o)&&(l.fireEvent("cachefilled",l,i,n),l.data.un("pageAdded",a),l.onGuaranteedRange(r))},l.data.on("pageAdded",a),l.prefetchRange(i,n)),l.primeCache(i,n,i<d?-1:1)):(e=l.data.getRange(i,n),r.callback&&r.callback.call(r.scope||l,e,i,n,r)),e},getById:function(t){return(this.snapshot||this.data).findBy(function(e){return e.getId()===t})},getByInternalId:function(t){return this.buffered?(this.snapshot||this.data).findBy(function(e){return e.internalId===t}):this.data.get(t)},indexOf:function(e){return this.data.indexOf(e)},indexOfTotal:function(e){var t=e.index;return t||0===t?t:this.indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},first:function(e){return e&&this.isGrouped()?this.aggregate(function(e){return e.length?e[0]:void 0},this,!0):this.data.first()},last:function(e){return e&&this.isGrouped()?this.aggregate(function(e){var t=e.length;return t?e[t-1]:void 0},this,!0):this.data.last()},sum:function(e,t){return t&&this.isGrouped()?this.aggregate(this.getSum,this,!0,[e]):this.getSum(this.data.items,e)},getSum:function(e,t){for(var i=0,n=0,r=e.length;n<r;++n)i+=e[n].get(t);return i},count:function(e){return e&&this.isGrouped()?this.aggregate(function(e){return e.length},this,!0):this.getCount()},min:function(e,t){return t&&this.isGrouped()?this.aggregate(this.getMin,this,!0,[e]):this.getMin(this.data.items,e)},getMin:function(e,t){var i,n,r=1,s=e.length;for(0<s&&(n=e[0].get(t));r<s;++r)(i=e[r].get(t))<n&&(n=i);return n},max:function(e,t){return t&&this.isGrouped()?this.aggregate(this.getMax,this,!0,[e]):this.getMax(this.data.items,e)},getMax:function(e,t){var i,n,r=1,s=e.length;for(0<s&&(n=e[0].get(t));r<s;++r)n<(i=e[r].get(t))&&(n=i);return n},average:function(e,t){return t&&this.isGrouped()?this.aggregate(this.getAverage,this,!0,[e]):this.getAverage(this.data.items,e)},getAverage:function(e,t){var i=0,n=e.length,r=0;if(0<e.length){for(;i<n;++i)r+=e[i].get(t);return r/n}return 0},aggregate:function(e,t,i,n){if(n=n||[],i&&this.isGrouped()){var r,s,o=this.getGroups(),a=o.length,l={};for(s=0;s<a;++s)l[(r=o[s]).name]=this.getAggregate(e,t||this,r.children,n);return l}return this.getAggregate(e,t,this.data.items,n)},getAggregate:function(e,t,i,n){return n=n||[],e.apply(t||this,[i].concat(n))},onIdChanged:function(e,t,i,n){var r=this.snapshot;r&&r.updateKey(n,i),this.data.updateKey(n,i),this.callParent(arguments)},commitChanges:function(){for(var e=this.getModifiedRecords(),t=e.length,i=0;i<t;i++)e[i].commit();this.removed.length=0},filterNewOnly:function(e){return!0===e.phantom},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){for(var e,t=this.getRejectRecords(),i=t.length,n=0;n<i;n++)(e=t[n]).reject(),e.phantom&&this.remove(e);for(n=(i=(t=this.removed).length)-1;0<=n;n--)e=t[n],this.insert(e.removedFrom||0,e),e.reject();this.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"})}),Ext.define("Ext.data.reader.Array",{extend:Ext.data.reader.Json,alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:void 0,successProperty:void 0,createFieldAccessExpression:function(e,t,i){var n=null==e.mapping?e.originalIndex:e.mapping;return"function"==typeof n?t+".mapping("+i+", this)":(isNaN(n)&&(n='"'+n+'"'),i+"["+n+"]")}}),Ext.define("Ext.data.ArrayStore",{extend:Ext.data.Store,alias:"store.array",constructor:function(e){e=Ext.apply({proxy:{type:"memory",reader:"array"}},e),this.callParent([e])},loadData:function(e,t){if(!0===this.expandData){for(var i=[],n=0,r=e.length;n<r;n++)i[i.length]=[e[n]];e=i}this.callParent([e,t])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore}),Ext.define("Ext.data.Batch",{mixins:{observable:Ext.util.Observable},autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.operations=[],this.exceptions=[]},add:function(e){return this.total++,e.setBatch(this),this.operations.push(e),this},start:function(e){return this.isRunning?this:(this.exceptions.length=0,this.hasException=!1,this.isRunning=!0,this.runOperation(Ext.isDefined(e)?e:this.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){return this.isRunning=!1,this},runOperation:function(e){var t,i=this,n=i.operations,r=n[e];return void 0===r?(i.isRunning=!1,i.isComplete=!0,i.fireEvent("complete",i,n[n.length-1])):(i.current=e,t=function(e){var t=e.hasException();t&&(i.hasException=!0,i.exceptions.push(e),i.fireEvent("exception",i,e)),t&&i.pauseOnException?i.pause():(e.setCompleted(),i.fireEvent("operationcomplete",i,e),i.runNextOperation())},r.setStarted(),i.proxy[r.action](r,t,i)),i}}),Ext.define("Ext.data.BufferStore",{extend:Ext.data.Store,alias:"store.buffer",sortOnLoad:!1,filterOnLoad:!1,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}}),Ext.define("Ext.data.JsonStore",{extend:Ext.data.Store,alias:"store.json",constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.NodeInterface",{statics:{decorate:function(e){var t,i,n;"string"==typeof e?e=Ext.ModelManager.getModel(e):e.isModel&&(e=Ext.ModelManager.getModel(e.modelName)),e.prototype.isNode||(t=e.prototype.idProperty,i=e.prototype.fields.get(t),n=e.prototype.fields.get(t).type.type,e.override(this.getPrototypeBody()),this.applyFields(e,[{name:"parentId",type:n,defaultValue:null,useNull:i.useNull},{name:"index",type:"int",defaultValue:-1,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null}]))},applyFields:function(e,t){var i,n,r=e.prototype.fields,s=r.keys,o=t.length;for(n=0;n<o;n++)i=t[n],Ext.Array.contains(s,i.name)||r.add(new Ext.data.Field(i))},getPrototypeBody:function(){var l={idchanged:!0,append:!0,remove:!0,bulkremove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0,rootchange:!0};return{isNode:!0,constructor:function(){return this.callParent(arguments),this.firstChild=this.lastChild=this.parentNode=this.previousSibling=this.nextSibling=null,this.childNodes=[],this},createNode:function(e){return e.isModel||(e=Ext.ModelManager.create(e,this.modelName)),e.childNodes||(e.firstChild=e.lastChild=e.parentNode=e.previousSibling=e.nextSibling=null,e.childNodes=[]),e},isLeaf:function(){return!0===this.get("leaf")},setFirstChild:function(e){this.firstChild=e},setLastChild:function(e){this.lastChild=e},updateInfo:function(e,t){var i,n,r,s,o,a,l,d,h=this,c=h.data.depth,u={},f=h.childNodes,g=f.length,p=h.phantom,m=h[h.persistenceProperty],x=h.fields,y=h.modified,E=t.parentId;for(n in t||Ext.Error.raise("NodeInterface expects update info to be passed"),t)if(s=x.get(n),r=t[n],d=s&&s.persist,o=m[n],((l=d&&"index"===n&&-1!==o&&E&&E!==y.parentId)||!h.isEqual(o,r))&&(m[n]=r,d))if(!l&&y.hasOwnProperty(n)){if(h.isEqual(y[n],r))for(a in delete y[n],h.dirty=!1,y)if(y.hasOwnProperty(a)){h.dirty=!0;break}}else h.dirty=!0,y[n]=o;if(e&&(h.commit(),h.phantom=p),h.data.depth!==c)for(u={depth:h.data.depth+1},i=0;i<g;i++)f[i].updateInfo(e,u)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&0<this.childNodes.length},isExpandable:function(){return!!this.get("expandable")&&!(this.isLeaf()||this.isLoaded()&&!this.phantom&&!this.hasChildNodes())},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(e,t,i){var n,r,s,o,a,l=this,d={isLast:!0,parentId:l.getId(),depth:(l.data.depth||0)+1};if(!Ext.isArray(e)){if(e=l.createNode(e),!0!==t&&!1===l.fireEventArgs("beforeappend",[l,e]))return!1;if(s=l.childNodes.length,o=e.parentNode){if(!0!==t&&!1===e.fireEventArgs("beforemove",[e,o,l,s]))return!1;o.removeChild(e,!1,!1,!0)}return Ext.suspendLayouts(),0===(s=l.childNodes.length)&&l.setFirstChild(e),(l.childNodes[s]=e).parentNode=l,e.nextSibling=null,l.setLastChild(e),(a=l.childNodes[s-1])?((e.previousSibling=a).nextSibling=e,a.updateInfo(i,{isLast:!1}),a.triggerUIUpdate()):e.previousSibling=null,d.isFirst=0===s,d.index=s,e.updateInfo(i,d),l.isLoaded()?1===l.childNodes.length&&l.triggerUIUpdate():l.set("loaded",!0),s&&l.childNodes[s-1].isExpanded()&&l.childNodes[s-1].cascadeBy(l.triggerUIUpdate),!e.isLeaf()&&e.phantom&&e.set("loaded",!0),Ext.resumeLayouts(!0),!0!==t&&(l.fireEventArgs("append",[l,e,s]),o&&e.fireEventArgs("move",[e,o,l,s])),e}for(l.callStore("suspendAutoSync"),n=0,r=e.length-1;n<r;n++)l.appendChild(e[n],t,i);l.callStore("resumeAutoSync"),l.appendChild(e[r],t,i)},getOwnerTree:function(){for(var e,t=this;t.parentNode;)t=t.parentNode;if((e=t.store)&&(e.treeStore&&(e=e.treeStore),e.tree))return e.ownerTree},removeChild:function(e,t,i,n){var r,s,o,a=this,l=a.indexOf(e);if(-1===l||!0!==i&&!1===a.fireEventArgs("beforeremove",[a,e,!!n]))return!1;if(Ext.suspendLayouts(),Ext.Array.erase(a.childNodes,l,1),a.firstChild===e&&a.setFirstChild(e.nextSibling),a.lastChild===e&&a.setLastChild(e.previousSibling),(o=e.previousSibling)&&(e.previousSibling.nextSibling=e.nextSibling),e.nextSibling)for(e.nextSibling.previousSibling=e.previousSibling,0===l&&e.nextSibling.updateInfo(!1,{isFirst:!0}),r=l,s=a.childNodes.length;r<s;r++)a.childNodes[r].updateInfo(!1,{index:r});else o&&(o.updateInfo(!1,{isLast:!0}),o.isExpanded()?o.cascadeBy(a.triggerUIUpdate):o.triggerUIUpdate());return a.childNodes.length||a.triggerUIUpdate(),Ext.resumeLayouts(!0),!0!==i&&(e.removeContext={parentNode:e.parentNode,previousSibling:e.previousSibling,nextSibling:e.nextSibling},e.previousSibling=e.nextSibling=e.parentNode=null,a.fireEventArgs("remove",[a,e,!!n]),e.removeContext=null),t?e.destroy(!0):e.clear(),e},copy:function(e,t){var i,n=this.callParent(arguments),r=this.childNodes?this.childNodes.length:0;if(t)for(i=0;i<r;i++)n.appendChild(this.childNodes[i].copy(void 0,!0));return n},clear:function(e){this.parentNode=this.previousSibling=this.nextSibling=null,e&&(this.firstChild=this.lastChild=null)},destroy:function(e){var t,i=this.destroyOptions,n=this.childNodes,r=n.length;if(!0===e){for(this.clear(!0),t=0;t<r;t++)n[t].destroy(!0);this.childNodes=null,delete this.destroyOptions,this.callParent([i])}else this.destroyOptions=e,this.remove(!0)},insertBefore:function(e,t,i){var n,r,s,o=this,a=o.indexOf(t),l=e.parentNode,d=a;if(!t)return o.appendChild(e);if(e===t)return!1;if(e=o.createNode(e),!0!==i&&!1===o.fireEventArgs("beforeinsert",[o,e,t]))return!1;if(l===o&&o.indexOf(e)<a&&d--,l){if(!0!==i&&!1===e.fireEventArgs("beforemove",[e,l,o,a,t]))return!1;l.removeChild(e,!1,!1,!0)}for(0===d&&o.setFirstChild(e),Ext.Array.splice(o.childNodes,d,0,e),e.parentNode=o,(e.nextSibling=t).previousSibling=e,(r=o.childNodes[d-1])?(e.previousSibling=r).nextSibling=e:e.previousSibling=null,e.updateInfo(!1,{parentId:o.getId(),index:d,isFirst:0===d,isLast:!1,depth:(o.data.depth||0)+1}),s=d+1,n=o.childNodes.length;s<n;s++)o.childNodes[s].updateInfo(!1,{index:s});return o.isLoaded()?1===o.childNodes.length&&o.triggerUIUpdate():o.set("loaded",!0),!e.isLeaf()&&e.phantom&&e.set("loaded",!0),!0!==i&&(o.fireEventArgs("insert",[o,e,t]),l&&e.fireEventArgs("move",[e,l,o,d,t])),e},insertChild:function(e,t){var i=this.childNodes[e];return i?this.insertBefore(t,i):this.appendChild(t)},remove:function(e,t){var i=this.parentNode;return i?i.removeChild(this,e,t):e&&this.destroy(!0),this},removeAll:function(e,t,i){var n,r=this,s=r.childNodes,o=0,a=s.length;if(a){for(r.fireEventArgs("bulkremove",[r,s,!1]);o<a;++o)(n=s[o]).removeContext={parentNode:n.parentNode,previousSibling:n.previousSibling,nextSibling:n.nextSibling},n.previousSibling=n.nextSibling=n.parentNode=null,r.fireEventArgs("remove",[r,n,!1]),n.removeContext=null,e?n.destroy(!0):n.removeAll(!1,t,!0);return r.firstChild=r.lastChild=null,i?r.childNodes=null:(r.childNodes.length=0,r.triggerUIUpdate()),r}},getChildAt:function(e){return this.childNodes[e]},replaceChild:function(e,t,i){var n=t?t.nextSibling:null;return this.removeChild(t,!1,i),this.insertBefore(e,n,i),t},indexOf:function(e){return Ext.Array.indexOf(this.childNodes,e)},indexOfId:function(e){for(var t=this.childNodes,i=t.length,n=0;n<i;++n)if(t[n].getId()===e)return n;return-1},getPath:function(e,t){e=e||this.idProperty,t=t||"/";for(var i=[this.get(e)],n=this.parentNode;n;)i.unshift(n.get(e)),n=n.parentNode;return t+i.join(t)},getDepth:function(){return this.get("depth")},bubble:function(e,t,i){for(var n=this;n&&!1!==e.apply(t||n,i||[n]);)n=n.parentNode},cascade:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead."),this.cascadeBy.apply(this,arguments)},cascadeBy:function(e,t,i){if(!1!==e.apply(t||this,i||[this])){var n,r=this.childNodes,s=r.length;for(n=0;n<s;n++)r[n].cascadeBy(e,t,i)}},eachChild:function(e,t,i){var n,r=this.childNodes,s=r.length;for(n=0;n<s&&!1!==e.apply(t||this,i||[r[n]]);n++);},findChild:function(e,t,i){return this.findChildBy(function(){return this.get(e)==t},null,i)},findChildBy:function(e,t,i){for(var n,r,s=this.childNodes,o=s.length,a=0;a<o;a++){if(n=s[a],!0===e.call(t||n,n))return n;if(i&&null!==(r=n.findChildBy(e,t,i)))return r}return null},contains:function(e){return e.isAncestor(this)},isAncestor:function(e){for(var t=this.parentNode;t;){if(t===e)return!0;t=t.parentNode}return!1},sort:function(e,t,i){var n,r,s=this.childNodes,o=s.length,a={isFirst:!0};if(0<o){for(Ext.Array.sort(s,e),this.setFirstChild(s[0]),this.setLastChild(s[o-1]),n=0;n<o;n++)(r=s[n]).previousSibling=s[n-1],r.nextSibling=s[n+1],a.isLast=n===o-1,a.index=n,r.updateInfo(!1,a),a.isFirst=!1,t&&!r.isLeaf()&&r.sort(e,!0,!0);!0!==i&&this.fireEventArgs("sort",[this,s])}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var e=this.parentNode;e;){if(!e.isExpanded())return!1;e=e.parentNode}return!0},expand:function(e,t,i){var n,r=this;r.isLeaf()?Ext.callback(t,i||r):r.isLoading()?r.on("expand",function(){r.expand(e,t,i)},r,{single:!0}):r.isExpanded()?e?(n=r.getOwnerTree(),r.expandChildren(!0,!!n&&n.singleExpand,t,i)):Ext.callback(t,i||r,[r.childNodes]):r.fireEventArgs("beforeexpand",[r,r.onChildNodesAvailable,r,[e,t,i]])},onChildNodesAvailable:function(e,t,i,n){var r;Ext.suspendLayouts(),this.set("expanded",!0),this.fireEventArgs("expand",[this,this.childNodes,!1]),t?(r=this.getOwnerTree(),this.expandChildren(!0,!!r&&r.singleExpand,i,n)):Ext.callback(i,n||this,[this.childNodes]),Ext.resumeLayouts(!0)},expandChildren:function(e,t,i,n){var r,s,o=this.childNodes,a=[],l=t?Math.min(o.length,1):o.length;for(r=0;r<l;++r)(s=o[r]).isLeaf()||(a[a.length]=s);for(l=a.length,r=0;r<l;++r)a[r].expand(e);i&&Ext.callback(i,n||this,[this.childNodes])},collapse:function(e,t,i){var n,r,s=this,o=s.isExpanded(),a=s.childNodes.length;if(!s.isLeaf()&&(!o&&e||!1!==s.fireEventArgs("beforecollapse",[s]))){if(Ext.suspendLayouts(),s.isExpanded())e&&(r=function(){for(n=0;n<a;n++)s.childNodes[n].setCollapsed(!0)},t=t?Ext.Function.createSequence(r,t):r),s.set("expanded",!1),s.fireEventArgs("collapse",[s,s.childNodes,!1,t?Ext.Function.bind(t,i,[s.childNodes]):null,null]),t=null;else if(e)for(n=0;n<a;n++)s.childNodes[n].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(t,i||s,[s.childNodes])},setCollapsed:function(e){var t,i=this.childNodes.length;if(!this.isLeaf()&&!1!==this.fireEventArgs("beforecollapse",[this,Ext.emptyFn])&&(this.data.expanded=!1,this.fireEventArgs("collapse",[this,this.childNodes,!1,null,null]),e))for(t=0;t<i;t++)this.childNodes[t].setCollapsed(!0)},collapseChildren:function(e,t,i){var n,r,s=this.childNodes,o=s.length,a=[];for(n=0;n<o;++n)!(r=s[n]).isLeaf()&&r.isLoaded()&&r.isExpanded()&&a.push(r);if(o=a.length)for(n=0;n<o;++n)r=a[n],n===o-1?r.collapse(e,t,i):r.collapse(e);else Ext.callback(t,i)},fireEventArgs:function(e,t){var i,n,r,s,o,a=Ext.data.Model.prototype.fireEventArgs;if(l[e]){for(n=this;!1!==i&&n;n=(o=n).parentNode)n.hasListeners[e]&&(i=a.call(n,e,t));return r=o.rootOf,!1!==i&&r&&((s=r.treeStore)&&s.hasListeners[e]&&(i=s.fireEventArgs.call(s,e,t)),!1!==i&&r.hasListeners[e]&&(i=r.fireEventArgs.call(r,e,t))),i}return a.apply(this,arguments)},serialize:function(){var e,t,i=Ext.data.writer.Json.prototype.getRecordData(this),n=this.childNodes,r=n.length;if(0<r){for(e=[],t=0;t<r;t++)e.push(n[t].serialize());i.children=e}return i}}}}}),Ext.define("Ext.data.NodeStore",{extend:Ext.data.Store,alias:"store.node",isNodeStore:!0,node:null,recursive:!1,rootVisible:!1,isExpandingOrCollapsing:0,constructor:function(e){var t;e=e||{},Ext.apply(this,e),e.proxy={type:"proxy"},this.callParent([e]),(t=this.node)&&(this.node=null,this.setNode(t))},getTotalCount:function(){return this.getCount()},setNode:function(e){var t=this;t.node&&t.node!=e&&(t.mun(t.node,{expand:t.onNodeExpand,collapse:t.onNodeCollapse,append:t.onNodeAppend,insert:t.onNodeInsert,bulkremove:t.onBulkRemove,remove:t.onNodeRemove,sort:t.onNodeSort,scope:t}),t.node=null),e&&(Ext.data.NodeInterface.decorate(e.self),t.removeAll(),t.rootVisible?t.add(e):e.isExpanded()||!1===t.treeStore.autoLoad||e.expand(),t.mon(e,{expand:t.onNodeExpand,collapse:t.onNodeCollapse,append:t.onNodeAppend,insert:t.onNodeInsert,bulkremove:t.onBulkRemove,remove:t.onNodeRemove,sort:t.onNodeSort,scope:t}),(t.node=e).isExpanded()&&e.isLoaded()&&t.onNodeExpand(e,e.childNodes,!0))},onNodeSort:function(e,t){(-1!==this.indexOf(e)||e===this.node&&!this.rootVisible&&e.isExpanded())&&(Ext.suspendLayouts(),this.onNodeCollapse(e,t,!0),this.onNodeExpand(e,t,!0),Ext.resumeLayouts(!0))},onNodeExpand:function(e,t,i){var n=this.indexOf(e)+1,r=[];i||this.fireEvent("beforeexpand",e,t,n),this.handleNodeExpand(e,t,r),this.insert(n,r),i||this.fireEvent("expand",e,t)},handleNodeExpand:function(e,t,i){var n,r,s=t?t.length:0;if((this.recursive||e===this.node)&&(e===this.node||this.isVisible(e))&&s)for(n=0;n<s;n++)r=t[n],i.push(r),r.isExpanded()&&(r.isLoaded()?this.handleNodeExpand(r,r.childNodes,i):(r.set("expanded",!1),r.expand()))},onBulkRemove:function(e,t,i){this.onNodeCollapse(e,t,!0)},onNodeCollapse:function(e,t,i,n,r){var s,o,a,l,d=this.indexOf(e)+1;if(this.recursive||e===this.node){if(i||this.fireEvent("beforecollapse",e,t,d,n,r),t.length&&this.data.contains(t[0])){for(s=e;s.parentNode;){if(a=s.nextSibling){l=!0,o=this.indexOf(a);break}s=s.parentNode}l||(o=this.getCount()),this.removeAt(d,o-d)}i||this.fireEvent("collapse",e,t,d)}},onNodeAppend:function(e,t,i){var n,r;if(this.isVisible(t)){if(0===i)n=e;else{for(r=t.previousSibling;r.isExpanded()&&r.lastChild;)r=r.lastChild;n=r}this.insert(this.indexOf(n)+1,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?this.onNodeExpand(t,t.childNodes,!0):this.treeStore.fillCount||(t.set("expanded",!1),t.expand()))}},onNodeInsert:function(e,t,i){var n=this.indexOf(i);-1!=n&&this.isVisible(t)&&(this.insert(n,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?this.onNodeExpand(t,t.childNodes,!0):(t.set("expanded",!1),t.expand())))},onNodeRemove:function(e,t,i){-1!=this.indexOf(t)&&(!t.isLeaf()&&t.isExpanded()&&(t.parentNode=t.removeContext.parentNode,t.nextSibling=t.removeContext.nextSibling,this.onNodeCollapse(t,t.childNodes,!0),t.parentNode=t.nextSibling=null),this.remove(t))},isVisible:function(e){for(var t=e.parentNode;t;){if(t===this.node&&t.data.expanded)return!0;if(!t.data.expanded)return!1;t=t.parentNode}return!1}}),Ext.define("Ext.data.Request",{action:void 0,params:void 0,method:"GET",url:void 0,constructor:function(e){Ext.apply(this,e)}}),Ext.define("Ext.data.SequentialIdGenerator",{extend:Ext.data.IdGenerator,alias:"idgen.sequential",constructor:function(){this.callParent(arguments),this.parts=[this.prefix,""]},prefix:"",seed:1,generate:function(){var e=this.parts;return e[1]=this.seed++,e.join("")}}),Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:Ext.util.Observable},root:null,constructor:function(e){this.mixins.observable.constructor.call(this),e&&this.setRootNode(e),this.on({scope:this,idchanged:this.onNodeIdChanged,insert:this.onNodeInsert,append:this.onNodeAppend,remove:this.onNodeRemove})},getRootNode:function(){return this.root},setRootNode:function(e){return(this.root=e).rootOf?e.rootOf.removeRootNode():e.parentNode&&e.parentNode.removeChild(e),e.rootOf=this,!1!==e.fireEventArgs("beforeappend",[null,e])&&(e.set("root",!0),e.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null}),this.nodeHash={},e.fireEvent("append",null,e),e.fireEvent("rootchange",e)),e},removeRootNode:function(){var e=this.root;return e.set("root",!1),e.fireEvent("remove",null,e,!1),e.fireEvent("rootchange",null),e.rootOf=this.root=null,e},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(e,t){this.registerNode(t,!0)},onNodeAppend:function(e,t){this.registerNode(t,!0)},onNodeRemove:function(e,t){this.unregisterNode(t,!0)},onNodeIdChanged:function(e,t,i,n){var r=this.nodeHash;r[e.internalId]=e,delete r[n]},getNodeById:function(e){return this.nodeHash[e]},registerNode:function(e,t){var i,n,r;if(this.nodeHash[e.internalId]=e,!0===t)for(n=(i=e.childNodes).length,r=0;r<n;r++)this.registerNode(i[r],!0)},unregisterNode:function(e,t){var i,n,r;if(delete this.nodeHash[e.internalId],!0===t)for(n=(i=e.childNodes).length,r=0;r<n;r++)this.unregisterNode(i[r],!0)},sort:function(e,t){this.getRootNode().sort(e,t)},filter:function(e,t){this.getRootNode().filter(e,t)}}),Ext.define("Ext.data.TreeModel",{extend:Ext.data.Model},function(){Ext.data.NodeInterface.decorate(this)}),Ext.define("Ext.data.TreeStore",{extend:Ext.data.AbstractStore,alias:"store.tree",clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",defaultRootProperty:"children",rootProperty:"children",fillCount:0,folderSort:!1,constructor:function(e){var t,i,n=this;(e=Ext.apply({},e)).fields||n.fields||(e.fields=[{name:"text",type:"string"}],(i=e.defaultRootProperty||n.defaultRootProperty)!==n.defaultRootProperty&&e.fields.push({name:i,type:"auto",defaultValue:null,persist:!1})),n.callParent([e]),n.tree=new Ext.data.Tree,(n.tree.treeStore=n).tree.on({scope:n,remove:n.onNodeRemove,beforeexpand:n.onBeforeNodeExpand,append:n.onNodeAdded,insert:n.onNodeAdded,sort:n.onNodeSort}),n.onBeforeSort(),(t=n.root)&&(delete n.root,n.setRootNode(t)),Ext.isDefined(n.nodeParameter)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead."),n.nodeParam=n.nodeParameter,delete n.nodeParameter)},setProxy:function(e){var t,i;return i=e instanceof Ext.data.proxy.Proxy?Ext.isEmpty(e.getReader().root):!!Ext.isString(e)||!((t=e.reader)&&!Ext.isEmpty(t.root)),(e=this.callParent(arguments)).idParam=this.nodeParam,i&&((t=e.getReader()).root=this.defaultRootProperty,t.buildExtractors(!0)),e},onBeforeSort:function(){this.folderSort&&this.sort({property:"leaf",direction:"ASC"},"prepend",!1)},onBeforeNodeExpand:function(e,t,i,n){var r,s,o,a,l=this;e.isLoaded()?(a=[e.childNodes],n&&a.push.apply(a,n),Ext.callback(t,i||e,a)):(s=o=(e.raw||e[e.persistenceProperty])[(r=l.getProxy().getReader()).root])?(l.fillNode(e,r.extractData(s)),delete o[r.root],a=[e.childNodes],n&&a.push.apply(a,n),Ext.callback(t,i||e,a)):e.isLoading()?l.on("load",function(){a=[e.childNodes],n&&a.push.apply(a,n),Ext.callback(t,i||e,a)},l,{single:!0,priority:1001}):l.read({node:e,internalCallback:function(){delete l.lastOptions.internalCallback,a=[e.childNodes],n&&a.push.apply(a,n),Ext.callback(t,i||e,a)}})},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onNodeRemove:function(e,t,i){t.unjoin(this),t.phantom||i||Ext.Array.include(this.removed,t),!this.autoSync||this.autoSyncSuspended||i||this.sync()},onNodeAdded:function(e,t){var i,n=this.getProxy().getReader(),r=t.raw||t[t.persistenceProperty];Ext.Array.remove(this.removed,t),t.join(this),t.isLeaf()||this.lazyFill||(i=n.getRoot(r))&&(this.fillNode(t,n.extractData(i)),delete r[n.root]),this.autoSync&&!this.autoSyncSuspended&&(t.phantom||t.dirty)&&this.sync()},onNodeSort:function(){this.autoSync&&!this.autoSyncSuspended&&this.sync()},setRootNode:function(e,t){var i=this.model,n=i.prototype.idProperty;return(e=e||{}).isModel?e.isModel&&!e.isNode&&Ext.data.NodeInterface.decorate(i):(e=Ext.apply({},e),Ext.applyIf(e,{id:this.defaultRootId,text:this.defaultRootText,allowDrag:!1}),void 0===e[n]&&(e[n]=this.defaultRootId),Ext.data.NodeInterface.decorate(i),e=Ext.ModelManager.create(e,i)),this.getProxy().getReader().buildExtractors(!0),this.tree.setRootNode(e),!0===t||e.isLoaded()||!0!==this.autoLoad&&!e.isExpanded()||(e.data.expanded=!1,e.expand()),e},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(e){return this.tree.getNodeById(e)},getById:function(e){return this.getNodeById(e)},load:function(e){(e=e||{}).params=e.params||{};var t,i=this,n=e.node||i.tree.getRootNode(),r=e.callback,s=e.scope;return(n=n||i.setRootNode({expanded:!0},!0)).data.expanded&&(n.data.loaded=!1,i.clearOnLoad&&(n.data.expanded=!1),e.callback=function(){i.clearOnLoad||n.collapse(),n.expand(),Ext.callback(r,s,arguments)}),e.id=n.getId(),e=Ext.apply({action:"read",filters:i.filters.items,sorters:i.getSorters(),node:e.node||n},e),i.lastOptions=e,t=new Ext.data.Operation(e),!1!==i.fireEvent("beforeload",i,t)&&(i.clearOnLoad&&(i.clearRemovedOnLoad&&i.clearRemoved(n),i.tree.un("remove",i.onNodeRemove,i),n.removeAll(!1),i.tree.on("remove",i.onNodeRemove,i)),i.loading=!0,i.proxy.read(t,i.onProxyLoad,i)),i.loading&&n&&n.set("loading",!0),i},clearRemoved:function(e){var t,i,n,r=this.removed,s=e.getId(),o=r.length,a=o,l={},d=[],h={};if(e!==this.getRootNode()){for(;a--;)h[(t=r[a]).getId()]=t;for(a=o;a--;){for(i=t=r[a];i&&i.getId()!==s;)n=i.get("parentId"),i=i.parentNode||this.getNodeById(n)||h[n];i&&(l[t.getId()]=t)}for(a=0;a<o;a++)l[(t=r[a]).getId()]||d.push(t);this.removed=d}else this.removed=[]},fillNode:function(e,t){var i,n,r,s,o,a=this,l=t?t.length:0,d=a.sorters,h=!1,c=l&&a.sortOnLoad&&!a.remoteSort&&d&&d.items&&d.items.length;for(i=1;i<l&&(r=t[i],s=t[i-1],!(h=r[r.persistenceProperty].index!=s[s.persistenceProperty].index));i++);return c?(h&&a.sorters.insert(0,a.indexSorter),(n=new Ext.util.MixedCollection).addAll(t),n.sort(a.sorters.items),t=n.items,a.sorters.remove(a.indexSorter)):h&&Ext.Array.sort(t,a.sortByIndex),e.set("loaded",!0),(o=0===a.fillCount)&&a.fireEvent("beforefill",a,e,t),++a.fillCount,t.length&&e.appendChild(t,void 0,!0),o&&a.fireEvent("fillcomplete",a,e,t),--a.fillCount,t},sortByIndex:function(e,t){return e[e.persistenceProperty].index-t[t.persistenceProperty].index},onIdChanged:function(e,t,i,n){this.tree.onNodeIdChanged(e,t,i,n),this.callParent(arguments)},onProxyLoad:function(e){var t=e.wasSuccessful(),i=e.getRecords(),n=e.node,r=e.scope||this,s=[i,e,t];this.loading=!1,n.set("loading",!1),t&&(this.clearOnLoad||(i=this.cleanRecords(n,i)),i=this.fillNode(n,i)),Ext.callback(e.internalCallback,r,s),this.fireEvent("read",this,e.node,i,t),this.fireEvent("load",this,e.node,i,t),Ext.callback(e.callback,r,s)},cleanRecords:function(e,t){for(var i,n={},r=e.childNodes,s=0,o=r.length,a=[];s<o;++s)n[r[s].getId()]=!0;for(s=0,o=t.length;s<o;++s)n[(i=t[s]).getId()]||a.push(i);return a},removeAll:function(){var e=this.getRootNode();e&&e.destroy(!0),this.fireEvent("clear",this)},doSort:function(e){var t=this;t.remoteSort?t.load():(t.tree.sort(e,!0),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireEvent("sort",t,t.sorters.getRange())}},function(){var e=this.prototype;e.indexSorter=new Ext.util.Sorter({sorterFn:e.sortByIndex})}),Ext.define("Ext.data.UuidGenerator",(rid=Math.pow(2,14),sid=Math.pow(2,16),tid=Math.pow(2,28),uid=Math.pow(2,32),{extend:Ext.data.IdGenerator,alias:"idgen.uuid",id:"uuid",version:4,constructor:function(){this.callParent(arguments),this.parts=[],this.init()},generate:function(){var e=this.parts,t=this.timestamp;return e[0]=vid(t.lo,8),e[1]=vid(65535&t.hi,4),e[2]=vid(t.hi>>>16&4095|this.version<<12,4),e[3]=vid(128|this.clockSeq>>>8&63,2)+vid(255&this.clockSeq,2),e[4]=vid(this.salt.hi,4)+vid(this.salt.lo,8),4==this.version?this.init():(++t.lo,t.lo>=uid&&(t.lo=0,++t.hi)),e.join("-").toLowerCase()},getRecId:function(e){return e.getId()},init:function(){var e,t,i=this;4==i.version?(i.clockSeq=wid(0,rid-1),e=i.salt||(i.salt={}),t=i.timestamp||(i.timestamp={}),e.lo=wid(0,uid-1),e.hi=wid(0,sid-1),t.lo=wid(0,uid-1),t.hi=wid(0,tid-1)):(i.salt=xid(i.salt),i.timestamp=xid(i.timestamp),i.salt.hi|=256)},reconfigure:function(e){Ext.apply(this,e),this.init()}})),Ext.define("Ext.data.association.BelongsTo",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(e){this.callParent(arguments);var t=this.ownerModel.prototype,i=this.associatedName,n=this.getterName||"get"+i,r=this.setterName||"set"+i;Ext.applyIf(this,{name:i,foreignKey:i.toLowerCase()+"_id",instanceName:i+"BelongsToInstance",associationKey:i.toLowerCase()}),t[n]=this.createGetter(),t[r]=this.createSetter()},createSetter:function(){var s=this.foreignKey,o=this.instanceName;return function(e,t,i){var n=e&&e.isModel,r=n?e.getId():e;if(n?this[o]=e:this[o]instanceof Ext.data.Model&&!this.isEqual(this.get(s),r)&&delete this[o],this.set(s,r),Ext.isFunction(t)&&(t={callback:t,scope:i||this}),Ext.isObject(t))return this.save(t)}},createGetter:function(){var a=this.associatedName,l=this.associatedModel,d=this.foreignKey,h=this.primaryKey,c=this.instanceName;return function(e,t){e=e||{};var i,n,r,s=this,o=s.get(d);return!0===e.reload||void 0===s[c]?((n=Ext.ModelManager.create({},a)).set(h,o),"function"==typeof e&&(e={callback:e,scope:t||s}),i=e.success,e.success=function(e){s[c]=e,i&&i.apply(this,arguments)},l.load(o,e),s[c]=n):(r=[n=s[c]],t=t||e.scope||s,Ext.callback(e,t,r),Ext.callback(e.success,t,r),Ext.callback(e.failure,t,r),Ext.callback(e.callback,t,r),n)}},read:function(e,t,i){e[this.instanceName]=t.read([i]).records[0]}}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,t){this.singulars.unshift([e,t])},plural:function(e,t){this.plurals.unshift([e,t])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(e){return-1!=Ext.Array.indexOf(this.uncountable,e)},pluralize:function(e){if(this.isTransnumeral(e))return e;var t,i,n,r=this.plurals,s=r.length;for(n=0;n<s;n++)if((i=(t=r[n])[0])==e||i.test&&i.test(e))return e.replace(i,t[1]);return e},singularize:function(e){if(this.isTransnumeral(e))return e;var t,i,n,r=this.singulars,s=r.length;for(n=0;n<s;n++)if((i=(t=r[n])[0])==e||i.test&&i.test(e))return e.replace(i,t[1]);return e},classify:function(e){return Ext.String.capitalize(this.singularize(e))},ordinalize:function(e){var t=parseInt(e,10),i=t%100;if(11<=i&&i<=13)return e+"th";switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}},function(){var e,t={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(e in t)this.plural(e,t[e]),this.singular(t[e],e)}),Ext.define("Ext.data.association.HasMany",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasManyAssociation",alias:"association.hasmany",constructor:function(e){var t,i;this.callParent(arguments),this.name=this.name||Ext.util.Inflector.pluralize(this.associatedName.toLowerCase()),t=this.ownerModel.prototype,i=this.name,Ext.applyIf(this,{storeName:i+"Store",foreignKey:this.ownerName.toLowerCase()+"_id"}),t[i]=this.createStore()},createStore:function(){var r=this.associatedModel,s=this.storeName,o=this.foreignKey,a=this.primaryKey,l=this.filterProperty,d=this.autoLoad,h=this.storeConfig||{};return function(){var e,t,i,n={};return void 0===this[s]&&(i=this.get(a),l?t={property:l,value:this.get(l),exactMatch:!0}:this.hasId(i)&&(t={property:o,value:i,exactMatch:!0}),n[o]=this.get(a),e=Ext.apply({},h,{model:r,filters:t?[t]:void 0,remoteFilter:!1,modelDefaults:n,disableMetaChangeEvent:!0}),this[s]=Ext.data.AbstractStore.create(e),d&&this[s].load()),this[s]}},read:function(t,e,i){var n,r,s,o,a=t[this.name]();if(a.add(e.read(i).records),n=this.associatedModel.prototype.associations.findBy(function(e){return"belongsTo"===e.type&&e.associatedName===t.$className}))for(s=(r=a.data.items).length,o=0;o<s;o++)r[o][n.instanceName]=t}}),Ext.define("Ext.data.association.HasOne",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",constructor:function(e){this.callParent(arguments);var t=this.ownerModel.prototype,i=this.associatedName,n=this.getterName||"get"+i,r=this.setterName||"set"+i;Ext.applyIf(this,{name:i,foreignKey:i.toLowerCase()+"_id",instanceName:i+"HasOneInstance",associationKey:i.toLowerCase()}),t[n]=this.createGetter(),t[r]=this.createSetter()},createSetter:function(){var s=this.foreignKey,o=this.instanceName;return function(e,t,i){var n=e&&e.isModel,r=n?e.getId():e;if(n?this[o]=e:this[o]instanceof Ext.data.Model&&!this.isEqual(this.get(s),r)&&delete this[o],this.set(s,r),Ext.isFunction(t)&&(t={callback:t,scope:i||this}),Ext.isObject(t))return this.save(t)}},createGetter:function(){this.ownerModel;var a=this.associatedName,l=this.associatedModel,d=this.foreignKey,h=this.primaryKey,c=this.instanceName;return function(e,t){e=e||{};var i,n,r,s=this,o=s.get(d);return!0===e.reload||void 0===s[c]?((n=Ext.ModelManager.create({},a)).set(h,o),"function"==typeof e&&(e={callback:e,scope:t||s}),i=e.success,e.success=function(e){s[c]=e,i&&i.apply(this,arguments)},l.load(o,e),s[c]=n):(r=[n=s[c]],t=t||e.scope||s,Ext.callback(e,t,r),Ext.callback(e.success,t,r),Ext.callback(e.failure,t,r),Ext.callback(e.callback,t,r),n)}},read:function(t,e,i){var n=this.associatedModel.prototype.associations.findBy(function(e){return"belongsTo"===e.type&&e.associatedName===t.$className}),r=e.read([i]).records[0];t[this.instanceName]=r,n&&(r[n.instanceName]=t)}}),Ext.define("Ext.data.proxy.WebStorage",{extend:Ext.data.proxy.Client,alternateClassName:"Ext.data.WebStorageProxy",id:void 0,constructor:function(e){this.callParent(arguments),this.cache={},this.id=this.id||(this.store?this.store.storeId:void 0),this.initialize()},create:function(e,t,i){var n,r,s,o=this,a=e.records,l=a.length,d=o.getIds();for(e.setStarted(),void 0===o.isHierarchical&&(o.isHierarchical=!!a[0].isNode,o.isHierarchical&&o.getStorageObject().setItem(o.getTreeKey(),!0)),s=0;s<l;s++)n=(r=a[s]).phantom?(r.phantom=!1,o.getNextId()):r.getId(),o.setRecord(r,n),r.commit(),d.push(n);o.setIds(d),e.setCompleted(),e.setSuccessful(),"function"==typeof t&&t.call(i||o,e)},read:function(e,t,i){var n,r,s,o,a,l=[],d=0,h=!0,c=this.model;if(e.setStarted(),this.isHierarchical)l=this.getTreeData();else if(r=(n=this.getIds()).length,a=e.id)null!==(o=this.getRecord(a))&&(s=new c(o,a,o)),s?l.push(s):h=!1;else for(;d<r;d++)a=n[d],o=this.getRecord(a),l.push(new c(o,a,o));h&&e.setSuccessful(),e.setCompleted(),e.resultSet=Ext.create("Ext.data.ResultSet",{records:l,total:l.length,loaded:!0}),"function"==typeof t&&t.call(i||this,e)},update:function(e,t,i){var n,r,s,o=e.records,a=o.length,l=this.getIds();for(e.setStarted(),s=0;s<a;s++)n=o[s],this.setRecord(n),n.commit(),void 0!==(r=n.getId())&&-1==Ext.Array.indexOf(l,r)&&l.push(r);this.setIds(l),e.setCompleted(),e.setSuccessful(),"function"==typeof t&&t.call(i||this,e)},destroy:function(e,t,i){var n,r=e.records,s=this.getIds(),o=s.length,a=[],l={},d=r.length;for(e.setStarted();d--;)Ext.apply(l,this.removeRecord(r[d]));for(d=0;d<o;d++)l[n=s[d]]||a.push(n);this.setIds(a),e.setCompleted(),e.setSuccessful(),"function"==typeof t&&t.call(i||this,e)},getRecord:function(e){var t=this.cache,i=t[e]?t[e]:Ext.decode(this.getStorageObject().getItem(this.getRecordKey(e)));return i?((t[e]=i)[this.model.prototype.idProperty]=e,i):null},setRecord:function(e,t){t?e.setId(t):t=e.getId();for(var i,n,r,s,o=e.data,a={},l=this.model.prototype.fields.items,d=l.length,h=0;h<d;h++)n=(i=l[h]).name,i.persist&&(a[n]=o[n]);delete a[this.model.prototype.idProperty],e.isNode&&1===e.get("depth")&&delete a.parentId,r=this.getStorageObject(),s=this.getRecordKey(t),this.cache[t]=a,r.removeItem(s),r.setItem(s,Ext.encode(a))},removeRecord:function(e){var t,i,n=e.getId(),r={};if(r[n]=e,this.getStorageObject().removeItem(this.getRecordKey(n)),delete this.cache[n],e.childNodes)for(t=(i=e.childNodes).length;t--;)Ext.apply(r,this.removeRecord(i[t]));return r},getRecordKey:function(e){return e.isModel&&(e=e.getId()),Ext.String.format("{0}-{1}",this.id,e)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getTreeKey:function(){return Ext.String.format("{0}-tree",this.id)},getIds:function(){var e,t=(this.getStorageObject().getItem(this.id)||"").split(","),i=this.model,n=t.length,r="string"===i.prototype.fields.get(i.prototype.idProperty).type.type;if(1==n&&""===t[0])t=[];else for(e=0;e<n;e++)t[e]=r?t[e]:+t[e];return t},setIds:function(e){var t=this.getStorageObject(),i=e.join(",");t.removeItem(this.id),Ext.isEmpty(i)||t.setItem(this.id,i)},getNextId:function(){var e,t=this.getStorageObject(),i=this.getRecordCounterKey(),n=this.model,r="string"===n.prototype.fields.get(n.prototype.idProperty).type.type;return e=this.idGenerator.generate(),t.setItem(i,e),r||(e=+e),e},getTreeData:function(){for(var e,t,i,n,r,s,o=this.getIds(),a=o.length,l=[],d={},h=[],c=0,u=this.model,f=u.prototype.idProperty;c<a;c++)s=o[c],t=this.getRecord(s),l.push(t),(d[s]=t).parentId||h.push(t);for(e=h.length,Ext.Array.sort(l,this.sortByParentId),c=e;c<a;c++)n=(t=l[c]).parentId,i&&i[f]===n||((i=d[n]).children=r=[]),r.push(t);for(c=a;c--;)(t=l[c]).children||t.leaf||(t.loaded=!0);for(c=e;c--;)t=h[c],h[c]=new u(t,t[f],t);return h},sortByParentId:function(e,t){return(e.parentId||0)-(t.parentId||0)},initialize:function(){var e=this.getStorageObject(),t=+e.getItem(this.getRecordCounterKey());e.setItem(this.id,e.getItem(this.id)||""),e.getItem(this.getTreeKey())&&(this.isHierarchical=!0),this.idGenerator=new Ext.data.SequentialIdGenerator({seed:t?1+t:1})},clear:function(){var e,t=this.getStorageObject(),i=this.getIds(),n=i.length;for(e=0;e<n;e++)t.removeItem(this.getRecordKey(i[e]));t.removeItem(this.getRecordCounterKey()),t.removeItem(this.getTreeKey()),t.removeItem(this.id),this.cache={}},getStorageObject:function(){}}),Ext.define("Ext.data.proxy.LocalStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}}),Ext.define("Ext.data.proxy.SessionStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}}),Ext.define("Ext.dd.DDTarget",{extend:Ext.dd.DragDrop,constructor:function(e,t,i){e&&this.initTarget(e,t,i)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}}),Ext.define("Ext.dd.DragTracker",{mixins:{observable:Ext.util.Observable},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(e){var t=this;Ext.apply(t,e),t.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag"),t.dragRegion=new Ext.util.Region(0,0,0,0),t.el&&t.initEl(t.el),t.mixins.observable.constructor.call(t),t.disabled&&t.disable()},initEl:function(e){var t=this;t.el=Ext.get(e),t.handle=Ext.get(t.delegate),t.delegate=t.handle?void 0:t.delegate,t.handle||(t.handle=t.el),t.handleListeners={scope:t,delegate:t.delegate,mousedown:t.onMouseDown},(t.trackOver||t.overCls)&&Ext.apply(t.handleListeners,{mouseover:t.onMouseOver,mouseout:t.onMouseOut}),t.mon(t.handle,t.handleListeners)},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.active&&this.endDrag({}),this.clearListeners(),this.mun(this.handle,this.handleListeners),this.el=this.handle=null},onMouseOver:function(e,t){var i=this;i.disabled||(Ext.EventManager.contains(e)||i.delegate)&&(i.mouseIsOut=!1,i.overCls&&i.el.addCls(i.overCls),i.fireEvent("mouseover",i,e,i.delegate?e.getTarget(i.delegate,t):i.handle))},onMouseOut:function(e){this.mouseIsDown?this.mouseIsOut=!0:(this.overCls&&this.el.removeCls(this.overCls),this.fireEvent("mouseout",this,e))},onMouseDown:function(e,t){var i,n=this;n.disabled||e.dragTracked||(n.dragTarget=n.delegate?t:n.handle.dom,n.startXY=n.lastXY=e.getXY(),n.startRegion=Ext.fly(n.dragTarget).getRegion(),!1!==n.fireEvent("mousedown",n,e)&&!1!==n.fireEvent("beforedragstart",n,e)&&!1!==n.onBeforeStart(e)&&(n.mouseIsDown=!0,e.dragTracked=!0,i=n.el.dom,Ext.isIE&&i.setCapture&&i.setCapture(),!1!==n.preventDefault&&e.preventDefault(),Ext.getDoc().on({scope:n,mouseup:n.onMouseUp,mousemove:n.onMouseMove,selectstart:n.stopSelect}),n.autoStart&&(n.timer=Ext.defer(n.triggerStart,!0===n.autoStart?1e3:n.autoStart,n,[e]))))},onMouseMove:function(e,t){var i=this,n=e.getXY(),r=i.startXY;if(e.preventDefault(),i.lastXY=n,!i.active){if(!(Math.max(Math.abs(r[0]-n[0]),Math.abs(r[1]-n[1]))>i.tolerance))return;i.triggerStart(e)}!1===i.fireEvent("mousemove",i,e)?i.onMouseUp(e):(i.onDrag(e),i.fireEvent("drag",i,e))},onMouseUp:function(e){this.mouseIsDown=!1,this.mouseIsOut&&(this.mouseIsOut=!1,this.onMouseOut(e)),e.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),this.fireEvent("mouseup",this,e),this.endDrag(e)},endDrag:function(e){var t=this,i=t.active;Ext.getDoc().un({mousemove:t.onMouseMove,mouseup:t.onMouseUp,selectstart:t.stopSelect,scope:t}),t.clearStart(),t.active=!1,i&&(t.onEnd(e),t.fireEvent("dragend",t,e)),t._constrainRegion=Ext.EventObject.dragTracked=null},triggerStart:function(e){this.clearStart(),this.active=!0,this.onStart(e),this.fireEvent("dragstart",this,e)},clearStart:function(){var e=this.timer;e&&(clearTimeout(e),this.timer=null)},stopSelect:function(e){return e.stopEvent(),!1},onBeforeStart:function(e){},onStart:function(e){},onDrag:function(e){},onEnd:function(e){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var e=this;if(e.constrainTo){if(e.constrainTo instanceof Ext.util.Region)return e.constrainTo;e._constrainRegion||(e._constrainRegion=Ext.fly(e.constrainTo).getViewRegion())}else e._constrainRegion||(e._constrainRegion=e.getDragCt().getViewRegion());return e._constrainRegion},getXY:function(e){return e?this.constrainModes[e](this,this.lastXY):this.lastXY},getOffset:function(e){var t=this.getXY(e),i=this.startXY;return[t[0]-i[0],t[1]-i[1]]},constrainModes:{point:function(e,t){var i=e.dragRegion,n=e.getConstrainRegion();return n?(i.x=i.left=i[0]=i.right=t[0],i.y=i.top=i[1]=i.bottom=t[1],i.constrainTo(n),[i.left,i.top]):t},dragTarget:function(e,t){var i,n=e.startXY,r=e.startRegion.copy(),s=e.getConstrainRegion();return s&&(r.translateBy(t[0]-n[0],t[1]-n[1]),r.right>s.right&&(t[0]+=i=s.right-r.right,r.left+=i),r.left<s.left&&(t[0]+=s.left-r.left),r.bottom>s.bottom&&(t[1]+=i=s.bottom-r.bottom,r.top+=i),r.top<s.top&&(t[1]+=s.top-r.top)),t}}}),Ext.define("Ext.dd.DragZone",{extend:Ext.dd.DragSource,constructor:function(e,t){var i=this.containerScroll;this.callParent([e,t]),i&&(e=this.scrollEl||e,e=Ext.get(e),Ext.isObject(i)&&(e.ddScrollConfig=i),Ext.dd.ScrollManager.register(e))},getDragData:function(e){return Ext.dd.Registry.getHandleFromEvent(e)},onInitDrag:function(e,t){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(e,t),!0},getRepairXY:function(e){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}),Ext.define("Ext.dd.ScrollManager",{singleton:!0,constructor:function(){var e=Ext.dd.DragDropManager;e.fireEvents=Ext.Function.createSequence(e.fireEvents,this.onFire,this),e.stopDrag=Ext.Function.createSequence(e.stopDrag,this.onStop,this),this.doScroll=Ext.Function.bind(this.doScroll,this),this.ddmInstance=e,this.els={},this.dragEl=null,this.proc={}},onStop:function(e){var t=Ext.dd.ScrollManager;t.dragEl=null,t.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){if(this.ddmInstance.dragCurrent){var e=this.proc,t=e.el,i=e.el.ddScrollConfig,n=i&&i.increment?i.increment:this.increment;(i&&"animate"in i?i.animate:this.animate)?t.scroll(e.dir,n,!0,this.animDuration,this.triggerRefresh):t.scroll(e.dir,n)&&this.triggerRefresh()}},clearProc:function(){var e=this.proc;e.id&&clearInterval(e.id),e.id=0,e.el=null,e.dir=""},startProc:function(e,t){this.clearProc(),this.proc.el=e,this.proc.dir=t;var i=e.ddScrollConfig?e.ddScrollConfig.ddGroup:void 0,n=e.ddScrollConfig&&e.ddScrollConfig.frequency?e.ddScrollConfig.frequency:this.frequency;void 0!==i&&this.ddmInstance.dragCurrent.ddGroup!=i||(this.proc.id=setInterval(this.doScroll,n))},onFire:function(e,t){if(!t&&this.ddmInstance.dragCurrent){this.dragEl&&this.dragEl==this.ddmInstance.dragCurrent||(this.dragEl=this.ddmInstance.dragCurrent,this.refreshCache());var i,n,r,s,o=e.getPoint(),a=this.proc,l=this.els;for(i in l)if(r=(n=l[i])._region,s=n.ddScrollConfig?n.ddScrollConfig:this,r&&r.contains(o)&&n.isScrollable()){if(r.bottom-o.y<=s.vthresh)return void(a.el!=n&&this.startProc(n,"down"));if(r.right-o.x<=s.hthresh)return void(a.el!=n&&this.startProc(n,"right"));if(o.y-r.top<=s.vthresh)return void(a.el!=n&&this.startProc(n,"up"));if(o.x-r.left<=s.hthresh)return void(a.el!=n&&this.startProc(n,"left"))}this.clearProc()}},register:function(e){if(Ext.isArray(e))for(var t=0,i=e.length;t<i;t++)this.register(e[t]);else e=Ext.get(e),this.els[e.id]=e},unregister:function(e){if(Ext.isArray(e))for(var t=0,i=e.length;t<i;t++)this.unregister(e[t]);else e=Ext.get(e),delete this.els[e.id]},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var e,t=this.els;for(e in t)"object"==typeof t[e]&&(t[e]._region=t[e].getRegion())}}),Ext.define("Ext.dd.DropTarget",{extend:Ext.dd.DDTarget,constructor:function(e,t){this.el=Ext.get(e),Ext.apply(this,t),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(e,t,i){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(e,t,i){return this.dropAllowed},notifyOut:function(e,t,i){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(e,t,i){return!1},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}}),Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={},this.handles={},this.autoIdSeed=0},getId:function(e,t){if("string"==typeof e)return e;var i=e.id;return i||!1===t||(i="extdd-"+ ++this.autoIdSeed,e.id=i),i},register:function(e,t){if(t=t||{},"string"==typeof e&&(e=document.getElementById(e)),t.ddel=e,!1!==(this.elements[this.getId(e)]=t).isHandle&&(this.handles[t.ddel.id]=t),t.handles){var i,n,r=t.handles;for(i=0,n=r.length;i<n;i++)this.handles[this.getId(r[i])]=t}},unregister:function(e){var t,i,n,r=this.getId(e,!1),s=this.elements[r];if(s&&(delete this.elements[r],s.handles))for(i=0,n=(t=s.handles).length;i<n;i++)delete this.handles[this.getId(t[i],!1)]},getHandle:function(e){return"string"!=typeof e&&(e=e.id),this.handles[e]},getHandleFromEvent:function(e){var t=e.getTarget();return t?this.handles[t.id]:null},getTarget:function(e){return"string"!=typeof e&&(e=e.id),this.elements[e]},getTargetFromEvent:function(e){var t=e.getTarget();return t?this.elements[t.id]||this.handles[t.id]:null}}),Ext.define("Ext.dd.DropZone",{extend:Ext.dd.DropTarget,getTargetFromEvent:function(e){return Ext.dd.Registry.getTargetFromEvent(e)},onNodeEnter:function(e,t,i,n){},onNodeOver:function(e,t,i,n){return this.dropAllowed},onNodeOut:function(e,t,i,n){},onNodeDrop:function(e,t,i,n){return!1},onContainerOver:function(e,t,i){return this.dropNotAllowed},onContainerDrop:function(e,t,i){return!1},notifyEnter:function(e,t,i){return this.dropNotAllowed},notifyOver:function(e,t,i){var n=this.getTargetFromEvent(t);return n?(this.lastOverNode!=n&&(this.lastOverNode&&this.onNodeOut(this.lastOverNode,e,t,i),this.onNodeEnter(n,e,t,i),this.lastOverNode=n),this.onNodeOver(n,e,t,i)):(this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,i),this.lastOverNode=null),this.onContainerOver(e,t,i))},notifyOut:function(e,t,i){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,i),this.lastOverNode=null)},notifyDrop:function(e,t,i){var n=this.getTargetFromEvent(t),r=n?this.onNodeDrop(n,e,t,i):this.onContainerDrop(e,t,i);return this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,i),this.lastOverNode=null),r},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}}),Ext.define("Ext.dom.Layer",{extend:Ext.Element,alternateClassName:"Ext.Layer",statics:{shims:[]},isLayer:!0,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(e,t){e=e||{};var i=this,n=Ext.DomHelper,r=e.parentEl,s=r?Ext.getDom(r):document.body,o=e.hideMode,a=Ext.baseCSSPrefix+(!e.fixed||Ext.isIE6||Ext.isIEQuirks?"layer":"fixed-layer");i.el=i,t&&(i.dom=Ext.getDom(t)),i.dom?(i.addCls(a),i.dom.parentNode||s.appendChild(i.dom)):i.dom=n.append(s,e.dh||{tag:"div",cls:a}),e.preventSync&&(i.preventSync=!0),e.id?i.id=i.dom.id=e.id:i.id=Ext.id(i.dom),Ext.Element.addToCache(i),e.cls&&i.addCls(e.cls),i.constrain=!1!==e.constrain,o?(i.setVisibilityMode(Ext.Element[o.toUpperCase()]),i.visibilityMode==Ext.Element.ASCLASS&&(i.visibilityCls=e.visibilityCls)):e.useDisplay?i.setVisibilityMode(Ext.Element.DISPLAY):i.setVisibilityMode(Ext.Element.VISIBILITY),e.shadow?(i.shadowOffset=e.shadowOffset||4,i.shadow=new Ext.Shadow({offset:i.shadowOffset,mode:e.shadow,fixed:e.fixed}),i.disableShadow()):i.shadowOffset=0,i.useShim=!1!==e.shim&&Ext.useShims,!0===e.hidden?i.hide():!1===e.hidden&&i.show()},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var e,t;return this.useShim?(this.shim||((e=this.self.shims.shift())||((e=this.createShim()).enableDisplayMode("block"),e.hide()),t=this.dom.parentNode,e.dom.parentNode!=t&&t.insertBefore(e.dom,this.dom),this.shim=e),this.shim):null},hideShim:function(){this.shim&&(this.shim.setDisplayed(!1),this.self.shims.push(this.shim),delete this.shim)},disableShadow:function(){this.shadow&&!this.shadowDisabled&&(this.shadowDisabled=!0,this.shadow.hide(),this.lastShadowOffset=this.shadowOffset,this.shadowOffset=0)},enableShadow:function(e){this.shadow&&this.shadowDisabled&&(this.shadowDisabled=!1,this.shadowOffset=this.lastShadowOffset,delete this.lastShadowOffset,e&&this.sync(!0))},sync:function(e){var t,i,n,r,s,o,a,l,d,h=this,c=h.shadow;if(!h.preventSync)return!h.updating&&h.isVisible()&&(c||h.useShim)&&(r=h.getShim(),o=(s=h[h.localXYNames.get]())[0],a=s[1],l=h.dom.offsetWidth,d=h.dom.offsetHeight,c&&!h.shadowDisabled?(e&&!c.isVisible()?c.show(h):c.realign(o,a,l,d),r&&(r.getStyle("z-index")>h.zindex&&h.shim.setStyle("z-index",h.zindex-2),r.show(),c.isVisible()?(t=c.el.getXY(),i=r.dom.style,n=c.el.getSize(),Ext.supports.CSS3BoxShadow&&(n.height+=6,n.width+=4,t[0]-=2,t[1]-=4),i.left=t[0]+"px",i.top=t[1]+"px",i.width=n.width+"px",i.height=n.height+"px"):(r.setSize(l,d),r[h.localXYNames.set](o,a)))):r&&(r.getStyle("z-index")>h.zindex&&h.shim.setStyle("z-index",h.zindex-2),r.show(),r.setSize(l,d),r[h.localXYNames.set](o,a))),h},remove:function(){this.hideUnders(),this.callParent()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide(),this.hideShim()},constrainXY:function(){if(this.constrain){var e=Ext.Element.getViewWidth(),t=Ext.Element.getViewHeight(),i=Ext.getDoc().getScroll(),n=this.getXY(),r=n[0],s=n[1],o=this.shadowOffset,a=this.dom.offsetWidth+o,l=this.dom.offsetHeight+o,d=!1;r+a>e+i.left&&(r=e-a-o,d=!0),s+l>t+i.top&&(s=t-l-o,d=!0),r<i.left&&(r=i.left,d=!0),s<i.top&&(s=i.top,d=!0),d&&(Ext.Layer.superclass.setXY.call(this,[r,s]),this.sync())}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(e,t,i,n,r){var s,o=this;return s=function(){e&&o.sync(!0),n&&n()},e||o.hideUnders(!0),o.callParent([e,t,i,n,r]),t||s(),o},beforeFx:function(){return this.beforeAction(),this.callParent(arguments)},afterFx:function(){this.callParent(arguments),this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(e){return this.callParent(arguments),this.sync()},setTop:function(e){return this.callParent(arguments),this.sync()},setLeftTop:function(e,t){return this.callParent(arguments),this.sync()},setLocalX:function(){return this.callParent(arguments),this.sync()},setLocalXY:function(){return this.callParent(arguments),this.sync()},setLocalY:function(){return this.callParent(arguments),this.sync()},setXY:function(e,t,i,n,r){return n=this.createCB(n),this.fixDisplay(),this.beforeAction(),this.callParent([e,t,i,n,r]),t||n(),this},createCB:function(e){var t=this,i=t.shadow&&t.shadow.isVisible();return function(){t.constrainXY(),t.sync(i),e&&e()}},setX:function(e,t,i,n,r){return this.setXY([e,this.getY()],t,i,n,r),this},setY:function(e,t,i,n,r){return this.setXY([this.getX(),e],t,i,n,r),this},setSize:function(e,t,i,n,r,s){return r=this.createCB(r),this.beforeAction(),this.callParent([e,t,i,n,r,s]),i||r(),this},setWidth:function(e,t,i,n,r){return n=this.createCB(n),this.beforeAction(),this.callParent([e,t,i,n,r]),t||n(),this},setHeight:function(e,t,i,n,r){return n=this.createCB(n),this.beforeAction(),this.callParent([e,t,i,n,r]),t||n(),this},setBounds:function(e,t,i,n,r,s,o,a){return o=this.createCB(o),this.beforeAction(),r?this.callParent([e,t,i,n,r,s,o,a]):(Ext.Layer.superclass.setXY.call(this,[e,t]),Ext.Layer.superclass.setSize.call(this,i,n),o()),this},setZIndex:function(e){return this.zindex=e,this.getShim()&&this.shim.setStyle("z-index",e++),this.shadow&&this.shadow.setZIndex(e++),this.setStyle("z-index",e)},onOpacitySet:function(e){var t=this.shadow;t&&t.setOpacity(e)}}),Ext.define("Ext.draw.Matrix",{constructor:function(e,t,i,n,r,s){this.matrix=null!=e?[[e,i,r],[t,n,s],[0,0,1]]:[[1,0,0],[0,1,0],[0,0,1]]},add:function(e,t,i,n,r,s){var o,a,l,d,h=[[],[],[]],c=[[e,i,r],[t,n,s],[0,0,1]];for(o=0;o<3;o++)for(a=0;a<3;a++){for(l=d=0;l<3;l++)d+=this.matrix[o][l]*c[l][a];h[o][a]=d}this.matrix=h},prepend:function(e,t,i,n,r,s){var o,a,l,d,h=[[],[],[]],c=[[e,i,r],[t,n,s],[0,0,1]];for(o=0;o<3;o++)for(a=0;a<3;a++){for(l=d=0;l<3;l++)d+=c[o][l]*this.matrix[l][a];h[o][a]=d}this.matrix=h},invert:function(){var e=this.matrix,t=e[0][0],i=e[1][0],n=e[0][1],r=e[1][1],s=e[0][2],o=e[1][2],a=t*r-i*n;return new Ext.draw.Matrix(r/a,-i/a,-n/a,t/a,(n*o-r*s)/a,(i*s-t*o)/a)},clone:function(){var e=this.matrix,t=e[0][0],i=e[1][0],n=e[0][1],r=e[1][1],s=e[0][2],o=e[1][2];return new Ext.draw.Matrix(t,i,n,r,s,o)},translate:function(e,t){this.prepend(1,0,0,1,e,t)},scale:function(e,t,i,n){null==t&&(t=e),this.add(e,0,0,t,i*(1-e),n*(1-t))},rotate:function(e,t,i){e=Ext.draw.Draw.rad(e);var n=+Math.cos(e).toFixed(9),r=+Math.sin(e).toFixed(9);this.add(n,r,-r,n,t-n*t+r*i,-r*t+i-n*i)},x:function(e,t){var i=this.matrix;return e*i[0][0]+t*i[0][1]+i[0][2]},y:function(e,t){var i=this.matrix;return e*i[1][0]+t*i[1][1]+i[1][2]},get:function(e,t){return+this.matrix[e][t].toFixed(4)},toString:function(){return[this.get(0,0),this.get(0,1),this.get(1,0),this.get(1,1),0,0].join()},toSvg:function(){return"matrix("+[this.get(0,0),this.get(1,0),this.get(0,1),this.get(1,1),this.get(0,2),this.get(1,2)].join()+")"},toFilter:function(e,t){return e=e||0,t=t||0,"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+this.get(0,0)+", M12="+this.get(0,1)+", M21="+this.get(1,0)+", M22="+this.get(1,1)+", Dx="+(this.get(0,2)+e)+", Dy="+(this.get(1,2)+t)+")"},offset:function(){var e=this.matrix;return[(e[0][2]||0).toFixed(4),(e[1][2]||0).toFixed(4)]},split:function(){function i(e){return e[0]*e[0]+e[1]*e[1]}function e(e){var t=Math.sqrt(i(e));e[0]/=t,e[1]/=t}var t,n=this.matrix,r={translateX:n[0][2],translateY:n[1][2]};return t=[[n[0][0],n[0][1]],[n[1][1],n[1][1]]],r.scaleX=Math.sqrt(i(t[0])),e(t[0]),r.shear=t[0][0]*t[1][0]+t[0][1]*t[1][1],t[1]=[t[1][0]-t[0][0]*r.shear,t[1][1]-t[0][1]*r.shear],r.scaleY=Math.sqrt(i(t[1])),e(t[1]),r.shear/=r.scaleY,r.rotate=Math.asin(-t[0][1]),r.isSimple=!(+r.shear.toFixed(9)||r.scaleX.toFixed(9)!=r.scaleY.toFixed(9)&&r.rotate),r}}),Ext.define("Ext.draw.SpriteDD",{extend:Ext.dd.DragSource,constructor:function(e,t){var i=e.el;this.sprite=e,this.el=i,this.dragData={el:i,sprite:e},this.callParent([i,t]),this.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(e){return this.el},getRegion:function(){var e,t,i,n,r,s,o=this.el;s=this.sprite.getBBox();try{e=Ext.Element.getXY(o)}catch(e){}return e?(i=(t=e[0])+s.width,r=(n=e[1])+s.height,new Ext.util.Region(n,i,r,t)):null},startDrag:function(e,t){this.sprite.attr;this.prev=this.sprite.surface.transformToViewBox(e,t)},onDrag:function(e){var t,i,n=e.getXY(),r=this.sprite,s=r.attr;t=(n=this.sprite.surface.transformToViewBox(n[0],n[1]))[0]-this.prev[0],i=n[1]-this.prev[1],r.setAttributes({translate:{x:s.translation.x+t,y:s.translation.y+i}},!0),this.prev=n},setDragElPos:function(){return!1}}),Ext.define("Ext.draw.Sprite",{mixins:{observable:Ext.util.Observable,animate:Ext.util.Animate},dirty:!1,dirtyHidden:!1,dirtyTransform:!1,dirtyPath:!0,dirtyFont:!0,zIndexDirty:!0,isSprite:!0,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(e){e=Ext.merge({},e||{}),this.id=Ext.id(null,"ext-sprite-"),this.transformations=[],Ext.copyTo(this,e,"surface,group,type,draggable"),this.bbox={},this.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}},delete e.surface,delete e.group,delete e.type,delete e.draggable,this.setAttributes(e),this.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click"),this.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){var e=this;e.el||e.surface.createSpriteElement(e),e.dd=new Ext.draw.SpriteDD(e,Ext.isBoolean(e.draggable)?null:e.draggable),e.on("beforedestroy",e.dd.destroy,e.dd)},setAttributes:function(e,t){var i,n,r,s,o,a,l,d,h=this,c=h.fontProperties,u=c.length,f=h.pathProperties,g=f.length,p=!!h.surface,m=p&&h.surface.customAttributes||{},x=h.attr,y=!1;for(i in e=Ext.apply({},e),m)e.hasOwnProperty(i)&&"function"==typeof m[i]&&Ext.apply(e,m[i].apply(h,[].concat(e[i])));for(!!e.hidden!=!!x.hidden&&(h.dirtyHidden=!0),n=0;n<g;n++)if((i=f[n])in e&&e[i]!==x[i]){y=h.dirtyPath=!0;break}"zIndex"in e&&(h.zIndexDirty=!0),"text"in e&&(y=h.dirtyFont=!0,e.text=h.transformText(e.text));for(n=0;n<u;n++)if((i=c[n])in e&&e[i]!==x[i]){y=h.dirtyFont=!0;break}return r=e.translation||e.translate,delete e.translate,delete e.translation,s=x.translation,r&&("x"in r&&r.x!==s.x||"y"in r&&r.y!==s.y)&&(h.dirtyTransform=!0,s.x=r.x,s.y=r.y),o=e.rotation||e.rotate,a=x.rotation,delete e.rotate,delete e.rotation,o&&("x"in o&&o.x!==a.x||"y"in o&&o.y!==a.y||"degrees"in o&&o.degrees!==a.degrees)&&(h.dirtyTransform=!0,a.x=o.x,a.y=o.y,a.degrees=o.degrees),l=e.scaling||e.scale,d=x.scaling,delete e.scale,delete e.scaling,l&&("x"in l&&l.x!==d.x||"y"in l&&l.y!==d.y||"cx"in l&&l.cx!==d.cx||"cy"in l&&l.cy!==d.cy)&&(h.dirtyTransform=!0,d.x=l.x,d.y=l.y,d.cx=l.cx,d.cy=l.cy),!h.dirtyTransform&&y&&(null!==x.scaling.x&&null!==x.scaling.y&&null!==x.rotation.y&&null!==x.rotation.y||(h.dirtyTransform=!0)),Ext.apply(x,e),(h.dirty=!0)===t&&p&&h.redraw(),this},transformText:Ext.identityFn,getBBox:function(){return this.surface.getBBox(this)},setText:function(e){return this.surface.setText(this,e)},hide:function(e){return this.setAttributes({hidden:!0},e),this},show:function(e){return this.setAttributes({hidden:!1},e),this},remove:function(){return!!this.surface&&(this.surface.remove(this),!0)},onRemove:function(){this.surface.onRemove(this)},destroy:function(){!1!==this.fireEvent("beforedestroy",this)&&(this.remove(),this.surface.onDestroy(this),this.clearListeners(),this.fireEvent("destroy"))},redraw:function(){var e,t=!this.el||this.dirty,i=this.surface;return i.renderItem(this),t&&(e=i.owner,!this.isBackground&&e&&(e.viewBox||e.autoSize)&&e.configureSurfaceSize()),this},setStyle:function(){return this.el.setStyle.apply(this.el,arguments),this},addCls:function(e){return this.surface.addCls(this,e),this},removeCls:function(e){return this.surface.removeCls(this,e),this}}),Ext.define("Ext.draw.Text",{extend:Ext.draw.Component,alias:"widget.text",text:"",focusable:!1,viewBox:!1,autoSize:!0,baseCls:Ext.baseCSSPrefix+"surface "+Ext.baseCSSPrefix+"draw-text",initComponent:function(){var e=this;e.textConfig=Ext.apply({type:"text",text:e.text,rotate:{degrees:e.degrees||0}},e.textStyle),Ext.apply(e.textConfig,e.getStyles(e.styleSelectors||e.styleSelector)),e.initialConfig.items=[e.textConfig],e.callParent(arguments)},getStyles:function(e){for(var t,i,n=0,r=(e=Ext.Array.from(e)).length,s={};n<r;n++)(t=Ext.util.CSS.getRule(e[n]))&&(i=t.style)&&Ext.apply(s,{"font-family":i.fontFamily,"font-weight":i.fontWeight,"line-height":i.lineHeight,"font-size":i.fontSize,fill:i.color});return s},setAngle:function(e){var t;this.rendered?(t=this.surface.items.items[0],this.degrees=e,t.setAttributes({rotate:{degrees:e}},!0),(this.autoSize||this.viewBox)&&this.updateLayout()):this.degrees=e},setText:function(e){var t,i,n=this;n.rendered?(i=(t=n.surface).items.items[0],n.text=e||"",t.remove(i),n.textConfig.type="text",n.textConfig.text=n.text,(i=t.add(n.textConfig)).setAttributes({rotate:{degrees:n.degrees}},!0),(n.autoSize||n.viewBox)&&n.updateLayout()):n.on({render:function(){n.setText(e)},single:!0})}}),Ext.define("Ext.draw.engine.ImageExporter",{singleton:!0,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(e,t){var i,n=(t=t||{}).type;return-1!==Ext.Array.indexOf(this.supportedTypes,n)&&((i=Ext.getBody().createChild({tag:"form",method:"POST",action:t.url||this.defaultUrl,cls:this.formCls,children:[{tag:"input",type:"hidden",name:t.widthParam||this.widthParam,value:t.width||e.width},{tag:"input",type:"hidden",name:t.heightParam||this.heightParam,value:t.height||e.height},{tag:"input",type:"hidden",name:t.typeParam||this.typeParam,value:n},{tag:"input",type:"hidden",name:t.svgParam||this.svgParam}]})).last(null,!0).value=Ext.draw.engine.SvgExporter.generate(e),i.dom.submit(),i.remove(),!0)}}),Ext.define("Ext.draw.engine.Svg",{extend:Ext.draw.Surface,engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(e,t){var i,n=this.domRef.createElementNS("http://www.w3.org/2000/svg",e);if(t)for(i in t)n.setAttribute(i,String(t[i]));return n},createSpriteElement:function(e){var t=this.createSvgElement(e.type);return t.id=e.id,t.style&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)"),e.el=Ext.get(t),this.applyZIndex(e),e.matrix=new Ext.draw.Matrix,e.bbox={plain:0,transform:0},this.applyAttrs(e),this.applyTransformations(e),e.fireEvent("render",e),t},getBBoxText:function(e){var t,i,n,r,s,o,a={};if(e&&e.el){o=e.el.dom;try{return a=o.getBBox()}catch(e){}for(a={x:a.x,y:1/0,width:0,height:0},s=o.getNumberOfChars(),r=0;r<s;r++)t=o.getExtentOfChar(r),a.y=Math.min(t.y,a.y),i=t.y+t.height-a.y,a.height=Math.max(a.height,i),n=t.x+t.width-a.x,a.width=Math.max(a.width,n);return a}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(e){this.addCls(e,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(e){this.removeCls(e,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(e,t){for(var i,n,r=new Ext.draw.Matrix,s=e.transformations,o=s.length,a=0;a<o;a++)"translate"==(n=(i=s[a]).type)?r.translate(i.x,i.y):"rotate"==n?r.rotate(i.degrees,i.x,i.y):"scale"==n&&r.scale(i.x,i.y,i.centerX,i.centerY);e.matrix=r,t||e.el.set({transform:r.toSvg()})},setSize:function(e,t){var i=this.el;e=+e||this.width,t=+t||this.height,this.width=e,this.height=t,i.setSize(e,t),i.set({width:e,height:t}),this.callParent([e,t])},getRegion:function(){var e=this.el.getXY(),t=this.bgRect.getXY(),i=Math.max,n=i(e[0],t[0]),r=i(e[1],t[1]);return{left:n,top:r,right:n+this.width,bottom:r+this.height}},onRemove:function(e){e.el&&(e.el.destroy(),delete e.el),this.callParent(arguments)},setViewBox:function(e,t,i,n){isFinite(e)&&isFinite(t)&&isFinite(i)&&isFinite(n)&&(this.callParent(arguments),this.el.dom.setAttribute("viewBox",[e,t,i,n].join(" ")))},render:function(e){var t,i,n,r,s=this;s.el||(cfg={xmlns:"http://www.w3.org/2000/svg",version:1.1,width:s.width||0,height:s.height||0},s.forceLtr&&(cfg.direction="ltr"),t=s.createSvgElement("svg",cfg),i=s.getDefs(),n=s.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0}),Ext.isSafari3&&(r=s.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})),t.appendChild(i),Ext.isSafari3&&t.appendChild(r),t.appendChild(n),e.appendChild(t),s.el=Ext.get(t),s.bgRect=Ext.get(n),Ext.isSafari3&&(s.webkitRect=Ext.get(r),s.webkitRect.hide()),s.el.on({scope:s,mouseup:s.onMouseUp,mousedown:s.onMouseDown,mouseover:s.onMouseOver,mouseout:s.onMouseOut,mousemove:s.onMouseMove,mouseenter:s.onMouseEnter,mouseleave:s.onMouseLeave,click:s.onClick,dblclick:s.onDblClick})),s.renderAll()},onMouseEnter:function(e){this.el.parent().getRegion().contains(e.getPoint())&&this.fireEvent("mouseenter",e)},onMouseLeave:function(e){this.el.parent().getRegion().contains(e.getPoint())||this.fireEvent("mouseleave",e)},processEvent:function(e,t){var i,n=t.getTarget();this.surface;this.fireEvent(e,t),"tspan"==n.nodeName&&n.parentNode&&(n=n.parentNode),(i=this.items.get(n.id))&&i.fireEvent(e,i,t)},tuneText:function(e,t){e.el.dom;var i,n,r,s,o,a,l=[];if(t.hasOwnProperty("text")&&(n=e.tspans&&Ext.Array.map(e.tspans,function(e){return e.textContent}).join(""),e.tspans&&t.text==n?l=e.tspans||[]:(l=this.setText(e,t.text),e.tspans=l)),l.length){for(i=this.getBBoxText(e).height,a=e.el.dom.getAttribute("x"),r=0,s=l.length;r<s;r++)o=Ext.isFF3_0||Ext.isFF3_5?2:4,l[r].setAttribute("x",a),l[r].setAttribute("dy",r?1.2*i:i/o);e.dirty=!0}},setText:function(e,t){for(var i,n,r,s,o,a=e.el.dom,l=[];a.firstChild;)a.removeChild(a.firstChild);for(r=0,s=(o=String(t).split("\n")).length;r<s;r++)(n=o[r])&&((i=this.createSvgElement("tspan")).appendChild(document.createTextNode(Ext.htmlDecode(n))),a.appendChild(i),l[r]=i);return l},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(e){this.el&&(e.el||this.createSpriteElement(e),e.zIndexDirty&&this.applyZIndex(e),e.dirty&&(this.applyAttrs(e),e.dirtyTransform&&this.applyTransformations(e)))},redraw:function(e){e.dirty=e.zIndexDirty=!0,this.renderItem(e)},applyAttrs:function(e){var t,i,n,r,s,o,a=this,l=e.el,d=e.group,h=e.attr,c=a.parsers,u=a.gradientsMap||{},f=Ext.isSafari&&!Ext.isStrict;if(d){for(n=(t=[].concat(d)).length,i=0;i<n;i++)d=t[i],a.getGroup(d).add(e);delete e.group}for(s in r=a.scrubAttrs(e)||{},e.bbox.plain=0,e.bbox.transform=0,"circle"==e.type||"ellipse"==e.type?(r.cx=r.cx||r.x,r.cy=r.cy||r.y):"rect"==e.type?r.rx=r.ry=r.r:"path"==e.type&&r.d&&(r.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(r.d))),e.dirtyPath=!1,r["clip-rect"]&&(a.setClip(e,r),delete r["clip-rect"]),"text"==e.type&&r.font&&e.dirtyFont&&l.set({style:"font: "+r.font}),"image"==e.type&&l.dom.setAttributeNS(a.xlink,"href",r.src),Ext.applyIf(r,a.minDefaults[e.type]),e.dirtyHidden&&(h.hidden?a.hidePrim(e):a.showPrim(e),e.dirtyHidden=!1),r)if(r.hasOwnProperty(s)&&null!=r[s]){if(f&&-1<"color|stroke|fill".indexOf(s)&&r[s]in u&&(r[s]=u[r[s]]),"hidden"==s&&"text"==e.type)continue;s in c?l.dom.setAttribute(s,c[s](r[s],e,a)):l.dom.setAttribute(s,r[s])}"text"==e.type&&a.tuneText(e,r),e.dirtyFont=!1,(o=h.style)&&l.setStyle(o),e.dirty=!1,Ext.isSafari3&&(a.webkitRect.show(),setTimeout(function(){a.webkitRect.hide()}))},setClip:function(e,t){var i,n,r=t["clip-rect"];r&&(e.clip&&e.clip.parentNode.parentNode.removeChild(e.clip.parentNode),i=this.createSvgElement("clipPath"),n=this.createSvgElement("rect"),i.id=Ext.id(null,"ext-clip-"),n.setAttribute("x",r.x),n.setAttribute("y",r.y),n.setAttribute("width",r.width),n.setAttribute("height",r.height),i.appendChild(n),this.getDefs().appendChild(i),e.el.dom.setAttribute("clip-path","url(#"+i.id+")"),e.clip=n)},applyZIndex:function(e){var t,i=this.items,n=i.indexOf(e),r=e.el;if(this.el.dom.childNodes[n+2]!==r.dom){if(0<n)for(;!(t=i.getAt(--n).el)&&0<n;);r.insertAfter(t||this.bgRect)}e.zIndexDirty=!1},createItem:function(e){var t=new Ext.draw.Sprite(e);return t.surface=this,t},addGradient:function(e){var t,i,n,r,s,o=(e=Ext.draw.Draw.parseGradient(e)).stops.length,a=e.vector,l=Ext.isSafari&&!Ext.isStrict;if(s=this.gradientsMap||{},l)s["url(#"+e.id+")"]=e.stops[0].color;else for("linear"==e.type?((t=this.createSvgElement("linearGradient")).setAttribute("x1",a[0]),t.setAttribute("y1",a[1]),t.setAttribute("x2",a[2]),t.setAttribute("y2",a[3])):((t=this.createSvgElement("radialGradient")).setAttribute("cx",e.centerX),t.setAttribute("cy",e.centerY),t.setAttribute("r",e.radius),Ext.isNumber(e.focalX)&&Ext.isNumber(e.focalY)&&(t.setAttribute("fx",e.focalX),t.setAttribute("fy",e.focalY))),t.id=e.id,this.getDefs().appendChild(t),r=0;r<o;r++)i=e.stops[r],(n=this.createSvgElement("stop")).setAttribute("offset",i.offset+"%"),n.setAttribute("stop-color",i.color),n.setAttribute("stop-opacity",i.opacity),t.appendChild(n);this.gradientsMap=s},hasCls:function(e,t){return t&&-1!=(" "+(e.el.dom.getAttribute("class")||"")+" ").indexOf(" "+t+" ")},addCls:function(e,t){var i,n,r,s=e.el,o=[],a=s.getAttribute("class")||"";if(Ext.isArray(t)){for(i=0,n=t.length;i<n;i++)"string"==typeof(r=t[i])&&-1==(" "+a+" ").indexOf(" "+r+" ")&&o.push(r);o.length&&s.set({class:" "+o.join(" ")})}else"string"!=typeof t||this.hasCls(e,t)||s.set({class:a+" "+t})},removeCls:function(e,t){var i,n,r,s,o,a=e.el,l=a.getAttribute("class")||"";if(Ext.isArray(t)||(t=[t]),l){for(o=l.replace(this.trimRe," ").split(this.spacesRe),i=0,r=t.length;i<r;i++)"string"==typeof(s=t[i])&&(s=s.replace(this.trimRe,""),-1!=(n=Ext.Array.indexOf(o,s))&&Ext.Array.erase(o,n,1));a.set({class:o.join(" ")})}},destroy:function(){var e=this;e.callParent(),e.el&&e.el.remove(),e._defs&&Ext.get(e._defs).destroy(),e.bgRect&&Ext.get(e.bgRect).destroy(),e.webkitRect&&Ext.get(e.webkitRect).destroy(),delete e.el}}),Ext.define("Ext.draw.engine.SvgExporter",function(){var v,b,C,o=/,/g,l=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,w=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,S=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,P={path:function(e){var t,i,n=e.attr,r=n.path,s="";if(Ext.isArray(r[0]))for(i=r.length,t=0;t<i;t++)s+=r[t].join(" ");else s=Ext.isArray(r)?r.join(" "):r.replace(o," ");return"<path "+d({d:s,fill:n.fill||"none",stroke:n.stroke,"fill-opacity":n.opacity,"stroke-width":n["stroke-width"],"stroke-opacity":n["stroke-opacity"],"z-index":n.zIndex,transform:e.matrix.toSvg()})+"/>"},text:function(e){var t=e.attr,i=l.exec(t.font),n=i&&i[1]||"12",r=i&&i[3]||"Arial",s=t.text,o=Ext.isFF3_0||Ext.isFF3_5?2:4,a="";return e.getBBox(),a+='<tspan x="'+(t.x||"")+'" dy="',a+=n/o+'">',a+=Ext.htmlEncode(s)+"</tspan>","<text "+d({x:t.x,y:t.y,"font-size":n,"font-family":r,"font-weight":t["font-weight"],"text-anchor":t["text-anchor"],fill:t.fill||"#000","fill-opacity":t.opacity,transform:e.matrix.toSvg()})+">"+a+"</text>"},rect:function(e){var t=e.attr;return"<rect "+d({x:t.x,y:t.y,rx:t.rx,ry:t.ry,width:t.width,height:t.height,fill:t.fill||"none","fill-opacity":t.opacity,stroke:t.stroke,"stroke-opacity":t["stroke-opacity"],"stroke-width":t["stroke-width"],transform:e.matrix&&e.matrix.toSvg()})+"/>"},circle:function(e){var t=e.attr;return"<circle "+d({cx:t.x,cy:t.y,r:t.radius,fill:t.translation.fill||t.fill||"none","fill-opacity":t.opacity,stroke:t.stroke,"stroke-opacity":t["stroke-opacity"],"stroke-width":t["stroke-width"],transform:e.matrix.toSvg()})+" />"},image:function(e){var t=e.attr;return"<image "+d({x:t.x-(t.width/2>>0),y:t.y-(t.height/2>>0),width:t.width,height:t.height,"xlink:href":t.src,transform:e.matrix.toSvg()})+" />"}},d=function(e){var t,i="";for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(i+=t+'="'+e[t]+'" ');return i};return{singleton:!0,generate:function(e,t){return{},function(e){(v=e).length,b=v.width,C=v.height}(e),'<?xml version="1.0" standalone="yes"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+function(){var e,t,i,c,n,r,s,o,a,l,d,h,u,f,g,p,m,x='<svg width="'+b+'px" height="'+C+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',y="";if(t=(i=v.items.items).length,c=function(e){for(var t,i,n,r,s,o,a=e.childNodes,l=a.length,d=0,h="";d<l;d++){for(r=(n=a[d]).attributes,h+="<"+(s=n.tagName),i=0,t=r.length;i<t;i++)h+=" "+(o=r.item(i)).name+'="'+o.value+'"';h+=">",0<n.childNodes.length&&(h+=c(n)),h+="</"+s+">"}return h},v.getDefs)y=c(v.getDefs());else for((s=v.gradientsColl)&&(o=s.keys,a=s.items,l=0,d=o.length);l<d;l++){h=o[l],a[l],y+='<linearGradient id="'+h+'" x1="0" y1="0" x2="1" y2="1">';var E=v.gradientsColl.getByKey(h).colors.replace(w,"rgb($1|$2|$3)");for(u=0,f=(n=(E=E.replace(S,"rgba($1|$2|$3|$4)")).split(",")).length;u<f;u++)r=n[u].split(" "),E=Ext.draw.Color.fromString(r[1].replace(/\|/g,",")),y+='<stop offset="'+r[0]+'" stop-color="'+E.toString()+'" stop-opacity="1"></stop>';y+="</linearGradient>"}for(x+="<defs>"+y+"</defs>",x+=P.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}}),g=new Array(t),u=0;u<t;u++)g[u]=u;for(g.sort(function(e,t){return p=i[e].attr.zIndex||0,m=i[t].attr.zIndex||0,p==m?e-t:p-m}),u=0;u<t;u++)(e=i[g[u]]).attr.hidden||(x+=P[e.type](e));return x+="</svg>"}()}}}),Ext.define("Ext.draw.engine.Vml",{extend:Ext.draw.Surface,engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/gi,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1e3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:!1,path2vml:function(e){var t,i,n,r,s,o,a,l,d=this.NonVmlPathRe,h=this.map,c=this.valRe,u=this.zoom,f=this.bitesRe,g=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw);if(String(e).match(d))g=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw);else if(!String(e).match(this.partialPathRe))return t=String(e).replace(f,function(e,t,i){var n=[],r="m"==t.toLowerCase(),s=h[t];return i.replace(c,function(e){r&&2===n.length&&(s+=n+h["m"==t?"l":"L"],n=[]),n.push(Math.round(e*u))}),s+n});for(t=[],s=0,o=(i=g(e)).length;s<o;s++){for(n=i[s],"z"==(r=i[s][0].toLowerCase())&&(r="x"),a=1,l=n.length;a<l;a++)r+=Math.round(n[a]*this.zoom)+(a!=l-1?",":"");t.push(r)}return t.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(e){this.fireEvent("mouseenter",e)},onMouseLeave:function(e){this.fireEvent("mouseleave",e)},processEvent:function(e,t){var i,n=t.getTarget();this.surface;this.fireEvent(e,t),(i=this.items.get(n.id))&&i.fireEvent(e,i,t)},createSpriteElement:function(e){var t,i,n,r=e.attr,s=e.type,o=this.zoom,a=e.vml||(e.vml={}),l=(Math.round,"image"===s?this.createNode("image"):this.createNode("shape"));return l.coordsize=o+" "+o,l.coordorigin=r.coordorigin||"0 0",Ext.get(l).addCls(this.spriteCls),"text"==s&&(a.path=t=this.createNode("path"),t.textpathok=!0,a.textpath=n=this.createNode("textpath"),n.on=!0,l.appendChild(n),l.appendChild(t)),l.id=e.id,e.el=Ext.get(l),e.el.setStyle("zIndex",-this.zIndexShift),this.el.appendChild(l),"image"!==s&&((i=this.createNode("skew")).on=!0,l.appendChild(i),e.skew=i),e.matrix=new Ext.draw.Matrix,e.bbox={plain:null,transform:null},this.applyAttrs(e),this.applyTransformations(e),e.fireEvent("render",e),e.el},getBBoxText:function(e){var t=e.vml;return{x:t.X+(t.bbx||0)-t.W/2,y:t.Y-t.H/2,width:t.W,height:t.H}},applyAttrs:function(e){var t,i,n,r,s,o,a,l,d,h=this,c=(e.vml,e.group),u=e.attr,f=e.el,g=f.dom;if(c){for(r=(i=[].concat(c)).length,n=0;n<r;n++)c=i[n],h.getGroup(c).add(e);delete e.group}s=h.scrubAttrs(e)||{},e.zIndexDirty&&h.setZIndex(e),Ext.applyIf(s,h.minDefaults[e.type]),"image"==e.type&&(Ext.apply(e.attr,{x:s.x,y:s.y,width:s.width,height:s.height}),f.setStyle({width:s.width+"px",height:s.height+"px"}),g.src=s.src),g.href&&(g.href=s.href),g.title&&(g.title=s.title),g.target&&(g.target=s.target),g.cursor&&(g.cursor=s.cursor),e.dirtyHidden&&(s.hidden?h.hidePrim(e):h.showPrim(e),e.dirtyHidden=!1),e.dirtyPath&&("circle"==e.type||"ellipse"==e.type?(o=s.x,a=s.y,l=s.rx||s.r||0,d=s.ry||s.r||0,g.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((o-l)*h.zoom),Math.round((a-d)*h.zoom),Math.round((o+l)*h.zoom),Math.round((a+d)*h.zoom),Math.round(o*h.zoom)),e.dirtyPath=!1):"text"!==e.type&&"image"!==e.type&&(e.attr.path=s.path=h.setPaths(e,s)||s.path,g.path=h.path2vml(s.path),e.dirtyPath=!1)),"clip-rect"in s&&h.setClip(e,s),"text"==e.type&&h.setTextAttributes(e,s),(s.opacity||s["stroke-opacity"]||s.fill)&&h.setFill(e,s),(s.stroke||s["stroke-opacity"]||s.fill)&&h.setStroke(e,s),(t=u.style)&&f.setStyle(t),e.dirty=!1},setZIndex:function(e){var t,i,n,r,s=e.attr.zIndex,o=this.zIndexShift;if(s<o){for(i=(t=this.items.items).length,r=0;r<i;r++)(s=t[r].attr.zIndex)&&s<o&&(o=s);for(this.zIndexShift=o,r=0;r<i;r++)(n=t[r]).el&&n.el.setStyle("zIndex",n.attr.zIndex-o),n.zIndexDirty=!1}else e.el&&(e.el.setStyle("zIndex",s-o),e.zIndexDirty=!1)},setPaths:function(e,t){var i=e.attr;e.attr["stroke-width"];return e.bbox.plain=null,e.bbox.transform=null,"circle"==e.type?(i.rx=i.ry=t.r,Ext.draw.Draw.ellipsePath(e)):"ellipse"==e.type?(i.rx=t.rx,i.ry=t.ry,Ext.draw.Draw.ellipsePath(e)):"rect"==e.type?(i.rx=i.ry=t.r,Ext.draw.Draw.rectPath(e)):!("path"!=e.type||!i.path)&&Ext.draw.Draw.pathToAbsolute(i.path)},setFill:function(e,t){var i,n,r,s,o=e.el.dom,a=o.fill,l=!1;a||(a=o.fill=this.createNode("fill"),l=!0),Ext.isArray(t.fill)&&(t.fill=t.fill[0]),"none"==t.fill?a.on=!1:("number"==typeof t.opacity&&(a.opacity=t.opacity),"number"==typeof t["fill-opacity"]&&(a.opacity=t["fill-opacity"]),a.on=!0,"string"==typeof t.fill&&((n=t.fill.match(this.fillUrlRe))?("#"==(n=n[1]).charAt(0)&&(i=this.gradientsColl.getByKey(n.substring(1))),i?(r=t.rotation,0===(s=-(i.angle+270+(r?r.degrees:0))%360)&&(s=180),a.angle=s,a.type="gradient",a.method="sigma",a.colors?a.colors.value=i.colors:a.colors=i.colors):(a.src=n,a.type="tile")):(a.color=Ext.draw.Color.toHex(t.fill),a.src="",a.type="solid"))),l&&o.appendChild(a)},setStroke:function(e,t){var i,n,r=e.el.dom,s=e.strokeEl,o=!1;s||(s=e.strokeEl=this.createNode("stroke"),o=!0),Ext.isArray(t.stroke)&&(t.stroke=t.stroke[0]),t.stroke&&"none"!=t.stroke&&0!=t.stroke&&0!=t["stroke-width"]?(s.on=!0,t.stroke&&!t.stroke.match(this.fillUrlRe)&&(s.color=Ext.draw.Color.toHex(t.stroke)),s.dashstyle=t["stroke-dasharray"]?"dash":"solid",s.joinstyle=t["stroke-linejoin"],s.endcap=t["stroke-linecap"]||"round",s.miterlimit=t["stroke-miterlimit"]||8,i=.75*parseFloat(t["stroke-width"]||1),n=t["stroke-opacity"]||1,Ext.isNumber(i)&&i<1?(s.weight=1,s.opacity=n*i):(s.weight=i,s.opacity=n)):s.on=!1,o&&r.appendChild(s)},setClip:function(e,t){e.el;var i=e.clipEl,n=String(t["clip-rect"]).split(this.separatorRe);i||(i=e.clipEl=this.el.insertFirst(Ext.getDoc().dom.createElement("div"))).addCls(Ext.baseCSSPrefix+"vml-sprite"),4==n.length?(n[2]=+n[2]+ +n[0],n[3]=+n[3]+ +n[1],i.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",n[0],n[1],n[2],n[3])),i.setSize(this.el.width,this.el.height)):i.setStyle("clip","")},setTextAttributes:function(e,t){var i,n,r=e.vml,s=r.textpath.style,o=this.span.style,a=this.zoom,l=(Math.round,{fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"});if(e.dirtyFont){for(i in t.font&&(s.font=o.font=t.font),t["font-family"]&&(s.fontFamily='"'+t["font-family"].split(",")[0].replace(this.fontFamilyRe,"")+'"',o.fontFamily=t["font-family"]),l)(n=t[l[i]])&&(s[i]=o[i]=n);this.setText(e,t.text),r.textpath.string&&(this.span.innerHTML=String(r.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>")),r.W=this.span.offsetWidth,r.H=this.span.offsetHeight+2,"middle"==t["text-anchor"]?s["v-text-align"]="center":"end"==t["text-anchor"]?(s["v-text-align"]="right",r.bbx=-Math.round(r.W/2)):(s["v-text-align"]="left",r.bbx=Math.round(r.W/2))}r.X=t.x,r.Y=t.y,r.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(r.X*a),Math.round(r.Y*a),Math.round(r.X*a)+1),e.bbox.plain=null,e.bbox.transform=null,e.dirtyFont=!1},setText:function(e,t){e.vml.textpath.string=Ext.htmlDecode(t)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(e){e.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(e){e.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(e,t){e=e||this.width,t=t||this.height,this.width=e,this.height=t,this.el&&(null!=e&&this.el.setWidth(e),null!=t&&this.el.setHeight(t)),this.callParent(arguments)},applyViewBox:function(){var e,t,i,n=this.viewBox,r=this.width,s=this.height;if(this.callParent(),n&&(r||s))for(t=(e=this.items.items).length,i=0;i<t;i++)this.applyTransformations(e[i])},onAdd:function(e){this.callParent(arguments),this.el&&this.renderItem(e)},onRemove:function(e){e.el&&(e.el.remove(),delete e.el),this.callParent(arguments)},render:function(e){var t,i=this,n=Ext.getDoc().dom;if(!i.createNode)try{n.namespaces.rvml||n.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),i.createNode=function(e){return n.createElement("<rvml:"+e+' class="rvml">')}}catch(e){i.createNode=function(e){return n.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}i.el||(t=n.createElement("div"),i.el=Ext.get(t),i.el.addCls(i.baseVmlCls),i.span=n.createElement("span"),Ext.get(i.span).addCls(i.measureSpanCls),t.appendChild(i.span),i.el.setSize(i.width||0,i.height||0),e.appendChild(t),i.el.on({scope:i,mouseup:i.onMouseUp,mousedown:i.onMouseDown,mouseover:i.onMouseOver,mouseout:i.onMouseOut,mousemove:i.onMouseMove,mouseenter:i.onMouseEnter,mouseleave:i.onMouseLeave,click:i.onClick,dblclick:i.onDblClick})),i.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(e){e.dirty=!0,this.renderItem(e)},renderItem:function(e){this.el&&(e.el||this.createSpriteElement(e),e.dirty&&(this.applyAttrs(e),e.dirtyTransform&&this.applyTransformations(e)))},rotationCompensation:function(e,t,i){var n=new Ext.draw.Matrix;return n.rotate(-e,.5,.5),{x:n.x(t,i),y:n.y(t,i)}},transform:function(e,t){for(var i,n,r,s=this.getBBox(e,!0),o=(s.x,s.width,s.y,s.height,new Ext.draw.Matrix),a=e.transformations,l=a.length,d=0,h=e.el.dom.style,c=(this.zoom,e.skew),u=this.viewBoxShift;d<l;d++)"translate"==(n=(i=a[d]).type)?o.translate(i.x,i.y):"rotate"==n?(o.rotate(i.degrees,i.x,i.y),i.degrees):"scale"==n&&(o.scale(i.x,i.y,i.centerX,i.centerY),i.x,i.y);e.matrix=o.clone(),t||(u&&o.prepend(u.scale,0,0,u.scale,u.dx*u.scale,u.dy*u.scale),"image"!=e.type&&c?(c.origin="0,0",c.matrix=o.toString(),32767<(r=o.offset())[0]?r[0]=32767:r[0]<-32768&&(r[0]=-32768),32767<r[1]?r[1]=32767:r[1]<-32768&&(r[1]=-32768),c.offset=r):(h.filter=o.toFilter(),h.left=Math.min(o.x(s.x,s.y),o.x(s.x+s.width,s.y),o.x(s.x,s.y+s.height),o.x(s.x+s.width,s.y+s.height))+"px",h.top=Math.min(o.y(s.x,s.y),o.y(s.x+s.width,s.y),o.y(s.x,s.y+s.height),o.y(s.x+s.width,s.y+s.height))+"px"))},createItem:function(e){return Ext.create("Ext.draw.Sprite",e)},getRegion:function(){return this.el.getRegion()},addCls:function(e,t){e&&e.el&&e.el.addCls(t)},removeCls:function(e,t){e&&e.el&&e.el.removeCls(t)},addGradient:function(e){var t,i,n,r,s,o,a=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),l=[],d=Ext.create("Ext.util.MixedCollection");for(d.addAll(e.stops),d.sortByKey("ASC",function(e,t){return e=parseInt(e,10),(t=parseInt(t,10))<e?1:e<t?-1:0}),t=d.keys,i=d.items,n=t.length,o=0;o<n;o++)r=t[o],s=i[o],l.push(r+"% "+s.color);a.add(e.id,{colors:l.join(","),angle:e.angle})},destroy:function(){this.callParent(arguments),this.el&&this.el.remove(),delete this.el}}),Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(e){e&&Ext.apply(this,e);var t=e.params;Ext.isString(t)&&(this.params=Ext.Object.fromQueryString(t))},run:Ext.emptyFn,onFailure:function(e){this.response=e,this.failureType=Ext.form.action.Action.CONNECT_FAILURE,this.form.afterAction(this,!1)},processResponse:function(e){return!(this.response=e).responseText&&!e.responseXML||(this.result=this.handleResponse(e))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var e=this.form;return{success:this.onSuccess,failure:this.onFailure,scope:this,timeout:1e3*this.timeout||1e3*e.timeout,upload:e.fileUpload?this.onSuccess:void 0}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}}),Ext.define("Ext.form.action.Load",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(e){var t=this.processResponse(e),i=this.form;if(!0===t||!t.success||!t.data)return this.failureType=Ext.form.action.Action.LOAD_FAILURE,void i.afterAction(this,!1);i.clearInvalid(),i.setValues(t.data),i.afterAction(this,!0)},handleResponse:function(e){var t,i,n=this.form.reader;return n?(i=(t=n.read(e)).records&&t.records[0]?t.records[0].data:null,{success:t.success,data:i}):Ext.decode(e.responseText)}}),Ext.define("Ext.form.action.Submit",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var e=this.form;!1===this.clientValidation||e.isValid()?this.doSubmit():(this.failureType=Ext.form.action.Action.CLIENT_INVALID,e.afterAction(this,!1))},doSubmit:function(){var e,t=Ext.apply(this.createCallback(),{url:this.getUrl(),method:this.getMethod(),headers:this.headers}),i=this.form,n=this.jsonSubmit||i.jsonSubmit,r=n?"jsonData":"params";i.hasUpload()?(e=this.buildForm(),t.form=e.formEl,t.isUpload=!0):t[r]=this.getParams(n),Ext.Ajax.request(t),e&&this.cleanup(e)},cleanup:function(e){var t,i,n=e.formEl,r=e.uploadEls,s=e.uploadFields,o=s.length;for(t=0;t<o;++t)(i=s[t]).clearOnSubmit||i.restoreInput(r[t]);n&&Ext.removeNode(n)},getParams:function(e){var t=this.callParent(),i=this.form.getValues(!1,!1,!1!==this.submitEmptyText,e,!0);return Ext.apply({},i,t)},buildForm:function(){var e,t,i,n,r,s,o,a,l,d=[],h=this.form,c=this.getParams(),u=[],f=[],g=h.getFields().items,p=g.length;for(i=0;i<p;++i)(n=g[i]).isFileUpload()&&u.push(n);for(r in c)if(c.hasOwnProperty(r))if(s=c[r],Ext.isArray(s))for(a=s.length,o=0;o<a;o++)d.push(this.getFieldConfig(r,s[o]));else d.push(this.getFieldConfig(r,s));for(e={tag:"form",role:"presentation",action:this.getUrl(),method:this.getMethod(),target:this.target||"_self",style:"display:none",cn:d},u.length&&(e.encoding=e.enctype="multipart/form-data"),t=Ext.DomHelper.append(Ext.getBody(),e),p=u.length,i=0;i<p;++i)l=u[i].extractFileInput(),t.appendChild(l),f.push(l);return{formEl:t,uploadFields:u,uploadEls:f}},getFieldConfig:function(e,t){return{tag:"input",type:"hidden",name:e,value:Ext.String.htmlEncode(t)}},onSuccess:function(e){var t=this.form,i=!0,n=this.processResponse(e);!0===n||n.success||(n.errors&&t.markInvalid(n.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,i=!1),t.afterAction(this,i)},handleResponse:function(e){var t,i,n,r,s,o,a=this.form.errorReader;if(a){if(i=[],s=(t=a.read(e)).records)for(n=0,r=s.length;n<r;n++)i[n]=s[n].data;i.length<1&&(i=null),o={success:t.success,errors:i}}else try{o=Ext.decode(e.responseText)}catch(e){o={success:!1,errors:[]}}return o}}),Ext.define("Ext.util.ComponentDragger",{extend:Ext.dd.DragTracker,autoStart:500,constructor:function(e,t){this.comp=e,this.initialConstrainTo=t.constrainTo,this.callParent([t])},onStart:function(e){var t=this.comp;this.startPosition=t.getXY(),t.ghost&&!t.liveDrag&&(this.proxy=t.ghost(),this.dragTarget=this.proxy.header.el),(this.constrain||this.constrainDelegate)&&(this.constrainTo=this.calculateConstrainRegion()),t.beginDrag&&t.beginDrag()},calculateConstrainRegion:function(){var e,t,i,n=this.comp,r=this.initialConstrainTo,s=n.constraintInsets,o=this.proxy?this.proxy.el:n.el,a=!this.constrainDelegate&&o.shadow&&n.constrainShadow&&!o.shadowDisabled?o.shadow.getShadowSize():0;return r instanceof Ext.util.Region?r=r.copy():(r=(e=Ext.fly(r)).getViewRegion()).right=r.left+e.dom.clientWidth,s&&(s=Ext.isObject(s)?s:Ext.Element.parseBox(s),r.adjust(s.top,s.right,s.bottom,s.length)),a&&r.adjust(a[0],-a[1],-a[2],a[3]),this.constrainDelegate||(t=Ext.fly(this.dragTarget).getRegion(),i=o.getRegion(),r.adjust(t.top-i.top,t.right-i.right,t.bottom-i.bottom,t.left-i.left)),r},onDrag:function(e){var t=this.proxy&&!this.comp.liveDrag?this.proxy:this.comp,i=this.getOffset(this.constrain||this.constrainDelegate?"dragTarget":null);t.setPagePosition(this.startPosition[0]+i[0],this.startPosition[1]+i[1])},onEnd:function(e){var t=this.comp;t.isDestroyed||t.destroying||(this.proxy&&!t.liveDrag&&t.unghost(),t.endDrag&&t.endDrag())}}),Ext.define("Ext.window.Window",{extend:Ext.panel.Panel,alternateClassName:"Ext.Window",alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,ariaRole:"dialog",initComponent:function(){this.frame=!1,this.callParent(),this.addEvents("resize","maximize","minimize","restore"),this.plain&&this.addClsWithUI("plain"),this.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var e;return(e=this.callParent()).tabIndex=-1,e},getState:function(){var e,t=this.callParent()||{},i=!!this.maximized,n=this.ghostBox;return e=(t.maximized=i)?this.restorePos:n?[n.x,n.y]:this.getPosition(),Ext.apply(t,{size:i?this.restoreSize:this.getSize(),pos:e}),t},applyState:function(e){e&&(this.maximized=e.maximized,this.maximized?(this.hasSavedRestore=!0,this.restoreSize=e.size,this.restorePos=e.pos):Ext.apply(this,{width:e.size.width,height:e.size.height,x:e.pos[0],y:e.pos[1]}))},onRender:function(e,t){this.callParent(arguments),this.focusEl=this.el,this.maximizable&&this.header.on({scope:this,dblclick:this.toggleMaximize})},afterRender:function(){var e,t=this,i=t.header;t.callParent(),t.maximized&&(t.maximized=!1,t.maximize(),i&&i.removeCls(i.indicateDragCls)),t.closable?(e=t.getKeyMap()).on(27,t.onEsc,t):e=t.keyMap,e&&t.hidden&&e.disable()},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments),this.maximized&&this.resizer.disable()},onEsc:function(e,t){Ext.FocusManager&&Ext.FocusManager.enabled&&Ext.FocusManager.focusedCmp!==this||(t.stopEvent(),this.close())},beforeDestroy:function(){this.rendered&&(delete this.animateTarget,this.hide(),Ext.destroy(this.keyMap)),this.callParent()},addTools:function(){var e=this;e.callParent(),e.minimizable&&e.addTool({type:"minimize",handler:Ext.Function.bind(e.minimize,e,[])}),e.maximizable&&(e.addTool({type:"maximize",handler:Ext.Function.bind(e.maximize,e,[])}),e.addTool({type:"restore",handler:Ext.Function.bind(e.restore,e,[]),hidden:!0}))},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var e,t,i=this.defaultButton||this.defaultFocus;return void 0!==i&&(Ext.isNumber(i)?e=this.query("button")[i]:Ext.isString(i)?((t=i).match(this.initialAlphaNum)&&(e=this.down("#"+t)),e=e||this.down(t)):i.focus&&(e=i)),e||this.el},onFocus:function(){var e;Ext.FocusManager&&Ext.FocusManager.enabled||(e=this.getDefaultFocus())===this?this.callParent(arguments):e.focus()},onShow:function(){this.callParent(arguments),this.expandOnShow&&this.expand(!1),this.syncMonitorWindowResize(),this.keyMap&&this.keyMap.enable()},doClose:function(){this.hidden?(this.fireEvent("close",this),"destroy"==this.closeAction&&this.destroy()):this.hide(this.animateTarget,this.doClose,this)},afterHide:function(){this.syncMonitorWindowResize(),this.keyMap&&this.keyMap.disable(),this.callParent(arguments)},onWindowResize:function(){var e;this.maximized?this.fitContainer():(((e=this.getSizeModel()).width.natural||e.height.natural)&&this.updateLayout(),this.doConstrain())},minimize:function(){return this.fireEvent("minimize",this),this},resumeHeaderLayout:function(e){this.header.resumeLayouts(e?this.isRootCfg:null)},afterCollapse:function(){var e=this.header,t=this.tools;e&&this.maximizable&&(e.suspendLayouts(),t.maximize.hide(),t.restore.hide(),this.resumeHeaderLayout(!0)),this.resizer&&this.resizer.disable(),this.callParent(arguments)},afterExpand:function(){var e,t=this.header,i=this.tools;t&&(t.suspendLayouts(),this.maximized?(i.restore.show(),e=!0):this.maximizable&&(i.maximize.show(),e=!0),this.resumeHeaderLayout(e)),this.resizer&&this.resizer.enable(),this.callParent(arguments)},maximize:function(e){var t,i=this,n=i.header,r=i.tools,s=i.width,o=i.height;return i.maximized||(i.expand(!1),i.hasSavedRestore||(i.restoreSize={width:Ext.isNumber(s)?s:null,height:Ext.isNumber(o)?o:null},i.restorePos=i.getPosition(!0)),n&&(n.suspendLayouts(),r.maximize&&(r.maximize.hide(),t=!0),r.restore&&(r.restore.show(),t=!0),i.collapseTool&&(i.collapseTool.hide(),t=!0),i.resumeHeaderLayout(t)),i.el.disableShadow(),i.dd&&(i.dd.disable(),n&&n.removeCls(n.indicateDragCls)),i.resizer&&i.resizer.disable(),i.el.addCls(Ext.baseCSSPrefix+"window-maximized"),i.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),i.syncMonitorWindowResize(),i.fitContainer(e=e||i.animateTarget?{callback:function(){i.maximized=!0,i.fireEvent("maximize",i)}}:null),e||(i.maximized=!0,i.fireEvent("maximize",i))),i},restore:function(e){var t,i=this,n=i.tools,r=i.header,s=i.restoreSize;return i.maximized&&(i.hasSavedRestore=null,i.removeCls(Ext.baseCSSPrefix+"window-maximized"),r&&(r.suspendLayouts(),n.restore&&(n.restore.hide(),t=!0),n.maximize&&(n.maximize.show(),t=!0),i.collapseTool&&(i.collapseTool.show(),t=!0),i.resumeHeaderLayout(t)),s.x=i.restorePos[0],s.y=i.restorePos[1],i.setBox(s,e=e||i.animateTarget?{callback:function(){i.el.enableShadow(!0),i.maximized=!1,i.fireEvent("restore",i)}}:null),i.restorePos=i.restoreSize=null,i.dd&&(i.dd.enable(),r&&r.addCls(r.indicateDragCls)),i.resizer&&i.resizer.enable(),i.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),i.syncMonitorWindowResize(),e||(i.el.enableShadow(!0),i.maximized=!1,i.fireEvent("restore",i))),i},syncMonitorWindowResize:function(){var e=this,t=e._monitoringResize,i=e.monitorResize||e.constrain||e.constrainHeader||e.maximized,n=e.hidden||e.destroying||e.isDestroyed;i&&!n?t||(Ext.EventManager.onWindowResize(e.onWindowResize,e,{delay:1}),e._monitoringResize=!0):t&&(Ext.EventManager.removeResizeListener(e.onWindowResize,e),e._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var e=this.callParent(arguments);return e.xtype="window",e}}),Ext.define("Ext.form.Labelable",{isLabelable:!0,autoEl:{tag:"table",cellpadding:0,role:"presentation"},childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow"],labelableRenderTpl:['<tr role="presentation" id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl> class="{inputRowCls}">','<tpl if="labelOnLeft">','<td role="presentation" id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}','<tpl if="inputId && !(boxLabel && !fieldLabel)"> for="{inputId}"</tpl>',' class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">','<span role="separator">{labelSeparator}</span>',"</tpl>","</tpl>","{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td role="presentation" class="{baseBodyCls} {fieldBodyCls} {extraFieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div role="presentation" id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">','<span role="separator">{labelSeparator}</span>',"</tpl>","</tpl>","{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td role=\"presentation\" id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",'<div role="alert" aria-live="polite" id="{id}-errorEl" class="{errorMsgCls}" style="display:none"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div role="alert" aria-live="polite" id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel"><div>{fieldLabel}</div></tpl>',"</tpl>",'<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel">{fieldLabel}\n</tpl>',"</tpl>",'<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",inputRowCls:Ext.baseCSSPrefix+"form-item-input-row",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",noWrap:!0,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:["allowBlank","id","labelAlign","fieldBodyCls","extraFieldBodyCls","baseBodyCls","clearCls","labelSeparator","msgTarget","inputRowCls"],initLabelable:function(){var e=this,t=e.padding;t&&(e.padding=void 0,e.extraMargins=Ext.Element.parseBox(t)),e.activeErrorsTpl||("title"==e.msgTarget?e.activeErrorsTpl=e.plaintextActiveErrorsTpl:e.activeErrorsTpl=e.htmlActiveErrorsTpl),e.addCls(Ext.plainTableCls),e.addCls(e.formItemCls),e.lastActiveError="",e.addEvents("errorchange"),e.enableBubble("errorchange")},trimLabelSeparator:function(){var e=this.labelSeparator,t=this.fieldLabel||"";return t.substr(t.length-1)===e?t.slice(0,-1):t},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(e){e=e||"";var t=this.labelSeparator,i=this.labelEl;this.fieldLabel=e,this.rendered&&(Ext.isEmpty(e)&&this.hideEmptyLabel?i.parent().setDisplayed("none"):(t&&(e=this.trimLabelSeparator()+t),i.update(e),i.parent().setDisplayed("")),this.updateLayout())},getInsertionRenderData:function(e,t){for(var i,n,r=t.length;r--;)(n=this[i=t[r]])&&"string"!=typeof n&&(n.isTemplate||(n=Ext.XTemplate.getTpl(this,i)),n=n.apply(e)),e[i]=n||"";return e},getLabelableRenderData:function(){var e,t,i=this,n="top"===i.labelAlign;return Ext.form.Labelable.errorIconWidth||(t=Ext.getBody().createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"}),Ext.form.Labelable.errorIconWidth=t.getWidth()+t.getMargin("l"),t.remove()),e=Ext.copyTo({inFormLayout:i.ownerLayout&&"form"===i.ownerLayout.type,inputId:i.getInputId(),labelOnLeft:!n,hideLabel:!i.hasVisibleLabel(),fieldLabel:i.getFieldLabel(),labelCellStyle:i.getLabelCellStyle(),labelCellAttrs:i.getLabelCellAttrs(),labelCls:i.getLabelCls(),labelStyle:i.getLabelStyle(),bodyColspan:i.getBodyColspan(),externalError:!i.autoFitErrors,errorMsgCls:i.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth,boxLabel:i.boxLabel},i,i.labelableRenderProps,!0),i.getInsertionRenderData(e,i.labelableInsertions),e},xhooks:{beforeRender:function(){this.setFieldDefaults(this.getHierarchyState().fieldDefaults),this.ownerLayout&&this.addCls(Ext.baseCSSPrefix+this.ownerLayout.type+"-form-item")},onRender:function(){var e,t,i={};if(this.extraMargins){for(t in e=this.el.getMargin())e.hasOwnProperty(t)&&(i["margin-"+t]=e[t]+this.extraMargins[t]+"px");this.el.setStyle(i)}}},hasVisibleLabel:function(){return!this.hideLabel&&!(this.hideEmptyLabel&&!this.getFieldLabel())},getLabelWidth:function(){return this.hasVisibleLabel()?this.labelWidth+this.labelPad:0},getBodyColspan:function(){var e;return e="side"!==this.msgTarget||this.autoFitErrors&&!this.hasActiveError()?2:1,"top"===this.labelAlign||this.hasVisibleLabel()||e++,e},getLabelCls:function(){var e=this.labelCls+" "+Ext.dom.Element.unselectableCls,t=this.labelClsExtra;return t?e+" "+t:e},getLabelCellStyle:function(){return this.hideLabel||!this.getFieldLabel()&&this.hideEmptyLabel?"display:none;":""},getErrorMsgCls:function(){var e=this.hideLabel||!this.fieldLabel&&this.hideEmptyLabel;return this.errorMsgCls+(e||"top"!==this.labelAlign?"":" "+Ext.baseCSSPrefix+"lbl-top-err-icon")},getLabelCellAttrs:function(){var e=this.labelAlign,t="";return"top"!==e&&(t='valign="top" halign="'+e+'" width="'+(this.labelWidth+this.labelPad)+'"'),t+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var e=this.labelPad,t="";return"top"!==this.labelAlign&&(this.labelWidth&&(t="width:"+this.labelWidth+"px;"),e&&(t+="margin-right:"+e+"px;")),t+(this.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(e){this.setActiveErrors(e)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(e){var t;e=Ext.Array.from(e),t=this.getTpl("activeErrorsTpl"),this.activeErrors=e,this.activeError=t.apply({fieldLabel:this.fieldLabel,errors:e,listCls:Ext.plainListCls}),this.renderActiveError()},unsetActiveError:function(){delete this.activeError,delete this.activeErrors,this.renderActiveError()},renderActiveError:function(){var e=this,t=e.getActiveError(),i=!!t;t!==e.lastActiveError&&(e.fireEvent("errorchange",e,t),e.lastActiveError=t),!e.rendered||e.isDestroyed||e.preventMark||(e.el[i?"addCls":"removeCls"](e.invalidCls),e.errorEl&&(e.errorEl.dom.innerHTML=t))},setFieldDefaults:function(e){var t;for(t in e)this.hasOwnProperty(t)||(this[t]=e[t])}}),Ext.define("Ext.form.field.Field",{isFormField:!0,disabled:!1,submitValue:!0,validateOnChange:!0,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange"),this.initValue()},initValue:function(){var e=this;e.value=e.transformOriginalValue(e.value),e.originalValue=e.lastValue=e.value,e.suspendCheckChange++,e.setValue(e.value),e.suspendCheckChange--},transformOriginalValue:Ext.identityFn,getName:function(){return this.name},getValue:function(){return this.value},setValue:function(e){return this.value=e,this.checkChange(),this},isEqual:function(e,t){return String(e)===String(t)},isEqualAsString:function(e,t){return String(Ext.value(e,""))===String(Ext.value(t,""))},getSubmitData:function(){var e=null;return!this.disabled&&this.submitValue&&((e={})[this.getName()]=""+this.getValue()),e},getModelData:function(e,t){var i=null;return this.disabled||!this.submitValue&&t||((i={})[this.getName()]=this.getValue()),i},reset:function(){this.beforeReset(),this.setValue(this.originalValue),this.clearInvalid(),delete this.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue(),this.checkDirty()},checkChange:function(){var e,t;this.suspendCheckChange||(e=this.getValue(),t=this.lastValue,!this.isDestroyed&&this.didValueChange(e,t)&&(this.lastValue=e,this.fireEvent("change",this,e,t),this.onChange(e,t)))},didValueChange:function(e,t){return!this.isEqual(e,t)},onChange:function(e,t){this.validateOnChange&&this.validate(),this.checkDirty()},isDirty:function(){return!this.disabled&&!this.isEqual(this.getValue(),this.originalValue)},checkDirty:function(){var e=this.isDirty();e!==this.wasDirty&&(this.fireEvent("dirtychange",this,e),this.onDirtyChange(e),this.wasDirty=e)},onDirtyChange:Ext.emptyFn,getErrors:function(e){return[]},isValid:function(){return this.disabled||Ext.isEmpty(this.getErrors())},validate:function(){var e=this.isValid();return e!==this.wasValid&&(this.wasValid=e,this.fireEvent("validitychange",this,e)),e},batchChanges:function(e){try{this.suspendCheckChange++,e()}catch(e){throw e}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.layout.component.field.Field",{extend:Ext.layout.component.Auto,alias:"layout.field",type:"field",naturalSizingProp:"size",beginLayout:function(e){var t=this.owner;this.callParent(arguments),e.labelStrategy=this.getLabelStrategy(),e.errorStrategy=this.getErrorStrategy(),e.labelContext=e.getEl("labelEl"),e.bodyCellContext=e.getEl("bodyEl"),e.inputContext=e.getEl("inputEl"),e.errorContext=e.getEl("errorEl"),e.labelStrategy.prepare(e,t),e.errorStrategy.prepare(e,t)},beginLayoutCycle:function(e){var t,i=this.owner,n=e.widthModel,r=i[this.naturalSizingProp];this.callParent(arguments),n.shrinkWrap?this.beginLayoutShrinkWrap(e):n.natural?("number"!=typeof r||i.inputWidth?this.beginLayoutShrinkWrap(e):this.beginLayoutFixed(e,t=6.5*r+20,"px"),e.setWidth(t,!1)):this.beginLayoutFixed(e,"100","%")},beginLayoutFixed:function(e,t,i){var n=e.target,r=n.inputEl,s=n.inputWidth;n.el.setStyle("table-layout","fixed"),n.bodyEl.setStyle("width",t+i),r&&(s?r.setStyle("width",s+"px"):r.setStyle("width",n.stretchInputElFixed?"100%":"")),e.isFixed=!0},beginLayoutShrinkWrap:function(e){var t=e.target,i=t.inputEl,n=t.inputWidth;i&&i.dom&&(i.dom.removeAttribute("size"),n?i.setStyle("width",n+"px"):i.setStyle("width","")),t.el.setStyle("table-layout","auto"),t.bodyEl.setStyle("width","")},finishedLayout:function(e){var t=this.owner;this.callParent(arguments),e.labelStrategy.finishedLayout(e,t),e.errorStrategy.finishedLayout(e,t)},calculateOwnerHeightFromContentHeight:function(e,t){return t},measureContentHeight:function(e){return e.el.getHeight()},measureContentWidth:function(e){return e.el.getWidth()},measureLabelErrorHeight:function(e){return e.labelStrategy.getHeight(e)+e.errorStrategy.getHeight(e)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var e=this.labelStrategies;return e[this.owner.labelAlign]||e.base},getErrorStrategy:function(){var e=this.owner,t=this.errorStrategies,i=e.msgTarget;return!e.preventMark&&Ext.isString(i)?t[i]||t.elementId:t.none},labelStrategies:(hHd={prepare:function(e,t){var i=t.labelCls+"-"+t.labelAlign,n=t.labelEl;n&&n.addCls(i)},getHeight:function(){return 0},finishedLayout:Ext.emptyFn},{base:hHd,top:Ext.applyIf({getHeight:function(e){var t=e.labelContext,i=t.props,n=i.height;return void 0===n&&(i.height=n=t.el.getHeight()+t.getMarginInfo().height),n}},hHd),left:hHd,right:hHd}),errorStrategies:(rHd=Ext.applyIf,sHd=Ext.emptyFn,tHd=Ext.baseCSSPrefix+"form-invalid-icon",vHd={prepare:function(e,t){var i=t.errorEl;i&&i.setDisplayed(!1)},getHeight:function(){return 0},onFocus:sHd,finishedLayout:sHd},{none:vHd,side:rHd({prepare:function(e,t){var i,n=t.errorEl,r=t.sideErrorCell,s=t.hasActiveError();uHd||(uHd=(i=Ext.getBody().createChild({style:"position:absolute",cls:tHd})).getWidth(),i.remove()),n.addCls(tHd),n.set({"data-errorqtip":t.getActiveError()||""}),t.autoFitErrors?n.setDisplayed(s):n.setVisible(s),r&&t.autoFitErrors&&r.setDisplayed(s),t.bodyEl.dom.colSpan=t.getBodyColspan(),Ext.layout.component.field.Field.initTip()},onFocus:qHd},vHd),under:rHd({prepare:function(e,t){var i=t.errorEl,n=Ext.baseCSSPrefix+"form-invalid-under";i.addCls(n),i.setDisplayed(t.hasActiveError())},getHeight:function(e){var t,i,n=0;return e.target.hasActiveError()&&void 0===(n=(i=(t=e.errorContext).props).height)&&(i.height=n=t.el.getHeight()),n}},vHd),qtip:rHd({prepare:function(e,t){Ext.layout.component.field.Field.initTip(),t.getActionEl().dom.setAttribute("data-errorqtip",t.getActiveError()||"")},onFocus:qHd},vHd),title:rHd({prepare:function(e,t){t.getActionEl().dom.setAttribute("title",t.getActiveError()||"")}},vHd),elementId:rHd({prepare:function(e,t){var i=Ext.fly(t.msgTarget);i&&(i.dom.innerHTML=t.getActiveError()||"",i.setDisplayed(t.hasActiveError()))}},vHd)}),statics:{initTip:function(){var e=this.tip;e||((e=this.tip=Ext.create("Ext.tip.QuickTip",{ui:"form-invalid"})).tagConfig=Ext.apply({},{attribute:"errorqtip"},e.tagConfig))},destroyTip:function(){var e=this.tip;e&&(e.destroy(),delete this.tip)}}}),Ext.define("Ext.form.field.Base",{extend:Ext.Component,mixins:{labelable:Ext.form.Labelable,field:Ext.form.field.Field},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],fieldSubTpl:['<input id="{id}" type="{type}" role="{role}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:!1,stretchInputElFixed:!0,initComponent:function(){var e=this;e.callParent(),e.subTplData=e.subTplData||{},e.addEvents("specialkey","writeablechange"),e.initLabelable(),e.initField(),e.name||(e.name=e.getInputId()),e.readOnly&&e.addCls(e.readOnlyCls),e.addCls(Ext.baseCSSPrefix+"form-type-"+e.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var e,t=this,i=t.inputType,n=t.getInputId();return e=Ext.apply({id:n,cmpId:t.id,name:t.name||n,disabled:t.disabled,readOnly:t.readOnly,value:t.getRawValue(),type:i,fieldCls:t.fieldCls,fieldStyle:t.getFieldStyle(),tabIdx:t.tabIndex,inputCls:t.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+("password"===i?"text":i),role:t.ariaRole},t.subTplData),t.getInsertionRenderData(e,t.subTplInsertions),e},applyRenderSelectors:function(){this.callParent(),this.addChildEls("inputEl"),this.inputEl=this.el.getById(this.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){return this.hasOwnProperty("renderTpl")||(this.renderTpl=this.getTpl("labelableRenderTpl")),this.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(e){var t=this.inputEl;t&&t.applyStyles(e),this.fieldStyle=e},getFieldStyle:function(){var e=this.fieldStyle;return Ext.isObject(e)?Ext.DomHelper.generateStyles(e,null,!0):e||""},onRender:function(){this.callParent(arguments),this.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return"file"===this.inputType},getSubmitData:function(){var e,t=null;return!this.disabled&&this.submitValue&&null!==(e=this.getSubmitValue())&&((t={})[this.getName()]=e),t},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var e=this.inputEl?this.inputEl.getValue():Ext.value(this.rawValue,"");return this.rawValue=e},setRawValue:function(e){return e=Ext.value(this.transformRawValue(e),""),this.rawValue=e,this.inputEl&&(this.inputEl.dom.value=e),e},transformRawValue:Ext.identityFn,valueToRaw:function(e){return""+Ext.value(e,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var e=this.rawToValue(this.processRawValue(this.getRawValue()));return this.value=e},setValue:function(e){return this.setRawValue(this.valueToRaw(e)),this.mixins.field.setValue.call(this,e)},onBoxReady:function(){this.callParent(),this.setReadOnlyOnBoxReady&&this.setReadOnly(this.readOnly)},onDisable:function(){var e=this.inputEl;this.callParent(),e&&(e.dom.disabled=!0,this.hasActiveError()&&(this.clearInvalid(),this.needsValidateOnEnable=!0))},onEnable:function(){var e=this.inputEl;this.callParent(),e&&(e.dom.disabled=!1,this.needsValidateOnEnable&&(delete this.needsValidateOnEnable,this.forceValidation=!0,this.isValid(),delete this.forceValidation))},setReadOnly:function(e){var t=this.inputEl;this[(e=!!e)?"addCls":"removeCls"](this.readOnlyCls),this.readOnly=e,t?t.dom.readOnly=e:this.rendering&&(this.setReadOnlyOnBoxReady=!0),this.fireEvent("writeablechange",this,e)},fireKey:function(e){e.isSpecialKey()&&this.fireEvent("specialkey",this,new Ext.EventObjectImpl(e))},initEvents:function(){var e,t,i,n,r=this,s=r.inputEl,o=r.checkChangeEvents,a=o.length;if(s)for(r.mon(s,Ext.EventManager.getKeyEvent(),r.fireKey,r),e=new Ext.util.DelayedTask(r.checkChange,r),r.onChangeEvent=t=function(){e.delay(r.checkChangeBuffer)},i=0;i<a;i++)"propertychange"===(n=o[i])&&(r.usesPropertychange=!0),r.mon(s,n,t);r.callParent()},doComponentLayout:function(){var e=this.inputEl,t=this.usesPropertychange,i="propertychange",n=this.onChangeEvent;t&&this.mun(e,i,n),this.callParent(arguments),t&&this.mon(e,i,n)},onDirtyChange:function(e){this[e?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var e=this.disabled;return this.forceValidation||!e?this.validateValue(this.processRawValue(this.getRawValue())):e},validateValue:function(e){var t=this.getErrors(e),i=Ext.isEmpty(t);return this.preventMark||(i?this.clearInvalid():this.markInvalid(t)),i},markInvalid:function(e){var t,i=this.getActiveError();this.setActiveErrors(Ext.Array.from(e)),i!==(t=this.getActiveError())&&this.setError(t)},clearInvalid:function(){var e=this.hasActiveError();delete this.needsValidateOnEnable,this.unsetActiveError(),e&&this.setError("")},setError:function(e){var t,i=this.msgTarget;this.rendered&&("title"==i||"qtip"==i?(this.rendered&&(t="qtip"==i?"data-errorqtip":"title"),this.getActionEl().dom.setAttribute(t,e||"")):this.updateLayout())},renderActiveError:function(){var e=this.hasActiveError();this.inputEl&&this.inputEl[e?"addCls":"removeCls"](this.invalidCls+"-field"),this.mixins.labelable.renderActiveError.call(this)},getActionEl:function(){return this.inputEl||this.el}}),Ext.define("Ext.form.field.VTypes",(iJd=/^[a-zA-Z_]+$/,jJd=/^[a-zA-Z0-9_]+$/,kJd=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,lJd=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i,{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(e){return kJd.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(e){return lJd.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(e){return iJd.test(e)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return jJd.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i})),Ext.define("Ext.layout.component.field.Text",{extend:Ext.layout.component.field.Field,alias:"layout.textfield",type:"textfield",setWidthInDom:!0,canGrowWidth:!0,beginLayoutCycle:function(e){this.callParent(arguments),e.heightModel.shrinkWrap&&e.inputContext.el.setStyle("height","")},measureContentWidth:function(e){var t,i,n,r,s,o=this.owner,a=this.callParent(arguments),l=e.inputContext;return o.grow&&this.canGrowWidth&&!e.state.growHandled&&(t=o.inputEl,i=Ext.util.Format.htmlEncode(t.dom.value||(o.hasFocus?"":o.emptyText)||""),i+=o.growAppend,n=t.getTextWidth(i)+l.getFrameInfo().width,r=o.growMax,s=Math.min(r,a),r=Math.max(o.growMin,r,s),n=Ext.Number.constrain(n,o.growMin,r),l.setWidth(n),e.state.growHandled=!0,l.domBlock(this,"width"),a=NaN),a},publishInnerHeight:function(e,t){e.inputContext.setHeight(t-this.measureLabelErrorHeight(e))},beginLayoutFixed:function(e,t,i){var n=this.ieInputWidthAdjustment;n&&(this.adjustIEInputPadding(e),"px"===i&&(t-=n)),this.callParent(arguments)},adjustIEInputPadding:function(e){this.owner.bodyEl.setStyle("padding-right",this.ieInputWidthAdjustment+"px")}}),Ext.define("Ext.form.field.Text",{extend:Ext.form.field.Base,alias:"widget.textfield",alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",componentLayout:"textfield",valueContainsPlaceholder:!1,ariaRole:"textbox",initComponent:function(){!1===this.allowOnlyWhitespace&&(this.allowBlank=!1),this.callParent(),this.addEvents("autosize","keydown","keyup","keypress"),this.addStateEvents("change"),this.setGrowSizePolicy()},setGrowSizePolicy:function(){this.grow&&(this.shrinkWrap|=1)},initEvents:function(){var e=this,t=e.inputEl;e.callParent(),(e.selectOnFocus||e.emptyText)&&e.mon(t,"mousedown",e.onMouseDown,e),(e.maskRe||e.vtype&&!0!==e.disableKeyFilter&&(e.maskRe=Ext.form.field.VTypes[e.vtype+"Mask"]))&&e.mon(t,"keypress",e.filterKeys,e),e.enableKeyEvents&&e.mon(t,{scope:e,keyup:e.onKeyUp,keydown:e.onKeyDown,keypress:e.onKeyPress})},isEqual:function(e,t){return this.isEqualAsString(e,t)},onChange:function(e,t){this.callParent(arguments),this.autoSize()},getSubTplData:function(){var e,t=this,i=t.getRawValue(),n=t.emptyText&&i.length<1,r=t.maxLength;return t.enforceMaxLength?r===Number.MAX_VALUE&&(r=void 0):r=void 0,n&&(Ext.supports.Placeholder?e=t.emptyText:(i=t.emptyText,t.valueContainsPlaceholder=!0)),Ext.apply(t.callParent(),{maxLength:r,readOnly:t.readOnly,placeholder:e,value:i,fieldCls:t.fieldCls+(n&&(e||i)?" "+t.emptyCls:"")+(t.allowBlank?"":" "+t.requiredCls)})},afterRender:function(){this.autoSize(),this.callParent()},onMouseDown:function(e){this.hasFocus||this.mon(this.inputEl,"mouseup",Ext.emptyFn,this,{single:!0,preventDefault:!0})},processRawValue:function(e){var t,i=this.stripCharsRe;return i&&(t=e.replace(i,""))!==e&&(this.setRawValue(t),e=t),e},onDisable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(e){this.fireEvent("keydown",this,e)},onKeyUp:function(e){this.fireEvent("keyup",this,e)},onKeyPress:function(e){this.fireEvent("keypress",this,e)},reset:function(){this.callParent(),this.applyEmptyText()},applyEmptyText:function(){var e,t=this,i=t.emptyText;t.rendered&&i&&(e=t.getRawValue().length<1&&!t.hasFocus,Ext.supports.Placeholder?t.inputEl.dom.placeholder=i:e&&(t.setRawValue(i),t.valueContainsPlaceholder=!0),e&&t.inputEl.addCls(t.emptyCls),t.autoSize())},afterFirstLayout:function(){if(this.callParent(),Ext.isIE&&this.disabled){var e=this.inputEl;e&&(e.dom.unselectable="on")}},beforeFocus:function(){var e,t=this,i=t.inputEl,n=t.emptyText;t.callParent(arguments),n&&!Ext.supports.Placeholder&&i.dom.value===t.emptyText&&t.valueContainsPlaceholder?(t.setRawValue(""),e=!0,i.removeCls(t.emptyCls),t.valueContainsPlaceholder=!1):Ext.supports.Placeholder&&i.removeCls(t.emptyCls),(t.selectOnFocus||e)&&(Ext.isWebKit?(t.inputFocusTask||(t.inputFocusTask=new Ext.util.DelayedTask(t.focusInput,t)),t.inputFocusTask.delay(1)):t.focusInput())},focusInput:function(){var e=this.inputEl;(e=e&&e.dom)&&e.select()},onFocus:function(){this.callParent(arguments),this.emptyText&&this.autoSize()},postBlur:function(){var e=this.inputFocusTask;this.callParent(arguments),this.applyEmptyText(),e&&e.cancel()},filterKeys:function(e){if(!e.ctrlKey||e.altKey){var t=e.getKey(),i=String.fromCharCode(e.getCharCode());(Ext.isGecko||Ext.isOpera)&&(e.isNavKeyPress()||t===e.BACKSPACE||t===e.DELETE&&-1===e.button)||(Ext.isGecko||Ext.isOpera||!e.isSpecialKey()||i)&&(this.maskRe.test(i)||e.stopEvent())}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(e){this.callParent(arguments),e.hasOwnProperty("value")&&this.setValue(e.value)},getRawValue:function(){var e=this.callParent();return e===this.emptyText&&this.valueContainsPlaceholder&&(e=""),e},setValue:function(e){var t=this.inputEl;return t&&this.emptyText&&!Ext.isEmpty(e)&&(t.removeCls(this.emptyCls),this.valueContainsPlaceholder=!1),this.callParent(arguments),this.applyEmptyText(),this},getErrors:function(e){var t,i,n=this,r=n.callParent(arguments),s=n.validator,o=n.vtype,a=Ext.form.field.VTypes,l=n.regex,d=Ext.String.format;if(e=e||n.processRawValue(n.getRawValue()),Ext.isFunction(s)&&!0!==(t=s.call(n,e))&&r.push(t),(n.allowOnlyWhitespace?e:Ext.String.trim(e)).length<1||e===n.emptyText&&n.valueContainsPlaceholder){if(n.allowBlank||r.push(n.blankText),!n.validateBlank)return r;i=!0}return!i&&e.length<n.minLength&&r.push(d(n.minLengthText,n.minLength)),e.length>n.maxLength&&r.push(d(n.maxLengthText,n.maxLength)),o&&(a[o](e,n)||r.push(n.vtypeText||a[o+"Text"])),l&&!l.test(e)&&r.push(n.regexText||n.invalidText),r},selectText:function(e,t){var i,n=this.getRawValue(),r=!0,s=this.inputEl.dom;0<n.length&&(e=void 0===e?0:e,t=void 0===t?n.length:t,s.setSelectionRange?s.setSelectionRange(e,t):s.createTextRange&&((i=s.createTextRange()).moveStart("character",e),i.moveEnd("character",t-n.length),i.select()),r=Ext.isGecko||Ext.isOpera),r&&this.focus()},autoSize:function(){this.grow&&this.rendered&&(this.autoSizing=!0,this.updateLayout())},afterComponentLayout:function(){var e;this.callParent(arguments),this.autoSizing&&(e=this.inputEl.getWidth())!==this.lastInputWidth&&(this.fireEvent("autosize",this,e),this.lastInputWidth=e,delete this.autoSizing)},onDestroy:function(){this.callParent(),this.inputFocusTask&&(this.inputFocusTask.cancel(),this.inputFocusTask=null)}}),Ext.define("Ext.layout.component.field.TextArea",{extend:Ext.layout.component.field.Text,alias:"layout.textareafield",type:"textareafield",canGrowWidth:!1,naturalSizingProp:"cols",beginLayout:function(e){this.callParent(arguments),e.target.inputEl.setStyle("height","")},measureContentHeight:function(e){var t,i,n,r,s,o=this.owner,a=this.callParent(arguments);return o.grow&&!e.state.growHandled&&(t=e.inputContext,r=(i=o.inputEl).getWidth(!0),n=Ext.util.Format.htmlEncode(i.dom.value)||"&#160;",n=(n+=o.growAppend).replace(/\n/g,"<br/>"),s=Ext.util.TextMetrics.measure(i,n,r).height+t.getBorderInfo().height+t.getPaddingInfo().height,s=Ext.Number.constrain(s,o.growMin,o.growMax),t.setHeight(s),e.state.growHandled=!0,t.domBlock(this,"height"),a=NaN),a}}),Ext.define("Ext.form.field.TextArea",{extend:Ext.form.field.Text,alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" role="{role}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:!1,preventScrollbars:!1,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",getSubTplData:function(){var e=this.getFieldStyle(),t=this.callParent();return this.grow&&this.preventScrollbars&&(t.fieldStyle=(e||"")+";overflow:hidden;height:"+this.growMin+"px"),Ext.applyIf(t,{cols:this.cols,rows:this.rows}),t},afterRender:function(){this.callParent(arguments),this.needsMaxCheck=this.enforceMaxLength&&this.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,this.needsMaxCheck&&this.inputEl.on("paste",this.onPaste,this)},transformRawValue:function(e){return this.stripReturns(e)},transformOriginalValue:function(e){return this.stripReturns(e)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(e){return e=this.stripReturns(e),this.callParent([e])},stripReturns:function(e){return e&&"string"==typeof e&&(e=e.replace(this.returnRe,"")),e},onPaste:function(e){this.pasteTask||(this.pasteTask=new Ext.util.DelayedTask(this.pasteCheck,this)),this.pasteTask.delay(1)},pasteCheck:function(){var e=this.getValue(),t=this.maxLength;e.length>t&&(e=e.substr(0,t),this.setValue(e))},fireKey:function(e){var t=e.getKey();e.isSpecialKey()&&(this.enterIsSpecial||t!==e.ENTER||e.hasModifier())&&this.fireEvent("specialkey",this,e),!this.needsMaxCheck||t===e.BACKSPACE||t===e.DELETE||e.isNavKeyPress()||this.isCutCopyPasteSelectAll(e,t)||this.getValue().length>=this.maxLength&&e.stopEvent()},isCutCopyPasteSelectAll:function(e,t){return!!e.ctrlKey&&(t===e.A||t===e.C||t===e.V||t===e.X)},autoSize:function(){var e;this.grow&&this.rendered&&(this.updateLayout(),(e=this.inputEl.getHeight())!==this.lastInputHeight&&(this.fireEvent("autosize",this,e),this.lastInputHeight=e))},beforeDestroy:function(){var e=this.pasteTask;e&&(e.cancel(),this.pasteTask=null),this.callParent()}}),Ext.define("Ext.form.field.Display",{extend:Ext.form.field.Base,alias:"widget.displayfield",alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],ariaRole:"textbox",fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl}','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:!0,disableFormats:!0}],readOnly:!0,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,valueToRaw:function(e){return e||0===e?e:""},isDirty:function(){return!1},isValid:function(){return!0},validate:function(){return!0},getRawValue:function(){return this.rawValue},setRawValue:function(e){return e=Ext.value(e,""),this.rawValue=e,this.rendered&&(this.inputEl.dom.innerHTML=this.getDisplayValue(),this.updateLayout()),e},getDisplayValue:function(){var e=this.getRawValue();return this.renderer?this.renderer.call(this.scope||this,e,this):this.htmlEncode?Ext.util.Format.htmlEncode(e):e},getSubTplData:function(){var e=this.callParent(arguments);return e.value=this.getDisplayValue(),e}}),Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:Ext.layout.container.Auto,alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,beginLayoutCycle:function(e){var t,i,n,r,s,o=0;for(this.callParent(arguments),s=(n=e.childItems).length,r=0;r<s&&(!(t=(i=n[r]).target.anchorSpec)||(i.widthModel.calculated&&t.right&&(o|=1),i.heightModel.calculated&&t.bottom&&(o|=2),3!=o));++r);e.anchorDimensions=o},calculateItems:function(e,t){var i,n,r,s,o,a,l=e.childItems,d=l.length,h=t.gotHeight,c=t.gotWidth,u=t.height,f=t.width,g=(c?1:0)|(h?2:0),p=e.anchorDimensions;if(!p)return!0;for(o=0;o<d;o++)r=(n=l[o]).getMarginInfo(),i=n.target.anchorSpec,c&&n.widthModel.calculated&&(a=i.right(f)-r.width,a=this.adjustWidthAnchor(a,n),n.setWidth(a)),h&&n.heightModel.calculated&&(s=i.bottom(u)-r.height,s=this.adjustHeightAnchor(s,n),n.setHeight(s));return(g&p)===p},anchorFactory:{offset:function(t){return function(e){return e+t}},ratio:function(t){return function(e){return Math.floor(e*t)}},standard:function(t){return function(e){return e-t}}},parseAnchor:function(e,t,i){if(e&&"none"!=e){var n,r=this.anchorFactory;if(this.parseAnchorRE.test(e))return r.standard(i-t);if(-1!=e.indexOf("%"))return r.ratio(.01*parseFloat(e.replace("%","")));if(n=parseInt(e,10),!isNaN(n))return r.offset(n)}return null},adjustWidthAnchor:function(e,t){return e},adjustHeightAnchor:function(e,t){return e},configureItem:function(e){var t,i,n,r=this.owner,s=e.anchor;this.callParent(arguments),e.anchor||!e.items||Ext.isNumber(e.width)||Ext.isIE6&&Ext.isStrict||(e.anchor=s=this.defaultAnchor),r.anchorSize?"number"==typeof r.anchorSize?i=r.anchorSize:(i=r.anchorSize.width,n=r.anchorSize.height):(i=r.initialConfig.width,n=r.initialConfig.height),s&&(t=s.split(" "),e.anchorSpec={right:this.parseAnchor(t[0],e.initialConfig.width,i),bottom:this.parseAnchor(t[1],e.initialConfig.height,n)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t,i=e.anchorSpec,n="$",r=this.sizePolicy;return i&&(t=this.owner.getSizeModel(),i.right&&!t.width.shrinkWrap&&(r=r.r),i.bottom&&!t.height.shrinkWrap&&(n="b")),r[n]}}),Ext.define("Ext.window.MessageBox",{extend:Ext.window.Window,alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hide-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,iconWidth:50,ariaRole:"alertdialog",makeButton:function(e){var t=this.buttonIds[e];return new Ext.button.Button({handler:this.btnCallback,itemId:t,scope:this,text:this.buttonText[t],minWidth:75})},btnCallback:function(e){var t,i;(this.cfg.prompt||this.cfg.multiline)&&(t=(i=this.cfg.multiline?this.textArea:this.textField).getValue(),i.reset()),this.hide(),this.userCallback(e.itemId,t,this.cfg)},hide:function(){var e=this.cfg.cls;this.progressBar.reset(),e&&this.removeCls(e),this.callParent(arguments)},constructor:function(e){var t=this;t.callParent(arguments),t.minWidth=t.defaultMinWidth=t.minWidth||t.defaultMinWidth,t.maxWidth=t.defaultMaxWidth=t.maxWidth||t.defaultMaxWidth,t.minHeight=t.defaultMinHeight=t.minHeight||t.defaultMinHeight,t.maxHeight=t.defaultMaxHeight=t.maxHeight||t.defaultMaxHeight},initComponent:function(e){var t,i,n=this,r=n.id;for(n.title="&#160;",n.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[n.iconComponent=new Ext.Component({width:n.iconWidth,height:n.iconHeight}),n.promptContainer=new Ext.container.Container({flex:1,layout:"anchor",items:[n.msg=new Ext.form.field.Display({id:r+"-displayfield",cls:n.baseCls+"-text"}),n.textField=new Ext.form.field.Text({id:r+"-textfield",anchor:"100%",enableKeyEvents:!0,listeners:{keydown:n.onPromptKey,scope:n}}),n.textArea=new Ext.form.field.TextArea({id:r+"-textarea",anchor:"100%",height:75})]})]}),n.progressBar=new Ext.ProgressBar({id:r+"-progressbar",margin:"0 10 10 10"}),n.items=[n.topContainer,n.progressBar],n.msgButtons=[],t=0;t<4;t++)i=n.makeButton(t),n.msgButtons[i.itemId]=i,n.msgButtons.push(i);n.bottomTb=new Ext.toolbar.Toolbar({id:r+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[n.msgButtons[0],n.msgButtons[1],n.msgButtons[2],n.msgButtons[3]]}),n.dockedItems=[n.bottomTb],n.on("close",n.onClose,n),n.callParent()},onClose:function(){var e=this.header.child("[type=close]");e.itemId="cancel",this.btnCallback(e),delete e.itemId},onPromptKey:function(e,t){t.keyCode!==t.RETURN&&10!==t.keyCode||(this.msgButtons.ok.isVisible()?this.msgButtons.ok.handler.call(this,this.msgButtons.ok):this.msgButtons.yes.isVisible()&&this.msgButtons.yes.handler.call(this,this.msgButtons.yes))},reconfigure:function(e){var t,i,n,r,s,o,a,l,d,h=this,c=0,u=!0,f=h.buttonText,g=h.resizer;for(h.updateButtonText(),e=e||{},(h.cfg=e).width&&(i=e.width),e.height&&(n=e.height),h.minWidth=e.minWidth||h.defaultMinWidth,h.maxWidth=e.maxWidth||h.defaultMaxWidth,h.minHeight=e.minHeight||h.defaultMinHeight,h.maxHeight=e.maxHeight||h.defaultMaxHeight,g&&(t=g.resizeTracker,g.minWidth=t.minWidth=h.minWidth,g.maxWidth=t.maxWidth=h.maxWidth,g.minHeight=t.minHeight=h.minHeight,g.maxHeight=t.maxHeight=h.maxHeight),delete h.defaultFocus,e.defaultFocus&&(h.defaultFocus=e.defaultFocus),h.animateTarget=e.animateTarget||void 0,h.modal=!1!==e.modal,h.setTitle(e.title||""),h.setIconCls(e.iconCls||""),c=Ext.isObject(e.buttons)?(h.buttonText=e.buttons,0):(h.buttonText=e.buttonText||h.buttonText,Ext.isNumber(e.buttons)?e.buttons:0),c|=h.updateButtonText(),h.buttonText=f,Ext.suspendLayouts(),delete h.width,delete h.height,(i||n)&&(i&&h.setWidth(i),n&&h.setHeight(n)),h.hidden=!1,h.rendered||h.render(Ext.getBody()),h.closable=!1!==e.closable&&!e.wait,h.header.child("[type=close]").setVisible(h.closable),e.title||h.closable||e.iconCls?h.header.show():h.header.hide(),h.liveDrag=!e.proxyDrag,h.userCallback=Ext.Function.bind(e.callback||e.fn||Ext.emptyFn,e.scope||Ext.global),h.setIcon(e.icon,e.iconWidth,e.iconHeight),a=h.msg,e.msg?(a.setValue(e.msg),a.show()):a.hide(),s=h.textArea,o=h.textField,e.prompt||e.multiline?(h.multiline=e.multiline,e.multiline?(s.setValue(e.value),s.setHeight(e.defaultTextHeight||h.defaultTextHeight),s.show(),o.hide(),h.defaultFocus=s):(o.setValue(e.value),s.hide(),o.show(),h.defaultFocus=o)):(s.hide(),o.hide()),l=h.progressBar,e.progress||e.wait?(l.show(),h.updateProgress(0,e.progressText),!0===e.wait&&l.wait(e.waitConfig)):l.hide(),d=h.msgButtons,r=0;r<4;r++)c&Math.pow(2,r)?(h.defaultFocus||(h.defaultFocus=d[r]),d[r].show(),u=!1):d[r].hide();u?h.bottomTb.hide():h.bottomTb.show(),Ext.resumeLayouts(!0)},updateButtonText:function(){var e,t,i=this.buttonText,n=0;for(e in i)i.hasOwnProperty(e)&&(t=this.msgButtons[e])&&(this.cfg&&this.cfg.buttonText&&(n|=Math.pow(2,Ext.Array.indexOf(this.buttonIds,e))),t.text!=i[e]&&t.setText(i[e]));return n},show:function(e){var t,i=this;return Ext.AbstractComponent.layoutSuspendCount?Ext.on({resumelayouts:function(){i.show(e)},single:!0}):(i.reconfigure(e),e.cls&&i.addCls(e.cls),t=i.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])"),i.preventFocusOnActivate=!t.length,i.hidden=!0,i.callParent()),i},onShow:function(){this.callParent(arguments),this.center()},updateText:function(e){this.msg.setValue(e)},setIcon:function(e,t,i){var n=this.iconComponent,r=this.messageIconCls;return r&&n.removeCls(r),e?(n.show(),n.setSize(t||this.iconWidth,i||this.iconHeight),n.addCls(Ext.baseCSSPrefix+"dlg-icon"),n.addCls(this.messageIconCls=e)):(n.removeCls(Ext.baseCSSPrefix+"dlg-icon"),n.hide()),this},updateProgress:function(e,t,i){return this.progressBar.updateProgress(e,t),i&&this.updateText(i),this},onEsc:function(){!1!==this.closable&&this.callParent(arguments)},confirm:function(e,t,i,n){return Ext.isString(e)&&(e={title:e,icon:this.QUESTION,msg:t,buttons:this.YESNO,callback:i,scope:n}),this.show(e)},prompt:function(e,t,i,n,r,s){return Ext.isString(e)&&(e={prompt:!0,title:e,minWidth:this.minPromptWidth,msg:t,buttons:this.OKCANCEL,callback:i,scope:n,multiline:r,value:s}),this.show(e)},wait:function(e,t,i){return Ext.isString(e)&&(e={title:t,msg:e,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:i}),this.show(e)},alert:function(e,t,i,n){return Ext.isString(e)&&(e={title:e,msg:t,buttons:this.OK,fn:i,scope:n,minWidth:this.minWidth}),this.show(e)},progress:function(e,t,i){return Ext.isString(e)&&(e={title:e,msg:t,progress:!0,progressText:i}),this.show(e)}},function(){Ext.MessageBox=Ext.Msg=new this}),Ext.define("Ext.form.Basic",{extend:Ext.util.Observable,alternateClassName:"Ext.form.BasicForm",constructor:function(e,t){var i,n=this;n.owner=e,n.checkValidityTask=new Ext.util.DelayedTask(n.checkValidity,n),n.checkDirtyTask=new Ext.util.DelayedTask(n.checkDirty,n),n.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:n,addHandler:n.onFieldAdd,removeHandler:n.onFieldRemove}),n.monitor.bind(e),Ext.apply(n,t),Ext.isString(n.paramOrder)&&(n.paramOrder=n.paramOrder.split(/[\s,|]/)),(i=n.reader)&&!i.isReader&&("string"==typeof i&&(i={type:i}),n.reader=Ext.createByAlias("reader."+i.type,i)),(i=n.errorReader)&&!i.isReader&&("string"==typeof i&&(i={type:i}),n.errorReader=Ext.createByAlias("reader."+i.type,i)),n.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"),n.callParent()},initialize:function(){this.initialized=!0,this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var e=this.monitor;e&&(e.unbind(),this.monitor=null),this.clearListeners(),this.checkValidityTask.cancel(),this.checkDirtyTask.cancel(),this.isDestroyed=!0},onFieldAdd:function(e){this.mon(e,"validitychange",this.checkValidityDelay,this),this.mon(e,"dirtychange",this.checkDirtyDelay,this),this.initialized&&this.checkValidityDelay()},onFieldRemove:function(e){this.mun(e,"validitychange",this.checkValidityDelay,this),this.mun(e,"dirtychange",this.checkDirtyDelay,this),this.initialized&&this.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var e=this._boundItems;return e&&0!==e.getCount()||(e=this._boundItems=new Ext.util.MixedCollection).addAll(this.owner.query("[formBind]")),e},hasInvalidField:function(){return!!this.getFields().findBy(function(e){var t,i=e.preventMark;return e.preventMark=!0,t=e.isValid(),e.preventMark=i,!t})},isValid:function(){var e;return Ext.suspendLayouts(),e=this.getFields().filterBy(function(e){return!e.validate()}),Ext.resumeLayouts(!0),e.length<1},checkValidity:function(){var e;this.isDestroyed||(e=!this.hasInvalidField())!==this.wasValid&&(this.onValidityChange(e),this.fireEvent("validitychange",this,e),this.wasValid=e)},checkValidityDelay:function(){this.checkValidityTask.delay(10)},onValidityChange:function(e){var t,i,n,r,s=this.getBoundItems();if(s)for(n=(t=s.items).length,i=0;i<n;i++)(r=t[i]).disabled===e&&r.setDisabled(!e)},isDirty:function(){return!!this.getFields().findBy(function(e){return e.isDirty()})},checkDirtyDelay:function(){this.checkDirtyTask.delay(10)},checkDirty:function(){var e;this.isDestroyed||(e=this.isDirty())!==this.wasDirty&&(this.fireEvent("dirtychange",this,e),this.wasDirty=e)},hasUpload:function(){return!!this.getFields().findBy(function(e){return e.isFileUpload()})},doAction:function(e,t){return Ext.isString(e)&&(e=Ext.ClassManager.instantiateByAlias("formaction."+e,Ext.apply({},t,{form:this}))),!1!==this.fireEvent("beforeaction",this,e)&&(this.beforeAction(e),Ext.defer(e.run,100,e)),this},submit:function(e){var t;return t=(e=e||{}).standardSubmit||this.standardSubmit?"standardsubmit":this.api?"directsubmit":"submit",this.doAction(t,e)},load:function(e){return this.doAction(this.api?"directload":"load",e)},updateRecord:function(e){if(!(e=e||this._record))return this;for(var t,i=e.fields.items,n=this.getFieldValues(),r={},s=0,o=i.length;s<o;++s)t=i[s].name,n.hasOwnProperty(t)&&(r[t]=n[t]);return e.beginEdit(),e.set(r),e.endEdit(),this},loadRecord:function(e){return this._record=e,this.setValues(e.getData())},getRecord:function(){return this._record},beforeAction:function(e){var t,i,n,r=this,s=e.waitMsg,o=Ext.baseCSSPrefix+"mask-loading",a=r.getFields().items,l=a.length;for(t=0;t<l;t++)(i=a[t]).isFormField&&i.syncValue&&i.syncValue();s&&(!0===(n=r.waitMsgTarget)?r.owner.el.mask(s,o):n?(n=r.waitMsgTarget=Ext.get(n)).mask(s,o):(r.floatingAncestor=r.owner.up("[floating]"),r.floatingAncestor&&(r.savePreventFocusOnActivate=r.floatingAncestor.preventFocusOnActivate,r.floatingAncestor.preventFocusOnActivate=!0),Ext.MessageBox.wait(s,e.waitTitle||r.waitTitle)))},afterAction:function(e,t){var i=this;if(e.waitMsg){var n=Ext.MessageBox,r=i.waitMsgTarget;!0===r?i.owner.el.unmask():r?r.unmask():n.hide()}i.floatingAncestor&&(i.floatingAncestor.preventFocusOnActivate=i.savePreventFocusOnActivate),t?(e.reset&&i.reset(),Ext.callback(e.success,e.scope||e,[i,e]),i.fireEvent("actioncomplete",i,e)):(Ext.callback(e.failure,e.scope||e,[i,e]),i.fireEvent("actionfailed",i,e))},findField:function(t){return this.getFields().findBy(function(e){return e.id===t||e.getName()===t})},markInvalid:function(e){var t,i,n,r,s=this;function o(e,t){var i=s.findField(e);i&&i.markInvalid(t)}if(Ext.isArray(e))for(i=e.length,t=0;t<i;t++)o((n=e[t]).id,n.msg);else if(e instanceof Ext.data.Errors)for(i=e.items.length,t=0;t<i;t++)o((n=e.items[t]).field,n.message);else for(r in e)e.hasOwnProperty(r)&&o(r,e[r]);return this},setValues:function(e){var t,i,n,r=this;function s(e,t){var i=r.findField(e);i&&(i.setValue(t),r.trackResetOnLoad&&i.resetOriginalValue())}if(Ext.suspendLayouts(),Ext.isArray(e))for(i=e.length,t=0;t<i;t++)s((n=e[t]).id,n.value);else Ext.iterate(e,s);return Ext.resumeLayouts(!0),this},getValues:function(e,t,i,n,r){var s,o,a,l,d,h,c={},u=this.getFields().items,f=u.length,g=Ext.isArray;for(h=0;h<f;h++)if(s=u[h],(!t||s.isDirty())&&(o=s[n?"getModelData":"getSubmitData"](i,r),Ext.isObject(o)))for(d in o)o.hasOwnProperty(d)&&(a=o[d],i&&""===a&&(a=s.emptyText||""),s.isRadio?c[d]=c[d]||a:c.hasOwnProperty(d)?(g(l=c[d])||(l=c[d]=[l]),g(a)?c[d]=l.concat(a):l.push(a)):c[d]=a);return e&&(c=Ext.Object.toQueryString(c)),c},getFieldValues:function(e){return this.getValues(!1,e,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var e,t=this.getFields().items,i=t.length;for(e=0;e<i;e++)t[e].clearInvalid();return Ext.resumeLayouts(!0),this},reset:function(e){Ext.suspendLayouts();var t,i=this.getFields().items,n=i.length;for(t=0;t<n;t++)i[t].reset();return Ext.resumeLayouts(!0),!0===e&&delete this._record,this},applyToFields:function(e){var t,i=this.getFields().items,n=i.length;for(t=0;t<n;t++)Ext.apply(i[t],e);return this},applyIfToFields:function(e){var t,i=this.getFields().items,n=i.length;for(t=0;t<n;t++)Ext.applyIf(i[t],e);return this}}),Ext.define("Ext.form.FieldAncestor",{xhooks:{initHierarchyState:function(e){this.fieldDefaults&&(e.fieldDefaults?e.fieldDefaults=Ext.apply(Ext.Object.chain(e.fieldDefaults),this.fieldDefaults):e.fieldDefaults=this.fieldDefaults)}},initFieldAncestor:function(){this.addEvents("fieldvaliditychange","fielderrorchange"),this.monitor=new Ext.container.Monitor({scope:this,selector:"[isFormField]:not([excludeForm])",addHandler:this.onChildFieldAdd,removeHandler:this.onChildFieldRemove}),this.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},onChildFieldAdd:function(e){this.mon(e,"errorchange",this.handleFieldErrorChange,this),this.mon(e,"validitychange",this.handleFieldValidityChange,this)},onChildFieldRemove:function(e){this.mun(e,"errorchange",this.handleFieldErrorChange,this),this.mun(e,"validitychange",this.handleFieldValidityChange,this)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(e,t){e!==this&&(this.fireEvent("fieldvaliditychange",this,e,t),this.onFieldValidityChange(e,t))},handleFieldErrorChange:function(e,t){e!==this&&(this.fireEvent("fielderrorchange",this,e,t),this.onFieldErrorChange(e,t))},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind(),this.callParent()}}),Ext.define("Ext.layout.component.field.FieldContainer",{extend:Ext.layout.component.field.Field,alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(e){var t=this.owner;this.callParent(arguments),e.hasRawContent=!0,t.bodyEl.setStyle("height",""),t.containerEl.setStyle("height",""),e.containerElContext=e.getEl("containerEl")},measureContentHeight:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerWidth:function(e,t){var i=e.bodyCellContext,n=i.el.getWidth();i.setWidth(n,!1),e.containerElContext.setWidth(n,!1)},publishInnerHeight:function(e,t){var i=e.bodyCellContext,n=e.containerElContext;t-=this.measureLabelErrorHeight(e),i.setHeight(t),n.setHeight(t)}}),Ext.define("Ext.form.FieldContainer",{extend:Ext.container.Container,mixins:{labelable:Ext.form.Labelable,fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" class="{containerElCls}" role="presentation">',"{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){this.initLabelable(),this.initFieldAncestor(),this.callParent(),this.initMonitor()},getOverflowEl:function(){return this.containerEl},onAdd:function(e){e.isLabelable&&Ext.isGecko&&"absolute"===this.layout.type&&!this.hideLabel&&"top"!==this.labelAlign&&(e.x+=this.labelWidth+this.labelPad),this.callParent(arguments),e.isLabelable&&this.combineLabels&&(e.oldHideLabel=e.hideLabel,e.hideLabel=!0),this.updateLabel()},onRemove:function(e,t){this.callParent(arguments),t||(e.isLabelable&&this.combineLabels&&(e.hideLabel=e.oldHideLabel),this.updateLabel())},initRenderTpl:function(){return this.hasOwnProperty("renderTpl")||(this.renderTpl=this.getTpl("labelableRenderTpl")),this.callParent()},initRenderData:function(){var e=this.callParent();return e.containerElCls=this.containerElCls,Ext.applyIf(e,this.getLabelableRenderData())},getFieldLabel:function(){var e=this.fieldLabel||"";return!e&&this.combineLabels&&(e=Ext.Array.map(this.query("[isFieldLabelable]"),function(e){return e.getFieldLabel()}).join(this.labelConnector)),e},getSubTplData:function(){var e=this.initRenderData();return Ext.apply(e,this.subTplData),e},getSubTplMarkup:function(){var e=this.getTpl("fieldSubTpl");return e.renderContent||this.setupRenderTpl(e),e.apply(this.getSubTplData())},updateLabel:function(){this.labelEl&&this.setFieldLabel(this.getFieldLabel())},onFieldErrorChange:function(e,t){if(this.combineErrors){var i=this.getActiveError(),n=Ext.Array.filter(this.query("[isFormField]"),function(e){return e.hasActiveError()}),r=this.getCombinedErrors(n);r?this.setActiveErrors(r):this.unsetActiveError(),i!==this.getActiveError()&&this.doComponentLayout()}},getCombinedErrors:function(e){var t,i,n,r,s,o,a,l=[],d=e.length;for(t=0;t<d;t++)for(s=(n=(i=e[t]).getActiveErrors()).length,r=0;r<s;r++)o=n[r],a=i.getFieldLabel(),l.push((a?a+": ":"")+o);return l},getTargetEl:function(){return this.containerEl},applyTargetCls:function(e){var t=this.containerElCls;this.containerElCls=t?t+" "+e:e}}),Ext.define("Ext.layout.container.CheckboxGroup",{extend:Ext.layout.container.Container,alias:["layout.checkboxgroup"],autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}">','<tbody role="presentation"><tr role="presentation">','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}" role="presentation">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></tbody></table>"],lastOwnerItemsGeneration:null,beginLayout:function(e){var t,i,n,r,s,o=0,a=0,l=this.autoFlex,d=this.innerCt.dom.style;if(this.callParent(arguments),t=this.columnNodes,e.innerCtContext=e.getEl("innerCt",this),e.widthModel.shrinkWrap)d.tableLayout="auto",d.width="";else{if(i=t.length,this.columnsArray){for(n=0;n<i;n++)(r=this.owner.columns[n])<1&&(o+=r,a++);for(n=0;n<i;n++)s=(r=this.owner.columns[n])<1?r/o*100+"%":r+"px",t[n].style.width=s}else for(n=0;n<i;n++)s=l?1/i*100+"%":"",t[n].style.width=s,a++;a?a<i?(d.tableLayout="fixed",d.width="100%"):(d.tableLayout="auto",d.width=l?"100%":""):(d.tableLayout="fixed",d.width="")}},cacheElements:function(){this.callParent(),this.rowEl=this.innerCt.down("tr"),this.columnNodes=this.rowEl.dom.childNodes},calculate:function(e){var t,i,n,r,s,o;e.getDomProp("containerChildrenSizeDone")?(t=e.innerCtContext,i=e.widthModel.shrinkWrap,r=(n=e.heightModel.shrinkWrap)||i,s=t.el.dom,o=r&&t.getPaddingInfo(),i&&e.setContentWidth(s.offsetWidth+o.width,!0),n&&e.setContentHeight(s.offsetHeight+o.height,!0)):this.done=!1},doRenderColumn:function(e,t,i){var n,r,s,o,a,l=t.$layout,d=l.owner,h=t.columnCount,c=d.items.items,u=c.length;for(o=d.vertical?(r=i*(s=Math.ceil(u/h)),u=Math.min(u,r+s),1):(r=i,h);r<u;r+=o)n=c[r],l.configureItem(n),a=n.getRenderTree(),Ext.DomHelper.generateMarkup(a,e)},getColumnCount:function(){var e=this.owner,t=e.columns;return this.columnsArray?t.length:Ext.isNumber(t)?t:e.items.length},getItemSizePolicy:function(e){return this.autoSizePolicy},getRenderData:function(){var e,t,i,n,r=this.callParent(),s=this.owner,o=this.getColumnCount(),a=this.autoFlex,l=0,d=0;if(this.columnsArray)for(e=0;e<o;e++)(t=this.owner.columns[e])<1&&(l+=t,d++);for(r.colCls=s.groupCls,r.columnCount=o,r.columns=[],e=0;e<o;e++)i=r.columns[e]={},this.columnsArray?(n=(t=this.owner.columns[e])<1?t/l*100+"%":t+"px",i.style="width:"+n):(i.style="width:"+1/o*100+"%",d++);return r.tableStyle=d?d<o?"table-layout:fixed;width:100%":a?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",r},initLayout:function(){var e=this.owner;this.columnsArray=Ext.isArray(e.columns),this.autoColumns=!e.columns||"auto"===e.columns,this.vertical=e.vertical,this.callParent()},isValidParent:function(){return!0},setupRenderTpl:function(e){this.callParent(arguments),e.renderColumn=this.doRenderColumn},renderChildren:function(){var e=this.owner.items.generation;this.lastOwnerItemsGeneration!==e&&(this.lastOwnerItemsGeneration=e,this.renderItems(this.getLayoutItems()))},renderItems:function(e){var t,i,n,r,s,o,a=this,l=e.length;if(l){for(Ext.suspendLayouts(),a.autoColumns&&a.addMissingColumns(l),r=a.columnNodes.length,n=Math.ceil(l/r),t=0;t<l;t++)i=e[t],s=a.getRenderRowIndex(t,n,r),o=a.getRenderColumnIndex(t,n,r),i.rendered?a.isItemAtPosition(i,s,o)||a.moveItem(i,s,o):a.renderItem(i,s,o);a.autoColumns&&a.removeExceedingColumns(l),Ext.resumeLayouts(!0)}},isItemAtPosition:function(e,t,i){return e.el.dom===this.getNodeAt(t,i)},getRenderColumnIndex:function(e,t,i){return this.vertical?Math.floor(e/t):e%i},getRenderRowIndex:function(e,t,i){return this.vertical?e%t:Math.floor(e/i)},getNodeAt:function(e,t){return this.columnNodes[t].childNodes[e]},addMissingColumns:function(e){var t,i,n,r,s=this.columnNodes.length;if(s<e)for(t=e-s,i=this.rowEl,n=this.owner.groupCls,r=0;r<t;r++)i.createChild({cls:n,tag:"td",vAlign:"top",role:"presentation"})},removeExceedingColumns:function(e){var t,i,n,r=this.columnNodes.length;if(e<r)for(t=r-e,i=this.rowEl,n=0;n<t;n++)i.last().remove()},renderItem:function(e,t,i){this.configureItem(e),e.render(Ext.get(this.columnNodes[i]),t),this.afterRenderItem(e)},moveItem:function(e,t,i){var n=this.columnNodes[i],r=n.childNodes[t];n.insertBefore(e.el.dom,r||null)}}),Ext.define("Ext.form.CheckboxManager",{extend:Ext.util.MixedCollection,singleton:!0,getByName:function(t,i){return this.filterBy(function(e){return e.name==t&&e.getFormId()==i})}}),Ext.define("Ext.form.field.Checkbox",{extend:Ext.form.field.Base,alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",componentLayout:"field",stretchInputElFixed:!1,childEls:["boxLabelEl"],fieldSubTpl:['<div class="{wrapInnerCls} {noBoxLabelCls}" role="presentation">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="button" id="{id}" role="{role}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {inputCls} {childElCls} {afterLabelCls}" autocomplete="off" hidefocus="true" />','<tpl if="boxLabel && !labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>","</div>",{disableFormats:!0,compiled:!0}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-checkbox-focus",extraFieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",afterLabelCls:Ext.baseCSSPrefix+"form-cb-after",wrapInnerCls:Ext.baseCSSPrefix+"form-cb-wrap-inner",noBoxLabelCls:Ext.baseCSSPrefix+"form-cb-wrap-inner-no-box-label",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",ariaRole:"checkbox",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){var e=this.value;void 0!==e&&(this.checked=this.isChecked(e,this.inputValue)),this.callParent(arguments),this.getManager().add(this)},initValue:function(){var e=!!this.checked;this.originalValue=this.lastValue=e,this.setValue(e)},getElConfig:function(){return this.isChecked(this.rawValue,this.inputValue)&&this.addCls(this.checkedCls),this.callParent()},getSubTplData:function(){var e=this,t=e.boxLabel,i=e.boxLabelAlign,n=t&&"before"===i;return Ext.apply(e.callParent(),{disabled:e.readOnly||e.disabled,wrapInnerCls:e.wrapInnerCls,boxLabel:t,boxLabelCls:e.boxLabelCls,boxLabelAlign:i,labelAlignedBefore:n,afterLabelCls:n?e.afterLabelCls:"",noBoxLabelCls:t?"":e.noBoxLabelCls,role:e.ariaRole})},initEvents:function(){this.callParent(),this.mon(this.inputEl,"click",this.onBoxClick,this)},setBoxLabel:function(e){this.boxLabel=e,this.rendered&&this.boxLabelEl.update(e)},onBoxClick:function(e){this.disabled||this.readOnly||this.setValue(!this.checked)},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var e=this.uncheckedValue,t=Ext.isDefined(e)?e:null;return this.checked?this.inputValue:t},isChecked:function(e,t){return!0===e||"true"===e||"1"===e||1===e||((Ext.isString(e)||Ext.isNumber(e))&&t?e==t:this.onRe.test(e))},setRawValue:function(e){var t=this.inputEl,i=this.isChecked(e,this.inputValue);return t&&this[i?"addCls":"removeCls"](this.checkedCls),this.checked=this.rawValue=i,i},setValue:function(e){var t,i,n,r;if(Ext.isArray(e))for(n=(t=this.getManager().getByName(this.name,this.getFormId()).items).length,i=0;i<n;++i)(r=t[i]).setValue(Ext.Array.contains(e,r.inputValue));else this.callParent(arguments);return this},valueToRaw:function(e){return e},onChange:function(e,t){var i=this.handler;i&&i.call(this.scope||this,this,e),this.callParent(arguments)},resetOriginalValue:function(e){var t,i,n;if(!e)for(i=(t=this.getManager().getByName(this.name,this.getFormId()).items).length,n=0;n<i;++n)t[n]!==this&&t[n].resetOriginalValue(!0);this.callParent()},beforeDestroy:function(){this.callParent(),this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var e=this.inputEl;this.callParent(),e&&(e.dom.disabled=this.readOnly)},setReadOnly:function(e){var t=this.inputEl;t&&(t.dom.disabled=!!e||this.disabled),this.callParent(arguments)},getFormId:function(){var e;return this.formId||(e=this.up("form"))&&(this.formId=e.id),this.formId}}),Ext.define("Ext.form.CheckboxGroup",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.checkboxgroup",columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",ariaRole:"group",initComponent:function(){this.callParent(),this.initField()},initValue:function(){var e=this.value;this.originalValue=this.lastValue=e||this.getValue(),e&&this.setValue(e)},onAdd:function(e){var t,i,n;if(e.isCheckbox)this.mon(e,"change",this.checkChange,this);else if(e.isContainer)for(n=0,i=(t=e.items.items).length;n<i;n++)this.onAdd(t[n]);this.callParent(arguments)},onRemove:function(e){var t,i,n;if(e.isCheckbox)this.mun(e,"change",this.checkChange,this);else if(e.isContainer)for(n=0,i=(t=e.items.items).length;n<i;n++)this.onRemove(t[n]);this.callParent(arguments)},isEqual:function(e,t){var i=Ext.Object.toQueryString;return i(e)===i(t)},getErrors:function(){var e=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&e.push(this.blankText),e},getBoxes:function(e){return this.query("[isCheckbox]"+(e||""))},eachBox:function(e,t){Ext.Array.forEach(this.getBoxes(),e,t||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var e,t=this.getBoxes(),i=t.length;for(e=0;e<i;e++)if(t[e].isDirty())return!0},setReadOnly:function(e){var t,i=this.getBoxes(),n=i.length;for(t=0;t<n;t++)i[t].setReadOnly(e);this.readOnly=e},reset:function(){var n=this,e=n.hasActiveError(),t=n.preventMark;n.preventMark=!0,n.batchChanges(function(){var e,t=n.getBoxes(),i=t.length;for(e=0;e<i;e++)t[e].reset()}),n.preventMark=t,n.unsetActiveError(),e&&n.updateLayout()},resetOriginalValue:function(){var e,t=this.getBoxes(),i=t.length;for(e=0;e<i;e++)t[e].resetOriginalValue();this.originalValue=this.getValue(),this.checkDirty()},setValue:function(e){var t,i,n,r,s=this.getBoxes(),o=s.length;return this.batchChanges(function(){for(t=0;t<o;t++)i=s[t],n=i.getName(),r=!1,e&&e.hasOwnProperty(n)&&(r=Ext.isArray(e[n])?Ext.Array.contains(e[n],i.inputValue):e[n]),i.setValue(r)}),this},getValue:function(){var e,t,i,n,r,s={},o=this.getBoxes(),a=o.length;for(e=0;e<a;e++)i=(t=o[e]).getName(),n=t.inputValue,t.getValue()&&(s.hasOwnProperty(i)?(r=s[i],Ext.isArray(r)||(r=s[i]=[r]),r.push(n)):s[i]=n);return s},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var e,t,i;return this.disabled?t=!0:(e=this.getErrors(),t=Ext.isEmpty(e),i=this.wasValid,t?this.unsetActiveError():this.setActiveError(e)),t!==i&&(this.wasValid=t,this.fireEvent("validitychange",this,t),this.updateLayout()),t}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])}),Ext.define("Ext.form.FieldSet",{extend:Ext.container.Container,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldset",collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",ariaRole:null,autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body {bodyTargetCls}" role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,beforeDestroy:function(){var e=this.legend;e&&(delete e.ownerCt,e.destroy(),this.legend=null),this.callParent()},initComponent:function(){var e=this,t=e.baseCls;e.initFieldAncestor(),e.callParent(),e.layout.managePadding=e.layout.manageOverflow=!1,e.addEvents("beforeexpand","beforecollapse","expand","collapse"),e.collapsed&&(e.addCls(t+"-collapsed"),e.collapse()),(e.title||e.checkboxToggle||e.collapsible)&&(e.addTitleClasses(),e.legend=Ext.widget(e.createLegendCt())),e.initMonitor()},initPadding:function(e){this.getProtoBody();var t=this.padding;void 0!==t&&e.setStyle("padding",this.unitizeBox(t))},getProtoBody:function(){var e=this.protoBody;return e||(this.protoBody=e=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:!0})),e},initRenderData:function(){var e=this.callParent();return e.bodyTargetCls=this.bodyTargetCls,this.protoBody.writeTo(e),delete this.protoBody,e},getState:function(){var e=this.callParent();return e=this.addPropertyToState(e,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var e=this,t=[],i={xtype:"container",baseCls:e.baseCls+"-header",id:e.id+"-legend",autoEl:"legend",ariaRole:null,ariaLabelledBy:"."+e.baseCls+"-header-text",items:t,ownerCt:e,shrinkWrap:!0,ownerLayout:e.componentLayout};return e.checkboxToggle?t.push(e.createCheckboxCmp()):e.collapsible&&t.push(e.createToggleCmp()),t.push(e.createTitleCmp()),i},createTitleCmp:function(){var e={xtype:"component",html:this.title,cls:this.baseCls+"-header-text",id:this.id+"-legendTitle"};return this.collapsible&&this.toggleOnTitleClick&&(e.listeners={click:{element:"el",scope:this,fn:this.toggle}},e.cls+=" "+this.baseCls+"-header-text-collapsible"),this.titleCmp=Ext.widget(e)},createCheckboxCmp:function(){return this.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:!0,name:this.checkboxName||this.id+"-checkbox",cls:this.baseCls+"-header-checkbox",id:this.id+"-legendChk",checked:!this.collapsed,msgTarget:"none",listeners:{change:this.onCheckChange,scope:this}}),this.checkboxCmp},createToggleCmp:function(){return this.toggleCmp=Ext.widget({xtype:"tool",height:15,width:15,type:"toggle",handler:this.toggle,id:this.id+"-legendToggle",scope:this}),this.toggleCmp},doRenderLegend:function(e,t){var i,n=t.$comp.legend;n&&(n.ownerLayout.configureItem(n),i=n.getRenderTree(),Ext.DomHelper.generateMarkup(i,e))},finishRender:function(){var e=this.legend;this.callParent(),e&&e.finishRender()},getCollapsed:function(){return!!this.collapsed&&"top"},getCollapsedDockedItems:function(){var e=this.legend;return e?[e]:[]},setTitle:function(e){var t=this,i=t.legend;t.baseCls;return t.title=e,t.rendered?(i||(t.legend=i=Ext.widget(t.createLegendCt()),t.addTitleClasses(),i.ownerLayout.configureItem(i),i.render(t.el,0)),t.titleCmp.update(e)):i?t.titleCmp.update(e):(t.addTitleClasses(),t.legend=Ext.widget(t.createLegendCt())),t},addTitleClasses:function(){var e=this.title,t=this.baseCls;e&&this.addCls(t+"-with-title"),(e||this.checkboxToggle||this.collapsible)&&this.addCls(t+"-with-legend")},applyTargetCls:function(e){this.bodyTargetCls=e},getTargetEl:function(){return this.body||this.frameBody||this.el},getDefaultContentTarget:function(){return this.body},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setExpanded:function(e){var t=this,i=t.checkboxCmp,n=e?"expand":"collapse";return t.rendered&&!1===t.fireEvent("before"+n,t)||(e=!!e,i&&i.setValue(e),e?t.removeCls(t.baseCls+"-collapsed"):t.addCls(t.baseCls+"-collapsed"),t.collapsed=!e,e?delete t.getHierarchyState().collapsed:t.getHierarchyState().collapsed=!0,t.rendered&&(t.updateLayout({isRoot:!1}),t.fireEvent(n,t))),t},getRefItems:function(e){var t=this.callParent(arguments),i=this.legend;return i&&(t.unshift(i),e&&t.unshift.apply(t,i.getRefItems(!0))),t},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(e,t){this.setExpanded(t)},setupRenderTpl:function(e){this.callParent(arguments),e.renderLegend=this.doRenderLegend}}),Ext.define("Ext.form.Label",{extend:Ext.Component,alias:"widget.label",autoEl:"label",maskOnDisable:!1,getElConfig:function(){return this.html=this.text?Ext.util.Format.htmlEncode(this.text):this.html||"",Ext.apply(this.callParent(),{htmlFor:this.forId||""})},setText:function(e,t){return(t=!1!==t)?(this.text=e,delete this.html):(this.html=e,delete this.text),this.rendered&&(this.el.dom.innerHTML=!1!==t?Ext.util.Format.htmlEncode(e):e,this.updateLayout()),this}}),Ext.define("Ext.form.Panel",{extend:Ext.panel.Panel,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){this.frame&&(this.border=!1),this.initFieldAncestor(),this.callParent(),this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]),this.pollForChanges&&this.startPolling(this.pollInterval||500)},initItems:function(){this.callParent(),this.initMonitor(),this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments),this.form.initialize()},createForm:function(){for(var e,t={},i=this.basicFormConfigs,n=i.length,r=0;r<n;++r)t[e=i[r]]=this[e];return new Ext.form.Basic(this,t)},getForm:function(){return this.form},loadRecord:function(e){return this.getForm().loadRecord(e)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(e){return this.getForm().updateRecord(e)},getValues:function(e,t,i,n){return this.getForm().getValues(e,t,i,n)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling(),this.form.destroy(),this.callParent()},load:function(e){this.form.load(e)},submit:function(e){this.form.submit(e)},startPolling:function(e){this.stopPolling();var t=new Ext.util.TaskRunner(e);t.start({interval:0,run:this.checkChange,scope:this}),this.pollTask=t},stopPolling:function(){var e=this.pollTask;e&&(e.stopAll(),delete this.pollTask)},checkChange:function(){var e,t=this.form.getFields().items,i=t.length;for(e=0;e<i;e++)t[e].checkChange()}}),Ext.define("Ext.form.RadioManager",{extend:Ext.util.MixedCollection,singleton:!0,getByName:function(t,i){return this.filterBy(function(e){return e.name==t&&e.getFormId()==i})},getWithValue:function(t,i,n){return this.filterBy(function(e){return e.name==t&&e.inputValue==i&&e.getFormId()==n})},getChecked:function(t,i){return this.findBy(function(e){return e.name==t&&e.checked&&e.getFormId()==i})}}),Ext.define("Ext.form.field.Radio",{extend:Ext.form.field.Checkbox,alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",isRadio:!0,focusCls:"form-radio-focus",inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var e=this.getManager().getChecked(this.name,this.getFormId());return e?e.inputValue:null},onBoxClick:function(e){this.disabled||this.readOnly||this.setValue(!0)},onRemoved:function(){this.callParent(arguments),this.formId=null},setValue:function(e){var t;return Ext.isBoolean(e)?this.callParent(arguments):(t=this.getManager().getWithValue(this.name,e,this.getFormId()).getAt(0))&&t.setValue(!0),this},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){var e=this.callParent(arguments);return e&&(e[this.getName()]=this.getSubmitValue()),e},onChange:function(e,t){var i,n,r,s;if(this.callParent(arguments),e)for(n=(s=this.getManager().getByName(this.name,this.getFormId()).items).length,i=0;i<n;i++)(r=s[i])!==this&&r.setValue(!1)},getManager:function(){return Ext.form.RadioManager}}),Ext.define("Ext.form.RadioGroup",{extend:Ext.form.CheckboxGroup,alias:"widget.radiogroup",allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",ariaRole:"radiogroup",getBoxes:function(e){return this.query("[isRadio]"+(e||""))},checkChange:function(){var e=this.getValue(),t=Ext.Object.getKeys(e)[0];Ext.isArray(e[t])||this.callParent(arguments)},setValue:function(e){var t,i,n,r,s,o,a;if(Ext.isObject(e))for(a in e)if(e.hasOwnProperty(a))for(t=e[a],n=(i=this.items.first())?i.getFormId():null,o=(r=Ext.form.RadioManager.getWithValue(a,t,n).items).length,s=0;s<o;++s)r[s].setValue(!0);return this}}),Ext.define("Ext.form.action.StandardSubmit",{extend:Ext.form.action.Submit,alias:"formaction.standardsubmit",doSubmit:function(){var e=this.buildForm();e.formEl.submit(),this.cleanup(e)}}),Ext.define("Ext.layout.component.field.Trigger",{alias:"layout.triggerfield",extend:Ext.layout.component.field.Field,type:"triggerfield",setWidthInDom:!0,borderWidths:{},beginLayout:function(e){var t,i=this.owner;e.triggerWrap=e.getEl("triggerWrap"),this.callParent(arguments),(t=i.getTriggerStateFlags())!=i.lastTriggerStateFlags&&(i.lastTriggerStateFlags=t,this.updateEditState())},beginLayoutCycle:function(e){this.callParent(arguments),e.widthModel.shrinkWrap&&!this.owner.inputWidth&&e.inputContext.el.setStyle("width","")},beginLayoutFixed:function(e,t,i){var n=e.target,r=this.ieInputWidthAdjustment||0,s="100%",o=n.triggerWrap;this.callParent(arguments),n.inputCell.setStyle("width","100%"),r&&(this.adjustIEInputPadding(e),"px"===i&&(s=n.inputWidth?n.inputWidth-this.getExtraWidth(e):t-r-this.getExtraWidth(e),s+="px")),n.inputEl.setStyle("width",s),(s=n.inputWidth)?o.setStyle("width",s+r+"px"):o.setStyle("width",t+i),o.setStyle("table-layout","fixed")},adjustIEInputPadding:function(e){this.owner.inputCell.setStyle("padding-right",this.ieInputWidthAdjustment+"px")},getExtraWidth:function(e){var t=this.owner,i=this.borderWidths,n=t.ui+t.triggerEl.getCount();return n in i||(i[n]=e.triggerWrap.getBorderInfo().width),i[n]+t.getTriggerWidth()},beginLayoutShrinkWrap:function(e){var t=e.target,i=t.inputWidth,n=t.triggerWrap;this.callParent(arguments),i?(n.setStyle("width",i+"px"),i=i-this.getExtraWidth(e)+"px",t.inputEl.setStyle("width",i),t.inputCell.setStyle("width",i)):(t.inputCell.setStyle("width",""),t.inputEl.setStyle("width",""),n.setStyle("width",""),n.setStyle("table-layout","auto"))},getTextWidth:function(){var e,t=this.owner,i=t.inputEl;return e=(i.dom.value||(t.hasFocus?"":t.emptyText)||"")+t.growAppend,i.getTextWidth(e)},publishOwnerWidth:function(e,t){var i=this.owner;this.callParent(arguments),i.grow||i.inputWidth||(t-=this.getExtraWidth(e),"top"!=i.labelAlign&&(t-=i.getLabelWidth()),e.inputContext.setWidth(t))},publishInnerHeight:function(e,t){e.inputContext.setHeight(t-this.measureLabelErrorHeight(e))},measureContentWidth:function(e){var t,i,n,r=this.owner,s=this.callParent(arguments),o=e.inputContext;return r.grow&&!e.state.growHandled?(t=this.getTextWidth()+e.inputContext.getFrameInfo().width,i=r.growMax,n=Math.min(i,s),i=Math.max(r.growMin,i,n),t=Ext.Number.constrain(t,r.growMin,i),o.setWidth(t),e.state.growHandled=!0,o.domBlock(this,"width"),s=NaN):r.inputWidth||(s-=this.getExtraWidth(e)),s},updateEditState:function(){var e,t,i=this.owner,n=i.inputEl,r=Ext.baseCSSPrefix+"trigger-noedit";e=this.owner.readOnly?(n.addCls(r),!(t=!0)):(t=this.owner.editable?(n.removeCls(r),!1):(n.addCls(r),!0),!this.owner.hideTrigger),i.triggerCell.setDisplayed(e),n.dom.readOnly=t}}),Ext.define("Ext.form.field.Trigger",{extend:Ext.form.field.Text,alias:["widget.triggerfield","widget.trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:!1,editable:!0,readOnly:!1,repeatTriggerClick:!1,autoSize:Ext.emptyFn,monitorTab:!0,mimicing:!1,triggerIndexRe:/trigger-index-(\d+)/,extraTriggerCls:"",componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus",this.callParent(arguments)},getSubTplMarkup:function(e){var t=e.childElCls,i=this.callParent(arguments);return['<table id="',this.id,'-triggerWrap" class="',Ext.baseCSSPrefix,"form-trigger-wrap",t,'" cellpadding="0" cellspacing="0" role="presentation">','<tbody role="presentation">','<tr role="presentation">','<td id="',this.id,'-inputCell" class="',Ext.baseCSSPrefix,"form-trigger-input-cell",t,'" role="presentation">',i,"</td>",this.getTriggerMarkup(),"</tr>","</tbody>","</table>"].join("")},getSubTplData:function(){var e=this.callParent(),t=!0===this.readOnly,i=!1!==this.editable;return Ext.apply(e,{editableCls:t||!i?" "+this.triggerNoEditCls:"",readOnly:!i||t})},getLabelableRenderData:function(){var e=this.triggerWrapCls,t=this.callParent(arguments);return Ext.applyIf(t,{triggerWrapCls:e,triggerMarkup:this.getTriggerMarkup()})},getTriggerMarkup:function(){var e,t=0,i=this.readOnly||this.hideTrigger,n=this.triggerBaseCls,r=[],s=Ext.dom.Element.unselectableCls,o="width:"+this.triggerWidth+"px;"+(i?"display:none;":""),a=this.extraTriggerCls+" "+Ext.baseCSSPrefix+"trigger-cell "+s;for(this.trigger1Cls||(this.trigger1Cls=this.triggerCls),t=0;(e=this["trigger"+(t+1)+"Cls"])||t<1;t++)r.push({tag:"td",role:"presentation",valign:"top",cls:a,style:o,cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+t,n,e].join(" "),role:"presentation"}});return r[0].cn.cls+=" "+n+"-first",Ext.DomHelper.markup(r)},disableCheck:function(){return!this.disabled},beforeRender:function(){var e,t=this.triggerBaseCls;this.triggerWidth||(e=Ext.getBody().createChild({role:"presentation",style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"}),Ext.form.field.Trigger.prototype.triggerWidth=e.getWidth(),e.remove()),this.callParent(),t!=Ext.baseCSSPrefix+"form-trigger"&&this.addChildEls({name:"triggerEl",select:"."+t}),this.lastTriggerStateFlags=this.getTriggerStateFlags()},onRender:function(){this.callParent(arguments),this.doc=Ext.getDoc(),this.initTrigger()},getTriggerWidth:function(){var e=0;return!this.triggerWrap||this.hideTrigger||this.readOnly||(e=this.triggerEl.getCount()*this.triggerWidth),e},setHideTrigger:function(e){e!=this.hideTrigger&&(this.hideTrigger=e,this.updateLayout())},setEditable:function(e){e!=this.editable&&(this.editable=e,this.updateLayout())},setReadOnly:function(e){var t=this.readOnly;this.callParent(arguments),e!=t&&this.updateLayout()},initTrigger:function(){var e,t,i,n,r,s=this,o=s.triggerWrap,a=s.triggerEl,l=s.disableCheck;for(s.repeatTriggerClick?s.triggerRepeater=new Ext.util.ClickRepeater(o,{preventDefault:!0,handler:s.onTriggerWrapClick,listeners:{mouseup:s.onTriggerWrapMouseup,scope:s},scope:s}):s.mon(o,{click:s.onTriggerWrapClick,mouseup:s.onTriggerWrapMouseup,scope:s}),a.setVisibilityMode(Ext.Element.DISPLAY),a.addClsOnOver(s.triggerBaseCls+"-over",l,s),t=(e=a.elements).length,n=0;n<t;n++)i=e[n],(r=s["trigger"+(n+1)+"Cls"])&&(i.addClsOnOver(r+"-over",l,s),i.addClsOnClick(r+"-click",l,s));a.addClsOnClick(s.triggerBaseCls+"-click",l,s)},onDestroy:function(){Ext.destroyMembers(this,"triggerRepeater","triggerWrap","triggerEl"),delete this.doc,this.callParent()},onFocus:function(){var e=this;e.callParent(arguments),e.mimicing||(e.bodyEl.addCls(e.wrapFocusCls),e.mimicing=!0,e.mon(e.doc,"mousedown",e.mimicBlur,e,{delay:10}),e.monitorTab&&e.on("specialkey",e.checkTab,e))},checkTab:function(e,t){this.ignoreMonitorTab||t.getKey()!=t.TAB||this.triggerBlur()},getTriggerStateFlags:function(){var e=0;return this.readOnly&&(e+=1),this.editable&&(e+=2),this.hideTrigger&&(e+=4),e},onBlur:function(){this.blurTask;this.blurring&&this.triggerBlur()},mimicBlur:function(e){this.isDestroyed||this.bodyEl.contains(e.target)||!this.validateBlur(e)||this.triggerBlur(e)},triggerBlur:function(e){var t=this;t.mimicing=!1,t.mun(t.doc,"mousedown",t.mimicBlur,t),t.monitorTab&&t.inputEl&&t.un("specialkey",t.checkTab,t),Ext.form.field.Trigger.superclass.onBlur.call(t,e),t.bodyEl&&t.bodyEl.removeCls(t.wrapFocusCls)},validateBlur:function(e){return!0},onTriggerWrapClick:function(){var e,t,i,n;!(n=arguments[this.triggerRepeater?1:0])||this.readOnly||this.disabled||(t=(e=n.getTarget("."+this.triggerBaseCls,null))&&e.className.match(this.triggerIndexRe))&&(i=this["onTrigger"+(parseInt(t[1],10)+1)+"Click"]||this.onTriggerClick)&&i.call(this,n)},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn}),Ext.define("Ext.form.field.Picker",{extend:Ext.form.field.Trigger,alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:!0,initComponent:function(){this.callParent(),this.addEvents("expand","collapse","select")},initEvents:function(){var e=this;e.callParent(),e.keyNav=new Ext.util.KeyNav(e.inputEl,{down:e.onDownArrow,esc:{handler:e.onEsc,scope:e,defaultEventAction:!1},scope:e,forceKeyDown:!0}),e.editable||e.mon(e.inputEl,"click",e.onTriggerClick,e),Ext.isGecko&&e.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(e){Ext.isIE&&e.preventDefault(),this.isExpanded&&(this.collapse(),e.stopEvent())},onDownArrow:function(e){this.isExpanded||this.onTriggerClick()},expand:function(){var e,t,i,n=this;!n.rendered||n.isExpanded||n.isDestroyed||(n.expanding=!0,e=n.bodyEl,t=n.getPicker(),i=n.collapseIf,t.show(),n.isExpanded=!0,n.alignPicker(),e.addCls(n.openCls),n.mon(Ext.getDoc(),{mousewheel:i,mousedown:i,scope:n}),Ext.EventManager.onWindowResize(n.alignPicker,n),n.fireEvent("expand",n),n.onExpand(),delete n.expanding)},onExpand:Ext.emptyFn,alignPicker:function(){var e=this.getPicker();this.isExpanded&&(this.matchFieldWidth&&e.setWidth(this.bodyEl.getWidth()),e.isFloating()&&this.doAlign())},doAlign:function(){var e,t=this.picker;this.picker.alignTo(this.triggerWrap,this.pickerAlign,this.pickerOffset),e=t.el.getY()<this.inputEl.getY(),this.bodyEl[e?"addCls":"removeCls"](this.openCls+"-above"),t[e?"addCls":"removeCls"](t.baseCls+"-above")},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var e=this,t=e.openCls,i=e.picker,n=Ext.getDoc(),r=e.collapseIf;i.hide(),e.isExpanded=!1,e.bodyEl.removeCls([t,t+"-above"]),i.el.removeCls(i.baseCls+"-above"),n.un("mousewheel",r,e),n.un("mousedown",r,e),Ext.EventManager.removeResizeListener(e.alignPicker,e),e.fireEvent("collapse",e),e.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(e){this.isDestroyed||e.within(this.bodyEl,!1,!0)||e.within(this.picker.el,!1,!0)||this.isEventWithinPickerLoadMask(e)||this.collapse()},getPicker:function(){return this.picker||(this.picker=this.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){this.readOnly||this.disabled||(this.isExpanded?this.collapse():this.expand(),this.inputEl.focus())},triggerBlur:function(){var e=this.picker;this.callParent(arguments),e&&e.isVisible()&&e.hide()},mimicBlur:function(e){var t=this.picker;t&&(e.within(t.el,!1,!0)||this.isEventWithinPickerLoadMask(e))||this.callParent(arguments)},onDestroy:function(){var e=this.picker;Ext.EventManager.removeResizeListener(this.alignPicker,this),Ext.destroy(this.keyNav),e&&(delete e.pickerField,e.destroy()),this.callParent()},isEventWithinPickerLoadMask:function(e){var t=this.picker.loadMask;return!!t&&(e.within(t.maskEl,!1,!0)||e.within(t.el,!1,!0))}}),Ext.define("Ext.selection.Model",{extend:Ext.util.Observable,alternateClassName:"Ext.AbstractSelectionModel",mixins:{bindable:Ext.util.Bindable},allowDeselect:void 0,toggleOnClick:!0,selected:null,pruneRemoved:!0,suspendChange:0,constructor:function(e){e=e||{},Ext.apply(this,e),this.addEvents("selectionchange","focuschange"),this.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},this.setSelectionMode(e.mode||this.mode),this.selected=new Ext.util.MixedCollection(null,this.getSelectionId),this.callParent(arguments)},bindStore:function(e,t){this.mixins.bindable.bindStore.apply(this,arguments),this.store&&!t&&this.refresh()},getStoreListeners:function(){return{add:this.onStoreAdd,clear:this.onStoreClear,bulkremove:this.onStoreRemove,update:this.onStoreUpdate,load:this.onStoreLoad,idchanged:this.onModelIdChanged,refresh:this.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(e){var t=this.store.getRange(),i=0,n=t.length,r=this.getSelection().length;for(this.suspendChanges();i<n;i++)this.doSelect(t[i],!0,e);this.resumeChanges(),e||this.maybeFireSelectionChange(this.getSelection().length!==r)},deselectAll:function(e){var t,i,n,r=this.getSelection(),s={},o=this.store,a=r.length;for(t=0,i=r.length;t<i;t++)n=r[t],s[n.internalId]=o.indexOf(n);r=Ext.Array.sort(r,function(e,t){return s[e.internalId]<s[t.internalId]?-1:1}),this.suspendChanges(),this.doDeselect(r,e),this.resumeChanges(),e||this.maybeFireSelectionChange(this.getSelection().length!==a)},selectWithEvent:function(e,t){var i,n,r,s=this,o=s.isSelected(e),a=t.shiftKey,l=t.ctrlKey,d=s.selectionStart,h=s.getSelection(),c=h.length,u=s.allowDeselect;switch(s.selectionMode){case"MULTI":if(a&&d)s.selectRange(d,e,l);else if(l&&o)s.doDeselect(e,!1);else if(l)s.doSelect(e,!0,!1);else if(o&&!a&&!l&&1<c){for(i=[],n=0;n<c;++n)(r=h[n])!==e&&i.push(r);s.doDeselect(i)}else o||s.doSelect(e,!1);break;case"SIMPLE":o?s.doDeselect(e):s.doSelect(e,!0);break;case"SINGLE":u&&!l&&(u=s.toggleOnClick),u&&o?s.doDeselect(e):s.doSelect(e,!1)}a||(s.isSelected(e)?s.selectionStart=e:s.selectionStart=null)},afterKeyNavigate:function(e,t){var i,n,r=this,s=r.isSelected(t),o=r.selectionStart&&r.isSelected(r.lastFocused)?r.selectionStart:r.selectionStart=r.lastFocused,a=e.getCharCode(),l=a===e.SPACE,d=a===e.UP||a===e.PAGE_UP?"up":a===e.DOWN||a===e.DOWN?"down":null;switch(r.selectionMode){case"MULTI":l?e.shiftKey?r.selectRange(o,t,e.ctrlKey):s?(r.doDeselect(t,e.ctrlKey),r.setLastFocused(null),r.setLastFocused(t)):r.doSelect(t,e.ctrlKey):e.shiftKey&&o?(n=r.store.indexOf(o),i=r.store.indexOf(t),"up"===d&&n<=i?r.deselectRange(r.lastFocused,i+1):"down"===d&&i<=n?r.deselectRange(r.lastFocused,i-1):o!==t&&r.selectRange(o,t,e.ctrlKey),r.lastSelected=t,r.setLastFocused(t)):e.ctrlKey&&s?r.setLastFocused(t):e.ctrlKey?r.setLastFocused(t):r.doSelect(t,!1);break;case"SIMPLE":s?r.doDeselect(t):r.doSelect(t,!0);break;case"SINGLE":l?s?(r.doDeselect(t),r.setLastFocused(t)):r.doSelect(t):e.ctrlKey?r.setLastFocused(t):r.allowDeselect&&s?r.doDeselect(t):r.doSelect(t,!1)}e.shiftKey||r.isSelected(t)&&(r.selectionStart=t)},selectRange:function(e,t,i){var n,r,s,o,a,l,d,h=this.store,c=this.selected.items;if(!this.isLocked()){for(e=(n=this.normalizeRowRange(e,t))[0],t=n[1],o=[],r=e;r<=t;r++)this.isSelected(h.getAt(r))||o.push(h.getAt(r));if(!i){for(a=[],this.suspendChanges(),r=0,s=c.length;r<s;++r)d=c[r],((l=h.indexOf(d))<e||t<l)&&a.push(d);for(r=0,s=a.length;r<s;++r)this.doDeselect(a[r]);this.resumeChanges()}this.doMultiSelect(o,!0)}},deselectRange:function(e,t){var i,n,r,s,o=this.store;if(!this.isLocked()){for(e=(i=this.normalizeRowRange(e,t))[0],t=i[1],r=[],n=e;n<=t;n++)s=o.getAt(n),this.isSelected(s)&&r.push(s);this.doDeselect(r)}},normalizeRowRange:function(e,t){var i,n=this.store;return Ext.isNumber(e)||(e=n.indexOf(e)),e=Math.max(0,e),Ext.isNumber(t)||(t=n.indexOf(t)),(t=Math.min(t,n.getCount()-1))<e&&(i=t,t=e,e=i),[e,t]},onModelIdChanged:function(e,t,i,n,r){this.selected.updateKey(r,n)},select:function(e,t,i){Ext.isDefined(e)&&this.doSelect(e,t,i)},deselect:function(e,t){this.doDeselect(e,t)},doSelect:function(e,t,i){var n;if(!this.locked&&this.store){if("number"==typeof e){if(!(n=this.store.getAt(e)))return;e=[n]}"SINGLE"==this.selectionMode&&e?(n=e.length?e[0]:e,this.doSingleSelect(n,i)):this.doMultiSelect(e,t,i)}},doMultiSelect:function(e,t,i){var n,r,s,o,a,l=this,d=l.selected,h=!1;if(!l.locked)if(s=(e=Ext.isArray(e)?e:[e]).length,!t&&0<d.getCount()&&(n=l.deselectDuringSelect(e,d.getRange(),i))[0])l.maybeFireSelectionChange(0<n[1]&&!i);else{for(a=function(){d.add(o),h=!0},r=0;r<s;r++)o=e[r],l.isSelected(o)||(l.lastSelected=o,l.onSelectChange(o,!0,i,a));l.preventFocus||l.setLastFocused(o,i),l.maybeFireSelectionChange(h&&!i)}},deselectDuringSelect:function(e,t,i){var n,r,s=t.length,o=0,a=!1;for(this.suspendChanges(),r=0;r<s;++r)n=t[r],Ext.Array.contains(e,n)||(this.doDeselect(n,i)?++o:a=!0);return this.resumeChanges(),[a,o]},doDeselect:function(e,t){var i,n,r,s=this,o=s.selected,a=0,l=0,d=0;if(s.locked||!s.store)return!1;if("number"==typeof e){if(!(n=s.store.getAt(e)))return!1;e=[n]}else Ext.isArray(e)||(e=[e]);for(r=function(){++d,o.remove(n)},i=e.length,s.suspendChanges();a<i;a++)n=e[a],s.isSelected(n)&&(s.lastSelected===n&&(s.lastSelected=o.last(),s.lastFocused===n&&s.setLastFocused(null)),++l,s.onSelectChange(n,!1,t,r));return s.resumeChanges(),s.maybeFireSelectionChange(0<d&&!t),d===l},doSingleSelect:function(e,t){var i,n=this,r=!1,s=n.selected;if(!n.locked&&!n.isSelected(e)){if(s.getCount()){if(n.suspendChanges(),!n.doDeselect(n.lastSelected,t))return void n.resumeChanges();n.resumeChanges()}i=function(){s.add(e),n.lastSelected=e,r=!0},n.onSelectChange(e,!0,t,i),r&&(t||n.preventFocus||n.setLastFocused(e),n.maybeFireSelectionChange(!t))}},setLastFocused:function(e,t){var i=this.lastFocused;e!==i&&(this.lastFocused=e,this.onLastFocusChanged(i,e,t))},isFocused:function(e){return e===this.getLastFocused()},maybeFireSelectionChange:function(e){e&&!this.suspendChange&&this.fireEvent("selectionchange",this,this.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(e){e=e?e.toUpperCase():"SINGLE",this.selectionMode=this.modes[e]?e:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(e){this.locked=!!e},isRangeSelected:function(e,t){var i,n,r=this.store;for(e=(n=this.normalizeRowRange(e,t))[0],t=n[1],i=e;i<=t;i++)if(!this.isSelected(r.getAt(i)))return!1;return!0},isSelected:function(e){return e=Ext.isNumber(e)?this.store.getAt(e):e,this.selected.contains(e)},hasSelection:function(){return 0<this.selected.getCount()},getSelectionId:function(e){return e.internalId},pruneIf:function(){var e,t,i=this.selected,n=[],r=i.length;if(this.pruneRemoved){for(e=0;e<r;e++)t=i.getAt(e),this.storeHasSelected(t)||n.push(t);if(n.length){for(e=0,r=n.length;e<r;e++)i.remove(n[e]);this.maybeFireSelectionChange(!0)}}},storeHasSelected:function(e){var t,i,n,r,s=this.store;if(e.hasId()&&s.getById(e.getId()))return!0;for(i=(t=s.data.items).length,n=e.internalId,r=0;r<i;++r)if(n===t[r].internalId)return!0;return!1},refresh:function(){var e,t,i,n=this,r=n.store,s=[],o=[],a=n.getSelection(),l=a.length,d=0,h=n.getLastFocused();if(r){for(;d<l&&(t=a[d],-1!==r.indexOf(t)?s.push(t):n.pruneRemoved||((e=r.getById(t.getId()))?s.push(e):o.push(t)),"SINGLE"!==n.mode||!o.length);d++);n.selected.getCount()!=s.length+o.length&&(i=!0),n.clearSelections(),-1!==r.indexOf(h)&&n.setLastFocused(h,!0),s.length&&n.doSelect(s,!1,!0),o.length&&(n.selected.addAll(o),n.lastSelected||(n.lastSelected=o[o.length-1])),n.maybeFireSelectionChange(i)}},clearSelections:function(){this.selected.clear(),this.lastSelected=null,this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){0<this.selected.getCount()&&(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(e,t,i,n){this.selectionStart&&Ext.Array.contains(t,this.selectionStart)&&(this.selectionStart=null),n||this.locked||!this.pruneRemoved||this.deselectDeletedRecords(t)},deselectDeletedRecords:function(e){var t,i,n=this.selected,r=e.length,s=0;for(t=0;t<r;t++)i=e[t],n.remove(i)&&(this.lastSelected==i&&(this.lastSelected=null),this.getLastFocused()==i&&this.setLastFocused(null),++s);s&&this.maybeFireSelectionChange(!0)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:function(e,t,i,n){var r=t?"select":"deselect";!1!==(i||this.fireEvent("before"+r,this,e))&&!1!==n()&&(i||this.fireEvent(r,this,e))},onLastFocusChanged:function(e,t){this.fireEvent("focuschange",this,e,t)},onEditorKey:Ext.emptyFn,beforeViewRender:function(e){this.views=this.views||[],this.views.push(e),this.bindStore(e.getStore(),!0)},bindComponent:Ext.emptyFn}),Ext.define("Ext.selection.DataViewModel",{extend:Ext.selection.Model,deselectOnContainerClick:!0,enableKeyNav:!0,constructor:function(e){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.callParent(arguments)},bindComponent:function(e){var t={refresh:this.refresh,scope:this};this.view=e,this.bindStore(e.getStore()),t[e.triggerEvent]=this.onItemClick,t[e.triggerCtEvent]=this.onContainerClick,e.on(t),this.enableKeyNav&&this.initKeyNav(e)},onUpdate:function(e){var t=this.view;t&&this.isSelected(e)&&t.onItemSelect(e)},onItemClick:function(e,t,i,n,r){this.selectWithEvent(t,r)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},initKeyNav:function(e){var t=this;e.rendered?(e.el.set({tabIndex:-1}),t.keyNav=new Ext.util.KeyNav({target:e.el,ignoreInputFields:!0,down:Ext.pass(t.onNavKey,[1],t),right:Ext.pass(t.onNavKey,[1],t),left:Ext.pass(t.onNavKey,[-1],t),up:Ext.pass(t.onNavKey,[-1],t),scope:t})):e.on({render:Ext.Function.bind(t.initKeyNav,t,[e]),single:!0})},onNavKey:function(e){e=e||1;var t,i=this.view,n=this.getSelection()[0],r=this.view.store.getCount();(t=n?i.indexOf(i.getNode(n))+e:0)<0?t=r-1:r<=t&&(t=0),this.select(t)},onSelectChange:function(e,t,i,n){var r=this.view,s=t?"select":"deselect";!1!==(i||this.fireEvent("before"+s,this,e))&&!1!==n()&&(r&&(t?r.onItemSelect(e):r.onItemDeselect(e)),i||this.fireEvent(s,this,e))},onLastFocusChanged:function(e,t,i){var n=this.view;n&&!i&&t&&(n.focusNode(t),this.fireEvent("focuschange",this,e,t))},destroy:function(){Ext.destroy(this.keyNav),this.callParent()}}),Ext.define("Ext.view.AbstractView",{extend:Ext.Component,mixins:{bindable:Ext.util.Bindable},inheritableStatics:{getRecord:function(e){return this.getBoundView(e).getRecord(e)},getBoundView:function(e){return Ext.getCmp(e.boundView)}},deferInitialRefresh:!0,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,ariaRole:"listbox",itemAriaRole:"option",last:!1,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var e=this,t=(Ext.isDefined,e.itemTpl),i={};t&&(Ext.isArray(t)?t=t.join(""):Ext.isObject(t)&&(i=Ext.apply(i,t.initialConfig),t=t.html),e.itemSelector||(e.itemSelector="."+e.itemCls),t=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',e.itemCls,t,e.itemAriaRole),e.tpl=new Ext.XTemplate(t,i)),e.callParent(),e.tpl=e.getTpl("tpl"),e.overItemCls&&(e.trackOver=!0),e.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove"),e.addCmpEvents(),e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store"),e.dataSource||(e.dataSource=e.store),e.bindStore(e.dataSource,!0,"dataSource"),e.all||(e.all=new Ext.CompositeElementLite),e.scrollState={top:0,left:0},e.on({scroll:e.onViewScroll,element:"el",scope:e})},onRender:function(){var e=this,t=e.loadMask,i=e.getMaskStore(),n={target:e,msg:e.loadingText,msgCls:e.loadingCls,useMsg:e.loadingUseMsg,store:i};e.callParent(arguments),t&&!i.proxy.isSynchronous&&(Ext.isObject(t)&&(n=Ext.apply(n,t)),e.loadMask=new Ext.LoadMask(n),e.loadMask.on({scope:e,beforeshow:e.onMaskBeforeShow,hide:e.onMaskHide}))},finishRender:function(){this.callParent(arguments),this.up("[collapsed],[hidden]")||this.doFirstRefresh(this.dataSource)},onBoxReady:function(){this.callParent(arguments),this.firstRefreshDone||this.doFirstRefresh(this.dataSource)},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var e=this.loadingHeight;e&&e>this.getHeight()&&(this.hasLoadingHeight=!0,this.oldMinHeight=this.minHeight,this.minHeight=e,this.updateLayout())},onMaskHide:function(){!this.destroying&&this.hasLoadingHeight&&(this.minHeight=this.oldMinHeight,this.updateLayout(),delete this.hasLoadingHeight)},beforeRender:function(){this.callParent(arguments),this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments),this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var e=this,t="SINGLE";return e.simpleSelect?t="SIMPLE":e.multiSelect&&(t="MULTI"),e.selModel&&e.selModel.events||(e.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:e.allowDeselect,mode:t},e.selModel))),e.selModel.hasRelaySetup||(e.relayEvents(e.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),e.selModel.hasRelaySetup=!0),e.disableSelection&&(e.selModel.locked=!0),e.selModel},refresh:function(){var e,t,i,n,r,s,o=this;o.rendered&&!o.isDestroyed&&(o.hasListeners.beforerefresh&&!1===o.fireEvent("beforerefresh",o)||(e=o.getTargetEl(),s=o.getViewRange(),r=e.dom,o.preserveScrollOnRefresh||(t=r.parentNode,i=r.style.display,r.style.display="none",n=r.nextSibling,t.removeChild(r)),o.refreshCounter?o.clearViewEl():(o.fixedNodes=e.dom.childNodes.length,o.refreshCounter=1),o.tpl.append(e,o.collectData(s,o.all.startIndex)),s.length<1?(this.store.loading||o.deferEmptyText&&!o.hasFirstRefresh||Ext.core.DomHelper.insertHtml("beforeEnd",e.dom,o.emptyText),o.all.clear()):(o.collectNodes(e.dom),o.updateIndexes(0)),o.hasFirstRefresh&&(!1!==o.refreshSelmodelOnRefresh?o.selModel.refresh():o.selModel.pruneIf()),o.hasFirstRefresh=!0,o.preserveScrollOnRefresh||(t.insertBefore(r,n),r.style.display=i),this.refreshSize(),o.fireEvent("refresh",o),o.viewReady||(o.viewReady=!0,o.fireEvent("viewready",o))))},collectNodes:function(e){this.all.fill(Ext.query(this.getItemSelector(),Ext.getDom(e)),this.all.startIndex)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(){var e=this.getSizeModel();(e.height.shrinkWrap||e.width.shrinkWrap)&&this.updateLayout()},clearViewEl:function(){var e=this.getTargetEl();if(this.fixedNodes)for(;e.dom.childNodes[this.fixedNodes];)e.dom.removeChild(e.dom.childNodes[this.fixedNodes]);else e.update("");this.refreshCounter++},onViewScroll:Ext.emptyFn,onIdChanged:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var e=this.el.dom,t=this.scrollState;t.left=e.scrollLeft,t.top=e.scrollTop}},restoreScrollState:function(){if(this.rendered){var e=this.el.dom,t=this.scrollState;e.scrollLeft=t.left,e.scrollTop=t.top}},prepareData:function(e,t,i){var n,r,s;if(i)for(r in n=i.getAssociatedData())n.hasOwnProperty(r)&&(s||(e=Ext.Object.chain(e),s=!0),e[r]=n[r]);return e},collectData:function(e,t){for(var i,n=[],r=0,s=e.length;r<s;r++)i=e[r],n[r]=this.prepareData(i.data,t+r,i);return n},bufferRender:function(e,t){var i=this.renderBuffer||(this.renderBuffer=document.createElement("div"));return this.tpl.overwrite(i,this.collectData(e,t)),Ext.DomQuery.select(this.getItemSelector(),i)},getNodeContainer:function(){return this.getTargetEl()},onUpdate:function(e,t){var i,n;if(this.viewReady&&-1<(i=this.dataSource.indexOf(t))&&(n=this.bufferRender([t],i)[0],this.getNode(t)))return this.all.replaceElement(i,n,!0),this.updateIndexes(i,i),this.selModel.onUpdate(t),this.hasListeners.itemupdate&&this.fireEvent("itemupdate",t,i,n),n},onAdd:function(e,t,i){var n,r=this;r.rendered&&(0===r.all.getCount()?(r.refresh(),n=r.all.slice()):(n=r.doAdd(t,i),!1!==r.refreshSelmodelOnRefresh&&r.selModel.refresh(),r.updateIndexes(i),r.refreshSize()),r.hasListeners.itemadd&&r.fireEvent("itemadd",t,i,n))},doAdd:function(e,t){var i,n,r,s,o=this.bufferRender(e,t,!0),a=this.all,l=a.getCount();if(0===l){for(r=this.getNodeContainer(),s=document.createDocumentFragment(),i=0,n=o.length;i<n;i++)s.appendChild(o[i]);r.appendChild(s)}else t<l?0===t?a.item(t).insertSibling(o,"before",!0):a.item(t-1).insertSibling(o,"after",!0):a.last().insertSibling(o,"after",!0);return a.insert(t,o),o},onRemove:function(e,t,i){var n,r,s,o=this.hasListeners.itemremove;if(this.all.getCount()){if(0===this.dataSource.getCount()){if(o)for(n=i.length-1;0<=n;--n)this.fireEvent("itemremove",t[n],i[n]);this.refresh()}else{for(n=i.length-1;0<=n;--n)r=t[n],s=i[n],this.doRemove(r,s),o&&this.fireEvent("itemremove",r,s);this.updateIndexes(i[0])}this.refreshSize()}},doRemove:function(e,t){this.all.removeElement(t,!0)},refreshNode:function(e){this.onUpdate(this.dataSource,this.dataSource.getAt(e))},updateIndexes:function(e,t){var i,n=this.all.elements,r=this.getViewRange();for(e=e||0,t=t||(0===t?0:n.length-1),i=e;i<=t;i++)n[i].viewIndex=i,n[i].viewRecordId=r[i].internalId,n[i].boundView||(n[i].boundView=this.id)},getStore:function(){return this.store},bindStore:function(e,t,i){this.mixins.bindable.bindStore.apply(this,arguments),t||this.getSelectionModel().bindStore(e),this.componentLayoutCounter&&this.doFirstRefresh(e)},doFirstRefresh:function(e){this.firstRefreshDone=!0,e&&!e.loading&&(this.deferInitialRefresh?this.applyFirstRefresh():this.refresh())},applyFirstRefresh:function(){var e=this;e.isDestroyed||(e.up("[isCollapsingOrExpanding]")?Ext.Function.defer(e.applyFirstRefresh,100,e):Ext.Function.defer(function(){e.isDestroyed||e.refresh()},1))},onUnbindStore:function(e){this.setMaskBind(null)},onBindStore:function(e,t,i){this.setMaskBind(e),t||"store"!==i||this.bindStore(e,!1,"dataSource")},setMaskBind:function(e){var t=this.loadMask;t&&t.bindStore&&t.bindStore(e)},getStoreListeners:function(){return{idchanged:this.onIdChanged,refresh:this.onDataRefresh,add:this.onAdd,bulkremove:this.onRemove,update:this.onUpdate,clear:this.refresh}},onDataRefresh:function(){this.refreshView()},refreshView:function(){!this.firstRefreshDone&&(!this.rendered||this.up("[collapsed],[isCollapsingOrExpanding],[hidden]"))?this.deferInitialRefresh=!1:!0!==this.blockRefresh&&(this.firstRefreshDone=!0,this.refresh())},findItemByChild:function(e){return Ext.fly(e).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(e){return e.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var e=[],t=this.selModel.getSelection(),i=t.length,n=0;n<i;n++)e.push(this.getNode(t[n]));return e},getRecords:function(e){for(var t=[],i=0,n=e.length,r=this.dataSource.data;i<n;i++)t[t.length]=r.getByKey(e[i].viewRecordId);return t},getRecord:function(e){return this.dataSource.data.getByKey(Ext.getDom(e).viewRecordId)},isSelected:function(e){var t=this.getRecord(e);return this.selModel.isSelected(t)},select:function(e,t,i){this.selModel.select(e,t,i)},deselect:function(e,t){this.selModel.deselect(e,t)},getNode:function(e){return!e&&0!==e||!this.rendered?null:Ext.isString(e)?document.getElementById(e):Ext.isNumber(e)?this.all.elements[e]:e.isModel?this.getNodeByRecord(e):e},getNodeByRecord:function(e){for(var t=this.all.elements,i=t.length,n=0;n<i;n++)if(t[n].viewRecordId===e.internalId)return t[n];return null},getNodes:function(e,t){var i=this.all;return void 0===t?t=i.getCount():t++,i.slice(e||0,t)},indexOf:function(e){return(e=this.getNode(e))||0===e?Ext.isNumber(e.viewIndex)?e.viewIndex:this.all.indexOf(e):-1},onDestroy:function(){this.all.clear(),this.callParent(),this.bindStore(null),this.selModel.destroy()},onItemSelect:function(e){var t=this.getNode(e);t&&Ext.fly(t).addCls(this.selectedItemCls)},onItemDeselect:function(e){var t=this.getNode(e);t&&Ext.fly(t).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(e,t,i){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var n=this.getSelectionModel();return n.select.apply(n,arguments)},clearSelections:function(){return Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()"),this.getSelectionModel().deselectAll()}})})}),Ext.define("Ext.view.View",{extend:Ext.view.AbstractView,alternateClassName:"Ext.DataView",alias:"widget.dataview",deferHighlight:Ext.isIE7m?100:0,mouseOverOutBuffer:20,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){var e=this;e.callParent(),e.mouseOverOutBuffer?(e.handleMouseOver=Ext.Function.createBuffered(e.handleMouseOver,e.mouseOverOutBuffer,e),e.handleMouseOut=Ext.Function.createBuffered(e.handleMouseOut,e.mouseOverOutBuffer,e),e.lastMouseOverEvent=new Ext.EventObjectImpl,e.lastMouseOutEvent=new Ext.EventObjectImpl):e.deferHighlight&&(e.setHighlightedItem=Ext.Function.createBuffered(e.setHighlightedItem,e.deferHighlight,e))},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var e=this,t=e.mouseOverOutBuffer;e.callParent(),e.mon(e.getTargetEl(),{scope:e,freezeEvent:!0,click:e.handleEvent,mousedown:e.handleEvent,mouseup:e.handleEvent,dblclick:e.handleEvent,contextmenu:e.handleEvent,keydown:e.handleEvent,mouseover:t?e.onMouseOver:e.handleMouseOver,mouseout:t?e.onMouseOut:e.handleMouseOut})},onMouseOver:function(e){this.lastMouseOverEvent.setEvent(e.browserEvent,!0),this.handleMouseOver(this.lastMouseOverEvent)},onMouseOut:function(e){this._mouseOutPending||(this._mouseOutPending=!0,this.lastMouseOutEvent.setEvent(e.browserEvent,!0),this.handleMouseOut(this.lastMouseOutEvent))},handleMouseOver:function(e){var t=this.dataRowSelector||this.itemSelector,i=e.getTarget(t);this.isDestroyed||(i?this.mouseOverItem!==i&&this.el.contains(i)&&(this.mouseOverItem=e.item=i,e.newType="mouseenter",this.handleEvent(e)):(e.item=e.newType=null,this.handleEvent(e)))},handleMouseOut:function(e){var t,i=this.dataRowSelector||this.itemSelector,n=e.getTarget(i);this.isDestroyed||(this._mouseOutPending=!1,n?e.getRelatedTarget(i)!==n&&this.mouseOverItem===n&&(t=this.self.getBoundView(n),e.item=n,e.newType="mouseleave",t.handleEvent(e),t.mouseOverItem=null):(e.item=e.newType=null,this.handleEvent(e))),e.newType=e.item=null},handleEvent:function(e){var t="keydown"==e.type&&e.getKey();!1!==this.processUIEvent(e)&&this.processSpecialEvent(e),t===e.SPACE&&(this.inputTagRe.test(e.getTarget().tagName)||e.stopEvent())},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(e){if(Ext.getBody().isAncestor(e.target)){var t,i,n,r=this,s=e.getTarget(r.dataRowSelector||r.itemSelector,r.getTargetEl()),o=r.statics().EventMap,a=e.type,l=e.type;if(e.newType&&(l=e.newType,s=e.item),s||"keydown"!=a||(i=(n=r.getSelectionModel()).lastFocused||n.getLastSelected())&&(s=r.getNode(i,!0)),s){if(i=i||r.getRecord(s),t=r.indexInStore?r.indexInStore(i):r.indexOf(s),!i||!1===r.processItemEvent(i,s,t,e))return!1;if(!1===r["onBeforeItem"+o[l]](i,s,t,e)||!1===r.fireEvent("beforeitem"+l,r,i,s,t,e)||!1===r["onItem"+o[l]](i,s,t,e))return!1;r.fireEvent("item"+l,r,i,s,t,e)}else{if(!1===r.processContainerEvent(e)||!1===r["onBeforeContainer"+o[a]](e)||!1===r.fireEvent("beforecontainer"+a,r,e)||!1===r["onContainer"+o[a]](e))return!1;r.fireEvent("container"+a,r,e)}return!0}},onItemMouseEnter:function(e,t,i,n){this.trackOver&&this.highlightItem(t)},onItemMouseLeave:function(e,t,i,n){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(e){var t,i=this.highlightedItem,n=this.overItemCls,r=this.beforeOverItemCls;i!=e&&(i&&(Ext.fly(i).removeCls(n),t=i.previousSibling,r&&t&&Ext.fly(t).removeCls(r),this.fireEvent("unhighlightitem",this,i)),(this.highlightedItem=e)&&(Ext.fly(e).addCls(this.overItemCls),t=e.previousSibling,r&&t&&Ext.fly(t).addCls(r),this.fireEvent("highlightitem",this,e)))},highlightItem:function(e){this.setHighlightedItem(e)},clearHighlight:function(){this.setHighlightedItem(void 0)},onUpdate:function(e,t){var i,n,r;this.viewReady&&(i=this.getNode(t),n=this.callParent(arguments),(r=this.highlightedItem)&&r===i&&(delete this.highlightedItem,n&&this.highlightItem(n)))},refresh:function(){this.clearHighlight(),this.callParent(arguments)},focusNode:function(e){var t,i=this.getNode(e,!0),n=this.el,r=0,s=0,o=n.getRegion();o.bottom=o.top+n.dom.clientHeight,o.right=o.left+n.dom.clientWidth,i&&((t=Ext.fly(i).getRegion()).top<o.top?r=t.top-o.top:t.bottom>o.bottom&&(r=t.bottom-o.bottom),t.left<o.left?s=t.left-o.left:t.right>o.right&&(s=t.right-o.right),(s||r)&&this.scrollBy(s,r,!1),n.focus())},bindStore:function(e,t,i){var n=this[i];n&&n.isFeatureStore?e.isFeatureStore?(this.bindStoreListeners(e),n.bindStore(n.store)):n.bindStore(e):this.callParent(arguments)}}),Ext.define("Ext.layout.component.BoundList",{extend:Ext.layout.component.Auto,alias:"layout.boundlist",type:"component",beginLayout:function(e){var t=this.owner,i=t.pagingToolbar;this.callParent(arguments),t.floating&&(e.savedXY=t.getXY(),t.setXY([0,-9999])),i&&(e.toolbarContext=e.context.getCmp(i)),e.listContext=e.getEl("listEl")},beginLayoutCycle:function(e){var t=this.owner;this.callParent(arguments),e.heightModel.auto&&(t.el.setHeight("auto"),t.listEl.setHeight("auto"))},getLayoutItems:function(){var e=this.owner.pagingToolbar;return e?[e]:[]},isValidParent:function(){return!0},finishedLayout:function(e){var t=e.savedXY;this.callParent(arguments),t&&this.owner.setXY(t)},measureContentWidth:function(e){return this.owner.listEl.getWidth()},measureContentHeight:function(e){return this.owner.listEl.getHeight()},publishInnerHeight:function(e,t){var i=e.toolbarContext,n=0;i&&(n=i.getProp("height")),void 0===n?this.done=!1:e.listContext.setHeight(t-e.getFrameInfo().height-n)},calculateOwnerHeightFromContentHeight:function(e){var t=this.callParent(arguments),i=e.toolbarContext;return i&&(t+=i.getProp("height")),t}}),Ext.define("Ext.toolbar.TextItem",{extend:Ext.toolbar.Item,alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",ariaRole:null,beforeRender:function(){this.callParent(),Ext.apply(this.renderData,{text:this.text})},setText:function(e){this.text=e,this.rendered&&(this.el.update(e),this.updateLayout())}}),Ext.define("Ext.form.field.Spinner",{extend:Ext.form.field.Trigger,alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",triggerTpl:'<td style="{triggerStyle}" class="{triggerCls}" role="presentation"><div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up {spinnerUpCls} {childElCls}" role="presentation"></div><div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down {spinnerDownCls} {childElCls}" role="presentation"></div></td></tr>',initComponent:function(){this.callParent(),this.addEvents("spin","spinup","spindown")},onRender:function(){var e,t=this;t.callParent(arguments),e=t.triggerEl,t.spinUpEl=e.item(0),t.spinDownEl=e.item(1),t.triggerCell=t.spinUpEl.parent(),t.keyNavEnabled&&(t.spinnerKeyNav=new Ext.util.KeyNav(t.inputEl,{scope:t,up:t.spinUp,down:t.spinDown})),t.mouseWheelEnabled&&t.mon(t.bodyEl,"mousewheel",t.onMouseWheel,t)},getSubTplMarkup:function(e){var t=e.childElCls,i=Ext.form.field.Base.prototype.getSubTplMarkup.apply(this,arguments);return'<table id="'+this.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+t+'" cellpadding="0" cellspacing="0" role="presentation"><tbody role="presentation"><tr role="presentation"><td id="'+this.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+t+'" role="presentation">'+i+"</td>"+this.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){return this.getTpl("triggerTpl").apply(this.getTriggerData())},getTriggerData:function(){var e=this.readOnly||this.hideTrigger;return{triggerCls:Ext.baseCSSPrefix+"trigger-cell",triggerStyle:e?"display:none":"",spinnerUpCls:this.spinUpEnabled?"":this.trigger1Cls+"-disabled",spinnerDownCls:this.spinDownEnabled?"":this.trigger2Cls+"-disabled"}},getTriggerWidth:function(){var e=0;return!this.triggerWrap||this.hideTrigger||this.readOnly||(e=this.triggerWidth),e},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){this.spinUpEnabled&&!this.disabled&&(this.fireEvent("spin",this,"up"),this.fireEvent("spinup",this),this.onSpinUp())},spinDown:function(){this.spinDownEnabled&&!this.disabled&&(this.fireEvent("spin",this,"down"),this.fireEvent("spindown",this),this.onSpinDown())},setSpinUpEnabled:function(e){this.spinUpEnabled!==(this.spinUpEnabled=e)&&this.rendered&&this.spinUpEl[e?"removeCls":"addCls"](this.trigger1Cls+"-disabled")},setSpinDownEnabled:function(e){this.spinDownEnabled!==(this.spinDownEnabled=e)&&this.rendered&&this.spinDownEl[e?"removeCls":"addCls"](this.trigger2Cls+"-disabled")},onMouseWheel:function(e){var t;this.hasFocus&&(0<(t=e.getWheelDelta())?this.spinUp():t<0&&this.spinDown(),e.stopEvent())},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl"),this.callParent()}}),Ext.define("Ext.form.field.Number",{extend:Ext.form.field.Spinner,alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:!0,allowDecimals:!0,decimalSeparator:null,submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){null===this.decimalSeparator&&(this.decimalSeparator=Ext.util.Format.decimalSeparator),this.callParent(),this.setMinValue(this.minValue),this.setMaxValue(this.maxValue)},getErrors:function(e){var t,i=this,n=i.callParent(arguments),r=Ext.String.format;return(e=Ext.isDefined(e)?e:this.processRawValue(this.getRawValue())).length<1||(e=String(e).replace(i.decimalSeparator,"."),isNaN(e)&&n.push(r(i.nanText,e)),t=i.parseValue(e),0===i.minValue&&t<0?n.push(this.negativeText):t<i.minValue&&n.push(r(i.minText,i.minValue)),t>i.maxValue&&n.push(r(i.maxText,i.maxValue))),n},rawToValue:function(e){var t=this.fixPrecision(this.parseValue(e));return null===t&&(t=e||null),t},valueToRaw:function(e){var t=this.decimalSeparator;return e=this.parseValue(e),e=this.fixPrecision(e),e=Ext.isNumber(e)?e:parseFloat(String(e).replace(t,".")),e=isNaN(e)?"":String(e).replace(".",t)},getSubmitValue:function(){var e=this.callParent();return this.submitLocaleSeparator||(e=e.replace(this.decimalSeparator,".")),e},onChange:function(){this.toggleSpinners(),this.callParent(arguments)},toggleSpinners:function(){var e,t=this.getValue(),i=null===t;(this.spinUpEnabled||this.spinUpDisabledByToggle)&&(e=i||t<this.maxValue,this.setSpinUpEnabled(e,!0)),(this.spinDownEnabled||this.spinDownDisabledByToggle)&&(e=i||t>this.minValue,this.setSpinDownEnabled(e,!0))},setMinValue:function(e){var t,i=this;i.minValue=Ext.Number.from(e,Number.NEGATIVE_INFINITY),i.toggleSpinners(),!0!==i.disableKeyFilter&&(t=i.baseChars+"",i.allowExponential?t+=i.decimalSeparator+"e+-":(i.allowDecimals&&(t+=i.decimalSeparator),i.minValue<0&&(t+="-")),t=Ext.String.escapeRegex(t),i.maskRe=new RegExp("["+t+"]"),i.autoStripChars&&(i.stripCharsRe=new RegExp("[^"+t+"]","gi")))},setMaxValue:function(e){this.maxValue=Ext.Number.from(e,Number.MAX_VALUE),this.toggleSpinners()},parseValue:function(e){return e=parseFloat(String(e).replace(this.decimalSeparator,".")),isNaN(e)?null:e},fixPrecision:function(e){var t=isNaN(e),i=this.decimalPrecision;return t||!e?t?"":e:((!this.allowDecimals||i<=0)&&(i=0),parseFloat(Ext.Number.toFixed(parseFloat(e),i)))},beforeBlur:function(){var e=this.parseValue(this.getRawValue());Ext.isEmpty(e)||this.setValue(e)},setSpinUpEnabled:function(e,t){this.callParent(arguments),t?this.spinUpDisabledByToggle=!e:delete this.spinUpDisabledByToggle},onSpinUp:function(){this.readOnly||this.setSpinValue(Ext.Number.constrain(this.getValue()+this.step,this.minValue,this.maxValue))},setSpinDownEnabled:function(e,t){this.callParent(arguments),t?this.spinDownDisabledByToggle=!e:delete this.spinDownDisabledByToggle},onSpinDown:function(){this.readOnly||this.setSpinValue(Ext.Number.constrain(this.getValue()-this.step,this.minValue,this.maxValue))},setSpinValue:function(e){this.enforceMaxLength&&this.fixPrecision(e).toString().length>this.maxLength||this.setValue(e)}}),Ext.define("Ext.toolbar.Paging",{extend:Ext.toolbar.Toolbar,alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",mixins:{bindable:Ext.util.Bindable},displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var e=this;return[{itemId:"first",tooltip:e.firstText,overflowText:e.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:!0,handler:e.moveFirst,scope:e},{itemId:"prev",tooltip:e.prevText,overflowText:e.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:!0,handler:e.movePrevious,scope:e},"-",e.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:e.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:e,keydown:e.onPagingKeyDown,blur:e.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(e.afterPageText,1)},"-",{itemId:"next",tooltip:e.nextText,overflowText:e.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:!0,handler:e.moveNext,scope:e},{itemId:"last",tooltip:e.lastText,overflowText:e.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:!0,handler:e.moveLast,scope:e},"-",{itemId:"refresh",tooltip:e.refreshText,overflowText:e.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",disabled:e.store.isLoading(),handler:e.doRefresh,scope:e}]},initComponent:function(){var e,t=this,i=t.items||t.buttons||[];t.bindStore(t.store||"ext-empty-store",!0),e=t.getPagingItems(),t.prependButtons?t.items=i.concat(e):t.items=e.concat(i),delete t.buttons,t.displayInfo&&(t.items.push("->"),t.items.push({xtype:"tbtext",itemId:"displayItem"})),t.callParent(),t.addEvents("change","beforechange")},beforeRender:function(){this.callParent(arguments),this.store.isLoading()||this.onLoad()},updateInfo:function(){var e,t=this.child("#displayItem"),i=this.store,n=this.getPageData();t&&(e=0===i.getCount()?this.emptyMsg:Ext.String.format(this.displayMsg,n.fromRecord,n.toRecord,n.total),t.setText(e))},onLoad:function(){var e,t,i,n,r,s,o=this;if(r=0===o.store.getCount())i=t=0,n=Ext.String.format(o.afterPageText,0);else{if(t=(e=o.getPageData()).currentPage,(i=e.pageCount)<t)return void o.store.loadPage(i);n=Ext.String.format(o.afterPageText,isNaN(i)?1:i)}Ext.suspendLayouts(),(s=o.child("#afterTextItem"))&&s.setText(n),(s=o.getInputItem())&&s.setDisabled(r).setValue(t),o.setChildDisabled("#first",1===t||r),o.setChildDisabled("#prev",1===t||r),o.setChildDisabled("#next",t===i||r),o.setChildDisabled("#last",t===i||r),o.setChildDisabled("#refresh",!1),o.updateInfo(),Ext.resumeLayouts(!0),o.fireEvent("change",o,e)},setChildDisabled:function(e,t){var i=this.child(e);i&&i.setDisabled(t)},getPageData:function(){var e=this.store,t=e.getTotalCount();return{total:t,currentPage:e.currentPage,pageCount:Math.ceil(t/e.pageSize),fromRecord:(e.currentPage-1)*e.pageSize+1,toRecord:Math.min(e.currentPage*e.pageSize,t)}},onLoadError:function(){this.setChildDisabled("#refresh",!1)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(e){var t,i=this.getInputItem(),n=!1;return i&&(t=i.getValue(),n=parseInt(t,10),!t||isNaN(n))?(i.setValue(e.currentPage),!1):n},onPagingBlur:function(e){var t,i=this.getInputItem();i&&(t=this.getPageData().currentPage,i.setValue(t))},onPagingKeyDown:function(e,t){this.processKeyEvent(e,t)},processKeyEvent:function(e,t){var i,n=t.getKey(),r=this.getPageData(),s=t.shiftKey?10:1;n==t.RETURN?(t.stopEvent(),!1!==(i=this.readPageFromInput(r))&&(i=Math.min(Math.max(1,i),r.pageCount))!==r.currentPage&&!1!==this.fireEvent("beforechange",this,i)&&this.store.loadPage(i)):n==t.HOME||n==t.END?(t.stopEvent(),i=n==t.HOME?1:r.pageCount,e.setValue(i)):n!=t.UP&&n!=t.PAGE_UP&&n!=t.DOWN&&n!=t.PAGE_DOWN||(t.stopEvent(),(i=this.readPageFromInput(r))&&(n!=t.DOWN&&n!=t.PAGE_DOWN||(s*=-1),1<=(i+=s)&&i<=r.pageCount&&e.setValue(i)))},beforeLoad:function(){this.setChildDisabled("#refresh",!0)},moveFirst:function(){return!1!==this.fireEvent("beforechange",this,1)&&(this.store.loadPage(1),!0)},movePrevious:function(){var e=this.store,t=e.currentPage-1;return 0<t&&!1!==this.fireEvent("beforechange",this,t)&&(e.previousPage(),!0)},moveNext:function(){var e=this.store,t=this.getPageData().pageCount,i=e.currentPage+1;return i<=t&&!1!==this.fireEvent("beforechange",this,i)&&(e.nextPage(),!0)},moveLast:function(){var e=this.getPageData().pageCount;return!1!==this.fireEvent("beforechange",this,e)&&(this.store.loadPage(e),!0)},doRefresh:function(){var e=this.store,t=e.currentPage;return!1!==this.fireEvent("beforechange",this,t)&&(e.loadPage(t),!0)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(e){this.bindStore(null)},bind:function(e){this.bindStore(e)},onDestroy:function(){this.unbind(),this.callParent()}}),Ext.define("Ext.view.BoundList",{extend:Ext.view.View,alias:"widget.boundlist",alternateClassName:"Ext.BoundList",mixins:{queryable:Ext.Queryable},pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,refreshed:0,deferInitialRefresh:!1,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" role="presentation" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],initComponent:function(){var e=this,t=e.baseCls,i=e.itemCls;e.selectedItemCls=t+"-selected",e.trackOver&&(e.overItemCls=t+"-item-over"),e.itemSelector="."+i,e.floating&&e.addCls(t+"-floating"),e.tpl?e.tpl.isTemplate||(e.tpl=new Ext.XTemplate(e.tpl)):e.tpl=new Ext.XTemplate('<ul class="'+Ext.plainListCls+'"><tpl for=".">','<li role="option" unselectable="on" class="'+i+'">'+e.getInnerTpl(e.displayField)+"</li>","</tpl></ul>"),e.pageSize&&(e.pagingToolbar=e.createPagingToolbar()),e.callParent()},beforeRender:function(){this.callParent(arguments),this.up("menu")&&this.addCls(Ext.baseCSSPrefix+"menu")},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var e=this.pagingToolbar;this.callParent(arguments),e&&e.finishRender()},refresh:function(){var e=this.tpl,t=this.pagingToolbar,i=this.rendered;e.field=this.pickerField,e.store=this.store,this.callParent(),e.field=e.store=null,i&&t&&t.rendered&&!this.preserveScrollOnRefresh&&this.el.appendChild(t.el)},bindStore:function(e,t){var i=this.pagingToolbar;this.callParent(arguments),i&&i.bindStore(e,t)},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(e){return"{"+e+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl"),this.callParent()}}),Ext.define("Ext.view.BoundListKeyNav",{extend:Ext.util.KeyNav,constructor:function(e,t){this.boundList=t.boundList,this.callParent([e,Ext.apply({},t,this.defaultHandlers)])},defaultHandlers:{up:function(){var e=this.boundList,t=e.all,i=e.highlightedItem,n=i?e.indexOf(i):-1,r=0<n?n-1:t.getCount()-1;this.highlightAt(r)},down:function(){var e=this.boundList,t=e.all,i=e.highlightedItem,n=i?e.indexOf(i):-1,r=n<t.getCount()-1?n+1:0;this.highlightAt(r)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){this.highlightAt(this.boundList.all.getCount()-1)},enter:function(e){this.selectHighlighted(e)}},highlightAt:function(e){var t=this.boundList,i=t.all.item(e);i&&(i=i.dom,t.highlightItem(i),t.getTargetEl().scrollChildIntoView(i,!1))},selectHighlighted:function(e){var t,i,n=this.boundList,r=n.getSelectionModel();(t=n.highlightedItem)&&(i=n.getRecord(t),e.getKey()!==e.ENTER&&r.isSelected(i)||r.selectWithEvent(i,e))}}),Ext.define("Ext.layout.component.field.ComboBox",{extend:Ext.layout.component.field.Trigger,alias:"layout.combobox",type:"combobox",startingWidth:null,getTextWidth:function(){for(var e,t,i,n=this.owner,r=n.store,s=n.displayField,o=r.data.length,a="",l=0,d=0;l<o;l++)d<(e=(t=r.getAt(l).data[s]).length)&&(d=e,a=t);return i=Math.max(this.callParent(arguments),n.inputEl.getTextWidth(a+n.growAppend)),this.startingWidth&&!n.removingRecords||((this.startingWidth=i)<n.growMin&&(n.defaultListConfig.minWidth=n.growMin),n.removingRecords=!1),i<this.startingWidth?this.startingWidth:i}}),Ext.define("Ext.form.field.ComboBox",{extend:Ext.form.field.Picker,alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:{bindable:Ext.util.Bindable},componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",ariaRole:"combobox",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" role="{role}" {inputAttrTpl} class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:!0,disableFormats:!0}],getSubTplData:function(){return Ext.applyIf(this.subTplData,{hiddenDataCls:this.hiddenDataCls}),this.callParent(arguments)},afterRender:function(){this.callParent(arguments),this.setHiddenValue(this.value)},multiSelect:!1,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,clearFilterOnBlur:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:!0,ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){return this.grow&&this.growToLongestValue},initComponent:function(){var e,t,i=this,n=Ext.isDefined,r=i.store,s=i.transform,o=i.displayTpl;Ext.applyIf(i.renderSelectors,{hiddenDataEl:"."+i.hiddenDataCls.split(" ").join(".")}),i.addEvents("beforequery","select","beforeselect","beforedeselect"),s&&(e=Ext.getDom(s))&&(i.store||(r=Ext.Array.map(Ext.Array.from(e.options),function(e){return[e.value,e.text]})),i.name||(i.name=e.name),"value"in i||(i.value=e.value)),i.bindStore(r||"ext-empty-store",!0),(r=i.store).autoCreated&&(i.queryMode="local",i.valueField=i.displayField="field1",r.expanded||(i.displayField="field2")),n(i.valueField)||(i.valueField=i.displayField),t="local"===i.queryMode,n(i.queryDelay)||(i.queryDelay=t?10:500),n(i.minChars)||(i.minChars=t?0:4),o?o.isTemplate||(i.displayTpl=new Ext.XTemplate(o)):i.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+i.displayField+'"]]}<tpl if="xindex < xcount">'+i.delimiter+"</tpl></tpl>"),i.callParent(),i.doQueryTask=new Ext.util.DelayedTask(i.doRawQuery,i),0<i.store.getCount()&&i.setValue(i.value),e&&(i.transformInPlace&&(i.render(e.parentNode,e),delete i.renderTo),Ext.removeNode(e))},getStore:function(){return this.store},beforeBlur:function(){var e=this.queryFilter;this.doQueryTask.cancel(),this.assertValue(),e&&!e.disabled&&"local"===this.queryMode&&this.clearFilterOnBlur&&(e.disabled=!0,this.store.filter())},onFocus:function(){var e=this.queryFilter;this.callParent(arguments),!this.duringTriggerClick&&"all"!==this.triggerAction&&e&&e.disabled&&"local"===this.queryMode&&this.clearFilterOnBlur&&(delete this.lastQuery,this.doRawQuery())},assertValue:function(){var e,t,i=this,n=i.getRawValue();i.forceSelection&&(i.multiSelect?n!==i.getDisplayValue()&&i.setValue(i.lastSelection):(e=i.findRecordByDisplay(n))?(t=i.value,i.findRecordByValue(t)||i.select(e,!0)):i.setValue(i.lastSelection)),i.collapse()},onTypeAhead:function(){var e,t,i,n=this.displayField,r=this.store.findRecord(n,this.getRawValue()),s=this.getPicker();r&&(t=(e=r.get(n)).length,i=this.getRawValue().length,s.highlightItem(s.getNode(r)),0!==i&&i!==t&&(this.setRawValue(e),this.selectText(i,e.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){var e=this.queryFilter;this.callParent(),e&&!e.disabled&&(e.disabled=!0,this.store.filter())},onUnbindStore:function(e){var t=this.picker,i=this.queryFilter;i&&this.store.removeFilter(i),!e&&t&&t.bindStore(null)},onBindStore:function(e,t){var i=this.picker;t||this.resetToDefault(),i&&i.bindStore(e)},getStoreListeners:function(){return{beforeload:this.onBeforeLoad,clear:this.onClear,datachanged:this.onDataChanged,load:this.onLoad,exception:this.onException,remove:this.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){this.resizeComboToGrow()&&this.updateLayout()},onClear:function(){this.resizeComboToGrow()&&(this.removingRecords=!0,this.onDataChanged())},onRemove:function(){this.resizeComboToGrow()&&(this.removingRecords=!0)},onException:function(){0<this.ignoreSelection&&--this.ignoreSelection,this.collapse()},onLoad:function(e,t,i){0<this.ignoreSelection&&--this.ignoreSelection,i&&!e.lastOptions.rawQuery&&(null==this.value&&this.store.getCount()?this.doAutoSelect():this.setValue(this.value))},doRawQuery:function(){this.doQuery(this.getRawValue(),!1,!0)},doQuery:function(e,t,i){var n=this,r=n.beforeQuery({query:e||"",rawQuery:i,forceAll:t,combo:n,cancel:!1});return!1!==r&&!r.cancel&&(n.queryCaching&&r.query===n.lastQuery?(n.expand(),"local"===n.queryMode&&n.doAutoSelect()):(n.lastQuery=r.query,"local"===n.queryMode?n.doLocalQuery(r):n.doRemoteQuery(r)),!0)},beforeQuery:function(e){return!1===this.fireEvent("beforequery",e)?e.cancel=!0:e.cancel||e.query.length<this.minChars&&!e.forceAll&&(e.cancel=!0),e},doLocalQuery:function(e){var t=this,i=e.query;t.queryFilter||(t.queryFilter=new Ext.util.Filter({id:t.id+"-query-filter",anyMatch:t.anyMatch,caseSensitive:t.caseSensitive,root:"data",property:t.displayField}),t.store.addFilter(t.queryFilter,!1)),i||!e.forceAll?(t.queryFilter.disabled=!1,t.queryFilter.setValue(t.enableRegEx?new RegExp(i):i)):t.queryFilter.disabled=!0,t.store.filter(),t.store.getCount()?t.expand():t.collapse(),t.afterQuery(e)},doRemoteQuery:function(e){function t(){i.afterQuery(e)}var i=this;i.expand(),i.pageSize?i.loadPage(1,{rawQuery:e.rawQuery,callback:t}):i.store.load({params:i.getParams(e.query),rawQuery:e.rawQuery,callback:t})},afterQuery:function(e){var t=this;t.store.getCount()&&(t.typeAhead&&t.doTypeAhead(),t.getRawValue()!==t.getDisplayValue()&&(t.ignoreSelection++,t.picker.getSelectionModel().deselectAll(),t.ignoreSelection--),e.rawQuery?(t.syncSelection(),t.picker&&!t.picker.getSelectionModel().hasSelection()&&t.doAutoSelect()):t.doAutoSelect())},loadPage:function(e,t){this.store.loadPage(e,Ext.apply({params:this.getParams(this.lastQuery)},t))},onPageChange:function(e,t){return this.loadPage(t),!1},getParams:function(e){var t={},i=this.queryParam;return i&&(t[i]=e),t},doAutoSelect:function(){var e,t,i=this.picker;i&&this.autoSelect&&0<this.store.getCount()&&(e=i.getSelectionModel().lastSelected,(t=i.getNode(e||0))&&(i.highlightItem(t),i.listEl.scrollChildIntoView(t,!1)))},doTypeAhead:function(){this.typeAheadTask||(this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)),this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(){var e=this;e.duringTriggerClick=!0,e.readOnly||e.disabled||(e.isExpanded?e.collapse():(e.onFocus({}),"all"===e.triggerAction?e.doQuery(e.allQuery,!0):"last"===e.triggerAction?e.doQuery(e.lastQuery,!0):e.doQuery(e.getRawValue(),!1,!0)),e.inputEl.focus()),delete e.duringTriggerClick},onPaste:function(){this.readOnly||this.disabled||!this.editable||this.doQueryTask.delay(this.queryDelay)},onKeyUp:function(e,t){var i=e.getKey();this.readOnly||this.disabled||!this.editable||(this.lastKey=i,e.isSpecialKey()&&i!=e.BACKSPACE&&i!=e.DELETE||this.doQueryTask.delay(this.queryDelay)),this.enableKeyEvents&&this.callParent(arguments)},initEvents:function(){var e=this;e.callParent(),e.enableKeyEvents||e.mon(e.inputEl,"keyup",e.onKeyUp,e),e.mon(e.inputEl,"paste",e.onPaste,e)},onDestroy:function(){this.typeAheadTask&&(this.typeAheadTask.cancel(),this.typeAheadTask=null),Ext.destroy(this.listKeyNav),this.bindStore(null),this.callParent()},onAdded:function(){this.callParent(arguments),this.picker&&(this.picker.ownerCt=this.up("[floating]"),this.picker.registerWithOwnerCt())},createPicker:function(){var e,t=this,i=Ext.apply({xtype:"boundlist",pickerField:t,selModel:{mode:t.multiSelect?"SIMPLE":"SINGLE"},floating:!0,hidden:!0,store:t.store,displayField:t.displayField,focusOnToFront:!1,pageSize:t.pageSize,tpl:t.tpl},t.listConfig,t.defaultListConfig);return e=t.picker=Ext.widget(i),t.pageSize&&e.pagingToolbar.on("beforechange",t.onPageChange,t),t.mon(e,{itemclick:t.onItemClick,refresh:t.onListRefresh,scope:t}),t.mon(e.getSelectionModel(),{beforeselect:t.onBeforeSelect,beforedeselect:t.onBeforeDeselect,selectionchange:t.onListSelectionChange,scope:t}),e},alignPicker:function(){var e=this.getPicker(),t=this.getPosition()[1]-Ext.getBody().getScroll().top,i=Ext.Element.getViewHeight()-t-this.getHeight(),n=Math.max(t,i);e.height&&(delete e.height,e.updateLayout()),e.getHeight()>n-5&&e.setHeight(n-5),this.callParent()},onListRefresh:function(){this.expanding||this.alignPicker(),this.syncSelection()},onItemClick:function(e,t){var i=this.picker.getSelectionModel().getSelection(),n=this.valueField;!this.multiSelect&&i.length&&t.get(n)===i[0].get(n)&&(this.displayTplData=[t.data],this.setRawValue(this.getDisplayValue()),this.collapse())},onBeforeSelect:function(e,t){return this.fireEvent("beforeselect",this,t,t.index)},onBeforeDeselect:function(e,t){return this.fireEvent("beforedeselect",this,t,t.index)},onListSelectionChange:function(e,t){var i=this.multiSelect,n=0<t.length;!this.ignoreSelection&&this.isExpanded&&(i||Ext.defer(this.collapse,1,this),(i||n)&&this.setValue(t,!1),n&&this.fireEvent("select",this,t),this.inputEl.focus())},onExpand:function(){var n=this,e=n.listKeyNav,t=n.selectOnTab,r=n.getPicker();e?e.enable():e=n.listKeyNav=new Ext.view.BoundListKeyNav(n.inputEl,{boundList:r,forceKeyDown:!0,tab:function(e){return t&&(this.selectHighlighted(e),n.triggerBlur()),!0},enter:function(e){var t=r.getSelectionModel(),i=t.getCount();this.selectHighlighted(e),n.multiSelect||i!==t.getCount()||n.collapse()}}),t&&(n.ignoreMonitorTab=!0),Ext.defer(e.enable,1,e),n.inputEl.focus()},onCollapse:function(){var e=this.listKeyNav;e&&(e.disable(),this.ignoreMonitorTab=!1)},select:function(e,t){var i,n=this.picker;e&&e.isModel&&!0===t&&n&&(i=!n.getSelectionModel().isSelected(e)),this.setValue(e,!0),i&&this.fireEvent("select",this,e)},findRecord:function(e,t){var i=this.store,n=i.findExact(e,t);return-1!==n&&i.getAt(n)},findRecordByValue:function(e){return this.findRecord(this.valueField,e)},findRecordByDisplay:function(e){return this.findRecord(this.displayField,e)},setValue:function(e,t){var i,n,r,s,o=this,a=o.valueNotFoundText,l=o.inputEl,d=[],h=[],c=[];if(o.store.loading)return o.value=e,o.setHiddenValue(o.value),o;for(i=0,n=(e=Ext.Array.from(e)).length;i<n;i++)(r=e[i])&&r.isModel||(r=o.findRecordByValue(r)),r?(d.push(r),h.push(r.data),c.push(r.get(o.valueField))):o.forceSelection?Ext.isDefined(a)&&h.push(a):(c.push(e[i]),(s={})[o.displayField]=e[i],h.push(s));return o.setHiddenValue(c),o.value=o.multiSelect?c:c[0],Ext.isDefined(o.value)||(o.value=null),o.displayTplData=h,o.lastSelection=o.valueModels=d,l&&o.emptyText&&!Ext.isEmpty(e)&&l.removeCls(o.emptyCls),o.setRawValue(o.getDisplayValue()),o.checkChange(),!1!==t&&o.syncSelection(),o.applyEmptyText(),o},setHiddenValue:function(e){var t,i,n,r,s,o,a=this.hiddenName;if(this.hiddenDataEl&&a){for(e=Ext.Array.from(e),r=(n=(i=this.hiddenDataEl.dom).childNodes)[0],s=e.length,o=n.length,!r&&0<s&&(this.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:a})),o=1,r=i.firstChild);s<o;)i.removeChild(n[0]),--o;for(;o<s;)i.appendChild(r.cloneNode(!0)),++o;for(t=0;t<s;t++)n[t].value=e[t]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var e=this.picker,t=this.getRawValue(),i=this.value;return this.getDisplayValue()!==t&&(i=t,this.value=this.displayTplData=this.valueModels=null,e&&(this.ignoreSelection++,e.getSelectionModel().deselectAll(),this.ignoreSelection--)),i},getSubmitValue:function(){var e=this.getValue();return Ext.isEmpty(e)&&(e=""),e},isEqual:function(e,t){var i,n,r=Ext.Array.from;if(e=r(e),t=r(t),(n=e.length)!==t.length)return!1;for(i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0},clearValue:function(){this.setValue([])},syncSelection:function(){var e,t,i,n,r=this.picker,s=this.valueModels||[],o=s.length;if(r){for(e=[],i=0;i<o;i++)(n=s[i])&&n.isModel&&0<=this.store.indexOf(n)&&e.push(n);this.ignoreSelection++,(t=r.getSelectionModel()).deselectAll(),e.length&&t.select(e,void 0,!0),this.ignoreSelection--}},onEditorTab:function(e){var t=this.listKeyNav;this.selectOnTab&&t&&t.selectHighlighted(e)}}),Ext.define("Ext.picker.Month",{extend:Ext.Component,alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","buttonsEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" href="#" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" href="#" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>','<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var e=this;e.selectedCls=e.baseCls+"-selected",e.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick"),e.small&&e.addCls(e.smallCls),e.setValue(e.value),e.activeYear=e.getYear((new Date).getFullYear()-4,-4),e.showButtons&&(e.okBtn=new Ext.button.Button({text:e.okText,handler:e.onOkClick,scope:e}),e.cancelBtn=new Ext.button.Button({text:e.cancelText,handler:e.onCancelClick,scope:e})),this.callParent()},beforeRender:function(){var e=0,t=[],i=Ext.Date.getShortMonthName,n=this.monthOffset,r=this.monthMargin,s="";for(this.padding&&!this.width&&this.cacheWidth(),this.callParent();e<n;++e)t.push(i(e),i(e+n));Ext.isDefined(r)&&(s="margin: 0 "+r+"px;"),Ext.apply(this.renderData,{months:t,years:this.getYears(),showButtons:this.showButtons,monthStyle:s})},cacheWidth:function(){var e=this.parseBox(this.padding),t=Ext.getBody().createChild({cls:this.baseCls+" "+this.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});this.self.prototype.width=t.getWidth()+e.left+e.right,t.remove()},afterRender:function(){var e=this,t=e.bodyEl;e.buttonsEl;e.callParent(),e.mon(t,"click",e.onBodyClick,e),e.mon(t,"dblclick",e.onBodyClick,e),e.years=t.select("."+e.baseCls+"-year a"),e.months=t.select("."+e.baseCls+"-month a"),e.backRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:Ext.Function.bind(e.adjustYear,e,[-e.totalYears])}),e.prevEl.addClsOnOver(e.baseCls+"-yearnav-prev-over"),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:Ext.Function.bind(e.adjustYear,e,[e.totalYears])}),e.nextEl.addClsOnOver(e.baseCls+"-yearnav-next-over"),e.updateBody(),Ext.isDefined(e.monthMargin)||(Ext.picker.Month.prototype.monthMargin=e.calculateMonthMargin())},calculateMonthMargin:function(){this.monthEl;for(var e=this.months,t=e.first().getMargin("l");t&&this.getLargest()>this.measureMaxHeight;)--t,e.setStyle("margin","0 "+t+"px");return t},getLargest:function(e){var i=0;return this.months.each(function(e){var t=e.getHeight();i<t&&(i=t)}),i},setValue:function(e){var t,i=this,n=i.activeYear;i.monthOffset;return e?Ext.isDate(e)?i.value=[e.getMonth(),e.getFullYear()]:i.value=[e[0],e[1]]:i.value=[null,null],i.rendered&&(null!==(t=i.value[1])&&(t<n||t>n+i.yearOffset)&&(i.activeYear=t-i.yearOffset+1),i.updateBody()),i},getValue:function(){return this.value},hasSelection:function(){var e=this.value;return null!==e[0]&&null!==e[1]},getYears:function(){for(var e=this.yearOffset,t=this.activeYear,i=t+e,n=t,r=[];n<i;++n)r.push(n,n+e);return r},updateBody:function(){var e,t,i,n,r,s=this.years,o=this.months,a=this.getYears(),l=this.selectedCls,d=this.getYear(null),h=this.value[0],c=this.monthOffset;if(this.rendered){for(s.removeCls(l),o.removeCls(l),n=(t=s.elements).length,i=0;i<n;i++)r=Ext.fly(t[i]),e=a[i],(r.dom.innerHTML=e)==d&&r.addCls(l);null!==h&&(h<c?h*=2:h=2*(h-c)+1,o.item(h).addCls(l))}},getYear:function(e,t){var i=this.value[1];return t=t||0,null===i?e:i+t},onBodyClick:function(e,t){var i="dblclick"==e.type;e.getTarget("."+this.baseCls+"-month")?(e.stopEvent(),this.onMonthClick(t,i)):e.getTarget("."+this.baseCls+"-year")&&(e.stopEvent(),this.onYearClick(t,i))},adjustYear:function(e){"number"!=typeof e&&(e=this.totalYears),this.activeYear+=e,this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(e,t){var i=this;i.value[0]=i.resolveOffset(i.months.indexOf(e),i.monthOffset),i.updateBody(),i.fireEvent("month"+(t?"dbl":"")+"click",i,i.value),i.fireEvent("select",i,i.value)},onYearClick:function(e,t){var i=this;i.value[1]=i.activeYear+i.resolveOffset(i.years.indexOf(e),i.yearOffset),i.updateBody(),i.fireEvent("year"+(t?"dbl":"")+"click",i,i.value),i.fireEvent("select",i,i.value)},resolveOffset:function(e,t){return e%2==0?e/2:t+Math.floor(e/2)},beforeDestroy:function(){this.years=this.months=null,Ext.destroyMembers(this,"backRepeater","nextRepeater","okBtn","cancelBtn"),this.callParent()},finishRenderChildren:function(){this.callParent(arguments),this.showButtons&&(this.okBtn.finishRender(),this.cancelBtn.finishRender())},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn"),this.callParent()}}),Ext.define("Ext.picker.Date",{extend:Ext.Component,alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" class="{baseCls}-prev {baseCls}-arrow" href="#" role="button" title="{prevText}" hidefocus="on" ></a>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" class="{baseCls}-next {baseCls}-arrow" href="#" role="button" title="{nextText}" hidefocus="on" ></a>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="grid">','<thead role="presentation"><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="button" hidefocus="on" class="{parent.baseCls}-date" href="#"></a>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(e){return Ext.picker.Date.prototype.getDayInitial(e)},isEndOfWeek:function(e){return--e%7==0&&0!==e?'</tr><tr role="row">':""},renderTodayBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.todayBtn.getRenderTree(),t)},renderMonthBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.monthBtn.getRenderTree(),t)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:!1,focusOnSelect:!0,initHour:12,numDays:42,initComponent:function(){var e=this,t=Ext.Date.clearTime;e.selectedCls=e.baseCls+"-selected",e.disabledCellCls=e.baseCls+"-disabled",e.prevCls=e.baseCls+"-prevday",e.activeCls=e.baseCls+"-active",e.cellCls=e.baseCls+"-cell",e.nextCls=e.baseCls+"-prevday",e.todayCls=e.baseCls+"-today",e.format||(e.format=Ext.Date.defaultFormat),e.dayNames||(e.dayNames=Ext.Date.dayNames),e.dayNames=e.dayNames.slice(e.startDay).concat(e.dayNames.slice(0,e.startDay)),e.callParent(),e.value=e.value?t(e.value,!0):t(new Date),e.addEvents("select"),e.initDisabledDays()},beforeRender:function(){var e=this,t=new Array(e.numDays),i=Ext.Date.format(new Date,e.format);e.up("menu")&&e.addCls(Ext.baseCSSPrefix+"menu"),e.padding&&!e.width&&e.cacheWidth(),e.monthBtn=new Ext.button.Split({ownerCt:e,ownerLayout:e.getComponentLayout(),text:"",tooltip:e.monthYearText,listeners:{click:e.doShowMonthPicker,arrowclick:e.doShowMonthPicker,scope:e}}),e.showToday&&(e.todayBtn=new Ext.button.Button({ownerCt:e,ownerLayout:e.getComponentLayout(),text:Ext.String.format(e.todayText,i),tooltip:Ext.String.format(e.todayTip,i),tooltipType:"title",handler:e.selectToday,scope:e})),e.callParent(),Ext.applyIf(e,{renderData:{}}),Ext.apply(e.renderData,{dayNames:e.dayNames,showToday:e.showToday,prevText:e.prevText,nextText:e.nextText,days:t}),e.protoEl.unselectable()},cacheWidth:function(){var e=this.parseBox(this.padding),t=Ext.getBody().createChild({cls:this.baseCls+" "+this.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});this.self.prototype.width=t.getWidth()+e.left+e.right,t.remove()},finishRenderChildren:function(){this.callParent(),this.monthBtn.finishRender(),this.showToday&&this.todayBtn.finishRender()},onRender:function(e,t){var i=this;i.callParent(arguments),i.cells=i.eventEl.select("tbody td"),i.textNodes=i.eventEl.query("tbody td a"),i.mon(i.eventEl,{scope:i,mousewheel:i.handleMouseWheel,click:{fn:i.handleDateClick,delegate:"a."+i.baseCls+"-date"}})},initEvents:function(){var t=this,i=Ext.Date,n=i.DAY;t.callParent(),t.prevRepeater=new Ext.util.ClickRepeater(t.prevEl,{handler:t.showPrevMonth,scope:t,preventDefault:!0,stopDefault:!0}),t.nextRepeater=new Ext.util.ClickRepeater(t.nextEl,{handler:t.showNextMonth,scope:t,preventDefault:!0,stopDefault:!0}),t.keyNav=new Ext.util.KeyNav(t.eventEl,Ext.apply({scope:t,left:function(e){e.ctrlKey?t.showPrevMonth():t.update(i.add(t.activeDate,n,-1))},right:function(e){e.ctrlKey?t.showNextMonth():t.update(i.add(t.activeDate,n,1))},up:function(e){e.ctrlKey?t.showNextYear():t.update(i.add(t.activeDate,n,-7))},down:function(e){e.ctrlKey?t.showPrevYear():t.update(i.add(t.activeDate,n,7))},pageUp:function(e){e.altKey?t.showPrevYear():t.showPrevMonth()},pageDown:function(e){e.altKey?t.showNextYear():t.showNextMonth()},tab:function(e){return t.doCancelFieldFocus=!0,t.handleTabClick(e),delete t.doCancelFieldFocus,!0},enter:function(e){return e.stopPropagation(),!0},home:function(e){t.update(i.getFirstDateOfMonth(t.activeDate))},end:function(e){t.update(i.getLastDateOfMonth(t.activeDate))}},t.keyNavConfig)),t.showToday&&(t.todayKeyListener=t.eventEl.addKeyListener(Ext.EventObject.SPACE,t.selectToday,t)),t.update(t.value)},handleTabClick:function(e){var t=this,i=t.getSelectedDate(t.activeDate),n=t.handler;t.disabled||!i.dateValue||Ext.fly(i.parentNode).hasCls(t.disabledCellCls)||(t.doCancelFocus=!1===t.focusOnSelect,t.setValue(new Date(i.dateValue)),delete t.doCancelFocus,t.fireEvent("select",t,t.value),n&&n.call(t.scope||t,t,t.value),t.onSelect())},getSelectedDate:function(e){var t,i,n=e.getTime(),r=this.cells,s=this.selectedCls,o=r.elements,a=o.length;for(r.removeCls(s),t=0;t<a;t++)if((i=Ext.fly(o[t])).dom.firstChild.dateValue==n)return i.dom.firstChild;return null},initDisabledDays:function(){var e,t,i,n,r=this.disabledDates,s="(?:";if(!this.disabledDatesRE&&r){for(e=r.length-1,i=r.length,t=0;t<i;t++)n=r[t],s+=Ext.isDate(n)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(n,this.format))+"$":n,t!=e&&(s+="|");this.disabledDatesRE=new RegExp(s+")")}},setDisabledDates:function(e){return Ext.isArray(e)?(this.disabledDates=e,this.disabledDatesRE=null):this.disabledDatesRE=e,this.initDisabledDays(),this.update(this.value,!0),this},setDisabledDays:function(e){return this.disabledDays=e,this.update(this.value,!0)},setMinDate:function(e){return this.minDate=e,this.update(this.value,!0)},setMaxDate:function(e){return this.maxDate=e,this.update(this.value,!0)},setValue:function(e){return this.value=Ext.Date.clearTime(e,!0),this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(e){return e.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent(),this.setDisabledStatus(!1),this.update(this.activeDate)},onDisable:function(){this.callParent(),this.setDisabledStatus(!0)},setDisabledStatus:function(e){this.keyNav.setDisabled(e),this.prevRepeater.setDisabled(e),this.nextRepeater.setDisabled(e),this.showToday&&(this.todayKeyListener.setDisabled(e),this.todayBtn.setDisabled(e))},getActive:function(){return this.activeDate||this.value},runAnimation:function(e){var t=this.monthPicker,i={duration:200,callback:function(){e?t.hide():t.show()}};e?t.el.slideOut("t",i):t.el.slideIn("t",i)},hideMonthPicker:function(e){var t=this.monthPicker;return t&&(this.shouldAnimate(e)?this.runAnimation(!0):t.hide()),this},doShowMonthPicker:function(){this.showMonthPicker()},showMonthPicker:function(e){var t,i=this.el;return this.rendered&&!this.disabled&&((t=this.createMonthPicker()).setValue(this.getActive()),t.setSize(i.getSize()),t.setPosition(-i.getBorderWidth("l"),-i.getBorderWidth("t")),this.shouldAnimate(e)?this.runAnimation(!1):t.show()),this},shouldAnimate:function(e){return Ext.isDefined(e)?e:!this.disableAnim},createMonthPicker:function(){var e=this,t=e.monthPicker;return t||(e.monthPicker=t=new Ext.picker.Month({renderTo:e.el,floating:!0,padding:e.padding,shadow:!1,small:!1===e.showToday,listeners:{scope:e,cancelclick:e.onCancelClick,okclick:e.onOkClick,yeardblclick:e.onOkClick,monthdblclick:e.onOkClick}}),e.disableAnim||t.el.setStyle("display","none"),e.on("beforehide",Ext.Function.bind(e.hideMonthPicker,e,[!1]))),t},onOkClick:function(e,t){var i=t[0],n=t[1],r=new Date(n,i,this.getActive().getDate());r.getMonth()!==i&&(r=Ext.Date.getLastDateOfMonth(new Date(n,i,1))),this.setValue(r),this.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate),this.hideMonthPicker()},showPrevMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(e){if(e.stopEvent(),!this.disabled){var t=e.getWheelDelta();0<t?this.showPrevMonth():t<0&&this.showNextMonth()}},handleDateClick:function(e,t){var i=this,n=i.handler;e.stopEvent(),i.disabled||!t.dateValue||Ext.fly(t.parentNode).hasCls(i.disabledCellCls)||(i.doCancelFocus=!1===i.focusOnSelect,i.setValue(new Date(t.dateValue)),delete i.doCancelFocus,i.fireEvent("select",i,i.value),n&&n.call(i.scope||i,i,i.value),i.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var e=this,t=e.todayBtn,i=e.handler;return t&&!t.disabled&&(e.setValue(Ext.Date.clearTime(new Date)),e.fireEvent("select",e,e.value),i&&i.call(e.scope||e,e,e.value),e.onSelect()),e},selectedUpdate:function(e){var t,i,n=e.getTime(),r=this.cells,s=this.selectedCls,o=r.elements,a=o.length;for(r.removeCls(s),t=0;t<a;t++)if((i=Ext.fly(o[t])).dom.firstChild.dateValue==n){this.fireEvent("highlightitem",this,i),i.addCls(s),this.isVisible()&&!this.doCancelFocus&&Ext.fly(i.dom.firstChild).focus(50);break}},fullUpdate:function(e){var t,i,n,r,s,o,a,l,d,h=this,c=h.cells.elements,u=h.textNodes,f=h.disabledCellCls,g=Ext.Date,p=0,m=0,x=h.isVisible(),y=+g.clearTime(e,!0),E=+g.clearTime(new Date),v=h.minDate?g.clearTime(h.minDate,!0):Number.NEGATIVE_INFINITY,b=h.maxDate?g.clearTime(h.maxDate,!0):Number.POSITIVE_INFINITY,C=h.disabledDatesRE,w=h.disabledDatesText,S=!!h.disabledDays&&h.disabledDays.join(""),P=h.disabledDaysText,k=h.format,T=g.getDaysInMonth(e),I=g.getFirstDateOfMonth(e).getDay()-h.startDay,M=g.add(e,g.MONTH,-1),D=h.longDayFormat;for(I<0&&(I+=7),T+=I,t=g.getDaysInMonth(M)-I,i=new Date(M.getFullYear(),M.getMonth(),t,h.initHour),h.showToday&&(n=(r=g.clearTime(new Date))<v||b<r||C&&k&&C.test(g.dateFormat(r,k))||S&&-1!=S.indexOf(r.getDay()),h.disabled||(h.todayBtn.setDisabled(n),h.todayKeyListener.setDisabled(n))),s=function(e,t){d=+g.clearTime(i,!0),e.title=g.format(i,D),(e.firstChild.dateValue=d)==E&&(t+=" "+h.todayCls,e.title=h.todayText,h.todayElSpan=Ext.DomHelper.append(e.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hide-clip",html:h.todayText},!0)),d==y&&(t+=" "+h.selectedCls,h.fireEvent("highlightitem",h,e),x&&h.floating&&Ext.fly(e.firstChild).focus(50)),d<v?(t+=" "+f,e.title=h.minText):b<d?(t+=" "+f,e.title=h.maxText):S&&-1!==S.indexOf(i.getDay())?(e.title=P,t+=" "+f):C&&k&&(l=g.dateFormat(i,k),C.test(l)&&(e.title=w.replace("%0",l),t+=" "+f)),e.className=t+" "+h.cellCls};p<h.numDays;++p)a=p<I?(o=++t,h.prevCls):T<=p?(o=++m,h.nextCls):(o=p-I+1,h.activeCls),u[p].innerHTML=o,i.setDate(i.getDate()+1),s(c[p],a);h.monthBtn.setText(Ext.Date.format(e,h.monthYearFormat))},update:function(e,t){var i=this.activeDate;return this.rendered&&(this.activeDate=e,!t&&i&&this.el&&i.getMonth()==e.getMonth()&&i.getFullYear()==e.getFullYear()?this.selectedUpdate(e,i):this.fullUpdate(e,i)),this},beforeDestroy:function(){var e=this;e.rendered&&(Ext.destroy(e.todayKeyListener,e.keyNav,e.monthPicker,e.monthBtn,e.nextRepeater,e.prevRepeater,e.todayBtn),delete e.textNodes,delete e.cells.elements),e.callParent()},onShow:function(){this.callParent(arguments),this.focusOnShow&&this.focus()}}),Ext.define("Ext.form.field.Date",{extend:Ext.form.field.Picker,alias:"widget.datefield",alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,initComponent:function(){var e,t,i=Ext.isString;e=this.minValue,t=this.maxValue,i(e)&&(this.minValue=this.parseDate(e)),i(t)&&(this.maxValue=this.parseDate(t)),this.disabledDatesRE=null,this.initDisabledDays(),this.callParent()},initValue:function(){var e=this.value;Ext.isString(e)&&(this.value=this.rawToValue(e)),this.callParent()},initDisabledDays:function(){if(this.disabledDates){var e,t,i=this.disabledDates,n=i.length-1,r="(?:",s=i.length;for(e=0;e<s;e++)t=i[e],r+=Ext.isDate(t)?"^"+Ext.String.escapeRegex(t.dateFormat(this.format))+"$":t,e!==n&&(r+="|");this.disabledDatesRE=new RegExp(r+")")}},setDisabledDates:function(e){var t=this.picker;this.disabledDates=e,this.initDisabledDays(),t&&t.setDisabledDates(this.disabledDatesRE)},setDisabledDays:function(e){var t=this.picker;this.disabledDays=e,t&&t.setDisabledDays(e)},setMinValue:function(e){var t=this.picker,i=Ext.isString(e)?this.parseDate(e):e;this.minValue=i,t&&(t.minText=Ext.String.format(this.minText,this.formatDate(this.minValue)),t.setMinDate(i))},setMaxValue:function(e){var t=this.picker,i=Ext.isString(e)?this.parseDate(e):e;this.maxValue=i,t&&(t.maxText=Ext.String.format(this.maxText,this.formatDate(this.maxValue)),t.setMaxDate(i))},getErrors:function(e){var t,i,n,r,s=this,o=Ext.String.format,a=Ext.Date.clearTime,l=s.callParent(arguments),d=s.disabledDays,h=s.disabledDatesRE,c=s.minValue,u=s.maxValue,f=d?d.length:0,g=0;if(null===(e=s.formatDate(e||s.processRawValue(s.getRawValue())))||e.length<1)return l;if(t=e,!(e=s.parseDate(e)))return l.push(o(s.invalidText,t,Ext.Date.unescapeFormat(s.format))),l;if(r=e.getTime(),c&&r<a(c).getTime()&&l.push(o(s.minText,s.formatDate(c))),u&&r>a(u).getTime()&&l.push(o(s.maxText,s.formatDate(u))),d)for(n=e.getDay();g<f;g++)if(n===d[g]){l.push(s.disabledDaysText);break}return i=s.formatDate(e),h&&h.test(i)&&l.push(o(s.disabledDatesText,i)),l},rawToValue:function(e){return this.parseDate(e)||e||null},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},safeParse:function(e,t){var i,n=Ext.Date,r=null,s=this.useStrict;return n.formatContainsHourInfo(t)?r=n.parse(e,t,s):(i=n.parse(e+" "+this.initTime,t+" "+this.initTimeFormat,s))&&(r=n.clearTime(i)),r},getSubmitValue:function(){var e=this.submitFormat||this.format,t=this.getValue();return t?Ext.Date.format(t,e):""},parseDate:function(e){if(!e||Ext.isDate(e))return e;var t,i=this.safeParse(e,this.format),n=this.altFormats,r=this.altFormatsArray,s=0;if(!i&&n)for(t=(r=r||n.split("|")).length;s<t&&!i;++s)i=this.safeParse(e,r[s]);return i},formatDate:function(e){return Ext.isDate(e)?Ext.Date.dateFormat(e,this.format):e},createPicker:function(){var e=this,t=Ext.String.format;return new Ext.picker.Date({pickerField:e,ownerCt:e.ownerCt,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,minDate:e.minValue,maxDate:e.maxValue,disabledDatesRE:e.disabledDatesRE,disabledDatesText:e.disabledDatesText,disabledDays:e.disabledDays,disabledDaysText:e.disabledDaysText,format:e.format,showToday:e.showToday,startDay:e.startDay,minText:t(e.minText,e.formatDate(e.minValue)),maxText:t(e.maxText,e.formatDate(e.maxValue)),listeners:{scope:e,select:e.onSelect},keyNavConfig:{esc:function(){e.collapse()}}})},onDownArrow:function(e){this.callParent(arguments),this.isExpanded&&this.getPicker().focus()},onSelect:function(e,t){this.setValue(t),this.fireEvent("select",this,t),this.collapse()},onExpand:function(){var e=this.getValue();this.picker.setValue(Ext.isDate(e)?e:new Date)},onCollapse:function(){this.focus(!1,60)},beforeBlur:function(){var e=this.parseDate(this.getRawValue()),t=this.focusTask;t&&t.cancel(),e&&this.setValue(e)}}),Ext.define("Ext.form.field.FileButton",{extend:Ext.button.Button,alias:"widget.filebutton",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:!1,renderTpl:['<span id="{id}-btnWrap" role="presentation" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button" role="button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="presentation" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<input id="{id}-fileInputEl" class="{childElCls} {inputCls}" type="file" size="1" name="{inputName}" role="{role}">'],getTemplateArgs:function(){var e=this.callParent();return e.inputCls=this.inputCls,e.inputName=this.inputName,e},afterRender:function(){this.callParent(arguments),this.fileInputEl.on("change",this.fireChange,this)},fireChange:function(e){this.fireEvent("change",this,e,this.fileInputEl.dom.value)},createFileInput:function(e){this.fileInputEl=this.el.createChild({name:this.inputName,id:e?void 0:this.id+"-fileInputEl",cls:this.inputCls,tag:"input",type:"file",size:1}),this.fileInputEl.on("change",this.fireChange,this)},reset:function(e){e&&this.fileInputEl.remove(),this.createFileInput(!e)},restoreInput:function(e){this.fileInputEl.remove(),e=Ext.get(e),this.el.appendChild(e),this.fileInputEl=e},onDisable:function(){this.callParent(),this.fileInputEl.dom.disabled=!0},onEnable:function(){this.callParent(),this.fileInputEl.dom.disabled=!1}}),Ext.define("Ext.form.field.File",{extend:Ext.form.field.Trigger,alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:!0,submitValue:!1,triggerNoEditCls:"",componentLayout:"triggerfield",childEls:["browseButtonWrap"],onRender:function(){var e=this,t=e.id;e.callParent(arguments),e.inputEl.dom.name="",e.button=new Ext.form.field.FileButton(Ext.apply({renderTo:t+"-browseButtonWrap",ownerCt:e,ownerLayout:e.componentLayout,id:t+"-button",ui:e.ui,disabled:e.disabled,text:e.buttonText,style:e.buttonOnly?"":e.getButtonMarginProp()+e.buttonMargin+"px",inputName:e.getName(),listeners:{scope:e,change:e.onFileChange}},e.buttonConfig)),e.fileInputEl=e.button.fileInputEl,e.buttonOnly&&e.inputCell.setDisplayed(!1),e.browseButtonWrap.dom.style.width=e.browseButtonWrap.dom.lastChild.offsetWidth+e.button.getEl().getMargin("lr")+"px",Ext.isIE&&e.button.getEl().repaint()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap" role="presentation"></td>'},onFileChange:function(e,t,i){this.duringFileSelect=!0,Ext.form.field.File.superclass.setValue.call(this,i),delete this.duringFileSelect},didValueChange:function(){return!!this.duringFileSelect},setValue:Ext.emptyFn,reset:function(){var e=this.clearOnSubmit;this.rendered&&(this.button.reset(e),this.fileInputEl=this.button.fileInputEl,e&&(this.inputEl.dom.value="",Ext.form.field.File.superclass.setValue.call(this,null))),this.callParent()},onShow:function(){this.callParent(),this.button.updateLayout()},onDisable:function(){this.callParent(),this.button.disable()},onEnable:function(){this.callParent(),this.button.enable()},isFileUpload:function(){return!0},extractFileInput:function(){var e;return this.rendered?(e=this.button.fileInputEl.dom,this.reset()):((e=document.createElement("input")).type="file",e.className=Ext.baseCSSPrefix+"hide-display",e.name=this.getName()),e},restoreInput:function(e){if(this.rendered){var t=this.button;t.restoreInput(e),this.fileInputEl=t.fileInputEl}},onDestroy:function(){Ext.destroyMembers(this,"button"),delete this.fileInputEl,this.callParent()},getButtonMarginProp:function(){return"margin-left:"}}),Ext.define("Ext.form.field.Hidden",{extend:Ext.form.field.Base,alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:!0,hidden:!0,ariaRole:"presentation",initComponent:function(){this.formItemCls+="-hidden",this.callParent()},isEqual:function(e,t){return this.isEqualAsString(e,t)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.picker.Color",{extend:Ext.Component,alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" role="button" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){this.callParent(arguments),this.addEvents("select"),this.handler&&this.on("select",this.handler,this.scope,!0)},initRenderData:function(){return Ext.apply(this.callParent(),{itemCls:this.itemCls,colors:this.colors})},onRender:function(){var e=this.clickEvent;this.callParent(arguments),this.mon(this.el,e,this.handleClick,this,{delegate:"a"}),"click"!=e&&this.mon(this.el,"click",Ext.emptyFn,this,{delegate:"a",stopEvent:!0})},afterRender:function(){var e;this.callParent(arguments),this.value&&(e=this.value,this.value=null,this.select(e,!0))},handleClick:function(e,t){var i;e.stopEvent(),this.disabled||(i=t.className.match(this.colorRe)[1],this.select(i.toUpperCase()))},select:function(e,t){var i,n=this,r=n.selectedCls,s=n.value;e=e.replace("#",""),n.rendered?e==s&&!n.allowReselect||(i=n.el,n.value&&i.down("a.color-"+s).removeCls(r),i.down("a.color-"+e).addCls(r),n.value=e,!0!==t&&n.fireEvent("select",n,e)):n.value=e},clear:function(){var e=this.value;e&&this.rendered&&this.el.down("a.color-"+e).removeCls(this.selectedCls),this.value=null},getValue:function(){return this.value||null}}),Ext.define("Ext.layout.component.field.HtmlEditor",{extend:Ext.layout.component.field.FieldContainer,alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(e){var t,i=this.owner;Ext.isGecko&&(t=i.textareaEl.dom,this.lastValue=t.value,t.value=""),this.callParent(arguments),e.toolbarContext=e.context.getCmp(i.toolbar),e.inputCmpContext=e.context.getCmp(i.inputCmp),e.textAreaContext=e.getEl("textareaEl"),e.iframeContext=e.getEl("iframeEl")},beginLayoutCycle:function(e){var t=e.widthModel,i=e.heightModel,n=this.owner,r=n.iframeEl,s=n.textareaEl;this.callParent(arguments),t.shrinkWrap?(r.setStyle("width",""),s.setStyle("width","")):t.natural&&e.bodyCellContext.setWidth(this.naturalWidth),(i.natural||i.shrinkWrap)&&(r.setHeight(this.naturalHeight),s.setHeight(this.naturalHeight))},finishedLayout:function(){var e=this.owner;this.callParent(arguments),Ext.isGecko&&(e.textareaEl.dom.value=this.lastValue)},publishOwnerWidth:function(e,t){this.callParent(arguments),t-=e.inputCmpContext.getBorderInfo().width,e.textAreaContext.setWidth(t),e.iframeContext.setWidth(t)},publishInnerWidth:function(e,t){var i=e.inputCmpContext.getBorderInfo().width,n=Ext.isStrict&&Ext.isIE8m,r=e.widthModel.natural;this.callParent(arguments),t=e.bodyCellContext.props.width-i,r?(n&&(t-=2),e.textAreaContext.setWidth(t),e.iframeContext.setWidth(t)):n&&e.textAreaContext.setWidth(t)},publishInnerHeight:function(e,t){var i=e.toolbarContext.getProp("height");this.owner.sourceEditMode;this.callParent(arguments),t=e.bodyCellContext.props.height,void 0!==i?(t-=i+e.inputCmpContext.getFrameInfo().height,e.iframeContext.setHeight(t),e.textAreaContext.setHeight(t)):this.done=!1}}),Ext.define("Ext.form.field.HtmlEditor",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",componentLayout:"htmleditor",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",maskOnDisable:!0,containerElCls:Ext.baseCSSPrefix+"html-editor-container",reStripQuotes:/^['"]*|['"]*$/g,initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange"),this.items=[this.createToolbar(),this.createInputCmp()],this.layout={type:"vbox",align:"stretch"},this.callParent(arguments),this.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg()),this.inputCmp},getInputCmpCfg:function(){var e=this.id+"-inputCmp",t={id:e,name:this.name,textareaCls:Ext.baseCSSPrefix+"hidden",value:this.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};return this.getInsertionRenderData(t,this.subTplInsertions),{flex:1,xtype:"component",tpl:this.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:e,cls:Ext.baseCSSPrefix+"html-editor-input",data:t}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg()),this.toolbar},getToolbarCfg:function(){var e,t,n,r=this,i=[],s=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),o=Ext.baseCSSPrefix;function a(e,t,i){return{itemId:e,cls:o+"btn-icon",iconCls:o+"edit-"+e,enableToggle:!1!==t,scope:r,handler:i||r.relayBtnCmd,clickEvent:"mousedown",tooltip:s&&r.buttonTips[e]||n,overflowText:r.buttonTips[e].title||n,tabIndex:-1}}for(r.enableFont&&!Ext.isSafari2&&(t=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" class="'+o+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){r.fontSelect=this.selectEl,Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var e=this.selectEl;e&&(e.dom.disabled=!0),Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var e=this.selectEl;e&&(e.dom.disabled=!1),Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){r.win.focus(),r.relayCmd("fontName",r.fontSelect.dom.value),r.deferFocus()},element:"selectEl"}}),i.push(t,"-")),r.enableFormat&&i.push(a("bold"),a("italic"),a("underline")),r.enableFontSize&&i.push("-",a("increasefontsize",!1,r.adjustFont),a("decreasefontsize",!1,r.adjustFont)),r.enableColors&&i.push("-",{itemId:"forecolor",cls:o+"btn-icon",iconCls:o+"edit-forecolor",overflowText:r.buttonTips.forecolor.title,tooltip:s&&r.buttonTips.forecolor||n,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(e,t){r.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+t:t),this.up("menu").hide()}}]})},{itemId:"backcolor",cls:o+"btn-icon",iconCls:o+"edit-backcolor",overflowText:r.buttonTips.backcolor.title,tooltip:s&&r.buttonTips.backcolor||n,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(e,t){Ext.isGecko?(r.execCmd("useCSS",!1),r.execCmd("hilitecolor","#"+t),r.execCmd("useCSS",!0),r.deferFocus()):r.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+t:t),this.up("menu").hide()}}]})}),r.enableAlignments&&i.push("-",a("justifyleft"),a("justifycenter"),a("justifyright")),Ext.isSafari2||(r.enableLinks&&i.push("-",a("createlink",!1,r.createLink)),r.enableLists&&i.push("-",a("insertorderedlist"),a("insertunorderedlist")),r.enableSourceEdit&&i.push("-",a("sourceedit",!0,function(e){r.toggleSourceEdit(!r.sourceEditMode)}))),e=0;e<i.length;e++)"sourceedit"!==i[e].itemId&&(i[e].disabled=!0);return{xtype:"toolbar",defaultButtonUI:r.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:!0,items:i,listeners:{click:function(e){e.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(e){var t,i=this.textareaEl,n=this.iframeEl;this.readOnly=e,i&&(i.dom.readOnly=e),this.initialized&&(t=this.getEditorBody(),Ext.isIE?(n.setDisplayed(!1),t.contentEditable=!e,n.setDisplayed(!0)):this.setDesignMode(!e),t&&(t.style.cursor=e?"default":"text"),this.disableItems(e))},getDocMarkup:function(){var e=this.iframeEl.getHeight()-2*this.iframePad,t=Ext.isIE8m;return Ext.String.format((t?"":"<!DOCTYPE html>")+'<html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(this.rtl?"rtl;":"ltr;")+(t?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",this.iframePad,e,this.defaultFont)},getEditorBody:function(){var e=this.getDoc();return e.body||e.documentElement},getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var e,t,i,n,r,s,o,a=0;if(!this.defaultFont){for(t=this.textareaEl.getStyle("font-family"),t=Ext.String.capitalize(t.split(",")[0]),e=Ext.Array.clone(this.fontFamilies),Ext.Array.include(e,t),e.sort(),this.defaultFont=t,i=this.down("#fontSelect").selectEl.dom,r=0,s=e.length;r<s;++r)o=(t=e[r]).toLowerCase(),n=new Option(t,o),t==this.defaultFont&&(a=r),n.style.fontFamily=o,Ext.isIE?i.add(n):i.options.add(n);i.options[a].selected=!0}},isEqual:function(e,t){return this.isEqualAsString(e,t)},afterRender:function(){var e=this,t=e.inputCmp;e.callParent(arguments),e.iframeEl=t.iframeEl,e.textareaEl=t.textareaEl,e.inputEl=e.iframeEl,e.enableFont&&e.initDefaultFont(),e.monitorTask=Ext.TaskManager.start({run:e.checkDesignMode,scope:e,interval:100})},initFrameDoc:function(){var e,t,i=this;Ext.TaskManager.stop(i.monitorTask),e=i.getDoc(),i.win=i.getWin(),e.open(),e.write(i.getDocMarkup()),e.close(),t={run:function(){var e=i.getDoc();!e.body&&"complete"!==e.readyState||(Ext.TaskManager.stop(t),i.setDesignMode(!0),Ext.defer(i.initEditor,10,i))},interval:10,duration:1e4,scope:i},Ext.TaskManager.start(t)},checkDesignMode:function(){var e=this.getDoc();!e||e.editorInitialized&&"on"===this.getDesignMode()||this.initFrameDoc()},setDesignMode:function(e){var t=this.getDoc();t&&(this.readOnly&&(e=!1),t.designMode=/on|true/i.test(String(e).toLowerCase())?"on":"off")},getDesignMode:function(){var e=this.getDoc();return e?String(e.designMode).toLowerCase():""},disableItems:function(e){var t,i,n=this.getToolbar().items.items,r=n.length;for(t=0;t<r;t++)"sourceedit"!==(i=n[t]).getItemId()&&i.setDisabled(e)},toggleSourceEdit:function(e){var t=this,i=t.iframeEl,n=t.textareaEl,r=Ext.baseCSSPrefix+"hidden",s=t.getToolbar().getComponent("sourceedit");Ext.isBoolean(e)||(e=!t.sourceEditMode),t.sourceEditMode=e,s.pressed!==e&&s.toggle(e),e?(t.disableItems(!0),t.syncValue(),i.addCls(r),n.removeCls(r),n.dom.removeAttribute("tabIndex"),n.focus(),t.inputEl=n):(t.initialized&&t.disableItems(t.readOnly),t.pushValue(),i.removeCls(r),n.addCls(r),n.dom.setAttribute("tabIndex",-1),t.deferFocus(),t.inputEl=i),t.fireEvent("editmodechange",t,e),t.updateLayout()},createLink:function(){var e=prompt(this.createLinkText,this.defaultLinkValue);e&&"http://"!==e&&this.relayCmd("createlink",e)},clearInvalid:Ext.emptyFn,setValue:function(e){var t=this.textareaEl;this.inputCmp;return null==e&&(e=""),t&&(t.dom.value=e),this.pushValue(),!this.rendered&&this.inputCmp&&(this.inputCmp.data.value=e),this.mixins.field.setValue.call(this,e),this},cleanHtml:function(e){return e=String(e),Ext.isWebKit&&(e=e.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,"")),e.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)&&(e=e.substring(1)),e},syncValue:function(){var e,t,i,n,r;this.initialized&&(i=(e=this.getEditorBody()).innerHTML,r=this.textareaEl.dom,Ext.isWebKit&&(n=e.getAttribute("style").match(/text-align:(.*?);/i))&&n[1]&&(i='<div style="'+n[0]+'">'+i+"</div>"),i=this.cleanHtml(i),!1!==this.fireEvent("beforesync",this,i)&&(Ext.isGecko&&""===r.value&&"<br>"===i&&(i=""),r.value!==i&&(r.value=i,t=!0),this.fireEvent("sync",this,i),t&&this.checkChange()))},getValue:function(){var e;return this.sourceEditMode||this.syncValue(),e=this.rendered?this.textareaEl.dom.value:this.value,this.value=e},pushValue:function(){var e,t=this;t.initialized&&(e=t.textareaEl.dom.value||"",!t.activated&&e.length<1&&(e=t.defaultValue),!1!==t.fireEvent("beforepush",t,e)&&(t.getEditorBody().innerHTML=e,Ext.isGecko&&(t.setDesignMode(!1),t.setDesignMode(!0)),t.fireEvent("push",t,e)))},deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){var e=this.win;return e&&!this.sourceEditMode?e:this.textareaEl},focus:function(e,t){var i,n,r=this;return t?(r.focusTask||(r.focusTask=new Ext.util.DelayedTask(r.focus)),r.focusTask.delay(Ext.isNumber(t)?t:10,null,r,[e,!1])):(e&&(r.textareaEl&&r.textareaEl.dom&&(i=r.textareaEl.dom.value),i&&i.length&&r.execCmd("selectall",!0)),(n=r.getFocusEl())&&n.focus&&n.focus()),r},initEditor:function(){try{var e,t,i=this,n=i.getEditorBody(),r=i.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color");if(r["background-attachment"]="fixed",n.bgProperties="fixed",Ext.DomHelper.applyStyles(n,r),e=i.getDoc())try{Ext.EventManager.removeAll(e)}catch(e){}t=Ext.Function.bind(i.onEditorEvent,i),Ext.EventManager.on(e,{mousedown:t,dblclick:t,click:t,keyup:t,buffer:100}),t=i.onRelayedEvent,Ext.EventManager.on(e,{mousedown:t,mousemove:t,mouseup:t,click:t,dblclick:t,scope:i}),Ext.isGecko&&Ext.EventManager.on(e,"keypress",i.applyCommand,i),i.fixKeys&&Ext.EventManager.on(e,"keydown",i.fixKeys,i),i.fixKeysAfter&&Ext.EventManager.on(e,"keyup",i.fixKeysAfter,i),Ext.EventManager.onWindowUnload(i.beforeDestroy,i),e.editorInitialized=!0,i.initialized=!0,i.pushValue(),i.setReadOnly(i.readOnly),i.fireEvent("initialize",i)}catch(e){}},beforeDestroy:function(){var e,t,i=this,n=i.monitorTask;if(n&&Ext.TaskManager.stop(n),i.rendered){Ext.EventManager.removeUnloadListener(i.beforeDestroy,i);try{if(e=i.getDoc())for(t in Ext.EventManager.removeAll(Ext.fly(e)),e)e.hasOwnProperty&&e.hasOwnProperty(t)&&delete e[t]}catch(e){}i.iframeEl.remove(),delete i.iframeEl,delete i.textareaEl,delete i.toolbar,delete i.inputCmp}i.callParent()},onRelayedEvent:function(e){var t=this.iframeEl,i=Ext.Element.getTrueXY(t),n=e.getXY(),r=Ext.EventManager.getPageXY(e.browserEvent);e.xy=[i[0]+r[0],i[1]+r[1]],e.injectEvent(t),e.xy=n},onFirstFocus:function(){var e,t,i=this;if(i.activated=!0,i.disableItems(i.readOnly),Ext.isGecko){i.win.focus(),(e=i.win.getSelection()).focusNode&&!i.getValue().length&&((t=e.getRangeAt(0)).selectNodeContents(i.getEditorBody()),t.collapse(!0),i.deferFocus());try{i.execCmd("useCSS",!0),i.execCmd("styleWithCSS",!1)}catch(e){}}i.fireEvent("activate",i)},adjustFont:function(e){var t,i="increasefontsize"===e.getItemId()?1:-1,n=this.getDoc().queryCommandValue("FontSize")||"2",r=Ext.isString(n)&&-1!==n.indexOf("px");n=parseInt(n,10),n=r?(n=n<=10?1+i:n<=13?2+i:n<=16?3+i:n<=18?4+i:n<=24?5+i:6+i,Ext.Number.constrain(n,1,6)):((t=Ext.isSafari)&&(i*=2),Math.max(1,n+i)+(t?"px":0)),this.relayCmd("FontSize",n)},onEditorEvent:function(e){this.updateToolbar()},updateToolbar:function(){var e,i,n,r,s,t,o,a,l=this;if(!l.readOnly)if(l.activated){for(n=l.getToolbar().items.map,r=l.getDoc(),l.enableFont&&!Ext.isSafari2&&(t=r.queryCommandValue("fontName"),s=(t?t.split(",")[0].replace(l.reStripQuotes,""):l.defaultFont).toLowerCase(),o=l.fontSelect.dom,s===o.value&&s==t||(o.value=s)),l.enableFormat&&d("bold","italic","underline"),l.enableAlignments&&d("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&l.enableLists&&d("insertorderedlist","insertunorderedlist"),a=l.toolbar.query("menu"),e=0;e<a.length;e++)a[e].hide();l.syncValue()}else l.onFirstFocus();function d(){var t;for(e=0,i=arguments.length;e<i;e++){s=arguments[e];try{t=r.queryCommandState(s)}catch(e){t=!1}n[s].toggle(t)}}},relayBtnCmd:function(e){this.relayCmd(e.getItemId())},relayCmd:function(e,t){Ext.defer(function(){this.isDestroyed||(this.win.focus(),this.execCmd(e,t),this.updateToolbar())},10,this)},execCmd:function(e,t){this.getDoc().execCommand(e,!1,null==t?null:t),this.syncValue()},applyCommand:function(e){if(e.ctrlKey){var t,i=e.getCharCode();if(0<i){switch(i=String.fromCharCode(i)){case"b":t="bold";break;case"i":t="italic";break;case"u":t="underline"}t&&(this.win.focus(),this.execCmd(t),this.deferFocus(),e.preventDefault())}}},insertAtCursor:function(e){var t;this.activated&&(this.win.focus(),Ext.isIE?(t=this.getDoc().selection.createRange())&&(t.pasteHTML(e),this.syncValue(),this.deferFocus()):(this.execCmd("InsertHTML",e),this.deferFocus()))},fixKeys:Ext.isIE?function(e){var t,i,n=e.getKey(),r=this.getDoc(),s=this.readOnly;n===e.TAB?(e.stopEvent(),s||(t=r.selection.createRange())&&(t.collapse&&(t.collapse(!0),t.pasteHTML("&#160;&#160;&#160;&#160;")),this.deferFocus())):n===e.ENTER&&(s||(t=r.selection.createRange())&&((i=t.parentElement())&&"li"===i.tagName.toLowerCase()||(e.stopEvent(),t.pasteHTML("<br />"),t.collapse(!1),t.select())))}:Ext.isOpera?function(e){var t=e.getKey(),i=this.readOnly;t===e.TAB&&(e.stopEvent(),i||(this.win.focus(),this.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),this.deferFocus()))}:null,fixKeysAfter:Ext.isIE?function(e){var t,i=e.getKey(),n=this.getDoc();this.readOnly||i!==e.BACKSPACE&&i!==e.DELETE||"<p>&nbsp;</p>"!==(t=n.body.innerHTML)&&"<P>&nbsp;</P>"!==t||(n.body.innerHTML="")}:null,getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}}),Ext.define("Ext.picker.Time",{extend:Ext.view.BoundList,alias:"widget.timepicker",increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:!1,initComponent:function(){var e=Ext.Date,t=e.clearTime,i=this.initDate;this.absMin=t(new Date(i[0],i[1],i[2])),this.absMax=e.add(t(new Date(i[0],i[1],i[2])),"mi",1439),this.store=this.createStore(),this.store.addFilter(this.rangeFilter=new Ext.util.Filter({id:"time-picker-filter"}),!1),this.updateList(),this.callParent()},setMinValue:function(e){this.minValue=e,this.updateList()},setMaxValue:function(e){this.maxValue=e,this.updateList()},normalizeDate:function(e){var t=this.initDate;return e.setFullYear(t[0],t[1],t[2]),e},updateList:function(){var i=this.normalizeDate(this.minValue||this.absMin),n=this.normalizeDate(this.maxValue||this.absMax);this.rangeFilter.setFilterFn(function(e){var t=e.get("date");return i<=t&&t<=n}),this.store.filter()},createStore:function(){for(var e=Ext.Date,t=[],i=this.absMin,n=this.absMax;i<=n;)t.push({disp:e.dateFormat(i,this.format),date:i}),i=e.add(i,"mi",this.increment);return new Ext.data.Store({fields:["disp","date"],data:t})},focusNode:function(e){return!1}}),Ext.define("Ext.form.field.Time",{extend:Ext.form.field.ComboBox,alias:"widget.timefield",alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,initDate:"1/1/2008",initDateParts:[2008,0,1],initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var e=this.minValue,t=this.maxValue;e&&this.setMinValue(e),t&&this.setMaxValue(t),this.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+this.displayField+'"])]}<tpl if="xindex < xcount">'+this.delimiter+"</tpl></tpl>",{formatDate:Ext.Function.bind(this.formatDate,this)}),this.callParent()},transformOriginalValue:function(e){return Ext.isDefined(e)?this.rawToValue(e)||e||null:e},isEqual:function(e,t){var i,n,r=Ext.Array.from,s=Ext.Date.isEqual;if(e=r(e),t=r(t),(n=e.length)!==t.length)return!1;for(i=0;i<n;i++)if(!s(t[i],e[i]))return!1;return!0},setMinValue:function(e){var t=this.picker;this.setLimit(e,!0),t&&t.setMinValue(this.minValue)},setMaxValue:function(e){var t=this.picker;this.setLimit(e,!1),t&&t.setMaxValue(this.maxValue)},setLimit:function(e,t){var i,n;Ext.isString(e)?i=this.parseDate(e):Ext.isDate(e)&&(i=e),i?(n=this.getInitDate()).setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()):n=null,this[t?"minValue":"maxValue"]=n},getInitDate:function(e,t){var i=this.initDateParts;return new Date(i[0],i[1],i[2],e||0,t||0,0,0)},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},getErrors:function(e){var t,i,n,r,s=this,o=Ext.String.format,a=s.callParent(arguments),l=s.minValue,d=s.maxValue,h=s.displayTplData,c=s.getRawValue();if(h&&0<h.length)for(t=0,i=h.length;t<i;t++)r=(r=h[t]).date||r.disp,(n=s.parseDate(r))?(l&&n<l&&a.push(o(s.minText,s.formatDate(l))),d&&d<n&&a.push(o(s.maxText,s.formatDate(d)))):a.push(o(s.invalidText,r,Ext.Date.unescapeFormat(s.format)));else c.length&&!s.parseDate(c)&&a.push(o(s.invalidText,c,Ext.Date.unescapeFormat(s.format)));return a},formatDate:function(e){var t,i,n=[];for(t=0,i=(e=Ext.Array.from(e)).length;t<i;t++)n.push(Ext.form.field.Date.prototype.formatDate.call(this,e[t]));return n.join(this.delimiter)},parseDate:function(e){var t,i=e,n=this.altFormats,r=this.altFormatsArray,s=0;if(e&&!Ext.isDate(e)&&!(i=this.safeParse(e,this.format))&&n)for(t=(r=r||n.split("|")).length;s<t&&!i;++s)i=this.safeParse(e,r[s]);return i&&this.snapToIncrement&&(i=new Date(Ext.Number.snap(i.getTime(),60*this.increment*1e3))),i},safeParse:function(e,t){var i,n=Ext.Date,r=null;return n.formatContainsDateInfo(t)?r=n.parse(e,t):(i=n.parse(this.initDate+" "+e,this.initDateFormat+" "+t))&&(r=i),r},getSubmitValue:function(){var e=this.submitFormat||this.format,t=this.getValue();return t?Ext.Date.format(t,e):null},createPicker:function(){var e,t=this;return t.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:t.multiSelect?"SIMPLE":"SINGLE"},cls:void 0,minValue:t.minValue,maxValue:t.maxValue,increment:t.increment,format:t.format,maxHeight:t.pickerMaxHeight},t.listConfig),e=t.callParent(),t.bindStore(e.store),e},onItemClick:function(e,t){var i=e.getSelectionModel().getSelection();!this.multiSelect&&i.length&&0<i.length&&(i=i[0])&&Ext.Date.isEqual(t.get("date"),i.get("date"))&&this.collapse()},syncSelection:function(){var e,t,i,n,r,s,o,a,l,d,h=this.picker,c=Ext.Date.isEqual,u=[];if(h){if(h.clearHighlight(),t=this.getValue(),e=h.getSelectionModel(),this.ignoreSelection++,null===t)e.deselectAll();else for(i=Ext.Array.from(t),l=(o=h.store.data.items).length,n=0,r=i.length;n<r;n++)if(s=i[n],Ext.isDate(s)){for(a=0;a<l&&(!c((d=o[a]).get("date"),s)||(u.push(d),this.multiSelect));a++);e.select(u)}this.ignoreSelection--}},postBlur:function(){var e=this.getValue();this.callParent(arguments),this.validateValue(e)&&this.setValue(e)},findRecordByValue:function(e){return"string"==typeof e&&(e=this.parseDate(e)),this.callParent([e])},rawToValue:function(e){var t,i,n,r;if(this.multiSelect){for(i=[],n=0,r=(t=Ext.Array.from(e)).length;n<r;n++)i.push(this.parseDate(t[n]));return i}return this.parseDate(e)},setValue:function(e){return this.getPicker(),Ext.isDate(e)&&(e=this.getInitDate(e.getHours(),e.getMinutes())),this.callParent([e])},getValue:function(){return this.rawToValue(this.callParent(arguments))}}),Ext.define("Ext.grid.CellContext",{isCellContext:!0,constructor:function(e){this.view=e},isEqual:function(e){return!!e&&(this.record===e.record&&this.columnHeader===e.columnHeader)},setPosition:function(e,t){return 1===arguments.length&&(e.view&&(this.view=e.view),t=e.column,e=e.row),this.setRow(e),this.setColumn(t),this},setRow:function(e){var t=this;void 0!==e&&("number"==typeof e?(t.row=Math.max(Math.min(e,t.view.dataSource.getCount()-1),0),t.record=t.view.dataSource.getAt(e)):e.isModel?(t.record=e,t.row=t.view.indexOf(e)):e.tagName&&(t.record=t.view.getRecord(e),t.row=t.view.indexOf(t.record)))},setColumn:function(e){var t=this.view.ownerCt.getColumnManager();void 0!==e&&("number"==typeof e?(this.column=e,this.columnHeader=t.getHeaderAtIndex(e)):e.isHeader&&(this.columnHeader=e,this.column=t.getHeaderIndex(e)))}}),Ext.define("Ext.grid.CellEditor",{extend:Ext.Editor,constructor:function(e){(e=Ext.apply({},e)).field&&(e.field.monitorTab=!1),this.callParent([e])},onShow:function(){var e=this.boundEl.first();e&&(this.isForTree&&(e=e.child(this.treeNodeSelector)),e.hide()),this.callParent(arguments)},onHide:function(){var e=this.boundEl.first();e&&(this.isForTree&&(e=e.child(this.treeNodeSelector)),e.show()),this.callParent(arguments)},afterRender:function(){var e=this.field;this.callParent(arguments),e.isCheckbox&&e.mon(e.inputEl,{mousedown:this.onCheckBoxMouseDown,click:this.onCheckBoxClick,scope:this})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit,this.field.focus(!1,10)},realign:function(e){var t,i=this.boundEl,n=i.first(),r=n.dom.firstChild,s=i.getWidth(),o=Ext.Array.clone(this.offsets),a=this.grid,l="",d=!r||3===r.nodeType&&!Ext.String.trim(l=r.data).length;this.isForTree&&(t=this.getTreeNodeOffset(n),s-=Math.abs(t),o[0]+=t),a.columnLines&&(s-=i.getBorderWidth("rl")),!0===e&&this.field.setWidth(s),d&&(n.dom.innerHTML="X"),this.alignTo(n,this.alignment,o),d&&(n.dom.firstChild.data=l)},getTreeNodeOffset:function(e){return e.child(this.treeNodeSelector).getOffsetsTo(e)[0]},onEditorTab:function(e){var t=this.field;t.onEditorTab&&t.onEditorTab(e)},onFieldBlur:function(){this.callParent(arguments),this.selectSameEditor=!1},alignment:"l-l",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:!1,shadow:!1}),Ext.define("Ext.grid.ColumnComponentLayout",{extend:Ext.layout.component.Auto,alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,beginLayout:function(e){this.callParent(arguments),e.titleContext=e.getEl("titleEl"),e.triggerContext=e.getEl("triggerEl")},beginLayoutCycle:function(e){var t=this.owner;this.callParent(arguments),e.widthModel.shrinkWrap&&t.el.setWidth(""),t.titleEl.setStyle({paddingTop:"",paddingBottom:""})},publishInnerHeight:function(e,t){if(t){var i,n,r,s,o=this.owner,a=t-e.getBorderInfo().height,l=a;o.noWrap||e.hasDomProp("width")?e.hasRawContent?(n=l,(i=o.textEl.getHeight())&&0<(l-=i)&&(s=l-(r=Math.floor(l/2)),e.titleContext.setProp("padding-top",r),e.titleContext.setProp("padding-bottom",s))):(n=o.titleEl.getHeight(),e.setProp("innerHeight",a-n,!1)):this.done=!1}},measureContentHeight:function(e){return e.el.dom.offsetHeight},publishOwnerHeight:function(e,t){this.callParent(arguments)},publishInnerWidth:function(e,t){e.hasRawContent||e.setProp("innerWidth",t-e.getBorderInfo().width,!1)},calculateOwnerHeightFromContentHeight:function(e,t){var i=this.callParent(arguments);return e.hasRawContent?i:this.owner.noWrap||e.hasDomProp("width")?t+this.owner.titleEl.getHeight()+e.getBorderInfo().height:null},calculateOwnerWidthFromContentWidth:function(e,t){var i=this.owner,n=e.getPaddingInfo().width,r=this.getTriggerOffset(i,e);return(i.isGroupHeader?t:Math.max(t,i.textEl.getWidth()+e.titleContext.getPaddingInfo().width))+n+r},getTriggerOffset:function(e,t){var i=0;return t.widthModel.shrinkWrap&&!e.menuDisabled&&0===e.query(">:not([hidden])").length&&(i=e.self.triggerElWidth),i}}),Ext.define("Ext.grid.ColumnLayout",{extend:Ext.layout.container.HBox,alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:!1,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){void 0===this.scrollbarWidth&&(this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width),this.grid=this.owner.up("[scrollerOwner]"),this.callParent()},beginLayout:function(e){var t,i,n=this.owner,r=this.grid,s=r.view,o=this.getVisibleItems(),a=o.length,l=this.firstHeaderCls,d=this.lastHeaderCls,h=[l,d];for(r.lockable&&(s=n.up("tablepanel")===s.normalGrid?s.normalGrid.getView():null),t=0;t<a;t++)(i=o[t]).removeCls(h),0===t&&i.addCls(l),t===a-1&&i.addCls(d);this.callParent(arguments),!n.isColumn&&this.scrollbarWidth&&!r.collapsed&&s&&s.rendered&&(e.viewTable=s.body.dom)&&(e.viewContext=e.context.getCmp(s))},roundFlex:function(e){return Math.floor(e)},calculate:function(e){this.callParent(arguments),e.state.parallelDone&&e.setProp("columnWidthsDone",!0),e.viewContext&&(e.state.tableHeight=e.viewTable.offsetHeight)},completeLayout:function(e){var t=this.owner,i=e.state;this.callParent(arguments),!e.flexedItems.length&&!i.flexesCalculated&&t.forceFit&&this.convertWidthsToFlexes(e)?(this.cacheFlexes(e),e.invalidate({state:{flexesCalculated:!0}})):e.setProp("columnWidthsDone",!0)},convertWidthsToFlexes:function(e){var t,i,n,r,s,o=0,a=this.sizeModels.calculated;for(i=(t=e.childItems).length,n=0;n<i;n++)s=(r=t[n]).target,o+=r.props.width,s.fixed||!1===s.resizable||(s.flex=e.childItems[n].flex=r.props.width,s.width=null,r.widthModel=a);return o!==e.props.width},getContainerSize:function(e){var t,i,n=e.viewContext;return this.owner.isColumn?t=this.getColumnContainerSize(e):(t=this.callParent(arguments),n&&!n.heightModel.shrinkWrap&&n.target.componentLayout.ownerContext&&(i=n.getProp("height"),isNaN(i)?this.done=!1:e.state.tableHeight>i&&(t.width-=this.scrollbarWidth,e.state.parallelDone=!1,n.invalidate()))),t},getColumnContainerSize:function(e){var t,i,n,r,s=e.paddingContext.getPaddingInfo(),o=0,a=0;return e.widthModel.shrinkWrap||(++a,(t="number"==typeof(n=e.getProp("innerWidth")))&&(++o,(n-=s.width)<0&&(n=0))),e.heightModel.shrinkWrap||(++a,(i="number"==typeof(r=e.getProp("innerHeight")))&&(++o,(r-=s.height)<0&&(r=0))),{width:n,height:r,needed:a,got:o,gotAll:o==a,gotWidth:t,gotHeight:i}},publishInnerCtSize:function(e){var t=e.state.boxPlan.targetSize,i=e.peek("contentWidth");return this.owner.tooNarrow=e.state.boxPlan.tooNarrow,null==i||this.owner.isColumn||(t.width=i,this.owner.ownerCt.view.scrollFlags.y&&(t.width+=this.scrollbarWidth)),this.callParent(arguments)}}),Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(e,t,i){this.headerCt=t,i&&(this.secondHeaderCt=i),this.visibleOnly=!!e},getColumns:function(){return this.columns||this.cacheColumns(),this.columns},getHeaderIndex:function(e){return e.isGroupHeader&&(e=this.getHeaderColumns(e)[0]),Ext.Array.indexOf(this.getColumns(),e)},getHeaderAtIndex:function(e){return this.getColumns()[e]||null},getPreviousSibling:function(e){var t=this.getHeaderIndex(e),i=null;return 0<t&&(i=this.getColumns()[t-1]),i},getNextSibling:function(e){var t,i=this.getHeaderIndex(e);return-1!==i&&(t=this.getColumns()[i+1]),t||null},getFirst:function(){var e=this.getColumns();return 0<e.length?e[0]:null},getLast:function(){var e=this.getColumns(),t=e.length;return 0<t?e[t-1]:null},getHeaderById:function(e){var t,i,n=this.getColumns(),r=n.length;for(t=0;t<r;++t)if((i=n[t]).getItemId()===e)return i;return null},getVisibleHeaderClosestToIndex:function(e){var t=this.getHeaderAtIndex(e);return t&&t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),t},cacheColumns:function(){var e=this.getHeaderColumns(this.headerCt),t=this.secondHeaderCt;t&&(e=e.concat(this.getHeaderColumns(t))),this.columns=e},getHeaderColumns:function(e){var t=this.visibleOnly?e.getVisibleGridColumns():e.getGridColumns();return Ext.Array.clone(t)},invalidate:function(){var e=this.rootColumns;this.columns=null,e&&e.invalidate()},destroy:function(){this.columns=this.rootColumns=null}},function(){this.createAlias("indexOf","getHeaderIndex")}),Ext.define("Ext.layout.container.Fit",{extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e,t){var i=t||this.owner.getSizeModel(),n=(i.width.shrinkWrap?0:1)|(i.height.shrinkWrap?0:2);return this.sizePolicies[n]},beginLayoutCycle:function(e,t){var i,n,r,s,o,a,l,d,h,c=this.lastHeightModel&&this.lastHeightModel.calculated,u=this.lastWidthModel&&this.lastWidthModel.calculated,f=u||c,g=0,p=0;for(this.callParent(arguments),f&&"TD"!=e.targetContext.el.dom.tagName.toUpperCase()&&(f=u=c=!1),o=(n=e.childItems).length,r=0;r<o;++r)s=n[r],t&&(l=(i=s.target).minHeight,((d=i.minWidth)||l)&&(g<(l+=(a=s.marginInfo||s.getMarginInfo()).height)&&(g=l),p<(d+=a.height)&&(p=d))),f&&(h=s.el.dom.style,c&&(h.height=""),u&&(h.width=""));t&&(e.maxChildMinHeight=g,e.maxChildMinWidth=p),i=e.target,e.overflowX=!e.widthModel.shrinkWrap&&e.maxChildMinWidth&&i.scrollFlags.x||void 0,e.overflowY=!e.heightModel.shrinkWrap&&e.maxChildMinHeight&&i.scrollFlags.y||void 0},calculate:function(e){var t,i,n,r,s,o,a=e.childItems,l=a.length,d=this.getContainerSize(e),h={length:l,ownerContext:e,targetSize:d},c=e.widthModel.shrinkWrap,u=e.heightModel.shrinkWrap,f=e.overflowX,g=e.overflowY;for((f||g)&&(t=this.getScrollbarsNeeded(f&&d.width,g&&d.height,e.maxChildMinWidth,e.maxChildMinHeight))&&(i=Ext.getScrollbarSize(),1&t&&(d.height-=i.height),2&t&&(d.width-=i.width)),r=0;r<l;++r)h.index=r,this.fitItem(a[r],h);(u||c)&&(n=e.targetContext.getPaddingInfo(),c&&(g&&!d.gotHeight?this.done=!1:(s=h.contentWidth+n.width,2&t&&(s+=i.width),e.setContentWidth(s)||(this.done=!1))),u&&(f&&!d.gotWidth?this.done=!1:(o=h.contentHeight+n.height,1&t&&(o+=i.height),e.setContentHeight(o)||(this.done=!1))))},fitItem:function(e,t){e.invalid?this.done=!1:(t.margins=e.getMarginInfo(),t.needed=t.got=0,this.fitItemWidth(e,t),this.fitItemHeight(e,t),t.got!=t.needed&&(this.done=!1))},fitItemWidth:function(e,t){var i,n;t.ownerContext.widthModel.shrinkWrap?(n=e.getProp("width")+t.margins.width,i=t.contentWidth,t.contentWidth=void 0===i?n:Math.max(i,n)):e.widthModel.calculated&&(++t.needed,t.targetSize.gotWidth&&(++t.got,this.setItemWidth(e,t))),this.positionItemX(e,t)},fitItemHeight:function(e,t){var i,n;t.ownerContext.heightModel.shrinkWrap?(n=e.getProp("height")+t.margins.height,i=t.contentHeight,t.contentHeight=void 0===i?n:Math.max(i,n)):e.heightModel.calculated&&(++t.needed,t.targetSize.gotHeight&&(++t.got,this.setItemHeight(e,t))),this.positionItemY(e,t)},positionItemX:function(e,t){var i=t.margins;(t.index||i.left)&&e.setProp("x",i.left),i.width&&e.setProp("margin-right",i.width)},positionItemY:function(e,t){var i=t.margins;(t.index||i.top)&&e.setProp("y",i.top),i.height&&e.setProp("margin-bottom",i.height)},setItemHeight:function(e,t){e.setHeight(t.targetSize.height-t.margins.height)},setItemWidth:function(e,t){e.setWidth(t.targetSize.width-t.margins.width)}}),Ext.define("Ext.panel.Table",{extend:Ext.panel.Panel,alias:"widget.tablepanel",extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:!1,viewType:null,selType:"rowmodel",scroll:!0,deferRowRender:!0,sortableColumns:!0,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",initComponent:function(){var e,t,i,n,r=this,s=r.columns||r.colModel,o=r.store=Ext.data.StoreManager.lookup(r.store||"ext-empty-store");if(r.columnLines&&r.addBodyCls(r.colLinesCls),r.addBodyCls(r.rowLines?r.rowLinesCls:r.noRowLinesCls),r.addBodyCls(r.extraBodyCls),s.isRootHeader?(r.headerCt=s,r.headerCt.forceFit=!!r.forceFit,r.columnManager=s.columnManager,r.visibleColumnManager=s.visibleColumnManager):r.enableLocking||r.hasLockedColumns(s)?(r.self.mixin("lockable",Ext.grid.locking.Lockable),r.injectLockable()):(Ext.isArray(s)&&(s={items:s}),Ext.apply(s,{grid:r,forceFit:r.forceFit,sortable:r.sortableColumns,enableColumnMove:r.enableColumnMove,enableColumnResize:r.enableColumnResize,sealed:r.sealedColumns}),Ext.isDefined(r.enableColumnHide)&&(s.enableColumnHide=r.enableColumnHide),r.headerCt||(r.headerCt=new Ext.grid.header.Container(s))),r.columns=n=r.headerCt.getGridColumns(),r.scrollTask=new Ext.util.DelayedTask(r.syncHorizontalScroll,r),r.addEvents("reconfigure","viewready"),r.cls=r.cls||" "+r.extraBaseCls,delete r.autoScroll,!r.hasView){if(o.buffered&&!o.remoteSort)for(t=0,i=n.length;t<i;t++)n[t].sortable=!1;r.hideHeaders&&(r.headerCt.height=0,r.headerCt.hiddenHeaders=!0,r.headerCt.addCls(r.hiddenHeaderCtCls),r.addCls(r.hiddenHeaderCls)),r.relayHeaderCtEvents(r.headerCt),r.features=r.features||[],Ext.isArray(r.features)||(r.features=[r.features]),r.dockedItems=[].concat(r.dockedItems||[]),r.dockedItems.unshift(r.headerCt),r.viewConfig=r.viewConfig||{},e=r.getView(),r.items=[e],r.hasView=!0,r.hideHeaders||e.on({scroll:{fn:r.onHorizontalScroll,element:"el",scope:r}}),r.bindStore(o,!0),r.mon(e,{viewready:r.onViewReady,refresh:r.onRestoreHorzScroll,scope:r})}r.relayEvents(r.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","beforeitemkeydown","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermousedown","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermousedown","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","select","beforedeselect","deselect"]),r.callParent(arguments),r.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange","groupchange"]),!r.lockable&&r.headerCt&&r.headerCt.on("afterlayout",r.onRestoreHorzScroll,r)},hasLockedColumns:function(e){var t,i,n;for(Ext.isObject(e)&&(e=e.items),t=0,i=e.length;t<i;t++)if(!(n=e[t]).processed&&n.locked)return!0},relayHeaderCtEvents:function(e){this.relayEvents(e,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var e=this.callParent(),t=this.store.getState();return e=this.addPropertyToState(e,"columns",this.headerCt.getColumnsState()),t&&(e.storeState=t),e},applyState:function(e){var t=e.sort,i=e.storeState,n=this.store,r=e.columns;delete e.columns,this.callParent(arguments),r&&this.headerCt.applyColumnsState(r),t?n.remoteSort?n.sort({property:t.property,direction:t.direction,root:t.root},null,!1):n.sort(t.property,t.direction):i&&n.applyState(i)},getStore:function(){return this.store},getView:function(){var e,t=this;return t.view||(e=t.getSelectionModel(),Ext.widget(Ext.apply({grid:t,deferInitialRefresh:!1!==t.deferRowRender,trackOver:!1!==t.trackMouseOver,scroll:t.scroll,xtype:t.viewType,store:t.store,headerCt:t.headerCt,columnLines:t.columnLines,rowLines:t.rowLines,selModel:e,features:t.features,panel:t,emptyText:t.emptyText||""},t.viewConfig)),t.view.emptyText&&(t.view.emptyText='<div class="'+t.emptyCls+'">'+t.view.emptyText+"</div>"),t.view.getComponentLayout().headerCt=t.headerCt,t.mon(t.view,{uievent:t.processEvent,scope:t}),e.view=t.view,t.headerCt.view=t.view),t.view},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){var e=this.ownerLockable;return e?e.getColumnManager():this.getColumnManager()},getTopLevelVisibleColumnManager:function(){var e=this.ownerLockable;return e?e.getVisibleColumnManager():this.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,processEvent:function(e,t,i,n,r,s,o,a){var l;if(-1!==r)return(l=this.getColumnManager().getHeaderAtIndex(r)).processEvent.apply(l,arguments)},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(e,t){this.getView().scrollBy(0,e,t)},scrollByDeltaX:function(e,t){this.getView().scrollBy(e,0,t)},afterCollapse:function(){this.saveScrollPos(),this.callParent(arguments)},afterExpand:function(){this.callParent(arguments),this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(e,t,i,n,r){!1===this.optimizedColumnMove?this.view.refresh():this.view.moveColumn(n,r,i),this.delayScroll()},onHeaderHide:function(e,t){this.view.refresh(),this.delayScroll()},onHeaderShow:function(e,t){this.view.refresh(),this.delayScroll()},onHeadersChanged:function(e,t){this.rendered&&!this.reconfiguring&&(this.view.refresh(),this.delayScroll())},delayScroll:function(){var e=this.getScrollTarget().el;e&&this.scrollTask.delay(10,null,null,[e.dom.scrollLeft])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var e=this.scrollLeftPos;e&&this.syncHorizontalScroll(e,!0)},getScrollerOwner:function(){var e=this;return this.scrollerOwner||(e=this.up("[scrollerOwner]")),e},getLhsMarker:function(){return this.lhsMarker||(this.lhsMarker=Ext.DomHelper.append(this.el,{role:"presentation",cls:this.resizeMarkerCls},!0))},getRhsMarker:function(){return this.rhsMarker||(this.rhsMarker=Ext.DomHelper.append(this.el,{role:"presentation",cls:this.resizeMarkerCls},!0))},getSelectionModel:function(){var e,t,i,n=this.selModel;return n||(n={},e=!0),n.events||(i=n.selType||this.selType,e=!n.mode,n=this.selModel=Ext.create("selection."+i,n)),this.simpleSelect?t="SIMPLE":this.multiSelect&&(t="MULTI"),Ext.applyIf(n,{allowDeselect:this.allowDeselect}),t&&e&&n.setSelectionMode(t),n.hasRelaySetup||(this.relayEvents(n,["selectionchange","beforeselect","beforedeselect","select","deselect"]),n.hasRelaySetup=!0),this.disableSelection&&(n.locked=!0),n},getScrollTarget:function(){var e=this.getScrollerOwner().query("tableview");return e[1]||e[0]},onHorizontalScroll:function(e,t){this.syncHorizontalScroll(t.scrollLeft)},syncHorizontalScroll:function(e,t){t=!0===t,this.rendered&&(t||e!==this.scrollLeftPos)&&(t&&(this.getScrollTarget().el.dom.scrollLeft=e),this.headerCt.el.dom.scrollLeft=e,this.scrollLeftPos=e)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(e,t){var i,n=this,r=n.getView(),s=e&&e.buffered;n.store=e,(i=n.findPlugin("bufferedrenderer"))?(n.verticalScroller=i).store&&i.bindStore(e):s&&(n.verticalScroller=i=n.addPlugin(Ext.apply({ptype:"bufferedrenderer"},n.initialConfig.verticalScroller))),r.store!==e&&r.bindStore(e,!1),n.mon(e,{load:n.onStoreLoad,scope:n}),n.storeRelayers=n.relayEvents(e,["filterchange","groupchange"]),i&&(n.invalidateScrollerOnRefresh=!1),void 0!==n.invalidateScrollerOnRefresh&&(r.preserveScrollOnRefresh=!n.invalidateScrollerOnRefresh)},unbindStore:function(){var e=this.store;e&&(this.store=null,this.mun(e,{load:this.onStoreLoad,scope:this}),Ext.destroy(this.storeRelayers))},reconfigure:function(e,t){var i,n=this,r=n.getView(),s=n.store,o=n.headerCt,a=o?o.items.getRange():n.columns;t=t&&Ext.Array.slice(t),n.reconfiguring=!0,n.fireEvent("beforereconfigure",n,e,t,s,a),n.lockable?n.reconfigureLockable(e,t):(Ext.suspendLayouts(),t&&(delete n.scrollLeftPos,o.removeAll(),o.add(t)),e&&(e=Ext.StoreManager.lookup(e))!==s?(n.store&&n.unbindStore(),i=r.deferInitialRefresh,r.deferInitialRefresh=!1,n.bindStore(e),r.deferInitialRefresh=i):n.getView().refresh(),o.setSortState(),Ext.resumeLayouts(!0)),n.fireEvent("reconfigure",n,e,t,s,a),delete n.reconfiguring},beforeDestroy:function(){var e=this.scrollTask;e&&(e.cancel(),this.scrollTask=null),this.callParent()},onDestroy:function(){this.lockable&&this.destroyLockable(),this.callParent(),this.columns=this.storeRelayers=this.columnManager=this.visibleColumnManager=null},destroy:function(){this.callParent(),this.isDestroyed&&(this.view=this.selModel=this.headerCt=null)}}),Ext.define("Ext.util.CSS",function(){function o(e,t){return t.charAt(1).toUpperCase()}var a,l=null,s=document,d=/(-[a-z])/gi;return{singleton:!0,rules:l,initialized:!1,constructor:function(){a=this},createStyleSheet:function(t,e){var i,n=s.getElementsByTagName("head")[0],r=s.createElement("style");if(r.setAttribute("type","text/css"),e&&r.setAttribute("id",e),Ext.isIE)n.appendChild(r),(i=r.styleSheet).cssText=t;else{try{r.appendChild(s.createTextNode(t))}catch(e){r.cssText=t}n.appendChild(r),i=r.styleSheet?r.styleSheet:r.sheet||s.styleSheets[s.styleSheets.length-1]}return a.cacheStyleSheet(i),i},removeStyleSheet:function(e){var t=s.getElementById(e);t&&t.parentNode.removeChild(t)},swapStyleSheet:function(e,t){var i;a.removeStyleSheet(e),(i=s.createElement("link")).setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("id",e),i.setAttribute("href",t),s.getElementsByTagName("head")[0].appendChild(i)},refreshCache:function(){return a.getRules(!0)},cacheStyleSheet:function(e){l=l||(a.rules={});try{var t,i,n=e.cssRules||e.rules,r=n.length-1,s=e.imports,o=s?s.length:0;for(i=0;i<o;++i)a.cacheStyleSheet(s[i]);for(;0<=r;--r)(t=n[r]).styleSheet&&a.cacheStyleSheet(t.styleSheet),a.cacheRule(t,e)}catch(e){}},cacheRule:function(e,t){if(e.styleSheet)return a.cacheStyleSheet(e.styleSheet);var i,n,r=e.selectorText;if(r)for(i=(r=r.split(",")).length,n=0;n<i;n++)l[Ext.String.trim(r[n]).toLowerCase()]={parentStyleSheet:t,cssRule:e}},getRules:function(e){var t,i={};for(t in null!==l&&!e||a.refreshCache(),l)i[t]=l[t].cssRule;return i},refreshCache:function(){var e=s.styleSheets,t=0,i=e.length;for(l=a.rules={};t<i;t++)try{e[t].disabled||a.cacheStyleSheet(e[t])}catch(e){}},getRule:function(e,t,i){var n,r;if(l&&!t||a.refreshCache(),!Ext.isArray(e))return(r=l[e.toLowerCase()])&&!i&&(r=r.cssRule),r||null;for(n=0;n<e.length;n++)if(l[e[n]])return i?l[e[n].toLowerCase()]:l[e[n].toLowerCase()].cssRule;return null},createRule:function(e,t,i){var n,r=e.cssRules||e.rules,s=r.length;return e.insertRule?e.insertRule(t+"{"+i+"}",s):e.addRule(t,i||" "),a.cacheRule(n=r[s],e),n},updateRule:function(e,t,i){var n,r,s;if(Ext.isArray(e)){for(r=0;r<e.length;r++)if(a.updateRule(e[r],t,i))return!0}else if(n=a.getRule(e)){if(2==arguments.length)for(t in s=Ext.Element.parseStyles(t))n.style[t.replace(d,o)]=s[t];else n.style[t.replace(d,o)]=i;return!0}return!1},deleteRule:function(e){var t,i,n=a.getRule(e,!1,!0);n&&(t=n.parentStyleSheet,i=Ext.Array.indexOf(t.cssRules||t.rules,n.cssRule),t.deleteRule?t.deleteRule(i):t.removeRule(i),delete l[e])}}}),Ext.define("Ext.view.TableLayout",{extend:Ext.layout.component.Auto,alias:["layout.tableview"],type:"tableview",beginLayout:function(e){var t=this.owner.lockingPartner,i=this.owner;this.callParent(arguments),t&&(this.lockedGrid=this.owner.up("[lockable]"),this.lockedGrid.needsRowHeightSync=!0,e.lockingPartner||(e.lockingPartner=e.context.getItem(t,t.el),e.lockingPartner&&!e.lockingPartner.lockingPartner&&(e.lockingPartner.lockingPartner=e))),e.headerContext=e.context.getCmp(this.headerCt),this.owner.body.dom&&(e.bodyContext=e.getEl(this.owner.body)),Ext.isWebKit&&i.el.select(i.getBodySelector()).setStyle("table-layout","auto")},calculate:function(e){var t,i=this.lockingPartner,n=this.owner,r=0;if(e.headerContext.hasProp("columnWidthsDone")){if(!this.setColumnWidths(e))return void(this.done=!1);e.state.columnWidthsSynced=!0,e.bodyContext&&((t=this.owner.el.down("."+n.ownerCt.emptyCls,!0))?r=t.offsetHeight:(r=e.bodyContext.el.dom.offsetHeight,e.bodyContext.setHeight(r,!1)),e.headerContext.state.boxPlan.tooNarrow&&e.ownerCtContext.sizeModel.height.shrinkWrap&&(r+=Ext.getScrollbarSize().height),e.setProp("contentHeight",r)),i&&!i.state.columnWidthsSynced?this.done=!1:this.callParent(arguments)}else this.done=!1},measureContentHeight:function(e){var t=e.lockingPartner;if(!e.bodyContext||e.state.columnWidthsSynced&&(!t||t.state.columnWidthsSynced))return this.callParent(arguments)},setColumnWidths:function(e){var t,i,n,r=this.owner,s=e.context,o=this.headerCt.getVisibleGridColumns(),a=0,l=o.length,d=0,h=0,c=!Ext.isBorderBox;for(s&&(s.currentLayout=this),a=0;a<l;a++){if(t=o[a],n=(i=s.getCmp(t)).props.width,isNaN(n))return i.getProp("width"),!1;d+=n,c&&r.columnLines&&(n-=h=h||(s.getCmp(t).borderInfo.width||1)),r.body.select(r.getColumnSizerSelector(t)).setWidth(n)}return r.el.select(r.getBodySelector()).setWidth(d),!0},finishedLayout:function(){var e=this.owner;this.callParent(arguments),Ext.isWebKit&&e.el.select(e.getBodySelector()).setStyle("table-layout",""),e.refreshCounter&&this.lockedGrid&&this.lockedGrid.syncRowHeight&&this.lockedGrid.needsRowHeightSync&&(this.lockedGrid.syncRowHeights(),this.lockedGrid.needsRowHeightSync=!1)}}),Ext.define("Ext.view.NodeCache",{constructor:function(e){this.view=e,this.clear(),this.el=new Ext.dom.AbstractElement.Fly},clear:function(e){var t,i,n=this.elements;if(e)for(t in n)(i=n[t]).parentNode.removeChild(i);this.elements={},this.count=this.startIndex=0,this.endIndex=-1},fill:function(e,t){var i,n=this.elements={},r=e.length;for(t=t||0,i=0;i<r;i++)n[t+i]=e[i];return this.startIndex=t,this.endIndex=t+r-1,this.count=r,this},insert:function(e,t){var i,n=this.elements,r=t.length;if(this.count){if(e<this.count)for(i=this.endIndex+r;e+r<=i;i--)n[i]=n[i-r],n[i].setAttribute("data-recordIndex",i);this.endIndex=this.endIndex+r}else this.startIndex=e,this.endIndex=e+r-1;for(i=0;i<r;i++,e++)n[e]=t[i],n[e].setAttribute("data-recordIndex",e);this.count+=r},item:function(e,t){var i=null;return this.elements[e]&&(i=t?this.elements[e]:this.el.attach(this.elements[e])),i},first:function(e){return this.item(this.startIndex,e)},last:function(e){return this.item(this.endIndex,e)},getCount:function(){return this.count},slice:function(e,t){var i,n=this.elements,r=[];for(t=arguments.length<2?this.endIndex:Math.min(this.endIndex,t-1),i=e||this.startIndex;i<=t;i++)r.push(n[i]);return r},replaceElement:function(e,t,i){var n=this.elements,r="number"==typeof e?e:this.indexOf(e);return-1<r&&(t=Ext.getDom(t),i&&((e=n[r]).parentNode.insertBefore(t,e),Ext.removeNode(e),t.setAttribute("data-recordIndex",r)),this.elements[r]=t),this},indexOf:function(e){var t,i=this.elements;for(e=Ext.getDom(e),t=this.startIndex;t<=this.endIndex;t++)if(i[t]===e)return t;return-1},removeRange:function(e,t,i){var n,r,s,o=this.elements;for(r=(t=void 0===t?this.count:Math.min(this.endIndex+1,t+1))-(e=e||0),n=e,s=t;n<this.endIndex;n++,s++)i&&n<t&&Ext.removeNode(o[n]),s<=this.endIndex?(o[n]=o[s]).setAttribute("data-recordIndex",n):delete o[n];this.count-=r,this.endIndex-=r},removeElement:function(e,t){var i,n,r,s,o,a=this,l=a.elements,d=0;if(Ext.isArray(e)){for(i=e,e=[],r=i.length,d=0;d<r;d++)"number"!=typeof(n=i[d])&&(n=a.indexOf(n)),n>=a.startIndex&&n<=a.endIndex&&(e[e.length]=n);Ext.Array.sort(e),r=e.length}else{if(e<a.startIndex||e>a.endIndex)return;r=1,e=[e]}for(s=o=e[0],d=0;s<=a.endIndex;s++,o++)d<r&&s===e[d]&&(o++,d++,t&&Ext.removeNode(l[s])),o<=a.endIndex&&o>=a.startIndex?(l[s]=l[o]).setAttribute("data-recordIndex",s):delete l[s];a.endIndex-=r,a.count-=r},scroll:function(e,t,i){var n,r,s,o,a=this,l=a.elements,d=e.length,h=a.view.getNodeContainer(),c=document.createDocumentFragment();if(-1==t){for(n=a.endIndex-i+1;n<=a.endIndex;n++)r=l[n],delete l[n],r.parentNode.removeChild(r);for(a.endIndex-=i,o=a.view.bufferRender(e,a.startIndex-=d),n=0;n<d;n++)l[a.startIndex+n]=o[n],c.appendChild(o[n]);h.insertBefore(c,h.firstChild)}else{for(s=a.startIndex+i,n=a.startIndex;n<s;n++)r=l[n],delete l[n],r.parentNode.removeChild(r);for(a.startIndex=n,o=a.view.bufferRender(e,a.endIndex+1),n=0;n<d;n++)l[a.endIndex+=1]=o[n],c.appendChild(o[n]);h.appendChild(c)}a.count=a.endIndex-a.startIndex+1}}),Ext.define("Ext.view.Table",{extend:Ext.view.View,alias:"widget.tableview",componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",unselectableCls:Ext.baseCSSPrefix+"unselectable",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",beforeSelectedItemCls:Ext.baseCSSPrefix+"grid-row-before-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",beforeFocusedItemCls:Ext.baseCSSPrefix+"grid-row-before-focused",tableFocusedFirstCls:Ext.baseCSSPrefix+"grid-table-focused-first",tableSelectedFirstCls:Ext.baseCSSPrefix+"grid-table-selected-first",tableOverFirstCls:Ext.baseCSSPrefix+"grid-table-over-first",overItemCls:Ext.baseCSSPrefix+"grid-row-over",beforeOverItemCls:Ext.baseCSSPrefix+"grid-row-before-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-headerId-([^\\s]+)(?:\\s|$)",""),positionBody:!0,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,ariaRole:"grid",tpl:"{%values.view.tableTpl.applyOut(values, out)%}",tableTpl:["{%",'var view=values.view,tableCls="'+Ext.baseCSSPrefix+'" + view.id + "-table '+Ext.baseCSSPrefix+'grid-table";',"%}",'<table id="{view.id}-table" class="{[tableCls]}" border="0" cellspacing="0" cellpadding="0" style="{tableStyle}" {ariaTableAttr}>',"{[view.renderColumnSizer(out)]}","{[view.renderTHead(values, out)]}","{[view.renderTFoot(values, out)]}",'<tbody id="{view.id}-body" {ariaTbodyAttr}>',"{%","view.renderRows(values.rows, values.viewStartIndex, out);","%}","</tbody>","</table>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<tr {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','{rowAttr:attributes} tabIndex="-1" {ariaRowAttr}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr} {[Ext.aria ? "id=\\"" + Ext.id() + "\\"" : ""]} {ariaCellAttr}>','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}"','style="text-align:{align};<tpl if="style">{style}</tpl>" {ariaCellInnerAttr}>{value}</div>',"</td>",{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(e){e.grid.isTree&&(e.baseCls=Ext.baseCSSPrefix+"tree-view"),this.callParent([e])},initComponent:function(){var e=this,t=e.scroll;this.addEvents("beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown"),e.body=new Ext.dom.Element.Fly,e.body.id=e.id+"gridBody",e.autoScroll=void 0,e.trackOver||(e.overItemCls=null,e.beforeOverItemCls=null),!0===t||"both"===t?e.autoScroll=!0:"horizontal"===t?e.overflowX="auto":"vertical"===t&&(e.overflowY="auto"),e.selModel.view=e.headerCt.view=e,(e.grid.view=e).initFeatures(e.grid),delete e.grid,e.itemSelector=e.getItemSelector(),e.all=new Ext.view.NodeCache(e),e.callParent()},getVisibleColumnManager:function(){var e=this.ownerCt,t=e.ownerLockable;return t?t.getVisibleColumnManager():e.getVisibleColumnManager()},moveColumn:function(e,t,i){var n,r,s,o,a,l,d,h=this,c=1<i?document.createDocumentFragment():void 0,u=t,f=h.getGridColumns().length,g=f-1,p=(h.firstCls||h.lastCls)&&(0===t||t==f||0===e||e==g);if(h.rendered&&t!==e){for(e<t&&c&&(u-=i),n=0,o=(s=h.el.query(h.getDataRowSelector())).length;n<o;n++){if(l=(a=s[n]).childNodes,p){if(1===l.length){Ext.fly(l[0]).addCls(h.firstCls),Ext.fly(l[0]).addCls(h.lastCls);continue}0===e?(Ext.fly(l[0]).removeCls(h.firstCls),Ext.fly(l[1]).addCls(h.firstCls)):e===g&&(Ext.fly(l[g]).removeCls(h.lastCls),Ext.fly(l[g-1]).addCls(h.lastCls)),0===t?(Ext.fly(l[0]).removeCls(h.firstCls),Ext.fly(l[e]).addCls(h.firstCls)):t===f&&(Ext.fly(l[g]).removeCls(h.lastCls),Ext.fly(l[e]).addCls(h.lastCls))}if(c){for(r=0;r<i;r++)c.appendChild(l[e]);a.insertBefore(c,l[u]||null)}else a.insertBefore(l[e],l[u]||null)}for(n=0,o=(d=h.el.query(h.getBodySelector())).length;n<o;n++)if(a=d[n],c){for(r=0;r<i;r++)c.appendChild(a.childNodes[e]);a.insertBefore(c,a.childNodes[u]||null)}else a.insertBefore(a.childNodes[e],a.childNodes[u]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(e,t,i){this.mon(this,e,t,i,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(e){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(e)},getCell:function(e,t){var i=this.getNode(e,!0);return Ext.fly(i).down(t.getCellSelector())},getFeature:function(e){var t=this.featuresMC;if(t)return t.get(e)},findFeature:function(t){if(this.features)return Ext.Array.findBy(this.features,function(e){if(e.ftype===t)return!0})},initFeatures:function(e){var t,i,n,r;for(this.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl"),this.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),this.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),this.featuresMC=new Ext.util.MixedCollection,r=(i=this.features=this.constructFeatures())?i.length:0,t=0;t<r;t++)(n=i[t]).view=this,n.grid=e,this.featuresMC.add(n),n.init(e)},renderTHead:function(e,t){var i,n,r=e.view.headerFns;if(r)for(n=0,i=r.length;n<i;++n)r[n].call(this,e,t)},addHeaderFn:function(){var e=this.headerFns;(e=e||(this.headerFns=[])).push(fn)},renderTFoot:function(e,t){var i,n,r=e.view.footerFns;if(r)for(n=0,i=r.length;n<i;++n)r[n].call(this,e,t)},addFooterFn:function(e){var t=this.footerFns;(t=t||(this.footerFns=[])).push(e)},addTableTpl:function(e){return this.addTpl("tableTpl",e)},addRowTpl:function(e){return this.addTpl("rowTpl",e)},addCellTpl:function(e){return this.addTpl("cellTpl",e)},addTpl:function(e,t){var i,n;for((t=Ext.Object.chain(t)).isTemplate||(t.applyOut=this.tplApplyOut),i=this[e];t.priority<i.priority;i=i.nextTpl)n=i;return n?n.nextTpl=t:this[e]=t,t.nextTpl=i,t},tplApplyOut:function(e,t){this.before&&!1===this.before(e,t)||(this.nextTpl.applyOut(e,t),this.after&&this.after(e,t))},constructFeatures:function(){var e,t,i,n=this.features,r=0;if(n)for(t=[],i=n.length;r<i;r++)(e=n[r]).isFeature||(e=Ext.create("feature."+e.ftype,e)),t[r]=e;return t},beforeRender:function(){this.callParent(),this.enableTextSelection||this.protoEl.unselectable()},onViewScroll:function(e,t){this.ignoreScroll||(this.callParent(arguments),this.fireEvent("bodyscroll",e,t))},createRowElement:function(e,t){var i=this.renderBuffer;return this.tpl.overwrite(i,this.collectData([e],t)),Ext.fly(i).down(this.getNodeContainerSelector(),!0).firstChild},bufferRender:function(e,t){var i=this.renderBuffer;return this.tpl.overwrite(i,this.collectData(e,t)),Ext.Array.toArray(Ext.fly(i).down(this.getNodeContainerSelector(),!0).childNodes)},collectData:function(e,t){return{view:this.rowValues.view=this,rows:e,viewStartIndex:t,tableStyle:this.bufferedRenderer?"position:absolute;top:"+this.bufferedRenderer.bodyTop:""}},collectNodes:function(e){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(){var e,t=this.getBodySelector();t&&this.body.attach(this.el.child(t,!0)),this.hasLoadingHeight||(e=this.up("tablepanel"),Ext.suspendLayouts(),this.callParent(),e.updateLayout(),Ext.resumeLayouts(!0))},statics:{getBoundView:function(e){return Ext.getCmp(e.getAttribute("data-boundView"))}},getRecord:function(e){var t;if(!this.store.isDestroyed)return(e=this.getNode(e))?!this.hasActiveGrouping()&&(t=e.getAttribute("data-recordIndex"))&&-1<(t=parseInt(t,10))?this.store.data.getAt(t):this.store.getByInternalId(e.getAttribute("data-recordId")):void 0},indexOf:function(e){return(e=this.getNode(e,!1))||0===e?this.all.indexOf(e):-1},indexInStore:function(e){if(!(e=e.isCollapsedPlaceholder?this.getNode(e):this.getNode(e,!1))&&0!==e)return-1;var t=e.getAttribute("data-recordIndex");return t?parseInt(t,10):this.dataSource.indexOf(this.getRecord(e))},renderRows:function(e,t,i){var n,r=this.rowValues,s=e.length;for(r.view=this,r.columns=this.ownerCt.getVisibleColumnManager().getColumns(),n=0;n<s;n++,t++)r.itemClasses.length=r.rowClasses.length=0,this.renderRow(e[n],t,i);r.view=r.columns=r.record=null},renderColumnSizer:function(e){var t,i,n,r=this.getGridColumns(),s=r.length;for(t=0;t<s;t++)n=(i=r[t]).hidden?0:i.lastBox?i.lastBox.width:Ext.grid.header.Container.prototype.defaultWidth,e.push('<colgroup role="presentation"><col role="presentation" class="',r[t].getCellId(),'" style="width:'+n+'px"></colgroup>')},renderRow:function(e,t,i){var n,r=this,s=-1===t,o=r.selModel,a=r.rowValues,l=a.itemClasses,d=a.rowClasses,h=r.rowTpl;if(a.record=e,a.recordId=e.internalId,a.recordIndex=r.store.indexOf(e),a.rowIndex=t,a.rowId=r.getRowId(e),a.itemCls=a.rowCls="",a.columns||(a.columns=r.ownerCt.getVisibleColumnManager().getColumns()),l.length=d.length=0,s||(l[0]=Ext.baseCSSPrefix+"grid-row",!r.ownerCt.disableSelection&&o.isRowSelected&&(o.isRowSelected(e)&&l.push(r.selectedItemCls),r.rowValues.recordIndex<r.store.getTotalCount()-1&&o.isRowSelected(r.rowValues.recordIndex+1)&&!r.isRowStyleFirst(t+1)&&d.push(r.beforeSelectedItemCls)),r.stripeRows&&t%2!=0&&d.push(r.altRowCls),r.getRowClass&&(n=r.getRowClass(e,t,null,r.dataSource))&&d.push(n)),!i)return h.apply(a);h.applyOut(a,i)},renderCell:function(e,t,i,n,r,s){var o,a,l,d=this,h=d.selModel,c=d.cellValues,u=c.classes,f=t.data[e.dataIndex],g=d.cellTpl;c.record=t,c.column=e,c.recordIndex=i,c.rowIndex=n,c.columnIndex=r,c.cellIndex=r,c.align=e.align,c.tdCls=e.tdCls,c.innerCls=e.innerCls,c.style=c.tdAttr="",c.unselectableAttr=d.enableTextSelection?"":'unselectable="on"',e.renderer&&e.renderer.call?(o=d.ownerCt.columnManager.getHeaderIndex(e),a=e.renderer.call(e.scope||d.ownerCt,f,c,t,i,o,d.dataSource,d),c.css&&(t.cssWarning=!0,c.tdCls+=" "+c.css,delete c.css)):a=f,c.value=null==a||""===a?"&#160;":a,u[1]=e.getCellId(),l=2,e.tdCls&&(u[l++]=e.tdCls),d.markDirty&&t.isModified(e.dataIndex)&&(u[l++]=d.dirtyCls),e.isFirstVisible&&(u[l++]=d.firstCls),e.isLastVisible&&(u[l++]=d.lastCls),d.enableTextSelection||(u[l++]=d.unselectableCls),c.tdCls&&(u[l++]=c.tdCls),h&&h.isCellModel&&h.isCellSelected(d,i,r)&&(u[l++]=d.selectedCellCls),u.length=l,c.tdCls=u.join(" "),g.applyOut(c,s),c.column=null},getNode:function(e,t){var i,n=this.callParent(arguments);if(n&&n.tagName)if(t){if(!(i=Ext.fly(n)).is(this.dataRowSelector))return i.down(this.dataRowSelector,!0)}else if(!1===t&&!(i=Ext.fly(n)).is(this.itemSelector))return i.up(this.itemSelector,null,!0);return n},getRowId:function(e){return this.id+"-record-"+e.internalId},constructRowId:function(e){return this.id+"-record-"+e},getNodeById:function(e,t){return e=this.constructRowId(e),this.retrieveNode(e,t)},getNodeByRecord:function(e,t){var i=this.getRowId(e);return this.retrieveNode(i,t)},retrieveNode:function(e,t){var i,n=this.el.getById(e,!0),r=this.itemSelector;return!1===t&&n&&!(i=Ext.fly(n)).is(r)?i.up(r,null,!0):n},updateIndexes:Ext.emptyFn,bodySelector:"table",nodeContainerSelector:"tbody",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"tr."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"col."+Ext.baseCSSPrefix+"grid-cell-headerId",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainer:function(){return this.el.down(this.nodeContainerSelector,!0)},getBodySelector:function(){return this.bodySelector+"."+Ext.baseCSSPrefix+this.id+"-table"},getNodeContainerSelector:function(){return this.nodeContainerSelector},getColumnSizerSelector:function(e){return this.sizerSelector+"-"+e.getItemId()},getItemSelector:function(){return this.itemSelector},getDataRowSelector:function(){return this.dataRowSelector},getCellSelector:function(e){return e?e.getCellSelector():this.cellSelector},getCellInnerSelector:function(e){return this.getCellSelector(e)+" "+this.innerSelector},addRowCls:function(e,t){var i=this.getNode(e,!1);i&&Ext.fly(i).addCls(t)},removeRowCls:function(e,t){var i=this.getNode(e,!1);i&&Ext.fly(i).removeCls(t)},setHighlightedItem:function(e){var t=this,i=t.highlightedItem;i&&t.el.isAncestor(i)&&t.isRowStyleFirst(i)&&t.toggleRowTableCls(i,t.tableOverFirstCls,!1),(e=t.getNode(e,!1))&&t.isRowStyleFirst(e)&&t.toggleRowTableCls(e,t.tableOverFirstCls,!0),t.callParent(arguments)},onRowSelect:function(e){var t=this.beforeSelectedItemCls;this.addRowCls(e,this.selectedItemCls),this.isRowStyleFirst(e)?(this.toggleRowTableCls(e,this.tableSelectedFirstCls,!0),0<e&&this.removeRowCls(e-1,t)):this.addRowCls(e-1,t)},onRowDeselect:function(e){var t=this;t.removeRowCls(e,[t.selectedItemCls,t.focusedItemCls]),t.isRowStyleFirst(e)?t.toggleRowTableCls(e,[t.tableFocusedFirstCls,t.tableSelectedFirstCls],!1):t.removeRowCls(e-1,[t.beforeFocusedItemCls,t.beforeSelectedItemCls])},onCellSelect:function(e){var t=this.getCellByPosition(e);t&&t.addCls(this.selectedCellCls)},onCellDeselect:function(e){var t=this.getCellByPosition(e,!0);t&&Ext.fly(t).removeCls(this.selectedCellCls)},getCellByPosition:function(e,t){if(e){var i=this.getNode(e.row,!0),n=this.ownerCt.getColumnManager().getHeaderAtIndex(e.column);if(n&&i)return Ext.fly(i).down(this.getCellSelector(n),t)}return!1},getFocusEl:function(){return this.focusEl},onRowFocus:function(e,t,i){var n=this;t?(n.addRowCls(e,n.focusedItemCls),n.isRowStyleFirst(e)?n.toggleRowTableCls(e,n.tableFocusedFirstCls,!0):n.addRowCls(e-1,n.beforeFocusedItemCls),i||n.focusRow(e)):(n.removeRowCls(e,n.focusedItemCls),n.isRowStyleFirst(e)?n.toggleRowTableCls(e,n.tableFocusedFirstCls,!1):n.removeRowCls(e-1,n.beforeFocusedItemCls))},focusRow:function(e,t){var i,n=this,r=n.getFocusTask();t?r.delay(Ext.isNumber(t)?t:10,n.focusRow,n,[e,!1]):(r.cancel(),n.isVisible(!0)&&(e=n.getNode(e,!0))&&(n.scrollRowIntoView(e),i=n.getRecord(e),n.selModel.setLastFocused(i),n.doFocus(e),n.fireEvent("rowfocus",i,e,n.indexInStore(e))))},scrollRowIntoView:function(e){(e=this.getNode(e,!0))&&Ext.fly(e).scrollIntoView(this.el,!1)},focusCell:function(e,t){var i,n=this.getFocusTask();t?n.delay(Ext.isNumber(t)?t:10,this.focusCell,this,[e,!1]):(n.cancel(),this.isVisible(!0)&&(i=this.getCellByPosition(e))&&(this.scrollCellIntoView(i),this.doFocus(this.getNode(e.row)),this.fireEvent("cellfocus",e.record,i,e)))},doFocus:function(e){var t,i=Ext.isIE;i&&(t=this.el.getScrollLeft(),this.ignoreScroll=!0),(this.focusEl=Ext.get(e)).focus(),i&&(this.el.setScrollLeft(t),this.ignoreScroll=!1)},scrollCellIntoView:function(e){null!=e.row&&null!=e.column&&(e=this.getCellByPosition(e)),e&&Ext.fly(e).scrollIntoView(this.el,!0)},scrollByDelta:function(e,t){t=t||"scrollTop";var i=this.el.dom;i[t]=i[t]+=e},isDataRow:function(e){return Ext.fly(e).hasCls(Ext.baseCSSPrefix+"grid-data-row")},syncRowHeights:function(e,t){e=Ext.get(e),t=Ext.get(t),e.dom.style.height=t.dom.style.height="";var i=this.rowTpl,n=e.dom.offsetHeight,r=t.dom.offsetHeight;if(n!==r){for(;i&&(!i.syncRowHeights||!1!==i.syncRowHeights(e,t));)i=i.nextTpl;(n=e.dom.offsetHeight)!==(r=t.dom.offsetHeight)&&(e=e.down("[data-recordId]")||e,t=t.down("[data-recordId]")||t,e&&t&&(e.dom.style.height=t.dom.style.height="",n=e.dom.offsetHeight,(r=t.dom.offsetHeight)<n?(e.setHeight(n),t.setHeight(n)):n<r&&(e.setHeight(r),t.setHeight(r))))}},onIdChanged:function(e,t,i,n,r){var s;this.viewReady&&(s=this.getNodeById(r))&&(s.setAttribute("data-recordId",t.internalId),s.id=this.getRowId(t))},onUpdate:function(e,t,i,n){var r,s,o,a,l,d,h,c,u,f,g,p,m,x,y,E,v=this,b=v.rowTpl;if(v.viewReady&&(o=v.getNodeByRecord(t,!1))){for(f=v.overItemCls,g=v.beforeOverItemCls,p=v.focusedItemCls,m=v.beforeFocusedItemCls,x=v.selectedItemCls,y=v.beforeSelectedItemCls,r=v.indexInStore(t),s=Ext.fly(o,"_internal"),l=v.createRowElement(t,r),s.hasCls(f)&&Ext.fly(l).addCls(f),s.hasCls(g)&&Ext.fly(l).addCls(g),s.hasCls(p)&&Ext.fly(l).addCls(p),s.hasCls(m)&&Ext.fly(l).addCls(m),s.hasCls(x)&&Ext.fly(l).addCls(x),s.hasCls(y)&&Ext.fly(l).addCls(y),E=v.ownerCt.getVisibleColumnManager().getColumns(),h=(d=l.attributes).length,u=0;u<h;u++)"id"!==(c=d[u].name)&&o.setAttribute(c,d[u].value);for(E.length&&(a=v.getNode(o,!0))&&v.updateColumns(t,a,v.getNode(l,!0),E,n);b&&(!b.syncContent||!1!==b.syncContent(o,l));)b=b.nextTpl;v.fireEvent("itemupdate",t,r,o),v.refreshSize()}},updateColumns:function(e,t,i,n,r){var s,o,a,l,d,h,c,u,f,g=n.length,p=this.editingPlugin||this.lockingPartner&&this.ownerCt.ownerLockable.view.editingPlugin,m=p&&p.editing,x=this.getCellSelector();if(t.mergeAttributes)t.mergeAttributes(i,!0);else for(o=(s=i.attributes).length,l=0;l<o;l++)"id"!==(a=s[l].name)&&t.setAttribute(a,s[l].value);for(d=0;d<g;d++)h=n[d],this.shouldUpdateCell(e,h,r)&&(x=this.getCellSelector(h),c=Ext.DomQuery.selectNode(x,t),u=Ext.DomQuery.selectNode(x,i),m?Ext.fly(c).syncContent(u):((f=c.parentNode).insertBefore(u,c),f.removeChild(c)))},shouldUpdateCell:function(e,t,i){if(t.hasCustomRenderer||!i)return!0;if(i){var n,r,s=i.length;for(n=0;n<s;++n)if((r=i[n])===t.dataIndex||r===e.idProperty)return!0}return!1},refresh:function(){this.callParent(arguments),this.headerCt.setSortState(),this.el&&!this.all.getCount()&&this.headerCt&&this.headerCt.tooNarrow&&this.el.createChild({role:"presentation",style:"position:absolute;height:1px;width:1px;left:"+(this.headerCt.getFullWidth()-1)+"px"}),this.refreshSelection()},refreshSelection:function(){var e,t,i,n=this.selModel;if(n.isRowModel)for(t=(e=n.selected.items).length,i=0;i<t;i++)this.onRowSelect(this.indexOf(this.getNode(e[i])));this.selModel.onLastFocusChanged(null,this.selModel.lastFocused,!0)},processItemEvent:function(e,t,i,n){if(-1===this.indexInStore(t))return this.processSpecialEvent(n),!1;var r,s,o,a,l=this,d=n.getTarget(l.getCellSelector(),t),h=l.statics().EventMap,c=l.getSelectionModel(),u=n.type,f=l.features,g=f.length;if("keydown"==u&&!d&&c.getCurrentPosition&&(d=l.getCellByPosition(c.getCurrentPosition(),!0)),d){if(!d.parentNode)return!1;a=l.getHeaderByCell(d),r=l.ownerCt.getColumnManager().getHeaderIndex(a)}else r=-1;if((!1===l.fireEvent("uievent",u,l,d,i,r,n,e,t)||!1===l.callParent(arguments))&&c.onVetoUIEvent)return c.onVetoUIEvent(u,l,d,i,r,n,e,t),!1;for(s=0;s<g;++s)if((o=f[s]).wrapsItem&&!1===o.vetoEvent(e,t,i,n))return l.processSpecialEvent(n),!1;return"mouseover"==u||"mouseout"==u||(!d||!(!1===l["onBeforeCell"+h[u]](d,r,e,t,i,n)||!1===l.fireEvent("beforecell"+u,l,d,r,e,t,i,n)||!1===l["onCell"+h[u]](d,r,e,t,i,n)||!1===l.fireEvent("cell"+u,l,d,r,e,t,i,n)))},processSpecialEvent:function(e){var t,i,n,r,s,o,a=this,l=a.features,d=l.length,h=e.type,c=a.ownerCt;if(a.callParent(arguments),"mouseover"!=h&&"mouseout"!=h){for(t=0;t<d;t++)if((i=l[t]).hasFeatureEvent&&(r=e.getTarget(i.eventSelector,a.getTargetEl()))&&(n=i.eventPrefix,s=i.getFireEventArgs("before"+n+h,a,r,e),o=i.getFireEventArgs(n+h,a,r,e),!1===a.fireEvent.apply(a,s)||!1===c.fireEvent.apply(c,s)||!1===a.fireEvent.apply(a,o)||!1===c.fireEvent.apply(c,o)))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(e){this.autoSizeColumn(e)},autoSizeColumn:function(e){if(Ext.isNumber(e)&&(e=this.getGridColumns[e]),e){if(e.isGroupHeader)return void e.autoSize();delete e.flex,e.setWidth(this.getMaxContentWidth(e))}},getMaxContentWidth:function(e){var t,i=this.el.query(e.getCellInnerSelector()),n=e.getWidth(),r=0,s=i.length,o=this.body.select(this.getColumnSizerSelector(e)),a=Math.max,l=0;for(0<s&&(Ext.supports.ScrollWidthInlinePaddingBug&&(l+=this.getCellPaddingAfter(i[0])),this.columnLines&&(l+=Ext.fly(i[0].parentNode).getBorderWidth("lr"))),o.setWidth(1),e.titleEl.setStyle("text-overflow","clip"),t=e.textEl.dom.offsetWidth+e.titleEl.getPadding("lr"),e.titleEl.setStyle("text-overflow","");r<s;r++)t=a(t,i[r].scrollWidth);return t=a(t+=l,40),o.setWidth(n),t},getPositionByEvent:function(e){var t=e.getTarget(this.cellSelector),i=e.getTarget(this.itemSelector),n=this.getRecord(i),r=this.getHeaderByCell(t);return this.getPosition(n,r)},getHeaderByCell:function(e){if(e){var t=e.className.match(this.cellRe);if(t&&t[1])return this.ownerCt.getVisibleColumnManager().getHeaderById(t[1])}return!1},walkCells:function(e,t,i,n,r,s){if(!e)return!1;var o=this,a=e.row,l=e.column,d=o.dataSource.getCount(),h=o.ownerCt.getColumnManager(),c=o.ownerCt.getVisibleColumnManager(),u=h.getHeaderIndex(c.getFirst()),f=h.getHeaderIndex(c.getLast()),g=a,p=l,m=h.getHeaderAtIndex(l);if(!m||m.hidden||!d)return!1;switch(i=i||{},t=t.toLowerCase()){case"right":if(l===f){if(n||a===d-1)return!1;i.ctrlKey||(g=o.walkRows(a,1))!==a&&(p=u)}else p=i.ctrlKey?f:h.getHeaderIndex(c.getNextSibling(m));break;case"left":if(l===u){if(n||0===a)return!1;i.ctrlKey||(g=o.walkRows(a,-1))!==a&&(p=f)}else p=i.ctrlKey?u:h.getHeaderIndex(c.getPreviousSibling(m));break;case"up":if(0===a)return!1;g=i.ctrlKey?o.walkRows(-1,1):o.walkRows(a,-1);break;case"down":if(a===d-1)return!1;g=i.ctrlKey?o.walkRows(d,-1):o.walkRows(a,1)}return(!r||!0===r.call(s||o,{row:g,column:p}))&&(p=h.getHeaderAtIndex(p),new Ext.grid.CellContext(o).setPosition(g,p))},walkRows:function(e,t){var i,n=0,r=e,s=(this.dataSource.buffered?this.dataSource.getTotalCount():this.dataSource.getCount())-1,o=t<0?0:s,a=o?1:-1,l=e;do{if(o?o<=l:l<=0)return r||o;l+=a,(i=Ext.fly(this.getNode(l,!0)))&&i.isVisible(!0)&&(n+=a,r=l)}while(n!==t);return l},walkRecs:function(e,t){var i,n,r=0,s=e,o=(this.store.buffered?this.store.getTotalCount():this.store.getCount())-1,a=t<0?0:o,l=a?1:-1,d=this.store.indexOf(e);do{if(a?a<=d:d<=0)return s;d+=l,n=this.store.getAt(d),(i=Ext.fly(this.getNodeByRecord(n,!0)))&&i.isVisible(!0)&&(r+=l,s=n)}while(r!==t);return s},getFirstVisibleRowIndex:function(){var e=this.dataSource.buffered?this.dataSource.getTotalCount():this.dataSource.getCount(),t=this.indexOf(this.all.first())-1;do{if((t+=1)===e)return}while(!Ext.fly(this.getNode(t,!0)).isVisible(!0));return t},getLastVisibleRowIndex:function(){var e=this.indexOf(this.all.last());do{if(-1===(e-=1))return}while(!Ext.fly(this.getNode(e,!0)).isVisible(!0));return e},getHeaderCt:function(){return this.headerCt},getPosition:function(e,t){return new Ext.grid.CellContext(this).setPosition(e,t)},beforeDestroy:function(){this.rendered&&this.el.removeAllListeners(),this.callParent(arguments)},onDestroy:function(){var e,t,i=this.featuresMC;if(i)for(t=0,e=i.getCount();t<e;++t)i.getAt(t).destroy();this.featuresMC=null,this.callParent(arguments)},onAdd:function(e,t,i){var n,r,s,o=this,a=o.selModel;o.callParent(arguments),o.doStripeRows(i),o.rendered&&a.isRowModel&&!t[0].isCollapsedPlaceholder&&(n=i+t.length,r=a.isRowSelected(n),s=o.indexOf(a.lastFocused)===n,(r||s)&&o.onRowDeselect(i),r&&o.onRowSelect(n),a.isRowSelected(i)&&o.onRowSelect(i)),o.selModel.onLastFocusChanged(null,o.selModel.lastFocused,!0)},onRemove:function(e,t,i){var n,r,s=this.selModel,o=i.length,a=0,l=0;if(this.callParent(arguments),this.doStripeRows(i[0]),this.rendered&&s.isRowModel&&!t[0].isCollapsedPlaceholder)for(;a<o;a++,l++)n=i[a]-l,r=this.store.getAt(n),this.onRowDeselect(n),s.isRowSelected(r)&&this.getNode(r)&&this.onRowSelect(n);s.onLastFocusChanged(null,s.lastFocused,!0)},doStripeRows:function(e,t){var i,n,r,s;if(this.rendered&&this.stripeRows)for(r=0,n=(i=this.getNodes(e,t)).length;r<n;r++)(s=i[r]).className=s.className.replace(this.rowClsRe," "),++e%2==0&&(s.className+=" "+this.altRowCls)},repaintRow:function(e){var t,i,n=this.getNode(e);if(n)for(i=(t=n.childNodes).length;i--;)t[i].className=t[i].className},getRowStyleTableEl:function(e){return e.tagName||(e=this.getNode(e)),(this.hasActiveGrouping()?Ext.fly(e):this.el).down("table."+Ext.baseCSSPrefix+"grid-table")},toggleRowTableCls:function(e,t,i){var n,r;e.tagName||(e=this.getNode(e)),(r=this.isGrouping?Ext.fly(e):this.el)&&(n=r.down("table."+Ext.baseCSSPrefix+"grid-table")),n&&n[i?"addCls":"removeCls"](t)},isRowStyleFirst:function(e){var t;return-1!==e&&(e.tagName?t=this.indexOf(e):(t=e,e=this.getNode(e)),!t||this.hasActiveGrouping()&&e&&Ext.fly(e).hasCls(Ext.baseCSSPrefix+"grid-group-row"))},hasActiveGrouping:function(){return this.isGrouping&&this.store.isGrouped()},getCellPaddingAfter:function(e){return Ext.fly(e).getPadding("r")},hasVerticalScroll:function(){var e;return!(this.ownerCt.isLocked||!this.scrollFlags.y)&&(!!(e=this.el.down("table"))&&this.getHeight()<e.getHeight())}}),Ext.define("Ext.grid.View",{extend:Ext.view.Table,alias:"widget.gridview",stripeRows:!0,autoScroll:!0}),Ext.define("Ext.grid.Panel",{extend:Ext.panel.Table,alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:!1,rowLines:!0}),Ext.define("Ext.grid.plugin.BufferedRendererTableView",{override:"Ext.view.Table",onAdd:function(e,t,i){var n=this.bufferedRenderer,r=this.all;this.rendered&&n&&r.getCount()+t.length>n.viewSize?i<r.startIndex+n.viewSize&&i+t.length>r.startIndex?this.refreshView():n.stretchView(this,n.getScrollHeight()):this.callParent([e,t,i])},onRemove:function(e,t,i){var n,r,s,o=this.bufferedRenderer;this.callParent([e,t,i]),this.rendered&&o&&((n=this.dataSource.getCount())>(r=this.all).getCount()?(s=r.startIndex,o.renderRange(s,Math.min(s+o.viewSize,n)-1)):o.stretchView(this,o.getScrollHeight()))},onDataRefresh:function(){this.bufferedRenderer&&(this.all.clear(),this.bufferedRenderer.onStoreClear()),this.callParent()}}),Ext.define("Ext.grid.RowEditorButtons",{extend:Ext.container.Container,alias:"widget.roweditorbuttons",frame:!0,shrinkWrap:!0,position:"bottom",constructor:function(e){var t=e.rowEditor,i=Ext.baseCSSPrefix,n=t.editingPlugin;e=Ext.apply({baseCls:i+"grid-row-editor-buttons",defaults:{xtype:"button",ui:t.buttonUI,scope:n,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:i+"row-editor-update-button",itemId:"update",handler:n.completeEdit,text:t.saveBtnText,disabled:t.updateButtonDisabled},{cls:i+"row-editor-cancel-button",handler:n.cancelEdit,text:t.cancelBtnText}]},e),this.callParent([e]),this.addClsWithUI(this.position)},setButtonPosition:function(e){var t=this.rowEditor,i=t.getHeight(),n=t.body,r="",s="";this.removeClsWithUI(this.position),this.position=e,this.addClsWithUI(e),"top"===e?r=i-n.getBorderWidth("t")+"px":s=i-n.getBorderWidth("b")+"px",this.el.setStyle({top:s,bottom:r})},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var e=this.callParent();return e.top=!0,e}}),Ext.define("Ext.grid.RowEditor",{extend:Ext.form.Panel,alias:"widget.roweditor",saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,errorCls:Ext.baseCSSPrefix+"grid-row-editor-errors-item",buttonUI:"default",hideMode:"offsets",initComponent:function(){var e,t=this,i=t.editingPlugin.grid,n=Ext.container.Container;t.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor",t.layout={type:"hbox",align:"middle"},t.lockable=i.lockable,t.lockable?t.items=[t.lockedColumnContainer=new n({id:i.id+"-locked-editor-cells",layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),t.normalColumnContainer=new n({flex:1,id:i.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})]:t.lockedColumnContainer=t.normalColumnContainer=t,t.callParent(arguments),t.fields&&(t.addFieldsForColumn(t.fields,!0),t.insertColumnEditor(t.fields),delete t.fields),t.mon(t.hierarchyEventSource,{scope:t,show:t.repositionIfVisible}),(e=t.getForm()).trackResetOnLoad=!0,e.on("validitychange",t.onValidityChange,t)},onGridResize:function(){var e=this.getClientWidth(),t=this.editingPlugin.grid,i=t.body,n=this.getFloatingButtons();this.setLocalX(i.getOffsetsTo(t)[0]+i.getBorderWidth("l")-t.el.getBorderWidth("l")),this.setWidth(e),n.setLocalX((e-n.getWidth())/2)},syncAllFieldWidths:function(){var t=this;Ext.Array.each(t.query("[isEditorComponent]"),function(e){e.column.isVisible()&&t.onColumnShow(e.column)},t)},syncFieldWidth:function(e){var t,i=e.getEditor();i._marginWidth=i._marginWidth||i.el.getMargin("lr"),t=e.getWidth()-i._marginWidth,i.setWidth(t),"displayfield"===i.xtype&&(i.inputWidth=t)},onValidityChange:function(e,t){this.errorSummary&&this.isVisible()&&this[t?"hideToolTip":"showToolTip"](),this.updateButton(t),this.isValid=t},updateButton:function(e){var t=this.floatingButtons;t?t.child("#update").setDisabled(!e):this.updateButtonDisabled=!e},afterRender:function(){var e=this,t=e.editingPlugin,i=t.grid,n=i.lockable?i.normalGrid.view:i.view;e.callParent(arguments),e.scrollingView=n,e.scrollingViewEl=n.el,n.mon(e.scrollingViewEl,"scroll",e.onViewScroll,e),e.mon(e.el,{click:Ext.emptyFn,stopPropagation:!0}),e.mon(i,{resize:e.onGridResize,scope:e}),e.el.swallowEvent(["keypress","keydown"]),e.fieldScroller=e.normalColumnContainer.layout.innerCt,e.fieldScroller.dom.style.overflow="hidden",e.fieldScroller.on({scroll:e.onFieldContainerScroll,scope:e}),e.initKeyNav(),e.mon(t.view,{beforerefresh:e.onBeforeViewRefresh,refresh:e.onViewRefresh,itemremove:e.onViewItemRemove,scope:e}),e.preventReposition=!0,e.syncAllFieldWidths(),delete e.preventReposition},initKeyNav:function(){var e=this.editingPlugin;this.keyNav=new Ext.util.KeyNav(this.el,{enter:e.onEnterKey,esc:e.onEscKey,scope:e})},onBeforeViewRefresh:function(e){var t=e.el.dom;this.el.dom.parentNode===t&&t.removeChild(this.el.dom)},onViewRefresh:function(e){var t,i=this.context;i&&(t=e.getNode(i.record,!0))?(i.row=t,this.reposition(),this.tooltip&&this.tooltip.isVisible()&&this.tooltip.setTarget(i.row)):this.editingPlugin.cancelEdit()},onViewItemRemove:function(e,t){var i=this.context;i&&e===i.record&&this.editingPlugin.cancelEdit()},onViewScroll:function(){var e,t=this,i=t.editingPlugin.view.el,n=t.scrollingViewEl,r=n.dom.scrollTop,s=n.getScrollLeft(),o=s!==t.lastScrollLeft,a=r!==t.lastScrollTop;t.lastScrollTop=r,t.lastScrollLeft=s,t.isVisible()&&((e=Ext.getDom(t.context.row.id))&&i.contains(e)?a&&(t.context.row=e,t.reposition(null,!0),(t.tooltip&&t.tooltip.isVisible()||t.hiddenTip)&&t.repositionTip(),t.syncEditorClip()):t.setLocalY(-400)),t.rendered&&o&&t.syncFieldsHorizontalScroll()},syncFieldsHorizontalScroll:function(){this.fieldScroller.setScrollLeft(this.lastScrollLeft)},onFieldContainerScroll:function(){this.scrollingViewEl.setScrollLeft(this.fieldScroller.getScrollLeft())},onColumnResize:function(e,t){this.rendered&&!this.editingPlugin.reconfiguring&&(this.onGridResize(),this.onViewScroll(),e.isGroupHeader||(this.syncFieldWidth(e),this.repositionIfVisible()))},onColumnHide:function(e){this.editingPlugin.reconfiguring||e.isGroupHeader||(e.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(e){this.rendered&&!this.editingPlugin.reconfiguring&&!e.isGroupHeader&&e.getEditor&&(e.getEditor().show(),this.syncFieldWidth(e),this.preventReposition||this.repositionIfVisible())},onColumnMove:function(e,t,i){var n,r,s,o,a=1,l=e.isLocked()?this.lockedColumnContainer:this.normalColumnContainer;if(e.isGroupHeader){for(Ext.suspendLayouts(),e=e.getGridColumns(),t<i&&(i--,a=0),this.addFieldsForColumn(e),n=0,r=e.length;n<r;n++,t+=a,i+=a)s=e[n].getEditor(),-1===(o=l.items.indexOf(s))?l.insert(i,s):o!=i&&l.move(t,i);Ext.resumeLayouts(!0)}else t<i&&i--,this.addFieldsForColumn(e),s=e.getEditor(),-1===(o=l.items.indexOf(s))?l.insert(i,s):o!=i&&l.move(t,i)},onColumnAdd:function(e){e.isGroupHeader&&(e=e.getGridColumns()),this.addFieldsForColumn(e),this.insertColumnEditor(e),this.preventReposition=!1},insertColumnEditor:function(e){var t,i,n,r=this.editingPlugin.grid,s=r.lockable;if(Ext.isArray(e))for(n=0,i=e.length;n<i;n++)this.insertColumnEditor(e[n]);else e.getEditor&&(e.isLocked()?(t=this.lockedColumnContainer,r=r.lockedGrid):(t=this.normalColumnContainer,s&&(r=r.normalGrid)),t.insert(r.getColumnManager().getHeaderIndex(e),e.getEditor()))},onColumnRemove:function(e,t){t=t.isGroupHeader?t.getGridColumns():t,this.removeColumnEditor(t)},removeColumnEditor:function(e,t){var i,n,r;if(Ext.isArray(e))for(r=0,n=e.length;r<n;r++)this.removeColumnEditor(e[r]);else e.hasEditor()&&e.field.isComponent&&(i=e.getEditor())&&(t||e.isDestroyed?i.destroy():i.ownerCt&&i.ownerCt.remove(i,!1))},onColumnReplace:function(e,t,i,n){this.onColumnRemove(n.ownerCt,n)},getFloatingButtons:function(){var e=this.floatingButtons;return e||(this.floatingButtons=e=new Ext.grid.RowEditorButtons({rowEditor:this})),e},repositionIfVisible:function(e){var t=this.view;(!e||e!=this&&e.el.isAncestor(t.el))&&this.isVisible()&&t.isVisible(!0)&&this.reposition()},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(e){var t;return this.lockable?(t=this.lockedColumnContainer.getRefItems(e)).push.apply(t,this.normalColumnContainer.getRefItems(e)):t=this.callParent(arguments),t.push.apply(t,this.getFloatingButtons().getRefItems(e)),t},reposition:function(e,t){var i,n,r,s,o=this,a=o.context,l=a&&Ext.get(a.row),d=0;l&&Ext.isElement(l.dom)&&(r=o.syncButtonPosition(o.getScrollDelta()),o.editingPlugin.grid.rowLines||(d=-parseInt(l.first().getStyle("border-bottom-width"),10)),i=o.calculateLocalRowTop(l),n=o.calculateEditorTop(i)+d,t||(s=function(){r&&o.scrollingViewEl.scrollBy(0,r,!0),o.focusContextCell()}),o.syncEditorClip(),e?o.animate(Ext.applyIf({to:{top:n},duration:e.duration||125,callback:s},e)):(o.setLocalY(n),s&&s()))},getScrollDelta:function(){var e=this.scrollingViewEl.dom,t=this.context,i=this.body,n=0;return t&&0<(n=Ext.fly(t.row).getOffsetsTo(e)[1]-i.getBorderPadding().beforeY)&&(n=Math.max(n+this.getHeight()+this.floatingButtons.getHeight()-e.clientHeight-i.getBorderWidth("b"),0)),n},calculateLocalRowTop:function(e){var t=this.editingPlugin.grid;return Ext.fly(e).getOffsetsTo(t)[1]-t.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(e){return e-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var e=this.editingPlugin.grid;return this.lockable?e.lockedGrid.getWidth()+e.normalGrid.view.el.dom.clientWidth-1:e.view.el.dom.clientWidth},getEditor:function(e){return Ext.isNumber(e)?this.query("[isEditorComponent]")[e]:e.isHeader&&!e.isGroupHeader?e.getEditor():void 0},addFieldsForColumn:function(e,t){var i,n,r;if(Ext.isArray(e))for(i=0,n=e.length;i<n;i++)this.addFieldsForColumn(e[i],t);else e.getEditor&&(r=e.getEditor(null,this.getDefaultFieldCfg()),"right"===e.align&&(r.fieldStyle="text-align:right"),"actioncolumn"===e.xtype&&(r.fieldCls+=" "+Ext.baseCSSPrefix+"form-action-col-field"),this.isVisible()&&this.context&&(r.is("displayfield")?this.renderColumnData(r,this.context.record,e):(r.suspendEvents(),r.setValue(this.context.record.get(e.dataIndex)),r.resumeEvents())),e.hidden?this.onColumnHide(e):e.rendered&&!t&&this.onColumnShow(e))},getDefaultFieldCfg:function(){return{xtype:"displayfield",getModelData:function(){return null}}},loadRecord:function(e){var t,i,n,r=this.getForm(),s=r.getFields().items,o=s.length;for(t=0;t<o;t++)s[t].suspendEvents();for(r.loadRecord(e),t=0;t<o;t++)s[t].resumeEvents();for(n=r.isValid(),this.errorSummary&&(n?this.hideToolTip():this.showToolTip()),this.updateButton(n),o=(i=this.query(">displayfield")).length,t=0;t<o;t++)this.renderColumnData(i[t],e)},renderColumnData:function(e,t,i){var n,r,s,o=this.editingPlugin.grid.headerCt,a=this.scrollingView,l=a.dataSource,d=i||e.column,h=t.get(d.dataIndex),c=d.editRenderer||d.renderer;c&&(n={tdCls:"",style:""},r=l.indexOf(t),s=o.getHeaderIndex(d),h=c.call(d.scope||o.ownerCt,h,n,t,r,s,l,a)),e.setRawValue(h),e.resetOriginalValue()},beforeEdit:function(){var e;if(this.isVisible()&&this.errorSummary&&!this.autoCancel&&this.isDirty())return(e=this.getScrollDelta())&&this.scrollingViewEl.scrollBy(0,e,!0),this.showToolTip(),!1},startEdit:function(e,t){var i=this,n=i.editingPlugin,r=n.grid,s=i.context=n.context;i.rendered?i.syncFieldsHorizontalScroll():(i.width=i.getClientWidth(),i.render(r.el,r.el.dom.firstChild),i.getFloatingButtons().render(i.el),i.onViewScroll()),s.grid.getSelectionModel().select(e),i.isVisible()?i.reposition(!0):i.show(),i.onGridResize(),i.loadRecord(e)},syncButtonPosition:function(e){var t=this.getFloatingButtons(),i=this.scrollingViewEl.dom;return 0<this.getScrollDelta()-(i.scrollHeight-i.scrollTop-i.clientHeight)?(this._buttonsOnTop||(t.setButtonPosition("top"),this._buttonsOnTop=!0),e=0):!1!==this._buttonsOnTop&&(t.setButtonPosition("bottom"),this._buttonsOnTop=!1),e},syncEditorClip:function(){var e,t=this.getScrollDelta();t?(this.isOverflowing=!0,e=this.floatingButtons.getHeight(),0<t?this.clipBottom(Math.max(this.getHeight()-t+e,-e)):t<0&&(t=Math.abs(t),this.clipTop(Math.max(t,0)))):this.isOverflowing&&(this.clearClip(),this.isOverflowing=!1)},focusContextCell:function(){var e,t=this.context.column;t.isDestroyed||(e=this.getEditor(t))&&e.focus&&e.focus()},cancelEdit:function(){var e,t=this.getForm(),i=t.getFields().items,n=i.length;for(this.hide(),t.clearInvalid(),e=0;e<n;e++)i[e].suspendEvents();for(t.reset(),e=0;e<n;e++)i[e].resumeEvents()},completeEdit:function(){var e=this.getForm();return!!e.isValid()&&(e.updateRecord(this.context.record),this.hide(),!0)},onShow:function(){this.callParent(arguments),this.needsSyncFieldWidths&&(this.suspendLayouts(),this.syncAllFieldWidths(),this.resumeLayouts(!0)),delete this.needsSyncFieldWidths,this.reposition()},onHide:function(){this.callParent(arguments),this.tooltip&&this.hideToolTip(),this.context&&(this.context.view.focusRow(this.context.record),this.context=null)},isDirty:function(){return this.getForm().isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left",anchorToTarget:!1}))},hideToolTip:function(){var e=this.getToolTip();e.rendered&&e.disable(),this.hiddenTip=!1},showToolTip:function(){var e=this.getToolTip();e.showAt([0,0]),e.update(this.getErrors()),this.repositionTip(),e.enable()},repositionTip:function(){var e=this.getToolTip(),t=this.context,i=Ext.get(t.row),n=this.scrollingViewEl,r=n.dom.clientHeight,s=this.lastScrollTop,o=s+r,a=i.getHeight(),l=i.getOffsetsTo(this.context.view.body)[1];s<l+a&&l<o?(e.showAt(e.getAlignToXY(n,"tl-tr",[15,i.getOffsetsTo(n)[1]])),this.hiddenTip=!1):(e.hide(),this.hiddenTip=!0)},getErrors:function(){var e,t=[],i=this.query(">[isFormField]"),n=i.length;for(e=0;e<n;e++)t=t.concat(Ext.Array.map(i[e].getErrors(),this.createErrorListItem));return t.length||this.autoCancel||!this.isDirty()||(t[0]=this.createErrorListItem(this.dirtyText)),'<ul class="'+Ext.plainListCls+'">'+t.join("")+"</ul>"},createErrorListItem:function(e){return'<li class="'+this.errorCls+'">'+e+"</li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip),this.callParent()},clipBottom:function(e){this.el.setStyle("clip","rect(-1000px auto "+e+"px auto)")},clipTop:function(e){this.el.setStyle("clip","rect("+e+"px auto 1000px auto)")},clearClip:function(e){this.el.setStyle("clip","auto")}}),Ext.define("Ext.view.DropZone",{extend:Ext.dd.DropZone,indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",indicatorHtml:['<div class="',Ext.baseCSSPrefix,'grid-drop-indicator-left" role="presentation"></div>','<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role="presentation"></div>'].join(""),constructor:function(e){Ext.apply(this,e),this.ddGroup||(this.ddGroup="view-dd-zone-"+this.view.id),this.callParent([this.view.el])},fireViewEvent:function(){var e;return this.lock(),e=this.view.fireEvent.apply(this.view,arguments),this.unlock(),e},getTargetFromEvent:function(e){var t,i,n,r,s,o=e.getTarget(this.view.getItemSelector());if(!o)for(t=e.getPageY(),r=0,s=(i=this.view.getNodes()).length;r<s;r++)if(n=i[r],t<=Ext.fly(n).getBox().bottom)return n;return o},getIndicator:function(){return this.indicator||(this.indicator=new Ext.Component({ariaRole:"presentation",html:this.indicatorHtml,cls:this.indicatorCls,ownerCt:this.view,floating:!0,shadow:!1})),this.indicator},getPosition:function(e,t){var i=e.getXY()[1],n=Ext.fly(t).getRegion();return n.bottom-i>=(n.bottom-n.top)/2?"before":"after"},containsRecordAtOffset:function(e,t,i){if(!t)return!1;var n=this.view,r=n.indexOf(t),s=n.getNode(r+i,!0),o=s?n.getRecord(s):null;return o&&Ext.Array.contains(e,o)},positionIndicator:function(e,t,i){var n,r=this,s=r.view,o=r.getPosition(i,e),a=s.getRecord(e),l=t.records;Ext.Array.contains(l,a)||("before"!=o||r.containsRecordAtOffset(l,a,-1))&&("after"!=o||r.containsRecordAtOffset(l,a,1))?r.invalidateDrop():(r.valid=!0,r.overRecord==a&&r.currentPosition==o||(n=Ext.fly(e).getY()-s.el.getY()-1,"after"==o&&(n+=Ext.fly(e).getHeight()),r.getIndicator().setWidth(Ext.fly(s.el).getWidth()).showAt(0,n),r.overRecord=a,r.currentPosition=o))},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(e,t,i,n){return Ext.Array.contains(n.records,this.view.getRecord(e))||this.positionIndicator(e,n,i),this.valid?this.dropAllowed:this.dropNotAllowed},notifyOut:function(e,t,i,n){this.callParent(arguments),this.overRecord=this.currentPosition=null,this.valid=!1,this.indicator&&this.indicator.hide()},onContainerOver:function(e,t,i){var n=this.view;return n.dataSource.getCount()?this.positionIndicator(n.all.last(),i,t):(this.overRecord=this.currentPosition=null,this.getIndicator().setWidth(Ext.fly(n.el).getWidth()).showAt(0,0),this.valid=!0),this.dropAllowed},onContainerDrop:function(e,t,i){return this.onNodeDrop(e,null,t,i)},onNodeDrop:function(e,t,i,n){var r=this,s=!1,o={wait:!1,processDrop:function(){r.invalidateDrop(),r.handleNodeDrop(n,r.overRecord,r.currentPosition),s=!0,r.fireViewEvent("drop",e,n,r.overRecord,r.currentPosition)},cancelDrop:function(){r.invalidateDrop(),s=!0}},a=!1;if(r.valid){if(a=r.fireViewEvent("beforedrop",e,n,r.overRecord,r.currentPosition,o),o.wait)return;!1!==a&&(s||o.processDrop())}return a},destroy:function(){Ext.destroy(this.indicator),delete this.indicator,this.callParent()}}),Ext.define("Ext.grid.ViewDropZone",{extend:Ext.view.DropZone,indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left" role="presentation"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role="presentation"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(e,t,i){var n,r,s,o,a=this.view,l=a.getStore();if(e.copy)for(r=e.records,e.records=[],s=0,o=r.length;s<o;s++)e.records.push(r[s].copy());else e.view.store.remove(e.records,e.view===a);t&&i?(n=l.indexOf(t),"before"!==i&&n++,l.insert(n,e.records)):l.add(e.records),a.getSelectionModel().select(e.records)}}),Ext.define("Ext.grid.plugin.HeaderResizer",{extend:Ext.AbstractPlugin,alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(e){(this.headerCt=e).on("render",this.afterHeaderRender,this,{single:!0})},destroy:function(){var e=this.tracker;e&&(delete e.onBeforeStart,delete e.onStart,delete e.onDrag,delete e.onEnd,e.destroy(),this.tracker=null)},afterHeaderRender:function(){var e=this.headerCt,t=e.el;e.mon(t,"mousemove",this.onHeaderCtMouseMove,this),this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:t})},onHeaderCtMouseMove:function(e,t){var i,n,r,s,o,a,l=this;l.headerCt.dragging?l.activeHd&&(l.activeHd.el.dom.style.cursor="",delete l.activeHd):(n=e.getTarget("."+l.colHeaderCls,3,!0))&&((r=Ext.getCmp(n.id)).isOnLeftEdge(e)?(s=r.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&(a=l.headerCt.up("tablepanel"),(o=s.up("tablepanel"))===a||a.ownerCt.isXType("tablepanel")&&a.ownerCt.view.lockedGrid===o||(s=null)):s=r.isOnRightEdge(e)?r:null,s?(s.isGroupHeader&&(s=(i=s.getGridColumns())[i.length-1]),!s||s.fixed||!1===s.resizable||l.disabled||(l.activeHd=s,r.el.dom.style.cursor=l.eResizeCursor,r.triggerEl&&(r.triggerEl.dom.style.cursor=l.eResizeCursor))):(r.el.dom.style.cursor="",r.triggerEl&&(r.triggerEl.dom.style.cursor=""),l.activeHd=null))},onBeforeStart:function(e){return this.dragHd=this.activeHd,this.dragHd&&!this.headerCt.dragging?(this.tracker.constrainTo=this.getConstrainRegion(),!0):this.headerCt.dragging=!1},getConstrainRegion:function(){var e,t,i=this,n=i.dragHd.el,r=0;return i.headerCt.forceFit?(e=i.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&(i.headerInSameGrid(e)||(e=null),r=e.getWidth()-i.minColWidth):r=(t=i.dragHd.up("tablepanel")).isLocked?i.dragHd.up("[scrollerOwner]").getWidth()-t.getWidth()-30:i.maxColWidth-n.getWidth(),i.adjustConstrainRegion(n.getRegion(),0,r,0,i.minColWidth)},onStart:function(e){var t,i,n,r,s,o,a,l=this.dragHd,d=l.el.getWidth(),h=l.getOwnerHeaderCt();this.headerCt.dragging=!0,this.origWidth=d,this.dynamic||((n=r=h.up("tablepanel")).ownerLockable&&(r=n.ownerLockable),t=this.getLeftMarkerX(r),s=r.getLhsMarker(),o=r.getRhsMarker(),a=n.body.getHeight()+h.getHeight(),i=h.getOffsetsTo(r)[1],s.setLocalY(i),o.setLocalY(i),s.setHeight(a),o.setHeight(a),this.setMarkerX(s,t),this.setMarkerX(o,t+d))},onDrag:function(e){var t;this.dynamic?this.doResize():((t=this.headerCt.up("tablepanel")).ownerLockable&&(t=t.ownerLockable),this.setMarkerX(this.getMovingMarker(t),this.calculateDragX(t)))},getMovingMarker:function(e){return e.getRhsMarker()},onEnd:function(e){if(this.headerCt.dragging=!1,this.dragHd){if(!this.dynamic){var t=this.headerCt.up("tablepanel");t.ownerLockable&&(t=t.ownerLockable),this.setMarkerX(t.getLhsMarker(),-9999),this.setMarkerX(t.getRhsMarker(),-9999)}this.doResize()}},doResize:function(){var e,t,i=this.dragHd;i&&(t=this.tracker.getOffset("point"),i.flex&&delete i.flex,Ext.suspendLayouts(),this.adjustColumnWidth(t[0]),this.headerCt.forceFit&&((e=i.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&!this.headerInSameGrid(e)&&(e=null),e&&(delete e.flex,e.setWidth(e.getWidth()-t[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(e){var t=this.dragHd.up("tablepanel");return!!e.up(t)},disable:function(){this.disabled=!0,this.tracker&&this.tracker.disable()},enable:function(){this.disabled=!1,this.tracker&&this.tracker.enable()},calculateDragX:function(e){return this.tracker.getXY("point")[0]-e.getX()-e.el.getBorderWidth("l")},getLeftMarkerX:function(e){return this.dragHd.getX()-e.getX()-e.el.getBorderWidth("l")-1},setMarkerX:function(e,t){e.setLocalX(t)},adjustConstrainRegion:function(e,t,i,n,r){return e.adjust(t,i,n,r)},adjustColumnWidth:function(e){this.dragHd.setWidth(this.origWidth+e)}}),Ext.define("Ext.grid.header.DragZone",{extend:Ext.dd.DragZone,colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(e){this.headerCt=e,this.ddGroup=this.getDDGroup(),this.autoGroup=!0,this.callParent([e.el]),this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(e){if(e.getTarget(this.colInnerSelector)){var t,i,n=e.getTarget(this.colHeaderSelector);if(n&&(t=Ext.getCmp(n.id),!this.headerCt.dragging&&t.draggable&&!t.isOnLeftEdge(e)&&!t.isOnRightEdge(e)))return(i=document.createElement("div")).role="presentation",i.innerHTML=Ext.getCmp(n.id).text,{ddel:i,header:t}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0,this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1,this.callParent(arguments)},afterRepair:function(){this.callParent(),this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}}),Ext.define("Ext.grid.header.DropZone",{extend:Ext.dd.DropZone,colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(e){this.headerCt=e,this.ddGroup=this.getDDGroup(),this.autoGroup=!0,this.callParent([e.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(e){return e.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.self.prototype.topIndicator=Ext.DomHelper.append(Ext.getBody(),{role:"presentation",cls:"col-move-top",html:"&#160;"},!0),this.self.prototype.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.self.prototype.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{role:"presentation",cls:"col-move-bottom",html:"&#160;"},!0)),this.bottomIndicator},getLocation:function(e,t){var i=e.getXY()[0],n=Ext.fly(t).getRegion();return{pos:n.right-i<=(n.right-n.left)/2?"after":"before",header:Ext.getCmp(t.id),node:t}},positionIndicator:function(e,t,i){var n,r,s,o,a,l,d,h,c,u,f,g,p,m,x,y=this,E=e.header,v=y.getLocation(i,t),b=v.header,C=v.pos;if(b!==y.lastTargetHeader||C!==y.lastDropPos){if(n=E.nextSibling("gridcolumn:not([hidden])"),r=E.previousSibling("gridcolumn:not([hidden])"),y.lastTargetHeader=b,y.lastDropPos=C,!b.draggable&&"before"===C&&0===b.getIndex())return!1;if(e.dropLocation=v,E!==b&&("before"===C&&n!==b||"after"===C&&r!==b)&&!b.isDescendantOf(E)){for(p=(g=Ext.dd.DragDropManager.getRelated(y)).length,m=0;m<p;m++)(x=g[m])!==y&&x.invalidateDrop&&x.invalidateDrop();y.valid=!0,s=y.getTopIndicator(),o=y.getBottomIndicator(),l="before"===C?(a="bc-tl","tc-bl"):(a="bc-tr","tc-br"),d=s.getAlignToXY(b.el,a),h=o.getAlignToXY(b.el,l),u=(c=y.headerCt.el).getX()-y.indicatorXOffset,f=c.getX()+c.getWidth(),d[0]=Ext.Number.constrain(d[0],u,f),h[0]=Ext.Number.constrain(h[0],u,f),s.setXY(d),o.setXY(h),s.show(),o.show()}else y.invalidateDrop()}},invalidateDrop:function(){this.valid=!1,this.hideIndicators()},onNodeOver:function(e,t,i,n){var r,s,o,a,l=n.header;return n.header.el.dom===e?r=!1:(n.isLock=n.isUnlock=!1,s=this.getLocation(i,e).header,(r=l.ownerCt===s.ownerCt)||l.ownerCt.sealed||s.ownerCt.sealed||(r=!0,o=l.up("tablepanel"),a=s.up("tablepanel"),n.isLock=a.isLocked&&!o.isLocked,n.isUnlock=!a.isLocked&&o.isLocked,(n.isUnlock&&!1===l.lockable||n.isLock&&!l.isLockable())&&(r=!1))),r?this.positionIndicator(n,e,i):this.valid=!1,this.valid?this.dropAllowed:this.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide(),this.getBottomIndicator().hide(),this.lastTargetHeader=this.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(e,t,i,n){if(this.valid){var r,s=n.header,o=n.dropLocation,a=o.header,l=s.ownerCt,d=l.items.indexOf(s),h=a.ownerCt,c=h.items.indexOf(a),u=this.headerCt,f=u.visibleColumnManager,g=f.getHeaderIndex(s),p=f.getHeaderIndex(a),m=s.isGroupHeader?s.query(":not([hidden]):not([isGroupHeader])").length:1,x=l===h;if("after"===o.pos&&(c++,p+=a.isGroupHeader?a.query(":not([hidden]):not([isGroupHeader])").length:1),n.isLock)l.up("[scrollerOwner]").lock(s,c,h);else if(n.isUnlock)l.up("[scrollerOwner]").unlock(s,c,h);else{if(this.invalidateDrop(),r=s.getWidth(),x&&(d<c&&(c-=1),c===d))return void u.onHeaderMoved(s,m,g,p);Ext.suspendLayouts(),s.dropMoving=!0,x?h.move(d,c):(l.remove(s,!1),h.insert(c,s)),delete s.dropMoving,h.isGroupHeader?x||(s.savedFlex=s.flex,delete s.flex,s.width=r):s.savedFlex&&(s.flex=s.savedFlex,delete s.width),u.purgeCache(),Ext.resumeLayouts(!0),u.onHeaderMoved(s,m,g,p)}}}}),Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:Ext.AbstractPlugin,alias:"plugin.gridheaderreorderer",init:function(e){(this.headerCt=e).on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){this.dragZone=new Ext.grid.header.DragZone(this.headerCt),this.dropZone=new Ext.grid.header.DropZone(this.headerCt),this.disabled&&this.dragZone.disable()},enable:function(){this.disabled=!1,this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0,this.dragZone&&this.dragZone.disable()}}),Ext.define("Ext.grid.header.Container",{extend:Ext.container.Container,border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",triStateSort:!1,ddLock:!1,dragging:!1,sortable:!0,enableColumnHide:!0,initComponent:function(){var e=this;e.headerCounter=0,e.plugins=e.plugins||[],e.isColumn||(e.enableColumnResize&&(e.resizer=new Ext.grid.plugin.HeaderResizer,e.plugins.push(e.resizer)),e.enableColumnMove&&(e.reorderer=new Ext.grid.plugin.HeaderReorderer,e.plugins.push(e.reorderer))),e.isColumn&&!e.isGroupHeader?e.items&&0!==e.items.length||(e.isContainer=!1,e.layout={type:"container",calculate:Ext.emptyFn}):(e.layout=Ext.apply({type:"gridcolumn",align:"stretch"},e.initialConfig.layout),e.isGroupHeader?(e.visibleColumnManager=new Ext.grid.ColumnManager(!0,e),e.columnManager=new Ext.grid.ColumnManager(!1,e)):(e.isRootHeader=!0,e.columnManager=new Ext.grid.ColumnManager(!1,e),e.visibleColumnManager=new Ext.grid.ColumnManager(!0,e),e.grid&&(e.grid.columnManager=e.columnManager,e.grid.visibleColumnManager=e.visibleColumnManager))),e.defaults=e.defaults||{},Ext.applyIf(e.defaults,{triStateSort:e.triStateSort,sortable:e.sortable}),e.menuTask=new Ext.util.DelayedTask(e.updateMenuDisabledState,e),e.callParent(),e.addEvents("columnresize","headerclick","headercontextmenu","headertriggerclick","columnmove","columnhide","columnshow","columnschanged","sortchange","menucreate")},isLayoutRoot:function(){return!this.hiddenHeaders&&this.callParent()},getOwnerHeaderCt:function(){return this.isRootHeader?this:this.up("[isRootHeader]")},onDestroy:function(){var e=this;e.menu&&e.menu.un("hide",e.onMenuHide,e),e.menuTask.cancel(),e.callParent(),Ext.destroy(e.resizer,e.reorderer,e.visibleColumnManager,e.columnManager,e.menu),e.columnManager=e.visibleColumnManager=null},applyColumnsState:function(e){if(e&&e.length){var t,i,n,r,s=this.items.items,o=s.length,a=0,l=e.length;for(t=0;t<l;t++)for(n=e[t],r=o;r--;)if((i=s[r]).getStateId&&i.getStateId()==n.id){a!==r&&this.moveHeader(r,a),i.applyColumnState&&i.applyColumnState(n),++a;break}}},getColumnsState:function(){var t,i=[];return this.items.each(function(e){(t=e.getColumnState&&e.getColumnState())&&i.push(t)}),i},onAdd:function(e){e.headerId||(e.headerId=e.initialConfig.id||Ext.id(null,"header-")),e.getStateId()||(e.stateId=e.initialConfig.id||"h"+ ++this.headerCounter),this.callParent(arguments),this.onColumnsChanged(),this.checkMoveNotify(e)},onMove:function(e,t,i){this.callParent(arguments),this.onColumnsChanged(),e.dropMoving||(this.checkMoveNotify(e),this.fireEvent("columnmove",this,e,t,i))},onRemove:function(e){var t=this.ownerCt;this.callParent(arguments),this.destroying||(this.onColumnsChanged(),this.checkMoveNotify(e),this.isGroupHeader&&!this.items.getCount()&&t&&(this.detachComponent(e),Ext.suspendLayouts(),t.remove(this),Ext.resumeLayouts(!0)))},checkMoveNotify:function(e){var t,i;e.isGroupHeader||(i=this.getOwnerHeaderCt())&&(t=i.ownerCt)&&t.onHeadersChanged(i,e)},onShow:function(){this.callParent(arguments),this.onColumnsChanged()},onColumnsChanged:function(){this.purgeHeaderCtCache(this),this&&this.rendered&&this.fireEvent("columnschanged",this)},applyDefaults:function(e){var t;return e&&!e.isComponent&&"rownumberer"==e.xtype?t=e:(t=this.callParent(arguments),e.isGroupHeader||"width"in t||t.flex||(t.width=this.defaultWidth)),t},setSortState:function(){var e,t=this.up("[store]").store.getFirstSorter();t?(e=this.down("gridcolumn[dataIndex="+t.property+"]"))&&e.setSortState(t.direction,!1,!0):this.clearOtherSortStates(null)},getHeaderMenu:function(){var e,t=this.getMenu();return t&&(e=t.child("#columnItem"))?e.menu:null},onHeaderVisibilityChange:function(e,t){var i,n=this.getHeaderMenu();this.purgeHeaderCtCache(e.ownerCt),n&&((i=this.getMenuItemForHeader(n,e))&&i.setChecked(t,!0),n.isVisible()&&this.menuTask.delay(50))},updateMenuDisabledState:function(e){var t,i,n,r,s=this.query(":not([hidden])"),o=s.length;for(e=e||this.getMenu(),t=0;t<o;++t)i=s[t],(n=this.getMenuItemForHeader(e,i))&&(r=i.isHideable()?"enable":"disable",n.menu&&(r+="CheckChange"),n[r]())},getMenuItemForHeader:function(e,t){return t?e.down("menucheckitem[headerId="+t.id+"]"):null},onHeaderShow:function(e){var t=this.ownerCt;this.forceFit&&delete this.flex,this.onHeaderVisibilityChange(e,!0),e.isGroupHeader||t&&t.onHeaderShow(this,e),this.fireEvent("columnshow",this,e),this.fireEvent("columnschanged",this)},onHeaderHide:function(e){var t=this.ownerCt;this.onHeaderVisibilityChange(e,!1),e.isGroupHeader||t&&t.onHeaderHide(this,e),this.fireEvent("columnhide",this,e),this.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=!0,Ext.Function.defer(function(){this.ddLock=!1},200,this)},onHeaderResize:function(e,t,i){var n=this.view,r=this.ownerCt;n&&n.body.dom&&(this.tempLock(),r&&r.onHeaderResize(this,e,t)),this.fireEvent("columnresize",this,e,t)},onHeaderClick:function(e,t,i){e.fireEvent("headerclick",this,e,t,i),this.fireEvent("headerclick",this,e,t,i)},onHeaderContextMenu:function(e,t,i){e.fireEvent("headercontextmenu",this,e,t,i),this.fireEvent("headercontextmenu",this,e,t,i)},onHeaderTriggerClick:function(e,t,i){!1!==e.fireEvent("headertriggerclick",this,e,t,i)&&!1!==this.fireEvent("headertriggerclick",this,e,t,i)&&this.showMenuBy(i,e)},showMenuBy:function(e,t){var i,n=this.getMenu(),r=n.down("#ascItem"),s=n.down("#descItem");n.activeHeader=n.ownerButton=t,t.setMenuActive(!0),i=t.sortable?"enable":"disable",r&&r[i](),s&&s[i](),n.showBy(e)},onMenuHide:function(e){e.activeHeader.setMenuActive(!1)},moveHeader:function(e,t){this.tempLock(),this.onHeaderMoved(this.move(e,t),1,e,t)},purgeHeaderCtCache:function(e){for(;e;){if(e.purgeCache(),e.isRootHeader)return;e=e.ownerCt}},purgeCache:function(){var e=this.menu,t=this.visibleColumnManager,i=this.columnManager;this.gridVisibleColumns=this.gridDataColumns=this.hideableColumns=null,t&&(t.invalidate(),i.invalidate()),e&&e.hidden&&(e.hide(),e.destroy(),this.menu=null)},onHeaderMoved:function(e,t,i,n){var r=this.ownerCt;this.rendered&&(r&&r.onHeaderMove&&r.onHeaderMove(this,e,t,i,n),this.fireEvent("columnmove",this,e,i,n))},getMenu:function(){var e=this;return e.menu||(e.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:e.getMenuItems(),listeners:{hide:e.onMenuHide,scope:e}}),e.fireEvent("menucreate",e,e.menu)),e.updateMenuDisabledState(e.menu),e.menu},getMenuItems:function(){var e=this,t=[],i=e.enableColumnHide?e.getColumnMenu(e):null;return e.sortable&&(t=[{itemId:"ascItem",text:e.sortAscText,iconCls:e.menuSortAscCls,handler:e.onSortAscClick,scope:e},{itemId:"descItem",text:e.sortDescText,iconCls:e.menuSortDescCls,handler:e.onSortDescClick,scope:e}]),i&&i.length&&(e.sortable&&t.push("-"),t.push({itemId:"columnItem",text:e.columnsText,iconCls:e.menuColsIcon,menu:i,hideOnClick:!1})),t},onSortAscClick:function(){this.getMenu().activeHeader.setSortState("ASC")},onSortDescClick:function(){this.getMenu().activeHeader.setSortState("DESC")},getColumnMenu:function(e){for(var t,i,n=[],r=0,s=e.query(">gridcolumn[hideable]"),o=s.length;r<o;r++)t=s[r],i=new Ext.menu.CheckItem({text:t.menuText||t.text,checked:!t.hidden,hideOnClick:!1,headerId:t.id,menu:t.isGroupHeader?this.getColumnMenu(t):void 0,checkHandler:this.onColumnCheckChange,scope:this}),n.push(i),t.on({destroy:Ext.Function.bind(i.destroy,i)});return n},onColumnCheckChange:function(e,t){Ext.getCmp(e.headerId)[t?"show":"hide"]()},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(){for(var e,t=0,i=this.getVisibleGridColumns(),n=i.length,r=0;r<n;r++)(e=i[r]).getDesiredWidth?t+=e.getDesiredWidth()||0:t+=e.getWidth();return t},clearOtherSortStates:function(e){for(var t=this.getGridColumns(),i=t.length,n=0;n<i;n++)t[n]!==e&&t[n].setSortState(null,!0)},getVisibleGridColumns:function(){if(this.gridVisibleColumns)return this.gridVisibleColumns;var e,t=this.getGridColumns(),i=[],n=t.length;for(e=0;e<n;e++)t[e].hidden||(i[i.length]=t[e]);return this.gridVisibleColumns=i},getGridColumns:function(e,t){if(!e&&this.gridDataColumns)return this.gridDataColumns;var i,n,r,s,o,a=e||[];if(t=t||this.hidden,this.items)for(n=0,r=(i=this.items.items).length;n<r;n++)(s=i[n]).isGroupHeader?s.getGridColumns(a,t):(s.hiddenAncestor=t,a.push(s));if(e||(this.gridDataColumns=a),!e&&r){for(n=0,r=a.length;n<r;n++)(s=a[n]).isFirstVisible=s.isLastVisible=!1,s.hidden||s.hiddenAncestor||(o||(s.isFirstVisible=!0),o=s);o&&(o.isLastVisible=!0)}return a},getHideableColumns:function(){var e=this.hideableColumns;return e=e||(this.hideableColumns=this.query("[hideable]"))},getHeaderIndex:function(e){return this.columnManager||(this.columnManager=this.getOwnerHeaderCt().columnManager),this.columnManager.getHeaderIndex(e)},getHeaderAtIndex:function(e){return this.columnManager||(this.columnManager=this.getOwnerHeaderCt().columnManager),this.columnManager.getHeaderAtIndex(e)},getVisibleHeaderClosestToIndex:function(e){return this.visibleColumnManager||(this.visibleColumnManager=this.getOwnerHeaderCt().visibleColumnManager),this.visibleColumnManager.getVisibleHeaderClosestToIndex(e)},applyForceFit:function(t){var i,n,r,e,s,o=this.view,a=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,l=!1,d=Ext.grid.header.Container.prototype.defaultWidth,h=this.el.getViewSize().width-(o.el.dom.scrollHeight>o.el.dom.clientHeight?Ext.getScrollbarSize().width:0),c=0,u=this.getVisibleGridColumns(),f=t.hidden;Ext.suspendLayouts(),e=h-(u.length+1)*a,t.flex=null,f?(s=t.width||t.savedWidth,t.savedWidth=null):s=o.getMaxContentWidth(t),e<s?(t.width=e,l=!0):(t.width=s,h-=s+d,function(){for(n=0,i=u.length;n<i;n++)(r=u[n])!==t&&(r.flex=r.flex||r.width||r.getWidth(),c+=r.flex,r.width=null)}()),function(){var e;for(n=0,i=u.length;n<i;n++)e=(r=u[n])===t,l&&!e?(r.flex=a,r.width=null):e||(s=r.flex||d,r.flex=Math.max(Math.ceil(s/c*h),a),r.width=null),r.setWidth(r.width||r.flex)}(),Ext.resumeLayouts(!0)},autoSizeColumn:function(e){var t=this.view;t&&(t.autoSizeColumn(e),this.forceFit&&this.applyForceFit(e))}}),Ext.define("Ext.grid.column.Column",{extend:Ext.grid.header.Container,alias:"widget.gridcolumn",alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:4,ariaRole:"columnheader",sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],noWrap:!0,renderTpl:['<div id="{id}-titleEl" role="presentation" {tipMarkup}class="',Ext.baseCSSPrefix,"column-header-inner",'<tpl if="empty"> ',Ext.baseCSSPrefix,'column-header-inner-empty</tpl>">','<span id="{id}-textEl" class="',Ext.baseCSSPrefix,"column-header-text",'{childElCls}">',"{text}","</span>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" role="presentation" class="',Ext.baseCSSPrefix,"column-header-trigger",'{childElCls}"></div>',"</tpl>","</div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,editRenderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:!0,isColumn:!0,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,initComponent:function(){var e,t,i=this;null!=i.header&&(i.text=i.header,i.header=null),i.triStateSort||(i.possibleSortStates.length=2),null!=i.columns?(i.isGroupHeader=!0,i.items=i.columns,i.columns=i.flex=i.width=null,i.cls=(i.cls||"")+" "+i.groupHeaderCls,i.sortable=i.resizable=!1,i.align="center"):i.flex&&(i.minWidth=i.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth),i.addCls(Ext.baseCSSPrefix+"column-header-align-"+i.align),(e=i.renderer)?("string"==typeof e&&(i.renderer=Ext.util.Format[e]),i.hasCustomRenderer=!0):i.defaultRenderer&&((i.scope=i).renderer=i.defaultRenderer),i.callParent(arguments),t={element:i.clickTargetName,click:i.onTitleElClick,contextmenu:i.onTitleElContextMenu,mouseenter:i.onTitleMouseOver,mouseleave:i.onTitleMouseOut,scope:i},i.resizable&&(t.dblclick=i.onTitleElDblClick),i.on(t)},initItems:function(){this.callParent(arguments),this.isGroupHeader&&(this.hasVisibleChildren()||this.hide())},hasVisibleChildren:function(){var e,t=this.items.items,i=t.length;for(e=0;e<i;++e)if(!t[e].hidden)return!0;return!1},onAdd:function(e){var t=this.getOwnerHeaderCt();e.isColumn&&(e.isSubHeader=!0,e.addCls(this.groupSubHeaderCls)),this.hidden&&(t?e.hidden||this.show():e.hide()),this.callParent(arguments)},onRemove:function(e){e.isSubHeader&&(e.isSubHeader=!1,e.removeCls(this.groupSubHeaderCls)),this.callParent(arguments),this.isGroupHeader&&!this.hasVisibleChildren()&&this.hide()},initRenderData:function(){var e="",t=this.tooltip,i=this.text,n="qtip"==this.tooltipType?"data-qtip":"title";return Ext.isEmpty(t)||(e=n+'="'+t+'" '),Ext.applyIf(this.callParent(arguments),{text:i,empty:"&#160;"===i||" "===i||""===i,menuDisabled:this.menuDisabled,tipMarkup:e})},applyColumnState:function(e){this.applyColumnsState(e.columns),null!=e.hidden&&(this.hidden=e.hidden),null!=e.locked&&(this.locked=e.locked),null!=e.sortable&&(this.sortable=e.sortable),null!=e.width?(this.flex=null,this.width=e.width):null!=e.flex&&(this.width=null,this.flex=e.flex)},getColumnState:function(){var e,t=this.items.items,i=t?t.length:0,n=[],r={id:this.getStateId()};if(this.savePropsToState(["hidden","sortable","locked","flex","width"],r),this.isGroupHeader){for(e=0;e<i;e++)n.push(t[e].getColumnState());n.length&&(r.columns=n)}else this.isSubHeader&&this.ownerCt.hidden&&delete this.hidden;return"width"in r&&delete r.flex,r},getStateId:function(){return this.stateId||this.headerId},setText:function(e){this.text=e,this.rendered&&this.textEl.update(e)},getIndex:function(){return!this.isGroupColumn&&this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return!this.isGroupColumn&&Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var e=this.up("tablepanel");this.callParent(),!e||this.sortable&&!1!==e.sortableColumns||this.groupable||this.lockable||!1!==e.enableColumnHide&&this.getOwnerHeaderCt().getHideableColumns().length||(this.menuDisabled=!0),this.protoEl.unselectable()},afterRender:function(){var e=this,t=e.triggerEl;e.callParent(arguments),Ext.isIE8&&Ext.isStrict||e.mon(e.getFocusEl(),{focus:e.onTitleMouseOver,blur:e.onTitleMouseOut,scope:e}),t&&void 0===e.self.triggerElWidth&&(t.setStyle("display","block"),e.self.triggerElWidth=t.getWidth(),t.setStyle("display","")),e.keyNav=new Ext.util.KeyNav(e.el,{enter:e.onEnterKey,down:e.onDownKey,scope:e})},afterComponentLayout:function(e,t,i,n){var r=this.getOwnerHeaderCt();this.callParent(arguments),r&&(null!=i||this.flex)&&e!==i&&r.onHeaderResize(this,e,!0)},onDestroy:function(){Ext.destroy(this.textEl,this.keyNav,this.field),this.keyNav=null,this.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(e){this.triggerEl&&this.onTitleElClick(e,this.triggerEl.dom||this.el.dom)},onEnterKey:function(e){this.onTitleElClick(e,this.el.dom)},onTitleElDblClick:function(e,t){var i,n;if(this.isOnLeftEdge(e))(i=this.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&i.getOwnerHeaderCt()===this.getOwnerHeaderCt()&&i.autoSize();else if(this.isOnRightEdge(e)){if(this.isGroupHeader&&e.getPoint().isContainedBy(this.layout.innerCt))return n=this.query("gridcolumn:not([hidden]):not([isGroupHeader])"),void this.getOwnerHeaderCt().autoSizeColumn(n[n.length-1]);this.autoSize()}},autoSize:function(){var e,t,i,n;if(this.isGroupHeader){for(t=(e=this.query("gridcolumn:not([hidden]):not([isGroupHeader])")).length,n=this.getOwnerHeaderCt(),Ext.suspendLayouts(),i=0;i<t;i++)n.autoSizeColumn(e[i]);Ext.resumeLayouts(!0)}else this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(e,t){var i=this,n=i.getOwnerHeaderCt();n&&!n.ddLock&&(i.triggerEl&&(e.target===i.triggerEl.dom||t===i.triggerEl.dom||e.within(i.triggerEl))?n.onHeaderTriggerClick(i,e,t):!e.getKey()&&(i.isOnLeftEdge(e)||i.isOnRightEdge(e))||(i.toggleSortState(),n.onHeaderClick(i,e,t)))},onTitleElContextMenu:function(e,t){var i=this.getOwnerHeaderCt();i&&!i.ddLock&&i.onHeaderContextMenu(this,e,t)},processEvent:function(e,t,i,n,r,s){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var e;this.sortable&&(e=(Ext.Array.indexOf(this.possibleSortStates,this.sortState)+1)%this.possibleSortStates.length,this.setSortState(this.possibleSortStates[e]))},doSort:function(e){var t=this.up("tablepanel"),i=t.store;t.ownerLockable&&i.isNodeStore&&(i=t.ownerLockable.lockedGrid.store),i.sort({property:this.getSortParam(),direction:e})},getSortParam:function(){return this.dataIndex},setSortState:function(e,t,i){var n=this,r=n.ascSortCls,s=n.descSortCls,o=n.getOwnerHeaderCt(),a=n.sortState;if(e=e||null,!n.sorting&&a!==e&&null!=n.getSortParam()){switch(e&&!i&&(n.sorting=!0,n.doSort(e),n.sorting=!1),e){case"DESC":n.addCls(s),n.removeCls(r);break;case"ASC":n.addCls(r),n.removeCls(s);break;default:n.removeCls([r,s])}!o||n.triStateSort||t||o.clearOtherSortStates(n),n.sortState=e,!n.triStateSort&&null==e||o.fireEvent("sortchange",o,n,e)}},isHideable:function(){var e={hideCandidate:this,result:this.hideable};return e.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[e]),e.result},hasOtherMenuEnabledChildren:function(e){var t,i;return this.isXType("headercontainer")?(i=(t=this.query(">:not([hidden]):not([menuDisabled])")).length,Ext.Array.contains(t,e.hideCandidate)&&i--,!i&&void(e.hideCandidate=this)):e.result=!1},isLockable:function(){var e={result:!1!==this.lockable};return e.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[e]),e.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(e){return this.isXType("headercontainer")?!(1<this.query(">:not([hidden])").length)&&void 0:e.result=!1},hide:function(e){var t,i,n,r,s=this,o=s.getOwnerHeaderCt(),a=s.ownerCt;if(!o)return s.callParent(),s;if(s.rendered&&!s.isVisible())return s;if(o.forceFit&&(s.visibleSiblingCount=o.getVisibleGridColumns().length-1,s.flex&&(s.savedWidth=s.getWidth(),s.flex=null)),!a.isGroupHeader||e||1!==(i=a.query(">:not([hidden])")).length||i[0]!=s){if(Ext.suspendLayouts(),s.isGroupHeader)for(r=0,n=(i=s.items.items).length;r<n;r++)(t=i[r]).hidden||t.hide(!0);return s.callParent(),o.onHeaderHide(s),Ext.resumeLayouts(!0),s}s.ownerCt.hide()},show:function(e,t){var i,n,r,s,o=this,a=o.getOwnerHeaderCt(),l=o.ownerCt;if(o.isVisible())return o;if(o.rendered&&a.forceFit&&a.applyForceFit(o),Ext.suspendLayouts(),o.isSubHeader&&l.hidden&&l.show(!1,!0),o.callParent(arguments),o.isGroupHeader&&!0!==t&&!o.query(":not([hidden])").length)for(r=0,n=(i=o.items.items).length;r<n;r++)(s=i[r]).hidden&&s.show(!0);Ext.resumeLayouts(!0),(l=o.getOwnerHeaderCt())&&l.onHeaderShow(o)},getDesiredWidth:function(){return this.rendered&&this.componentLayout&&this.componentLayout.lastComponentSize?this.componentLayout.lastComponentSize.width:(this.flex,this.width)},getCellId:function(){return Ext.baseCSSPrefix+"grid-cell-headerId-"+this.getItemId()},getCellSelector:function(){return"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(e){return e.getXY()[0]-this.getX()<=this.handleWidth},isOnRightEdge:function(e){return this.getX()+this.getWidth()-e.getXY()[0]<=this.handleWidth},setMenuActive:function(e){this.titleEl[e?"addCls":"removeCls"](this.headerOpenCls)}}),Ext.define("Ext.grid.column.Action",{extend:Ext.grid.column.Column,alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:!1,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",constructor:function(e){var t,i,n,r=this,s=Ext.apply({},e),o=s.items||r.items||[r];for(r.origRenderer=s.renderer||r.renderer,r.origScope=s.scope||r.scope,r.renderer=r.scope=s.renderer=s.scope=null,s.items=null,r.callParent([s]),i=0,n=(r.items=o).length;i<n;++i)if(o[i].getClass){t=!0;break}(r.origRenderer||t)&&(r.hasCustomRenderer=!0)},defaultRenderer:function(e,t,i,n,r,s,o){var a,l,d,h,c=this,u=Ext.baseCSSPrefix,f=c.origScope||c,g=c.items,p=g.length,m=0;for(l=Ext.isFunction(c.origRenderer)&&c.origRenderer.apply(f,arguments)||"",t.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";m<p;m++)h=(d=(a=g[m]).disabled||!!a.isDisabled&&a.isDisabled.call(a.scope||f,o,n,r,a,i))?null:a.tooltip||(a.getTip?a.getTip.apply(a.scope||f,arguments):null),a.hasActionConfiguration||(a.stopSelection=c.stopSelection,a.disable=Ext.Function.bind(c.disableAction,c,[m],0),a.enable=Ext.Function.bind(c.enableAction,c,[m],0),a.hasActionConfiguration=!0),l+='<img role="button" alt="'+(a.altText||c.altText)+'" src="'+(a.icon||Ext.BLANK_IMAGE_URL)+'" class="'+u+"action-col-icon "+u+"action-col-"+String(m)+" "+(d?u+"item-disabled":" ")+" "+(Ext.isFunction(a.getClass)?a.getClass.apply(a.scope||f,arguments):a.iconCls||c.iconCls||"")+'"'+(h?' data-qtip="'+h+'"':"")+" />";return l},enableAction:function(e,t){e?Ext.isNumber(e)||(e=Ext.Array.indexOf(this.items,e)):e=0,this.items[e].disabled=!1,this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).removeCls(this.disabledCls),t||this.fireEvent("enable",this)},disableAction:function(e,t){e?Ext.isNumber(e)||(e=Ext.Array.indexOf(this.items,e)):e=0,this.items[e].disabled=!0,this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).addCls(this.disabledCls),t||this.fireEvent("disable",this)},destroy:function(){return delete this.items,delete this.renderer,this.callParent(arguments)},processEvent:function(e,t,i,n,r,s,o,a){var l,d,h,c,u=s.getTarget(),f="keydown"==e&&s.getKey();if(f&&!Ext.fly(u).findParent(t.getCellSelector())&&(u=Ext.fly(i).down("."+Ext.baseCSSPrefix+"action-col-icon",!0)),u&&(l=u.className.match(this.actionIdRe))&&(c=(d=this.items[parseInt(l[1],10)]).disabled||!!d.isDisabled&&d.isDisabled.call(d.scope||this.origScope||this,t,n,r,d,o),d&&!c))if("click"==e||f==s.ENTER||f==s.SPACE)(h=d.handler||this.handler)&&h.call(d.scope||this.origScope||this,t,n,r,d,s,o,a);else if("mousedown"==e&&!1!==d.stopSelection)return!1;return this.callParent(arguments)},cascade:function(e,t){e.call(t||this,this)},getRefItems:function(){return[]}}),Ext.define("Ext.grid.column.Boolean",{extend:Ext.grid.column.Column,alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultRenderer:function(e){return void 0===e?this.undefinedText:e&&"false"!==e?this.trueText:this.falseText}}),Ext.define("Ext.grid.column.Check",{extend:Ext.grid.column.Column,alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],alias:"widget.checkcolumn",align:"center",stopSelection:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-checkcolumn",clickTargetName:"el",constructor:function(){this.addEvents("beforecheckchange","checkchange"),(this.scope=this).callParent(arguments)},processEvent:function(e,t,i,n,r,s,o,a){var l="keydown"===e&&s.getKey(),d="mousedown"==e;if(this.disabled||!d&&l!=s.ENTER&&l!=s.SPACE)return this.callParent(arguments);var h=this.dataIndex,c=!o.get(h);return!1!==this.fireEvent("beforecheckchange",this,n,c)?(o.set(h,c),this.fireEvent("checkchange",this,n,c),d&&s.stopEvent(),this.stopSelection||t.selModel.selectByPosition({row:n,column:r}),!1):!this.stopSelection},onEnable:function(){this.callParent(arguments),this._setDisabled(!1)},onDisable:function(){this._setDisabled(!0)},_setDisabled:function(e){var t,i=this.disabledCls;t=this.up("tablepanel").el.select(this.getCellSelector()),e?t.addCls(i):t.removeCls(i)},renderer:function(e,t){var i=Ext.baseCSSPrefix,n=i+"grid-checkcolumn";return this.disabled&&(t.tdCls+=" "+this.disabledCls),e&&(n+=" "+i+"grid-checkcolumn-checked"),'<img class="'+n+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'}}),Ext.define("Ext.grid.column.Date",{extend:Ext.grid.column.Column,alias:["widget.datecolumn"],alternateClassName:"Ext.grid.DateColumn",initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat),this.callParent(arguments)},defaultRenderer:function(e){return Ext.util.Format.date(e,this.format)}}),Ext.define("Ext.grid.column.Number",{extend:Ext.grid.column.Column,alias:["widget.numbercolumn"],alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",defaultRenderer:function(e){return Ext.util.Format.number(e,this.format)}}),Ext.define("Ext.grid.column.RowNumberer",{extend:Ext.grid.column.Column,alternateClassName:"Ext.grid.RowNumberer",alias:"widget.rownumberer",text:"&#160;",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",constructor:function(e){this.width=this.width,this.callParent(arguments),this.scope=this},beforeRender:function(){var e=this.up("gridpanel").view.findFeature("rowbody");this.callParent(arguments),e&&1===this.ownerCt.items.indexOf(this)&&(e.colSpanDecrement=e.colSpanDecrement+1,this.rowspan=2)},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:void 0,renderer:function(e,t,i,n,r,s,o){var a=this.rowspan,l=s.currentPage,d=o.store.indexOf(i);return a&&(t.tdAttr='rowspan="'+a+'"'),1<l&&(d+=(l-1)*s.pageSize),d+1}}),Ext.define("Ext.grid.column.Template",{extend:Ext.grid.column.Column,alias:["widget.templatecolumn"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){this.tpl=!Ext.isPrimitive(this.tpl)&&this.tpl.compile?this.tpl:new Ext.XTemplate(this.tpl),this.hasCustomRenderer=!0,this.callParent(arguments)},defaultRenderer:function(e,t,i){var n=Ext.apply({},i.data,i.getAssociatedData());return this.tpl.apply(n)}}),Ext.define("Ext.grid.feature.Feature",{extend:Ext.util.Observable,alias:"feature.feature",wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(e){this.initialConfig=e,this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(e,t,i,n){return[e,t,i,n]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.grid.feature.AbstractSummary",{extend:Ext.grid.feature.Feature,alias:"feature.abstractsummary",summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",summaryTableCls:Ext.plainTableCls+" "+Ext.baseCSSPrefix+"grid-table",summaryRowSelector:"."+Ext.baseCSSPrefix+"grid-row-summary",summaryRowTpl:{before:function(e,t){if(e.record.isSummary&&this.summaryFeature.showSummaryRow)return this.summaryFeature.outputSummaryRecord(e.record,e,t),!1},priority:1e3},showSummaryRow:!0,init:function(){(this.view.summaryFeature=this).rowTpl=this.view.self.prototype.rowTpl,this.view.addRowTpl(this.summaryRowTpl).summaryFeature=this},toggleSummaryRow:function(e){this.showSummaryRow=!!e},outputSummaryRecord:function(e,t,i){var n,r,s=t.view,o=s.rowValues,a=t.columns||s.headerCt.getVisibleGridColumns(),l=a.length,d={view:s,record:e,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:s.getRowId(e),columns:a};for(n=0;n<l;n++)(r=a[n]).savedRenderer=r.renderer,r.summaryRenderer?r.renderer=r.summaryRenderer:r.summaryType||(r.renderer=Ext.emptyFn),r.dataIndex||(r.dataIndex=r.id);for(s.rowValues=d,s.self.prototype.rowTpl.applyOut(d,i),s.rowValues=o,n=0;n<l;n++)(r=a[n]).renderer=r.savedRenderer,r.savedRenderer=null},getSummary:function(e,t,i,n){var r=n.records;if(t){if(Ext.isFunction(t))return e.getAggregate(t,null,r,[i]);switch(t){case"count":return r.length;case"min":return e.getMin(r,i);case"max":return e.getMax(r,i);case"sum":return e.getSum(r,i);case"average":return e.getAverage(r,i);default:return""}}},generateSummaryData:function(){var e,t,i,n,r,s,o,a,l=this.view.store,d=l.groups.items,h=l.proxy.reader,c=d.length,u=this.getGroupField(),f={},g=this.lockingPartner;if(this.remoteRoot&&h.rawData){for(s=!0,a={},n=h.root,h.root=this.remoteRoot,h.buildExtractors(!0),c=(r=h.getRoot(h.rawData)||[]).length,h.convertRecordData||h.buildExtractors(),e=0;e<c;++e)o={},h.convertRecordData(o,r[e]),a[o[u]]=o;h.root=n,h.buildExtractors(!0)}for(e=0;e<c;++e)t=d[e],s||t.isDirty()||!t.hasAggregate()?(i=s?this.populateRemoteRecord(t,a):this.populateRecord(t),g&&this.view.ownerCt!==this.view.ownerCt.ownerLockable.normalGrid||t.commit()):i=t.getAggregateRecord(),f[t.key]=i;return f},populateRemoteRecord:function(e,t){var i,n=e.getAggregateRecord(!0),r=t[e.key];for(i in n.beginEdit(),r)r.hasOwnProperty(i)&&i!==n.idProperty&&n.set(i,r[i]);return n.endEdit(!0),n.commit(!0),n},populateRecord:function(e){var t,i,n,r=this.grid.ownerLockable?this.grid.ownerLockable.view:this.view,s=this.view.store,o=e.getAggregateRecord(),a=r.headerCt.getGridColumns(),l=a.length;for(o.beginEdit(),t=0;t<l;++t)n=(i=a[t]).dataIndex||i.id,o.set(n,this.getSummary(s,i.summaryType,n,e));return o.endEdit(!0),o.commit(),o}}),Ext.define("Ext.grid.feature.GroupStore",{extend:Ext.util.Observable,isStore:!0,defaultViewSize:100,isFeatureStore:!0,constructor:function(e,t){this.callParent(),this.groupingFeature=e,this.bindStore(t)},bindStore:function(e){var t=this;t.store&&(Ext.destroy(t.storeListeners),t.store=null),e&&(t.storeListeners=e.on({bulkremove:t.onBulkRemove,add:t.onAdd,update:t.onUpdate,refresh:t.onRefresh,clear:t.onClear,scope:t,destroyable:!0}),t.store=e,t.processStore(e))},processStore:function(e){var t,i,n,r=e.getGroups(),s=r.length,o=this.data,a=this.groupingFeature.groupCache,l=this.groupingFeature.clearGroupCache(),d=this.groupingFeature.startCollapsed;if(o?o.clear():o=this.data=new Ext.util.MixedCollection(!1,Ext.data.Store.recordIdFn),e.getCount())for(this.groupingFeature.startCollapsed=!1,t=0;t<s;t++)(l[(i=r[t]).name]=i).isCollapsed=d||a[i.name]&&a[i.name].isCollapsed,i.isCollapsed?(i.placeholder=n=new e.model(null,"group-"+i.name+"-placeholder"),n.set(e.getGroupField(),i.name),n.rows=n.children=i.children,n.isCollapsedPlaceholder=!0,o.add(n)):o.insert(this.data.length,i.children)},isCollapsed:function(e){return this.groupingFeature.groupCache[e].isCollapsed},isInCollapsedGroup:function(e){var t,i=this.store;return i.isGrouped()&&(t=this.groupingFeature.groupCache[e.get(i.getGroupField())])&&t.isCollapsed||!1},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(e,t){return t<this.getCount()},getRange:function(e,t,i){var n=this.data.getRange(e,t);return i&&i.callback&&i.callback.call(i.scope||this,n,e,t,i),n},getAt:function(e){return this.getRange(e,e)[0]},getById:function(e){return this.store.getById(e)},expandGroup:function(e){var t,i=this;"string"==typeof e&&(e=i.groupingFeature.groupCache[e]),e&&e.children.length&&-1!==(t=i.indexOf(e.children[0],!0,!0))&&(e.isCollapsed=!1,i.isExpandingOrCollapsing=1,i.data.removeAt(t),i.fireEvent("bulkremove",i,[i.getGroupPlaceholder(e)],[t]),i.data.insert(t,e.children),i.fireEvent("add",i,e.children,t),i.fireEvent("groupexpand",i,e),i.isExpandingOrCollapsing=0)},collapseGroup:function(e){var t,i,n,r,s,o,a=this;if("string"==typeof e&&(e=a.groupingFeature.groupCache[e]),e&&(s=e.children.length)&&-1!==(t=a.indexOf(e.children[0],!0))){for(e.isCollapsed=!0,a.isExpandingOrCollapsing=2,a.data.removeRange(t,s),o=new Array(s),n=0,r=t;n<s;n++,r++)o[n]=r;a.fireEvent("bulkremove",a,e.children,o),a.data.insert(t,i=a.getGroupPlaceholder(e)),a.fireEvent("add",a,[i],t),a.fireEvent("groupcollapse",a,e),a.isExpandingOrCollapsing=0}},getGroupPlaceholder:function(e){if(!e.placeholder){var t=e.placeholder=new this.store.model(null,"group-"+e.name+"-placeholder");t.set(this.store.getGroupField(),e.name),t.rows=t.children=e.children,t.isCollapsedPlaceholder=!0}return e.placeholder},indexOf:function(e,t,i){var n,r,s,o,a=0;if(e&&(i||!this.isInCollapsedGroup(e)))for(r=(n=this.store.getGroups()).length,s=0;s<r;s++){if((o=n[s]).name===this.store.getGroupString(e))return a+Ext.Array.indexOf(o.children,e);a+=t&&this.isCollapsed(o.name)?1:o.children.length}return-1},indexOfTotal:function(e){return this.store.indexOf(e)},onRefresh:function(e){this.processStore(this.store),this.fireEvent("refresh",this)},onBulkRemove:function(e,t,i){this.processStore(this.store),this.fireEvent("refresh",this)},onClear:function(e,t,i){this.processStore(this.store),this.fireEvent("clear",this)},onAdd:function(e,t,i){this.processStore(this.store),this.fireEvent("refresh",this)},onUpdate:function(e,t,i,n){var r,s,o,a=this;if(e.isGrouped()){if(r=t.group=a.groupingFeature.getRecordGroup(t),n&&Ext.Array.contains(n,a.groupingFeature.getGroupField()))return a.onRefresh(a.store);r.isCollapsed?a.fireEvent("update",a,r.placeholder):(Ext.suspendLayouts(),a.fireEvent("update",a,t,i,n),s=r.children[0],o=r.children[r.children.length-1],s!==t&&(s.group=r,a.fireEvent("update",a,s,"edit"),delete s.group),o!==t&&o!==s&&a.groupingFeature.showSummaryRow&&(o.group=r,a.fireEvent("update",a,o,"edit"),delete o.group),Ext.resumeLayouts(!0)),delete t.group}else a.fireEvent("update",a,t,i,n)}}),Ext.define("Ext.grid.feature.Grouping",{extend:Ext.grid.feature.Feature,mixins:{summary:Ext.grid.feature.AbstractSummary},alias:"feature.grouping",eventPrefix:"group",groupCls:Ext.baseCSSPrefix+"grid-group-hd",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},groupInfo:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,tableTpl:{before:function(e){this.groupingFeature.disabled||1===e.rows.length&&e.rows[0].isSummary||this.groupingFeature.setup(e.rows,e.view.rowValues)},after:function(e){this.groupingFeature.disabled||1===e.rows.length&&e.rows[0].isSummary||this.groupingFeature.cleanup(e.rows,e.view.rowValues)},priority:200},groupTpl:["{%","var me = this.groupingFeature;","if (me.disabled) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.rowIndex, values);","}","%}",'<tpl if="needsWrap">','<tr {[values.isCollapsedGroup ? ("id=\\"" + values.rowId + "\\"") : ""]} data-boundView="{view.id}" data-recordId="{record.internalId:htmlEncode}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}" ','class="{[values.itemClasses.join(" ")]} ',Ext.baseCSSPrefix,'grid-wrap-row<tpl if="!summaryRecord"> ',Ext.baseCSSPrefix,'grid-group-row</tpl>" {ariaRowAttr}>','<td class="',Ext.baseCSSPrefix,'group-hd-container" colspan="{columns.length}" {ariaCellAttr}>','<tpl if="isFirstRow">',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div id="{groupId}" class="',Ext.baseCSSPrefix,'grid-group-hd {collapsibleCls}" tabIndex="0" hidefocus="on" {ariaCellInnerAttr}>','<div class="',Ext.baseCSSPrefix,'grid-group-title" style="{[groupTitleStyle]}" {ariaGroupTitleAttr}>','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "&#160;"]}',"</div>","</div>","</tpl>",'<tpl if="summaryRecord || !isCollapsedGroup">','<table class="',Ext.baseCSSPrefix,"{view.id}-table ",Ext.baseCSSPrefix,"grid-table",'<tpl if="summaryRecord"> ',Ext.baseCSSPrefix,'grid-table-summary</tpl>"','border="0" cellspacing="0" cellpadding="0" style="width:100%" {ariaSummaryTableAttr}>',"{[values.view.renderColumnSizer(out)]}",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out);%}","</tpl>","</table>","</tpl>","</td>","</tr>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,syncRowHeights:function(e,t){e=Ext.fly(e,"syncDest"),t=Ext.fly(t,"sycSrc");var i,n,r,s,o=this.owner,a=e.down(o.eventSelector,!0),l=e.down(o.summaryRowSelector,!0);a&&(i=t.down(o.eventSelector,!0))&&(a.style.height=i.style.height="",(r=a.offsetHeight)>(s=i.offsetHeight)?Ext.fly(i).setHeight(r):r<s&&Ext.fly(a).setHeight(s)),l&&(n=t.down(o.summaryRowSelector,!0))&&(l.style.height=n.style.height="",(r=l.offsetHeight)>(s=n.offsetHeight)?Ext.fly(n).setHeight(r):r<s&&Ext.fly(l).setHeight(s))},syncContent:function(e,t){e=Ext.fly(e,"syncDest"),t=Ext.fly(t,"sycSrc");var i=this.owner,n=e.down(i.eventSelector,!0),r=t.down(i.eventSelector,!0),s=e.down(i.summaryRowSelector,!0),o=t.down(i.summaryRowSelector,!0);n&&r&&Ext.fly(n).syncContent(r),s&&o&&Ext.fly(s).syncContent(o)}}],constructor:function(){this.groupCache={},this.callParent(arguments)},init:function(e){var t=this,i=t.view;i.store.groupField&&(i.isGrouping=!0),t.lockingPartner&&t.lockingPartner.groupCache&&(t.groupCache=t.lockingPartner.groupCache),t.mixins.summary.init.call(t),t.callParent(arguments),i.headerCt.on({columnhide:t.onColumnHideShow,columnshow:t.onColumnHideShow,columnmove:t.onColumnMove,scope:t}),i.addTableTpl(t.tableTpl).groupingFeature=t,i.addRowTpl(Ext.XTemplate.getTpl(t,"groupTpl")).groupingFeature=t,i.preserveScrollOnRefresh=!0,i.store.buffered?t.collapsible=!1:this.lockingPartner&&this.lockingPartner.dataSource?t.dataSource=i.dataSource=this.lockingPartner.dataSource:t.dataSource=i.dataSource=new Ext.grid.feature.GroupStore(t,i.store),t.grid.on({reconfigure:t.onReconfigure}),i.on({afterrender:t.afterViewRender,scope:t,single:!0})},indexOf:function(e){var t,i,n,r,s,o=this.view.store,a=e.isModel?o.indexOf(e):Math.min(Math.max(e,0),o.getCount()-1),l=0,d=0;for(i=0,n=(t=o.getGroups()).length;i<n;i++){if(r=t[i],s=this.getGroup(r.name),a<(l=l+r.children.length))return a-d;s.isCollapsed&&(d+=r.children.length,d-=1)}},isInCollapsedGroup:function(e){var t;return this.view.store.isGrouped()&&(t=this.getGroup(e))&&t.isCollapsed||!1},clearGroupCache:function(){var e=this.groupCache={};return this.lockingPartner&&(this.lockingPartner.groupCache=e),e},vetoEvent:function(e,t,i,n){if("mouseover"!==n.type&&"mouseout"!==n.type&&"mouseenter"!==n.type&&"mouseleave"!==n.type&&n.getTarget(this.eventSelector))return!1},enable:function(){var e,t=this.view,i=t.store;t.isGrouping=!0,this.lastGroupers&&(this.block(),i.group(this.lastGroupers),this.lastGroupers=null,this.unblock()),this.callParent(),(e=this.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&e.setChecked(!0,!0),this.refreshIf()},disable:function(){var e,t=this.view,i=t.store,n=i.groupers.getRange();t.isGrouping=!1,n.length&&(this.lastGroupers=n,this.block(),i.clearGrouping(),this.unblock()),this.callParent(),(e=this.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&e.setChecked(!1,!0),this.refreshIf()},refreshIf:function(){var e=this.grid.ownerCt,t=this.view;t.store.remoteGroup||this.blockRefresh||(e&&e.lockable?e.view.refresh():t.refresh())},afterViewRender:function(){var e=this;e.view.on({scope:e,groupclick:e.onGroupClick}),e.enableGroupingMenu&&e.injectGroupingMenu(),e.pruneGroupedHeader(),e.lastGroupers=e.view.store.groupers.getRange(),e.block(),e.onGroupChange(),e.unblock(),e.disabled&&e.disable()},injectGroupingMenu:function(){var e=this.view.headerCt;e.showMenuBy=this.showMenuBy,e.getMenuItems=this.getMenuItems()},onColumnHideShow:function(e,t){var i,n,r,s=this.view,o=s.headerCt,a=o.getMenu().down("#groupMenuItem"),l=this.grid.getVisibleColumnManager().getColumns().length;if(a&&(1<o.getVisibleGridColumns().length?a.enable():a.disable()),s.rendered)for(r=0,n=(i=s.el.query("."+this.ctCls)).length;r<n;++r)i[r].colSpan=l},onColumnMove:function(){var e,t,i,n,r,s=this.view.store;if(s.isGrouped())for(t in e=this.groupCache)e.hasOwnProperty(t)&&(n=(i=e[t]).children[0],r=i.children[i.children.length-1],s.fireEvent("update",s,n,"edit",null),r!==n&&this.showSummaryRow&&s.fireEvent("update",s,r,"edit",null))},showMenuBy:function(e,t){var i=this.getMenu(),n=i.down("#groupMenuItem"),r=!1===t.groupable||null==t.dataIndex||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",s=i.down("#groupToggleMenuItem"),o=this.view.store.isGrouped();n[r](),s&&(s.setChecked(o,!0),s[o?"enable":"disable"]()),Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var t=this,i=t.groupByText,n=t.disabled||!t.getGroupField(),r=t.showGroupsText,s=t.enableNoGroups,o=t.view.headerCt.getMenuItems;return function(){var e=o.call(this);return e.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:i,handler:t.onGroupMenuItemClick,scope:t}),s&&e.push({itemId:"groupToggleMenuItem",text:r,checked:!n,checkHandler:t.onGroupToggleMenuItemClick,scope:t}),e}},onGroupMenuItemClick:function(e,t){var i=e.parentMenu.activeHeader,n=this.view.store;this.lastGroupers=null,this.block(),this.enable(),n.group(i.dataIndex),this.pruneGroupedHeader(),this.unblock(),this.refreshIf()},block:function(e){this.blockRefresh=this.view.blockRefresh=!0,this.lockingPartner&&!e&&this.lockingPartner.block(!0)},unblock:function(e){this.blockRefresh=this.view.blockRefresh=!1,this.lockingPartner&&!e&&this.lockingPartner.unblock(!0)},onGroupToggleMenuItemClick:function(e,t){this[t?"enable":"disable"]()},pruneGroupedHeader:function(){var e=this.getGroupedHeader();this.hideGroupedHeader&&e&&(Ext.suspendLayouts(),this.prunedHeader&&this.prunedHeader!==e&&this.prunedHeader.show(),(this.prunedHeader=e).hide(),Ext.resumeLayouts(!0))},getHeaderNode:function(e){return Ext.get(this.createGroupId(e))},getGroup:function(e){e.isModel&&(e=e.get(this.view.store.getGroupField()));var t=this.groupCache,i=t[e];return i=i||(t[e]={isCollapsed:!1})},isExpanded:function(e){return!this.getGroup(e).isCollapsed},expand:function(e,t){this.doCollapseExpand(!1,e,t)},expandAll:function(){var e,t=this.groupCache,i=this.lockingPartner;for(e in t)t.hasOwnProperty(e)&&(t[e].isCollapsed=!1);for(e in Ext.suspendLayouts(),this.dataSource.onRefresh(),Ext.resumeLayouts(!0),t)t.hasOwnProperty(e)&&(this.afterCollapseExpand(!1,e),i&&i.afterCollapseExpand(!1,e))},collapse:function(e,t){this.doCollapseExpand(!0,e,t)},isAllCollapsed:function(){var e,t=this.groupCache;for(e in t)if(t.hasOwnProperty(e)&&!t[e].isCollapsed)return!1;return!0},isAllExpanded:function(){var e,t=this.groupCache;for(e in t)if(t.hasOwnProperty(e)&&t[e].isCollapsed)return!1;return!0},collapseAll:function(){var e,t=this.groupCache,i=this.lockingPartner;for(e in t)t.hasOwnProperty(e)&&(t[e].isCollapsed=!0);for(e in Ext.suspendLayouts(),this.dataSource.onRefresh(),i&&!i.isAllCollapsed()&&i.collapseAll(),Ext.resumeLayouts(!0),t)t.hasOwnProperty(e)&&(this.afterCollapseExpand(!0,e),i&&i.afterCollapseExpand(!0,e))},doCollapseExpand:function(e,t,i){var n=this.lockingPartner,r=this.groupCache[t];r.isCollapsed!=e&&(Ext.suspendLayouts(),e?this.dataSource.collapseGroup(r):this.dataSource.expandGroup(r),Ext.resumeLayouts(!0),this.afterCollapseExpand(e,t,i),n&&n.afterCollapseExpand(e,t,!1))},afterCollapseExpand:function(e,t,i){var n,r=this.view;n=Ext.get(this.getHeaderNode(t)),r.fireEvent(e?"groupcollapse":"groupexpand",r,n,t),i&&n.up(r.getItemSelector()).scrollIntoView(r.el,null,!0)},onGroupChange:function(){var e,t,i,n=this,r=n.getGroupField();n.hideGroupedHeader&&(n.lastGroupers&&n.lastGroupers.length&&(e=n.getMenuItem(n.lastGroupers[0].property))&&e.setChecked(!0),r&&(i=1===(t=n.view.headerCt.getVisibleGridColumns()).length&&t[0].dataIndex==r,(e=n.getMenuItem(r))&&!i&&e.setChecked(!1))),n.refreshIf(),n.lastGroupers=n.view.store.groupers.getRange()},getMenuItem:function(e){var t=this.view,i=t.headerCt.down("gridcolumn[dataIndex="+e+"]"),n=t.headerCt.getMenu();return i?n.down("menuitem[headerId="+i.id+"]"):null},onGroupKey:function(e,t){var i=this.getGroupName(t.target);i&&this.onGroupClick(this.view,t.target,i,t)},onGroupClick:function(e,t,i,n){var r,s=this.groupCache,o=!this.isExpanded(i);if(this.collapsible){if(n.ctrlKey){for(r in Ext.suspendLayouts(),s)r===i?o&&this.expand(i):this.doCollapseExpand(!0,r,!1);return void Ext.resumeLayouts(!0)}o?this.expand(i):this.collapse(i)}},setupRowData:function(e,t,i){var n,r,s,o,a=this,l=a.refreshData,d=a.groupInfo,h=l.header,c=l.groupField,u=a.view.dataSource;if(i.isCollapsedGroup=!1,i.summaryRecord=null,l.doGrouping){if(n=a.view.store.groupers.first(),e.children)return r=n.getGroupString(e.children[0]),i.isFirstRow=i.isLastRow=!0,i.itemClasses.push(a.hdCollapsedCls),i.isCollapsedGroup=i.needsWrap=!0,(i.groupInfo=d).groupField=c,d.name=r,d.groupValue=e.children[0].get(c),d.columnName=h?h.text:c,i.collapsibleCls=a.collapsible?a.collapsibleCls:a.hdNotCollapsibleCls,i.groupId=a.createGroupId(r),d.rows=d.children=e.children,void(a.showSummaryRow&&(i.summaryRecord=l.summaryData[r]));r=n.getGroupString(e),e.group?(i.isFirstRow=e===e.group.children[0],i.isLastRow=e===e.group.children[e.group.children.length-1]):(i.isFirstRow=0===t,i.isFirstRow||(s=u.getAt(t-1))&&(i.isFirstRow=!s.isEqual(n.getGroupString(s),r)),i.isLastRow=t==u.getTotalCount()-1,i.isLastRow||(o=u.getAt(t+1))&&(i.isLastRow=!o.isEqual(n.getGroupString(o),r))),i.isFirstRow&&(d.groupField=c,d.name=r,d.groupValue=e.get(c),d.columnName=h?h.text:c,i.collapsibleCls=a.collapsible?a.collapsibleCls:a.hdNotCollapsibleCls,i.groupId=a.createGroupId(r),a.isExpanded(r)||(i.itemClasses.push(a.hdCollapsedCls),i.isCollapsedGroup=!0),u.buffered?d.rows=d.children=[]:d.rows=d.children=a.getRecordGroup(e).children,i.groupInfo=d),i.isLastRow&&a.showSummaryRow&&(i.summaryRecord=l.summaryData[r]),i.needsWrap=i.isFirstRow||i.summaryRecord}},setup:function(e,t){var i=this.refreshData,n=!this.disabled&&this.view.store.isGrouped();this.skippedRows=0,t.view.bufferedRenderer&&(t.view.bufferedRenderer.variableRowHeight=!0),i.groupField=this.getGroupField(),i.header=this.getGroupedHeader(i.groupField),i.doGrouping=n,t.groupHeaderTpl=Ext.XTemplate.getTpl(this,"groupHeaderTpl"),n&&this.showSummaryRow&&(i.summaryData=this.generateSummaryData())},cleanup:function(e,t){var i=this.refreshData;t.groupInfo=t.groupHeaderTpl=t.isFirstRow=null,i.groupField=i.header=null},getGroupName:function(e){var t,i,n,r=this.view,s=this.eventSelector;if((i=Ext.fly(e).findParent(s))||(n=Ext.fly(e).findParent(r.itemSelector))&&(i=n.down(s,!0)),i&&2===(t=i.id.split(r.id+"-hd-")).length)return Ext.htmlDecode(t[1])},getRecordGroup:function(e){var t=this.view.store.groupers.first();if(t)return this.groupCache[t.getGroupString(e)]},createGroupId:function(e){return this.view.id+"-hd-"+Ext.htmlEncode(e)},createGroupCls:function(e){return this.view.id+"-"+Ext.htmlEncode(e)+"-item"},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(e){var t,i,n=this.view.headerCt,r=this.lockingPartner;return(e=e||this.getGroupField())&&(t="[dataIndex="+e+"]",!(i=n.down(t))&&r&&(i=r.view.headerCt.down(t))),i||null},getFireEventArgs:function(e,t,i,n){return[e,t,i,this.getGroupName(i),n]},destroy:function(){var e=this.dataSource;this.view=this.prunedHeader=this.grid=this.groupCache=this.dataSource=null,this.callParent(),e&&e.bindStore(null)},onReconfigure:function(e,t,i,n,r){var s=e;t&&t!==n&&(t.buffered!==n.buffered&&Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores"),t.buffered&&(s.bindStore(t),s.dataSource.processStore(t)))}}),Ext.define("Ext.grid.feature.GroupingSummary",{extend:Ext.grid.feature.Grouping,alias:"feature.groupingsummary",showSummaryRow:!0,vetoEvent:function(e,t,i,n){var r=this.callParent(arguments);return!1!==r&&n.getTarget(this.summaryRowSelector)&&(r=!1),r}}),Ext.define("Ext.grid.feature.RowBody",{extend:Ext.grid.feature.Feature,alias:"feature.rowbody",rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",colSpanDecrement:0,tableTpl:{before:function(e,t){var i=e.view.rowValues;this.rowBody.setup(e.rows,i)},after:function(e,t){var i=e.view.rowValues;this.rowBody.cleanup(e.rows,i)},priority:100},extraRowTpl:["{%","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","this.nextTpl.applyOut(values, out, parent);","%}",'<tr class="',Ext.baseCSSPrefix,'grid-rowbody-tr {rowBodyCls}" {ariaRowAttr}>','<td class="',Ext.baseCSSPrefix,"grid-cell-rowbody",'" colspan="{rowBodyColspan}" {ariaCellAttr}>','<div class="',Ext.baseCSSPrefix,"grid-rowbody",' {rowBodyDivCls}" {ariaCellInnerAttr}>{rowBody}</div>',"</td>","</tr>",{priority:100,syncRowHeights:function(e,t){var i,n,r,s=this.owner,o=Ext.fly(e).down(s.eventSelector,!0);o&&(i=Ext.fly(t).down(s.eventSelector,!0))&&((n=o.offsetHeight)>(r=i.offsetHeight)?Ext.fly(i).setHeight(n):n<r&&Ext.fly(o).setHeight(r))},syncContent:function(e,t){var i,n=this.owner,r=Ext.fly(e).down(n.eventSelector,!0);r&&(i=Ext.fly(t).down(n.eventSelector,!0))&&Ext.fly(r).syncContent(i)}}],init:function(e){var t=this,i=t.view;i.rowBodyFeature=t,i.findFeature("rowwrap")||(e.mon(i,{element:"el",mousedown:t.onMouseDown,scope:t}),t.mon(e.getStore(),"remove",t.onStoreRemove,t)),i.headerCt.on({columnschanged:t.onColumnsChanged,scope:t}),i.addTableTpl(t.tableTpl).rowBody=t,i.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")),t.callParent(arguments)},onStoreRemove:function(e,t,i){var n,r=this.view;r.rendered&&(n=(n=r.getNode(i))&&Ext.fly(n).next(this.eventSelector))&&n.remove()},onMouseDown:function(e){var t=e.getTarget(this.eventSelector);t&&Ext.fly(t=t.previousSibling).is(this.view.getItemSelector())&&(e.target=t,this.view.handleEvent(e))},getSelectedRow:function(e,t){var i=e.getNode(t,!1);return i?Ext.fly(i).down(this.eventSelector):null},onColumnsChanged:function(e){var t,i=this.view.el.query(this.rowBodyTdSelector),n=e.getVisibleGridColumns().length,r=i.length;for(t=0;t<r;++t)i[t].colSpan=n},setupRowData:function(e,t,i){this.getAdditionalData&&Ext.apply(i,this.getAdditionalData(e.data,t,e,i))},setup:function(e,t){t.rowBodyCls=this.rowBodyCls,t.rowBodyColspan=t.view.getGridColumns().length-this.colSpanDecrement},cleanup:function(e,t){t.rowBodyCls=t.rowBodyColspan=t.rowBody=null}}),Ext.define("Ext.grid.feature.RowWrap",{extend:Ext.grid.feature.Feature,alias:"feature.rowwrap",rowWrapTd:"td."+Ext.baseCSSPrefix+"grid-rowwrap",hasFeatureEvent:!1,tableTpl:{before:function(e,t){e.view.bufferedRenderer&&(e.view.bufferedRenderer.variableRowHeight=!0)},priority:200},wrapTpl:['<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{recordIndex}" class="{[values.itemClasses.join(" ")]} ',Ext.baseCSSPrefix,'grid-wrap-row" {ariaRowAttr}>','<td class="',Ext.baseCSSPrefix,"grid-rowwrap ",Ext.baseCSSPrefix,'grid-td" colSpan="{columns.length}" {ariaCellAttr}>','<table class="',Ext.baseCSSPrefix,"{view.id}-table ",Ext.baseCSSPrefix,'grid-table" border="0" cellspacing="0" cellpadding="0" style="width:100%" {ariaCellInnerTableAttr}>',"{[values.view.renderColumnSizer(out)]}","{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent)","%}","</table>","</td>","</tr>",{priority:200}],init:function(e){this.view.addTableTpl(this.tableTpl),this.view.addRowTpl(Ext.XTemplate.getTpl(this,"wrapTpl")),this.view.headerCt.on({columnhide:this.onColumnHideShow,columnshow:this.onColumnHideShow,scope:this})},onColumnHideShow:function(){var e,t=this.view,i=t.el.query(this.rowWrapTd),n=t.headerCt.getVisibleGridColumns().length,r=i.length;for(e=0;e<r;++e)i[e].colSpan=n}}),Ext.define("Ext.grid.feature.Summary",{extend:Ext.grid.feature.AbstractSummary,alias:"feature.summary",dock:void 0,dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",scrollPadProperty:"padding-right",init:function(t){var n=this,r=n.view;n.callParent(arguments),n.dock?(t.headerCt.on({afterlayout:n.onStoreUpdate,scope:n}),t.on({beforerender:function(){var e=[n.summaryTableCls];r.columnLines&&(e[e.length]=r.ownerCt.colLinesCls),n.summaryBar=t.addDocked({childEls:["innerCt"],renderTpl:['<div id="{id}-innerCt" role="presentation">','<table cellPadding="0" cellSpacing="0" class="'+e.join(" ")+'">','<tr class="'+n.summaryRowCls+'"></tr>',"</table>","</div>"],style:"overflow:hidden",itemId:"summaryBar",cls:[n.dockedSummaryCls,n.dockedSummaryCls+"-"+n.dock],xtype:"component",dock:n.dock,weight:1e7})[0]},afterrender:function(){t.body.addCls(n.panelBodyCls+n.dock),r.mon(r.el,{scroll:n.onViewScroll,scope:n}),n.onStoreUpdate()},single:!0}),t.headerCt.afterComponentLayout=Ext.Function.createSequence(t.headerCt.afterComponentLayout,function(){var e,t=this.getFullWidth(),i=n.summaryBar.innerCt;r.hasVerticalScroll()&&(t-=e=Ext.getScrollbarSize().width,i.down("table").setStyle(n.scrollPadProperty,e+"px")),i.setWidth(t)})):n.view.addFooterFn(n.renderTFoot),t.on({columnmove:n.onStoreUpdate,scope:n}),r.mon(r.store,{update:n.onStoreUpdate,datachanged:n.onStoreUpdate,scope:n})},renderTFoot:function(e,t){var i=e.view,n=i.findFeature("summary");n.showSummaryRow&&(t.push("<tfoot>"),n.outputSummaryRecord(n.createSummaryRecord(i),e,t),t.push("</tfoot>"))},toggleSummaryRow:function(e){var t=this.summaryBar;this.callParent(arguments),t&&(t.setVisible(this.showSummaryRow),this.onViewScroll())},vetoEvent:function(e,t,i,n){return!n.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.el.dom.scrollLeft=this.view.el.dom.scrollLeft},createSummaryRecord:function(e){var t,i,n=e.headerCt.getVisibleGridColumns(),r={records:e.store.getRange()},s=n.length,o=this.summaryRecord||(this.summaryRecord=new e.store.model(null,e.id+"-summary-record"));for(o.beginEdit(),t=0;t<s;t++)(i=n[t]).dataIndex||(i.dataIndex=i.id),o.set(i.dataIndex,this.getSummary(e.store,i.summaryType,i.dataIndex,r));return o.endEdit(!0),o.commit(!0),o.isSummary=!0,o},onStoreUpdate:function(){var e,t,i,n=this,r=n.view,s=n.createSummaryRecord(r),o=r.createRowElement(s,-1);r.rendered&&((e=n.dock?n.summaryBar.el.down("."+n.summaryRowCls,!0):n.view.getNode(s))&&((i=e.parentNode).insertBefore(o,e),i.removeChild(e),(t=n.lockingPartner)&&t.grid.rendered&&!n.calledFromLockingPartner&&(t.calledFromLockingPartner=!0,t.onStoreUpdate(),t.calledFromLockingPartner=!1)),n.dock&&n.onColumnHeaderLayout())},onColumnHeaderLayout:function(){var e,t,i,n=this.view,r=n.headerCt.getVisibleGridColumns(),s=r.length,o=this.summaryBar.el;for(t=0;t<s;t++)e=r[t],(i=o.down(n.getCellSelector(e)))&&(e.hidden?i.setDisplayed(!1):(i.setDisplayed(!0),i.setWidth(e.width||(e.lastBox?e.lastBox.width:100))))}}),Ext.define("Ext.grid.locking.HeaderContainer",{extend:Ext.grid.header.Container,constructor:function(e){var t,i,n=[],r=e.lockedGrid,s=e.normalGrid;for(i in this.lockable=e,this.callParent(),r.visibleColumnManager.rootColumns=s.visibleColumnManager.rootColumns=e.visibleColumnManager=this.visibleColumnManager=new Ext.grid.ColumnManager(!0,r.headerCt,s.headerCt),r.columnManager.rootColumns=s.columnManager.rootColumns=e.columnManager=this.columnManager=new Ext.grid.ColumnManager(!1,r.headerCt,s.headerCt),t=r.headerCt.events)t.hasOwnProperty(i)&&n.push(i);this.relayEvents(r.headerCt,n),this.relayEvents(s.headerCt,n)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var e=this.lockable.lockedGrid.headerCt.getColumnsState(),t=this.lockable.normalGrid.headerCt.getColumnsState();return e.concat(t)},applyColumnsState:function(e){var t,i,n,r,s=this.lockable.lockedGrid,o=s.headerCt,a=this.lockable.normalGrid.headerCt,l=Ext.Array.toValueMap(o.items.items,"headerId"),d=Ext.Array.toValueMap(a.items.items,"headerId"),h=[],c=[],u=1,f=e.length;for(t=0;t<f;t++)(i=(n=l[(r=e[t]).id])||d[r.id])&&(i.applyColumnState&&i.applyColumnState(r),void 0===i.locked&&(i.locked=!!n),i.locked?(h.push(i),i.hidden||"number"!=typeof i.width||(u+=i.width)):c.push(i));h.length+c.length==o.items.getCount()+a.items.getCount()&&(o.removeAll(!1),a.removeAll(!1),o.add(h),a.add(c),s.setWidth(u))}}),Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",mixins:{observable:Ext.util.Observable},isLockingView:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(e){var t,i,n=this,r=[],s=n.eventRelayRe,o=e.locked.getView(),a=e.normal.getView();for(i in Ext.apply(n,{lockedView:o,normalView:a,lockedGrid:e.locked,normalGrid:e.normal,panel:e.panel}),n.mixins.observable.constructor.call(n,e),t=o.events)t.hasOwnProperty(i)&&s.test(i)&&r.push(i);n.relayEvents(o,r),n.relayEvents(a,r),a.on({scope:n,itemmouseleave:n.onItemMouseLeave,itemmouseenter:n.onItemMouseEnter}),o.on({scope:n,itemmouseleave:n.onItemMouseLeave,itemmouseenter:n.onItemMouseEnter}),n.panel.on({render:n.onPanelRender,scope:n})},onPanelRender:function(){var e=this,t=e.loadMask,i={target:e.panel,msg:e.loadingText,msgCls:e.loadingCls,useMsg:e.loadingUseMsg,store:e.panel.store};e.el=e.panel.body,e.fireEvent("render",e),t&&(Ext.isObject(t)&&(i=Ext.apply(i,t)),e.loadMask=new Ext.LoadMask(i))},getGridColumns:function(){return this.lockedGrid.headerCt.getVisibleGridColumns().concat(this.normalGrid.headerCt.getVisibleGridColumns())},getEl:function(e){return this.getViewForColumn(e).getEl()},getViewForColumn:function(t){var i,e=this.lockedView;return e.headerCt.cascade(function(e){if(e===t)return!(i=!0)}),i?e:this.normalView},onItemMouseEnter:function(e,t){var i,n=this.lockedView,r=this.normalView;e.trackOver&&(e!==n&&(r=n),i=r.getNode(t,!1),r.highlightItem(i))},onItemMouseLeave:function(e,t){var i=this.lockedView,n=this.normalView;e.trackOver&&(e!==i&&(n=i),n.clearHighlight())},relayFn:function(e,t){t=t||[];var i=this.lockedView;i[e].apply(i,t),(i=this.normalView)[e].apply(i,t)},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(e,t){return this.normalView.getNode(e,t)},getCell:function(e,t){var i=this.getViewForColumn(t).getNode(e,!0);return Ext.fly(i).down(t.getCellSelector())},indexOf:function(e){var t=this.lockedView.indexOf(e);return t=t||this.normalView.indexOf(e)},focus:function(){var e=this.getSelectionModel().getCurrentPosition();(e?e.view:this.normalView).focus()},focusRow:function(e){this.normalView.focusRow(e)},focusCell:function(e){e.view.focusCell(e)},isVisible:function(e){return this.panel.isVisible(e)},getCellByPosition:function(e,t){var i=e.column,n=this.lockedGrid.getColumnManager().getColumns().length;return n<=i?((e=Ext.apply({},e)).column-=n,this.normalView.getCellByPosition(e,t)):this.lockedView.getCellByPosition(e,t)},getRecord:function(e){var t=this.lockedView.getRecord(e);return t=t||this.normalView.getRecord(e)},scrollBy:function(){var e=this.normalView;e.scrollBy.apply(e,arguments)},addElListener:function(e,t,i){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var e=this.loadMask;this.clearListeners(),e&&e.bindStore&&e.bindStore(null)}}),Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","columnLines","rowLines"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(e){var t,i,n,r,s;if(this.subGridXType)t=this.subGridXType;else{if(!e)return"gridpanel";r=(i=this.getXTypes().split("/"))[(n=i.length)-1],t="tablepanel"!==(s=i[n-2])?s:r}return t},injectLockable:function(){this.lockable=!0,this.hasView=!0;var e,t,i,n,r,s,o,a,l,d,h,c=this,u=Ext.getScrollbarSize().height,f=c.store=Ext.StoreManager.lookup(c.store),g=c.getSelectionModel(),p=c.viewConfig&&c.viewConfig.loadMask,m=c.findPlugin("bufferedrenderer");for(e=c.constructLockableFeatures(),c.features&&(c.features=null),t=c.constructLockablePlugins(),c.plugins=t.topPlugins,i=Ext.apply({id:c.id+"-locked",isLocked:!0,ownerLockable:c,xtype:c.determineXTypeToCreate(!0),store:f,scrollerOwner:!1,animate:!1,scroll:!u&&"vertical",selModel:g,border:!1,cls:c.lockedGridCls,isLayoutRoot:function(){return!1},features:e.lockedFeatures,plugins:t.lockedPlugins},c.lockedGridConfig),n=Ext.apply({id:c.id+"-normal",isLocked:!1,ownerLockable:c,xtype:c.determineXTypeToCreate(),store:f,scrollerOwner:!1,selModel:g,border:!1,isLayoutRoot:function(){return!1},features:e.normalFeatures,plugins:t.normalPlugins},c.normalGridConfig),c.addCls(Ext.baseCSSPrefix+"grid-locked"),Ext.copyTo(n,c,c.bothCfgCopy,!0),Ext.copyTo(i,c,c.bothCfgCopy,!0),Ext.copyTo(n,c,c.normalCfgCopy,!0),Ext.copyTo(i,c,c.lockedCfgCopy,!0),r=0;r<c.normalCfgCopy.length;r++)delete c[c.normalCfgCopy[r]];for(r=0;r<c.lockedCfgCopy.length;r++)delete c[c.lockedCfgCopy[r]];c.addEvents("processcolumns","lockcolumn","unlockcolumn"),c.addStateEvents(["lockcolumn","unlockcolumn"]),s=c.processColumns(c.columns),i.width=s.lockedWidth+Ext.num(g.headerWidth,0)+(s.locked.items.length?1:0),i.columns=s.locked,n.columns=s.normal,n.flex=1,i.viewConfig=c.lockedViewConfig||{},i.viewConfig.loadingUseMsg=!1,i.viewConfig.loadMask=!1,u&&(i.viewConfig.style="border-bottom:"+u+"px solid #f6f6f6;"+(i.viewConfig.style||"")),n.viewConfig=c.normalViewConfig||{},n.viewConfig.loadMask=!1,Ext.applyIf(i.viewConfig,c.viewConfig),Ext.applyIf(n.viewConfig,c.viewConfig),c.lockedGrid=Ext.ComponentManager.create(i),c.isTree&&(c.lockedGrid.getView().animate=!1,n.store=c.lockedGrid.view.store,n.deferRowRender=!1,n.viewConfig.stripeRows=c.lockedGrid.view.stripeRows,n.rowLines=c.lockedGrid.rowLines),l=c.lockedGrid.getView(),n.viewConfig.lockingPartner=l,c.normalGrid=Ext.ComponentManager.create(n),l.lockingPartner=d=c.normalGrid.getView(),c.view=new Ext.grid.locking.View({loadingText:d.loadingText,loadingCls:d.loadingCls,loadingUseMsg:d.loadingUseMsg,loadMask:void 0===p?c.loadMask:p,locked:c.lockedGrid,normal:c.normalGrid,panel:c}),h=m?{}:{scroll:{fn:c.onLockedViewScroll,element:"el",scope:c}},u&&(c.lockedGrid.on({afterlayout:c.afterLockedViewLayout,scope:c}),l.getOverflowStyle(),l.scrollFlags.y?c.lockedGrid.headerCt.forceFit=!0:h.mousewheel={fn:c.onLockedViewMouseWheel,element:"el",scope:c}),l.on(h),h=m?{}:{scroll:{fn:c.onNormalViewScroll,element:"el",scope:c},scope:c},d.on(h),o=c.lockedGrid.headerCt,a=c.normalGrid.headerCt,c.headerCt=c.view.headerCt=new Ext.grid.locking.HeaderContainer(c),o.lockedCt=!0,o.lockableInjected=!0,a.lockableInjected=!0,o.on({add:{buffer:1,scope:c,fn:c.onLockedHeaderAdd},columnshow:c.onLockedHeaderShow,columnhide:c.onLockedHeaderHide,sortchange:c.onLockedHeaderSortChange,columnresize:c.onLockedHeaderResize,scope:c}),a.on({sortchange:c.onNormalHeaderSortChange,scope:c}),c.modifyHeaderCt(),c.items=[c.lockedGrid,c.normalGrid],c.relayHeaderCtEvents(o),c.relayHeaderCtEvents(a),c.storeRelayers=c.relayEvents(f,["filterchange","groupchange"]),c.layout={type:"hbox",align:"stretch"}},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(e){var t,i,n,r=new Ext.grid.header.Container,s=[],o=[],a={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:s},l={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:o},d={lockedWidth:0,locked:a,normal:l};for(Ext.isObject(e)&&(Ext.applyIf(a,e),Ext.applyIf(l,e),Ext.apply(r,e),e=e.items),t=0,i=e.length;t<i;++t)(n=e[t]).isComponent||(n=r.lookupComponent(r.applyDefaults(n))),n.processed=!0,n.locked||n.autoLock?(n.hidden||(d.lockedWidth+=this.getColumnWidth(n)||r.defaultWidth),s.push(n)):o.push(n),n.headerId||(n.headerId=(n.initialConfig||n).id||"h"+ ++this.headerCounter);return this.fireEvent("processcolumns",this,s,o),r.destroy(),d},getColumnWidth:function(e){var t,i,n,r=e.width||0;if(!r&&e.isGroupHeader)for(i=(t=e.items.items).length,n=0;n<i;n++)r+=this.getColumnWidth(t[n]);return r},afterLockedViewLayout:function(){var e=this.lockedGrid.getView(),t=e.el.dom,i=this.normalGrid.headerCt.tooNarrow?Ext.getScrollbarSize().height:0;e.scrollFlags.x&&t.scrollWidth>t.clientWidth&&(i=0),e.el.dom.style.borderBottomWidth=i+"px",Ext.isBorderBox||e.el.setHeight(e.lastBox.height)},onLockedViewMouseWheel:function(e){var t,i,n=-this.scrollDelta*e.getWheelDeltas().y,r=this.lockedGrid.getView().el.dom;this.ignoreMousewheel||(r&&(t=r.scrollTop!==r.scrollHeight-r.clientHeight,i=0!==r.scrollTop),(n<0&&i||0<n&&t)&&(e.stopEvent(),r.scrollTop+=n,this.normalGrid.getView().el.dom.scrollTop=r.scrollTop,this.onNormalViewScroll()))},onLockedViewScroll:function(){var e,t,i=this.lockedGrid.getView(),n=this.normalGrid.getView(),r=n.el.dom,s=i.el.dom;r.scrollTop!==s.scrollTop&&(r.scrollTop=s.scrollTop,this.store.buffered&&(t=i.el.child("table",!0),(e=n.el.child("table",!0)).style.position="absolute",e.style.top=t.style.top))},onNormalViewScroll:function(){var e,t,i=this.lockedGrid.getView(),n=this.normalGrid.getView(),r=n.el.dom,s=i.el.dom;r.scrollTop!==s.scrollTop&&(s.scrollTop=r.scrollTop,this.store.buffered&&(t=i.el.child("table",!0),e=n.el.child("table",!0),t.style.position="absolute",t.style.top=e.style.top))},syncRowHeights:function(){var e,t,i=this.lockedGrid.getView(),n=this.normalGrid.getView(),r=i.all.slice(),s=n.all.slice(),o=r.length;if(s.length===o){for(e=0;e<o;e++)n.syncRowHeights(r[e],s[e]);t=n.el.dom.scrollTop,n.el.dom.scrollTop=t,i.el.dom.scrollTop=t}},modifyHeaderCt:function(){var e=this;e.lockedGrid.headerCt.getMenuItems=e.getMenuItems(e.lockedGrid.headerCt.getMenuItems,!0),e.normalGrid.headerCt.getMenuItems=e.getMenuItems(e.normalGrid.headerCt.getMenuItems,!1),e.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.lockedGrid.headerCt.showMenuBy,e.showMenuBy),e.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.normalGrid.headerCt.showMenuBy,e.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(e,t){var i=this.getMenu(),n=i.down("#unlockItem"),r=i.down("#lockItem"),s=n.prev();!1===t.lockable?(s.hide(),n.hide(),r.hide()):(s.show(),n.show(),r.show(),n.initialConfig.disabled||n.setDisabled(!1===t.lockable),r.initialConfig.disabled||r.setDisabled(!t.isLockable()))},getMenuItems:function(t,i){var n=this.unlockText,r=this.lockText,s=Ext.baseCSSPrefix+"hmenu-unlock",o=Ext.baseCSSPrefix+"hmenu-lock",a=Ext.Function.bind(this.onUnlockMenuClick,this),l=Ext.Function.bind(this.onLockMenuClick,this);return function(){var e=t.call(this);return e.push("-",{itemId:"unlockItem",iconCls:s,text:n,handler:a,disabled:!i}),e.push({itemId:"lockItem",iconCls:o,text:r,handler:l,disabled:i}),e}},syncLockedWidth:function(){var e=this.lockedGrid,t=e.view,i=t.el.dom,n=this.normalGrid,r=e.headerCt.getVisibleGridColumns().length,s=n.headerCt.getVisibleGridColumns().length;return Ext.suspendLayouts(),s?(n.show(),r?(e.headerCt.forceFit||(delete e.flex,e.setWidth(e.headerCt.getFullWidth())),e.addCls(this.lockedGridCls),e.show()):(e.getView().refresh(),e.hide()),t.el.setStyle(t.getOverflowStyle()),this.ignoreMousewheel=t.scrollFlags.y):(n.hide(),i.style.borderBottomWidth="0",e.flex=1,delete e.width,e.removeCls(this.lockedGridCls),e.show(),t.el.setStyle(n.view.getOverflowStyle()),this.ignoreMousewheel=!0),Ext.resumeLayouts(!0),[r,s]},onLockedHeaderAdd:function(){this.ignoreAddLockedColumn||this.syncLockedWidth()},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(e,t,i){i&&this.normalGrid.headerCt.clearOtherSortStates(null,!0)},onNormalHeaderSortChange:function(e,t,i){i&&this.lockedGrid.headerCt.clearOtherSortStates(null,!0)},lock:function(e,t,i){var n,r,s=this.normalGrid,o=this.lockedGrid,a=s.headerCt;e=e||a.getMenu().activeHeader,i=i||o.headerCt,r=e.ownerCt,e.isLockable()&&(e.flex&&(e.width=e.getWidth(),e.flex=null),Ext.suspendLayouts(),r.remove(e,!1),e.locked=!0,this.ignoreAddLockedColumn=!0,Ext.isDefined(t)?i.insert(t,e):i.add(e),this.ignoreAddLockedColumn=!1,(n=this.syncLockedWidth())[0]&&o.getView().refresh(),n[1]&&s.getView().refresh(),Ext.resumeLayouts(!0),this.fireEvent("lockcolumn",this,e))},unlock:function(e,t,i){var n,r=this.normalGrid,s=this.lockedGrid,o=s.headerCt;Ext.isDefined(t)||(t=0),e=e||o.getMenu().activeHeader,i=i||r.headerCt,Ext.suspendLayouts(),e.ownerCt.remove(e,!1),e.locked=!1,i.insert(t,e),(n=this.syncLockedWidth())[0]&&s.getView().refresh(),n[1]&&r.getView().refresh(),Ext.resumeLayouts(!0),this.fireEvent("unlockcolumn",this,e)},reconfigureLockable:function(e,t){var i=this.store,n=this.lockedGrid,r=this.normalGrid;Ext.suspendLayouts(),t&&(n.headerCt.removeAll(),r.headerCt.removeAll(),t=this.processColumns(t),this.ignoreAddLockedColumn=!0,n.headerCt.add(t.locked.items),this.ignoreAddLockedColumn=!1,r.headerCt.add(t.normal.items),this.syncLockedWidth()),e&&e!==i?(e=Ext.data.StoreManager.lookup(e),this.store=e,n.bindStore(e),r.bindStore(e)):(n.getView().refresh(),r.getView().refresh()),Ext.resumeLayouts(!0)},constructLockableFeatures:function(){var e,t,i,n,r,s=this.features,o=0;if(s)for(Ext.isArray(s)||(s=[s]),i=[],n=[],r=s.length;o<r;o++)switch((e=s[o]).isFeature||(e=Ext.create("feature."+e.ftype,e)),e.lockableScope){case"locked":i.push(e);break;case"normal":n.push(e);break;default:e.lockableScope="both",i.push(e),n.push(t=e.clone()),(t.lockingPartner=e).lockingPartner=t}return{normalFeatures:n,lockedFeatures:i}},constructLockablePlugins:function(){var e,t,i,n,r,s,o,a=this.plugins,l=0;if(a)for(Ext.isArray(a)||(a=[a]),n=[],r=[],s=[],o=a.length;l<o;l++)switch((e=a[l]).init?e.lockableScope:(e.ptype?Ext.ClassManager.getByAlias("plugin."+e.ptype):Ext.ClassManager.get(e.xclass)).prototype.lockableScope){case"both":r.push(i=e.clonePlugin()),s.push(t=e.clonePlugin()),(i.lockingPartner=t).lockingPartner=i,Ext.destroy(e);break;case"locked":r.push(e);break;case"normal":s.push(e);break;default:n.push(e)}return{topPlugins:n,normalPlugins:s,lockedPlugins:r}},destroyLockable:function(){Ext.destroy(this.view,this.headerCt)}},function(){this.borrow(Ext.AbstractComponent,["constructPlugin"])}),Ext.define("Ext.tree.View",{extend:Ext.view.Table,alias:"widget.treeview",isTreeView:!0,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",ariaRole:"tree",blockRefresh:!0,loadMask:!1,rootVisible:!0,deferInitialRefresh:!1,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(e){var t=e.record,i=e.view;e.rowAttr={},e.rowAttr["data-qtip"]=t.get("qtip")||"",e.rowAttr["data-qtitle"]=t.get("qtitle")||"",t.isExpanded()&&e.rowClasses.push(i.expandedCls),t.isLeaf()&&e.rowClasses.push(i.leafCls),t.isLoading()&&e.rowClasses.push(i.loadingCls)}}],initComponent:function(){var e=this,t=e.panel.getStore(),i=e.store;void 0===e.initialConfig.animate&&(e.animate=Ext.enableFx),i&&i!==t||(e.store=i=new Ext.data.NodeStore({treeStore:t,recursive:!0,rootVisible:e.rootVisible})),e.node&&e.setRootNode(e.node),e.animQueue={},e.animWraps={},e.addEvents("afteritemexpand","afteritemcollapse","nodedragover"),e.callParent(arguments),e.addRowTpl(Ext.XTemplate.getTpl(e,"treeRowTpl"))},onBeforeFill:function(e,t){this.store.suspendEvents()},onFillComplete:function(e,t,i){var n=this.store,r=n.indexOf(i[0]);n.resumeEvents(),t.triggerUIUpdate(),i.length&&-1!==r&&(this.onAdd(this.store,i,r),this.refreshPartner())},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(e){e.isStore&&(this.store.resumeEvents(),this.refresh(),this.refreshPartner())},refreshPartner:function(){var e=this.lockingPartner;e&&e.refresh()},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){this.callParent(arguments),this.el.on({scope:this,delegate:this.expanderSelector,mouseover:this.onExpanderMouseOver,mouseout:this.onExpanderMouseOut,click:{delegate:this.checkboxSelector,fn:this.onCheckboxChange,scope:this}})},afterComponentLayout:function(){this.callParent(arguments);var e=this.stretcher;e&&e.setWidth(this.getWidth()-Ext.getScrollbarSize().width)},processUIEvent:function(e){return!e.getTarget("."+this.nodeAnimWrapCls,this.el)&&this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(e){this.store.setNode(e),this.node=e},onCheckboxChange:function(e,t){var i=e.getTarget(this.getItemSelector(),this.getTargetEl());i&&this.onCheckChange(this.getRecord(i))},onCheckChange:function(e){var t=e.get("checked");Ext.isBoolean(t)&&(t=!t,e.set("checked",t),this.fireEvent("checkchange",e,t))},getChecked:function(){var t=[];return this.node.cascadeBy(function(e){e.get("checked")&&t.push(e)}),t},isItemChecked:function(e){return e.get("checked")},createAnimWrap:function(e,t){var i,n=this.getNode(e),r=[];return this.renderColumnSizer(r),{record:e,node:n,el:i=Ext.get(n).insertSibling({role:"presentation",tag:"tr",html:['<td colspan="'+this.panel.headerCt.getColumnCount()+'" role="presentation">','<div class="'+this.nodeAnimWrapCls+'" role="presentation">','<table class="'+Ext.baseCSSPrefix+this.id+"-table "+Ext.baseCSSPrefix+'grid-table" style="border:0" cellspacing="0" cellpadding="0" role="presentation">',r.join(""),"<tbody></tbody></table>","</div>","</td>"].join("")},"after"),expanding:!1,collapsing:!1,animating:!1,animateEl:i.down("div"),targetEl:i.down("tbody")}},getAnimWrap:function(e,t){if(!this.animate)return null;var i=this.animWraps,n=i[e.internalId];if(!1!==t)for(;!n&&e;)(e=e.parentNode)&&(n=i[e.internalId]);return n},doAdd:function(e,t){var i,n,r,s,o=this.bufferRender(e,t,!0),a=e[0].parentNode,l=this.all,d=this.getAnimWrap(a);if(!d||!d.expanding)return this.callParent(arguments);a=d.record,s=(r=(n=d.targetEl).dom.childNodes).length,i=t-this.indexInStore(a)-1,!s||s<=i?n.appendChild(o):Ext.fly(r[i]).insertSibling(o,"before",!0),l.insert(t,o),d.isAnimating&&this.onExpand(a)},onRemove:function(e,t,i){var n;if(this.viewReady){if(0===this.store.getCount())this.refresh();else for(n=i.length-1;0<=n;--n)this.doRemove(t[n],i[n]);if(this.hasListeners.itemremove)for(n=i.length-1;0<=n;--n)this.fireEvent("itemremove",t[n],i[n])}},doRemove:function(e,t){var i=this.all,n=this.getAnimWrap(e),r=i.item(t),s=r?r.dom:null;if(!s||!n||!n.collapsing)return this.callParent(arguments);n.targetEl.dom.insertBefore(s,n.targetEl.dom.firstChild),i.removeElement(t)},onBeforeExpand:function(e,t,i){var n;this.rendered&&this.all.getCount()&&this.animate&&this.getNode(e)&&((n=this.getAnimWrap(e,!1))?n.collapsing&&n.targetEl.select(this.itemSelector).remove():(n=this.animWraps[e.internalId]=this.createAnimWrap(e)).animateEl.setHeight(0),n.expanding=!0,n.collapsing=!1)},onExpand:function(e){var t,i,n,r=this,s=r.animQueue,o=e.getId(),a=r.getNode(e),l=a?r.indexOf(a):-1,d=Ext.isIEQuirks?1:0;if(r.singleExpand&&r.ensureSingleExpand(e),-1!==l){if(!(t=r.getAnimWrap(e,!1)))return r.refreshSelection(),e.isExpandingOrCollapsing=!1,r.fireEvent("afteritemexpand",e,l,a),void r.refreshSize();i=t.animateEl,n=t.targetEl,i.stopAnimation(),s[o]=!0,i.dom.style.height=d+"px",i.animate({from:{height:d},to:{height:n.getHeight()},duration:r.expandDuration,listeners:{afteranimate:function(){var e=n.query(r.itemSelector);e.length&&t.el.insertSibling(e,"before",!0),t.el.remove(),r.refreshSize(),delete r.animWraps[t.record.internalId],delete s[o]}},callback:function(){r.refreshSelection(),e.isExpandingOrCollapsing=!1,r.fireEvent("afteritemexpand",e,l,a)}}),t.isAnimating=!0}},onBeforeCollapse:function(e,t,i,n,r){var s,o=this;o.rendered&&o.all.getCount()&&(o.animate?Ext.Array.contains(e.stores,o.store)&&((s=o.getAnimWrap(e))?s.expanding&&s.targetEl.select(this.itemSelector).remove():s=o.animWraps[e.internalId]=o.createAnimWrap(e,i),s.expanding=!1,s.collapsing=!0,s.callback=n,s.scope=r):(o.onCollapseCallback=n,o.onCollapseScope=r),o.onRowDeselect(o.indexOf(e.firstChild)))},onCollapse:function(e){var t,i=this,n=i.animQueue,r=e.getId(),s=i.getNode(e),o=s?i.indexOf(s):-1,a=i.getAnimWrap(e);if(i.all.getCount()&&Ext.Array.contains(e.stores,i.store)){if(!a)return i.refreshSelection(),e.isExpandingOrCollapsing=!1,i.fireEvent("afteritemcollapse",e,o,s),i.refreshSize(),Ext.callback(i.onCollapseCallback,i.onCollapseScope),void(i.onCollapseCallback=i.onCollapseScope=null);t=a.animateEl,n[r]=!0,t.stopAnimation(),t.animate({to:{height:Ext.isIEQuirks?1:0},duration:i.collapseDuration,listeners:{afteranimate:function(){a.el.remove(),i.refreshSize(),delete i.animWraps[a.record.internalId],delete n[r]}},callback:function(){i.refreshSelection(),e.isExpandingOrCollapsing=!1,i.fireEvent("afteritemcollapse",e,o,s),Ext.callback(a.callback,a.scope),a.callback=a.scope=null}}),a.isAnimating=!0}},isAnimating:function(e){return!!this.animQueue[e.getId()]},expand:function(e,t,i,n){var r,s=!!this.animate;if(!s||!e.isExpandingOrCollapsing)return e.isLeaf()||(e.isExpandingOrCollapsing=s),Ext.suspendLayouts(),r=e.expand(t,i,n),Ext.resumeLayouts(!0),r},collapse:function(e,t,i,n){var r=!!this.animate;if(!r||!e.isExpandingOrCollapsing)return e.isLeaf()||(e.isExpandingOrCollapsing=r),e.collapse(t,i,n)},toggle:function(e,t,i,n){e.isExpanded()?this.collapse(e,t,i,n):this.expand(e,t,i,n)},onItemDblClick:function(e,t,i){var n=this.editingPlugin;this.callParent(arguments),!this.toggleOnDblClick||!e.isExpandable()||n&&2===n.clicksToEdit||this.toggle(e)},onBeforeItemMouseDown:function(e,t,i,n){return!n.getTarget(this.expanderSelector,t)&&this.callParent(arguments)},onItemClick:function(e,t,i,n){return n.getTarget(this.expanderSelector,t)&&e.isExpandable()?(this.toggle(e,n.ctrlKey),!1):this.callParent(arguments)},onExpanderMouseOver:function(e,t){e.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(e,t){e.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var e=this.callParent(arguments);return Ext.apply(e,{beforeexpand:this.onBeforeExpand,expand:this.onExpand,beforecollapse:this.onBeforeCollapse,collapse:this.onCollapse,write:this.onStoreWrite,datachanged:this.onStoreDataChanged})},onBindStore:function(){var e=this,t=e.getTreeStore();e.callParent(arguments),e.mon(t,{scope:e,beforefill:e.onBeforeFill,fillcomplete:e.onFillComplete}),t.remoteSort||e.mon(t,{scope:e,beforesort:e.onBeforeSort,sort:e.onSort})},onUnbindStore:function(){var e=this,t=e.getTreeStore();e.callParent(arguments),e.mun(t,{scope:e,beforefill:e.onBeforeFill,fillcomplete:e.onFillComplete}),t.remoteSort||e.mun(t,{scope:e,beforesort:e.onBeforeSort,sort:e.onSort})},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(t){var e=t.parentNode;e&&e.eachChild(function(e){e!==t&&e.isExpanded()&&e.collapse()})},shouldUpdateCell:function(e,t,i){if(i)for(var n=0,r=i.length;n<r;++n)if(Ext.Array.contains(this.uiFields,i[n]))return!0;return this.callParent(arguments)},onStoreWrite:function(e,t){var i=this.panel.store;i.fireEvent("write",i,t)},onStoreDataChanged:function(e,t){var i=this.panel.store;i.fireEvent("datachanged",i)}}),Ext.define("Ext.grid.plugin.BufferedRendererTreeView",{override:"Ext.tree.View",onRemove:function(e,t,i){this.rendered&&this.bufferedRenderer?this.refreshView():this.callParent([e,t,i])}}),Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:Ext.AbstractPlugin,alias:"plugin.bufferedrenderer",lockableScope:"both",percentageFromEdge:.35,variableRowHeight:!1,numFromEdge:8,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,init:function(e){var t=this,i=e.view,n={scroll:{fn:t.onViewScroll,element:"el",scope:t},boxready:t.onViewResize,resize:t.onViewResize,refresh:t.onViewRefresh,scope:t,destroyable:!0};!t.variableRowHeight&&e.ownerLockable&&(e.ownerLockable.syncRowHeight=!1),(e.isTree||e.ownerLockable&&e.ownerLockable.isTree)&&(i.blockRefresh=!1,i.loadMask=!0),i.positionBody&&(n.refresh=t.onViewRefresh),t.grid=e,(t.view=i).bufferedRenderer=t,i.preserveScrollOnRefresh=!0,t.bindStore(i.dataSource),i.getViewRange=function(){return t.getViewRange()},t.position=0,t.gridListeners=e.on("reconfigure",t.onReconfigure,t),t.viewListeners=i.on(n)},bindStore:function(e){var t=this;t.store&&t.unbindStore(),t.storeListeners=e.on({scope:t,clear:t.onStoreClear,destroyable:!0}),t.store=e,t.view.componentLayout.layoutCount&&t.onViewResize(t.view,0,t.view.getHeight())},onReconfigure:function(e,t){t&&t!==this.store&&this.bindStore(t)},unbindStore:function(){this.storeListeners.destroy(),this.store=null},onStoreClear:function(){var e=this;e.view.rendered&&!e.store.isDestroyed&&(0!==e.scrollTop&&(e.ignoreNextScrollEvent=!0,e.view.el.dom.scrollTop=0),e.bodyTop=e.scrollTop=e.position=e.scrollHeight=0,e.lastScrollDirection=e.scrollOffset=null,delete e.rowHeight)},onViewRefresh:function(){var e,t=this,i=t.view,n=t.scrollHeight;i.all.getCount()&&delete t.rowHeight,e=t.getScrollHeight(),n&&e==n||t.stretchView(i,e),t.scrollTop!==i.el.dom.scrollTop?t.onViewScroll():(t.setBodyTop(t.bodyTop),i.all.getCount()&&(t.viewSize=0,t.onViewResize(i,null,i.getHeight())))},onViewResize:function(e,t,i,n,r){if(!r||i!==r){var s;s=Math.ceil(i/this.rowHeight)+this.trailingBufferZone+this.leadingBufferZone,this.viewSize=this.setViewSize(s)}},stretchView:function(e,t){var i=this.store.buffered?this.store.getTotalCount():this.store.getCount();if(this.stretcher)this.stretcher.dom.style.marginTop=t-1+"px";else{var n=e.el;e.refreshCounter&&e.fixedNodes++,i&&this.view.all.endIndex===i-1&&(t=this.bodyTop+e.body.dom.offsetHeight),this.stretcher=n.createChild({style:{width:"1px",height:"1px",marginTop:t-1+"px",left:0,position:"absolute"}},n.dom.firstChild)}},setViewSize:function(e){if(e!==this.viewSize){this.scrollTop=this.view.el.dom.scrollTop;var t,i,n=this.store,r=this.view.all.getCount(),s=this.lockingPartner;this.viewSize=n.viewSize=e,r&&(t=this.view.all.startIndex,i=Math.min(t+e-1,(n.buffered?n.getTotalCount():n.getCount())-1),s&&s.disable(),this.renderRange(t,i),s&&s.enable())}return e},getViewRange:function(){var e=this.view.all,t=this.store;return t.data.getCount()?t.getRange(e.startIndex,e.startIndex+(this.viewSize||t.defaultViewSize)-1):[]},scrollTo:function(n,r,s,o){var e,t,a,l,d,i,h,c,u=this,f=u.view,g=f.el.dom,p=u.store,m=p.buffered?p.getTotalCount():p.getCount();(i=f.dataSource.groupingFeature)&&!1!==i.collapsible?(n=Math.min(Math.max(n,0),f.store.getCount()-1),c=f.store.getAt(n),n=i.indexOf(n),(h=i.getGroup(c)).isCollapsed&&(i.expand(h.name),m=p.buffered?p.getTotalCount():p.getCount())):n=Math.min(Math.max(n,0),m-1),e=Math.max(Math.min(n-(u.leadingBufferZone+u.trailingBufferZone)/2,m-u.viewSize+1),0),d=e*u.rowHeight,t=Math.min(e+u.viewSize-1,m-1),p.getRange(e,t,{callback:function(e,t,i){u.renderRange(t,i,!0),a=p.data.getRange(n,n)[0],l=f.getNode(a,!1),f.body.dom.style.top=d+"px",u.position=u.scrollTop=g.scrollTop=d=Math.min(Math.max(0,d-f.body.getOffsetsTo(l)[1]),g.scrollHeight-g.clientHeight),Ext.isIE&&(g.scrollTop=d),r&&f.selModel.select(a),s&&s.call(o||u,n,a)}})},onViewScroll:function(e,t){var i,n,r=this,s=r.store,o=s.buffered?s.getTotalCount():s.getCount(),a=r.scrollTop=r.view.el.dom.scrollTop,l=!1;r.ignoreNextScrollEvent?r.ignoreNextScrollEvent=!1:(r.disabled||o<r.viewSize||(n=0<(i=a-r.position)?1:-1,(20<=Math.abs(i)||n!==r.lastScrollDirection)&&(r.lastScrollDirection=n,r.handleViewScroll(r.lastScrollDirection),l=!0)),l||r.lockingPartner&&r.lockingPartner.scrollTop!==a&&(r.lockingPartner.view.el.dom.scrollTop=a))},handleViewScroll:function(e){var t,i,n=this,r=n.view.all,s=n.store,o=n.viewSize,a=s.buffered?s.getTotalCount():s.getCount();-1==e?r.startIndex&&n.getFirstVisibleRowIndex()-r.startIndex<n.numFromEdge&&(t=Math.max(0,n.getLastVisibleRowIndex()+n.trailingBufferZone-o)):r.endIndex<a-1&&r.endIndex-n.getLastVisibleRowIndex()<n.numFromEdge&&(t=Math.max(0,n.getFirstVisibleRowIndex()-n.trailingBufferZone)),null==t||(i=Math.min(t+o-1,a-1),t===r.startIndex&&i===r.endIndex)?n.lockingPartner&&n.lockingPartner.view.el&&n.lockingPartner.scrollTop!==n.scrollTop&&(n.lockingPartner.view.el.dom.scrollTop=n.scrollTop):n.renderRange(t,i)},renderRange:function(e,t,i){var n=this,r=n.view.all,s=n.store;e===r.startIndex&&t===r.endIndex||(s.rangeCached(e,t)?(n.cancelLoad(),n.synchronousRender||i?n.onRangeFetched(null,e,t):(n.renderTask||(n.renderTask=new Ext.util.DelayedTask(n.onRangeFetched,n,null,!1)),n.renderTask.delay(1,null,null,[null,e,t]))):n.attemptLoad(e,t))},onRangeFetched:function(e,t,i,n){var r,s,o,a=this,l=a.view,d=l.all,h=0,c=t*a.rowHeight,u=a.lockingPartner;l.isDestroyed||(e=e||a.store.getRange(t,i))&&((t>d.endIndex||i<d.startIndex)&&(d.clear(!0),o=c),d.getCount()?o=i>d.endIndex?(s=Math.max(t-d.startIndex,0),a.variableRowHeight&&(h=d.item(d.startIndex+s,!0).offsetTop),d.scroll(Ext.Array.slice(e,d.endIndex+1-t),1,s,t,i),a.variableRowHeight?a.bodyTop+h:c):(s=Math.max(d.endIndex-i,0),r=d.startIndex,d.scroll(Ext.Array.slice(e,0,d.startIndex-t),-1,s,t,i),a.variableRowHeight?a.bodyTop-d.item(r,!0).offsetTop:c):l.doAdd(e,t),a.position=a.scrollTop,l.positionBody&&a.setBodyTop(o,c),!u||u.disabled||n||(u.onRangeFetched(e,t,i,!0),u.scrollTop!==a.scrollTop&&(u.view.el.dom.scrollTop=a.scrollTop)))},setBodyTop:function(e,t){var i,n=this.view,r=this.store,s=n.body.dom;e=Math.floor(e),void 0!==t&&(i=e-t,e=t),s.style.position="absolute",s.style.top=(this.bodyTop=e)+"px",i&&(this.scrollTop=this.position=n.el.dom.scrollTop-=i),n.all.endIndex===(r.buffered?r.getTotalCount():r.getCount())-1&&this.stretchView(n,this.bodyTop+s.offsetHeight)},getFirstVisibleRowIndex:function(e,t,i,n){var r,s,o=this,a=o.view,l=a.all,d=l.elements,h=a.el.dom.clientHeight;if(l.getCount()&&o.variableRowHeight){if(arguments.length)r=e+Math.floor((t-e)/2);else{if(e=l.startIndex,t=l.endIndex,n=(i=o.scrollTop)+h,o.bodyTop>n||o.bodyTop+a.body.getHeight()<i)return Math.floor(o.scrollTop/o.rowHeight);r=e+Math.min(o.numFromEdge+(-1==o.lastScrollDirection?o.leadingBufferZone:o.trailingBufferZone),Math.floor((t-e)/2))}if((s=o.bodyTop+d[r].offsetTop)+d[r].offsetHeight<i)return o.getFirstVisibleRowIndex(r+1,t,i,n);if(s<=i)return r;if(r!==e)return o.getFirstVisibleRowIndex(e,r-1,i,n)}return Math.floor(o.scrollTop/o.rowHeight)},getLastVisibleRowIndex:function(e,t,i,n){var r,s,o=this,a=o.view,l=a.all,d=l.elements,h=a.el.dom.clientHeight;if(l.getCount()&&o.variableRowHeight){if(arguments.length)r=e+Math.floor((t-e)/2);else{if(e=l.startIndex,t=l.endIndex,n=(i=o.scrollTop)+h,o.bodyTop>n||o.bodyTop+a.body.getHeight()<i)return Math.floor(o.scrollTop/o.rowHeight)+Math.ceil(h/o.rowHeight);r=t-Math.min(o.numFromEdge+(1==o.lastScrollDirection?o.leadingBufferZone:o.trailingBufferZone),Math.floor((t-e)/2))}if(n<(s=o.bodyTop+d[r].offsetTop))return o.getLastVisibleRowIndex(e,r-1,i,n);if(n<=s+d[r].offsetHeight)return r;if(r!==t)return o.getLastVisibleRowIndex(r+1,t,i,n)}return o.getFirstVisibleRowIndex()+Math.ceil(h/o.rowHeight)},getScrollHeight:function(){var e=this.view,t=this.store,i=!this.hasOwnProperty("rowHeight");return this.store.getCount()?(i&&e.all.getCount()&&(this.rowHeight=Math.floor(e.body.getHeight()/e.all.getCount())),this.scrollHeight=Math.floor((t.buffered?t.getTotalCount():t.getCount())*this.rowHeight)):0},attemptLoad:function(e,t){var i=this;i.scrollToLoadBuffer?(i.loadTask||(i.loadTask=new Ext.util.DelayedTask(i.doAttemptLoad,i,[])),i.loadTask.delay(i.scrollToLoadBuffer,i.doAttemptLoad,i,[e,t])):i.store.getRange(e,t,{callback:i.onRangeFetched,scope:i,fireEvent:!1})},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(e,t){this.store.getRange(e,t,{callback:this.onRangeFetched,scope:this,fireEvent:!1})},destroy:function(){var e=this.view;e&&e.el&&e.el.un("scroll",this.onViewScroll,this),Ext.destroy(this.viewListeners,this.storeListeners,this.gridListeners)}}),Ext.define("Ext.grid.plugin.Editing",{alias:"editing.editing",extend:Ext.AbstractPlugin,mixins:{observable:Ext.util.Observable},clicksToEdit:2,triggerEvent:void 0,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldXType:"textfield",editStyle:"",constructor:function(e){var i=this;i.addEvents("beforeedit","edit","validateedit","canceledit"),i.callParent(arguments),i.mixins.observable.constructor.call(i),i.on("edit",function(e,t){i.fireEvent("afteredit",e,t)})},init:function(e){var t=this;t.grid=e,t.view=e.view,t.initEvents(),t.mon(e,{beforereconfigure:t.onBeforeReconfigure,reconfigure:t.onReconfigure,scope:t,beforerender:{fn:t.onReconfigure,single:!0,scope:t}}),e.relayEvents(t,t.relayedEvents),t.grid.ownerLockable&&t.grid.ownerLockable.relayEvents(t,t.relayedEvents),e.isEditable=!0,e.editingPlugin=e.view.editingPlugin=t},onBeforeReconfigure:function(){this.reconfiguring=!0},onReconfigure:function(){this.initFieldAccessors(this.grid.getTopLevelColumnManager().getColumns()),delete this.reconfiguring},destroy:function(){var e=this.grid;Ext.destroy(this.keyNav),this.clearListeners(),e&&(e.editingPlugin=e.view.editingPlugin=this.grid=this.view=this.editor=this.keyNav=null)},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(e){e.isGroupHeader?e=e.getGridColumns():Ext.isArray(e)||(e=[e]);var t,i,n=this,r=e.length;for(t=0;t<r;t++)(i=e[t]).getEditor||(i.getEditor=function(e,t){return n.getColumnField(this,t)}),i.hasEditor||(i.hasEditor=function(){return n.hasColumnField(this)}),i.setEditor||(i.setEditor=function(e){n.setColumnField(this,e)})},removeFieldAccessors:function(e){e.isGroupHeader?e=e.getGridColumns():Ext.isArray(e)||(e=[e]);var t,i,n=e.length;for(t=0;t<n;t++)(i=e[t]).getEditor=i.hasEditor=i.setEditor=null},getColumnField:function(e,t){var i=e.field;return i&&i.isFormField||(i=e.field=this.createColumnField(e,t)),i},hasColumnField:function(e){return!!e.field},setColumnField:function(e,t){e.field=t,e.field=this.createColumnField(e)},createColumnField:function(e,t){var i=e.field;return!i&&e.editor&&(i=e.editor,e.editor=null),!i&&t&&(i=t),i&&(i.isComponent?(i.column=e,i.isEditorComponent=!0):(i=Ext.isString(i)?{name:e.dataIndex,xtype:i,column:e,isEditorComponent:!0}:Ext.apply({name:e.dataIndex,column:e,isEditorComponent:!0},i),i=Ext.ComponentManager.create(i,this.defaultFieldXType)),e.field=i),i},initEvents:function(){this.initEditTriggers(),this.initLockableEvents(),this.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var e=this,t=e.view;"cellfocus"==e.triggerEvent?e.mon(t,"cellfocus",e.onCellFocus,e):"rowfocus"==e.triggerEvent?e.mon(t,"rowfocus",e.onRowFocus,e):(t.getSelectionModel().isCellModel&&(t.onCellFocus=Ext.Function.bind(e.beforeViewCellFocus,e)),e.mon(t,e.triggerEvent||"cell"+(1===e.clicksToEdit?"click":"dblclick"),e.onCellClick,e)),e.initAddRemoveHeaderEvents(),t.on("render",e.initKeyNavHeaderEvents,e,{single:!0})},initLockableEvents:function(){var e=this.grid.ownerLockable;e&&e.on({lockcolumn:this.onColumnLockUnlock,unlockcolumn:this.onColumnLockUnlock,scope:this})},beforeViewCellFocus:function(e){!this.view.selModel.keyNavigation&&this.editing&&this.isCellEditable&&this.isCellEditable(e.row,e.columnHeader)||this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(e,t,i){this.startEdit(t,0)},onCellFocus:function(e,t,i){this.startEdit(i.row,i.column)},onCellClick:function(e,t,i,n,r,s,o){var a=e.expanderSelector,l=e.ownerCt.getColumnManager().getHeaderAtIndex(i);(!l.getEditor(n)||a)&&o.getTarget(a)||this.startEdit(n,l)},initAddRemoveHeaderEvents:function(){this.mon(this.grid.headerCt,{scope:this,add:this.onColumnAdd,remove:this.onColumnRemove,columnmove:this.onColumnMove})},initKeyNavHeaderEvents:function(){this.keyNav=Ext.create("Ext.util.KeyNav",this.view.el,{enter:this.onEnterKey,esc:this.onEscKey,scope:this})},onColumnAdd:function(e,t){this.initFieldAccessors(t)},onColumnRemove:function(e,t){this.removeFieldAccessors(t)},onColumnMove:function(e,t,i,n){this.initFieldAccessors(t)},onColumnLockUnlock:function(e,t){this.initFieldAccessors(t)},onEnterKey:function(e){var t,i,n,r=this.grid,s=r.getSelectionModel();n=s.getCurrentPosition&&(i=s.getCurrentPosition())?(t=i.record,i.columnHeader):(t=s.getLastSelected(),r.getColumnManager().getHeaderAtIndex(0)),t&&n&&this.startEdit(t,n)},onEscKey:function(e){return this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(e,t){var i,n=this,r=n.grid.lockable?n.grid:n.view;return r.componentLayoutCounter?!(n.grid.collapsed||!n.grid.view.isVisible(!0))&&(null!=(i=n.getEditingContext(e,t))&&(!(!n.preventBeforeCheck&&(!1===n.beforeEdit(i)||!1===n.fireEvent("beforeedit",n,i)||i.cancel))&&i)):(r.on({boxready:Ext.Function.bind(n.startEdit,n,[e,t]),single:!0}),!1)},getEditingContext:function(e,t){var i,n,r,s,o=this.grid,a=o.getColumnManager();if(Ext.isNumber(t)&&(t=a.getHeaderAtIndex(t)),t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),t&&(n=(i=t.getOwnerHeaderCt().view).getNode(e,!0))&&(s=a.getHeaderIndex(t),Ext.isNumber(e)?(r=e,e=i.getRecord(n)):r=i.indexOf(n),e))return{grid:o,view:i,store:i.dataSource,record:e,field:t.dataIndex,value:e.get(t.dataIndex),row:n,column:t,rowIdx:r,colIdx:s}},cancelEdit:function(){this.editing=!1,this.fireEvent("canceledit",this,this.context)},completeEdit:function(){this.editing&&this.validateEdit()&&this.fireEvent("edit",this,this.context),this.context=null,this.editing=!1},validateEdit:function(){var e=this.context;return!1!==this.fireEvent("validateedit",this,e)&&!e.cancel}}),Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:Ext.grid.plugin.Editing,lockableScope:"both",init:function(e){var t=this.lockingPartner;this.callParent(arguments),t?t.editors?this.editors=t.editors:this.editors=t.editors=new Ext.util.MixedCollection(!1,function(e){return e.editorId}):this.editors=new Ext.util.MixedCollection(!1,function(e){return e.editorId})},onReconfigure:function(e,t,i){i&&this.editors.clear(),this.callParent()},destroy:function(){this.editors&&(this.editors.each(Ext.destroy,Ext),this.editors.clear()),this.callParent(arguments)},onBodyScroll:function(){var e=this.getActiveEditor(),t=this.view.el.getScroll();e&&e.editing&&e.editingPlugin===this&&(t.top!==this.scroll.top?e.field&&(e.field.triggerBlur?e.field.triggerBlur():e.field.blur()):e.realign()),this.scroll=t},initCancelTriggers:function(){var e=this.grid,t=e.view;this.mon(t,"bodyscroll",this.onBodyScroll,this),this.mon(e,{columnresize:this.cancelEdit,columnmove:this.cancelEdit,scope:this})},isCellEditable:function(e,t){var i=this.getEditingContext(e,t);if(this.grid.view.isVisible(!0)&&i&&(t=i.column,e=i.record,t&&this.getEditor(e,t)))return!0},startEdit:function(e,t,i){var n,r,s,o=this;return!(!i&&(o.preventBeforeCheck=!0,i=o.callParent(arguments),delete o.preventBeforeCheck,!1===i))&&(i&&o.grid.view.isVisible(!0)?(e=i.record,(r=(t=i.column)&&t.getEditor(e)&&!(!1===o.beforeEdit(i)||!1===o.fireEvent("beforeedit",o,i)||i.cancel))&&(n=(s=o.getEditor(e,t)).editing),o.completeEdit(),!!r&&((o.context=i).originalValue=i.value=e.get(t.dataIndex),o.grid.view.cancelFocus(),o.view.scrollCellIntoView(o.getCell(e,t)),!!s&&(Ext.isIE&&n&&(s.selectSameEditor=!0),o.showEditor(s,i,i.value),!0))):void 0)},showEditor:function(e,t,i){var n=this,r=t.record,s=t.column,o=n.grid.getSelectionModel(),a=o.preventFocus,l=o.getCurrentPosition();if(!s.up(n.view.ownerCt))return n.lockingPartner.showEditor(e,n.lockingPartner.getEditingContext(l.record,l.columnHeader),i);n.setEditingContext(t),n.setActiveEditor(e),n.setActiveRecord(r),n.setActiveColumn(s),l&&o.isCellSelected(n.view,r,s)||(o.preventFocus=!0,o.selectByPosition({row:r,column:s,view:n.view}),o.preventFocus=a),Ext.isIE&&"click"===Ext.EventObject.type?Ext.Function.defer(e.startEdit,1,e,[n.getCell(r,s),i,t]):e.startEdit(n.getCell(r,s),i,t),n.editing=!0,n.scroll=n.view.el.getScroll()},completeEdit:function(){var e=this.getActiveEditor();e&&(e.completeEdit(),this.editing=!1)},setEditingContext:function(e){this.context=e,this.lockingPartner&&(this.lockingPartner.context=e)},setActiveEditor:function(e){this.activeEditor=e,this.lockingPartner&&(this.lockingPartner.activeEditor=e)},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(e){this.activeColumn=e,this.lockingPartner&&(this.lockingPartner.activeColumn=e)},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(e){this.activeRecord=e,this.lockingPartner&&(this.lockingPartner.activeRecord=e)},getActiveRecord:function(){return this.activeRecord},getEditor:function(e,t){var i=this,n=i.editors,r=t.getItemId(),s=n.getByKey(r),o=i.grid.ownerLockable||i.grid;if(!s){if(!(s=t.getEditor(e)))return!1;s instanceof Ext.grid.CellEditor?s.floating=!0:s=new Ext.grid.CellEditor({floating:!0,editorId:r,field:s}),s.field.excludeForm=!0,o.add(s),s.on({scope:i,specialkey:i.onSpecialKey,complete:i.onEditComplete,canceledit:i.cancelEdit}),t.on("removed",i.cancelActiveEdit,i),n.add(s)}return t.isTreeColumn&&(s.isForTree=t.isTreeColumn,s.addCls(Ext.baseCSSPrefix+"tree-cell-editor")),s.grid=i.grid,s.editingPlugin=i,s},cancelActiveEdit:function(e){var t=this.context;t&&t.column===e&&this.cancelEdit()},setColumnField:function(e,t){var i=this.editors.getByKey(e.getItemId());Ext.destroy(i,e.field),this.editors.removeAtKey(e.getItemId()),this.callParent(arguments)},getCell:function(e,t){return this.grid.getView().getCell(e,t)},onSpecialKey:function(e,t,i){var n;if(i.getKey()===i.TAB&&(i.stopEvent(),e&&e.onEditorTab(i),(n=e.up("tablepanel").getSelectionModel()).onEditorTab))return n.onEditorTab(e.editingPlugin,i)},onEditComplete:function(e,t,i){var n,r=this,s=r.getActiveColumn(),o=r.context;if(s){if(n=o.record,r.setActiveEditor(null),r.setActiveColumn(null),r.setActiveRecord(null),o.value=t,!r.validateEdit())return void(r.editing=!1);n.isEqual(t,i)||n.set(s.dataIndex,t),o.view.focusRow(o.rowIdx,100),r.fireEvent("edit",r,o),r.editing=!1}},cancelEdit:function(){var e=this.context,t=this.getActiveEditor();return this.setActiveEditor(null),this.setActiveColumn(null),this.setActiveRecord(null),!t||(t.field&&(this.context.value="editedValue"in t?t.editedValue:t.getValue(),t.cancelEdit()),e.view.focusRow(e.rowIdx,100),void this.callParent(arguments))},startEditByPosition:function(e){var t,i=this.grid.getColumnManager();return e.isCellContext||(e=new Ext.grid.CellContext(this.view).setPosition(e)),t=i.getHeaderIndex(e.columnHeader),e.setColumn(i.getVisibleHeaderClosestToIndex(t)),this.startEdit(e.record,e.columnHeader)}}),Ext.define("Ext.grid.plugin.DivRenderer",{alias:"plugin.divrenderer",extend:Ext.AbstractPlugin,tableTpl:['<div id="{view.id}-table" class="',Ext.baseCSSPrefix,"{view.id}-table ",Ext.baseCSSPrefix,'grid-table" style="{tableStyle}" {ariaTableAttr}>',"{%","values.view.renderRows(values.rows, values.viewStartIndex, out);","%}","</div>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<dl {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','style="position:relative" ',"{rowAttr:attributes} {ariaRowAttr}>",'<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</dl>",{priority:0}],cellTpl:['<dt class="{tdCls}" {tdAttr} data-cellIndex="{cellIndex}" {ariaCellAttr}>','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner"','style="text-align:{align};<tpl if="style">{style}</tpl>" {ariaCellInnerAttr}>{value}</div>',"</dt>",{priority:0}],selectors:{bodySelector:"div",nodeContainerSelector:"div",itemSelector:"dl."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"dl."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"dt."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainerSelector:function(){return this.getBodySelector()},getNodeContainer:function(){return this.el.getById(this.id+"-table",!0)}},init:function(e){var t=e.getView();t.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl"),t.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),t.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),Ext.apply(t,this.selectors)}}),Ext.define("Ext.grid.plugin.DragDrop",{extend:Ext.AbstractPlugin,alias:"plugin.gridviewdragdrop",dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(e){e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){this.dragZone&&this.dragZone.unlock(),this.dropZone&&this.dropZone.unlock(),this.callParent()},disable:function(){this.dragZone&&this.dragZone.lock(),this.dropZone&&this.dropZone.lock(),this.callParent()},onViewRender:function(e){var t,i=this;i.enableDrag&&(i.containerScroll&&(t=e.getEl()),i.dragZone=new Ext.view.DragZone({view:e,ddGroup:i.dragGroup||i.ddGroup,dragText:i.dragText,containerScroll:i.containerScroll,scrollEl:t})),i.enableDrop&&(i.dropZone=new Ext.grid.ViewDropZone({view:e,ddGroup:i.dropGroup||i.ddGroup}))}}),Ext.define("Ext.grid.plugin.RowEditing",{extend:Ext.grid.plugin.Editing,alias:"plugin.rowediting",lockableScope:"top",editStyle:"row",autoCancel:!0,errorSummary:!0,constructor:function(){this.callParent(arguments),this.clicksToMoveEditor||(this.clicksToMoveEditor=this.clicksToEdit),this.autoCancel=!!this.autoCancel},destroy:function(){Ext.destroy(this.editor),this.callParent(arguments)},onBeforeReconfigure:function(){this.callParent(arguments),this.cancelEdit()},onReconfigure:function(e,t,i){var n=this.editor;this.callParent(arguments),i&&n&&n.rendered&&(n.needsSyncFieldWidths=!0)},startEdit:function(e,t){var i,n=this.getEditor();return Ext.isEmpty(t)&&(t=this.grid.getTopLevelVisibleColumnManager().getHeaderAtIndex(0)),!(!1===n.beforeEdit()||!(i=this.callParent([e,t])))&&(this.context=i,this.lockingPartner&&this.lockingPartner.cancelEdit(),n.startEdit(i.record,i.column,i),this.editing=!0)},cancelEdit:function(){return!this.editing||(this.getContextFieldValues(),this.getEditor().cancelEdit(),void this.callParent(arguments))},completeEdit:function(){this.editing&&this.validateEdit()&&(this.editing=!1,this.fireEvent("edit",this,this.context))},onEnterKey:function(){this.getEditor().getForm().isValid()&&this.completeEdit()},validateEdit:function(){return this.getContextFieldValues(),this.editing=this.callParent(arguments)&&this.getEditor().completeEdit(),this.editing},getEditor:function(){return this.editor||(this.editor=this.initEditor()),this.editor},getContextFieldValues:function(){var e,t,i,n=this.editor,r=this.context,s=r.record,o={},a={},l=n.query(">[isFormField]"),d=l.length;for(e=0;e<d;e++)o[t=(i=l[e]).name]=i.getValue(),a[t]=s.get(t);Ext.apply(r,{newValues:o,originalValues:a})},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var e,t,i=this.grid,n=this.view,r=i.headerCt,s=["saveBtnText","cancelBtnText","errorsText","dirtyText"],o=s.length,a={autoCancel:this.autoCancel,errorSummary:this.errorSummary,fields:r.getGridColumns(),hidden:!0,view:n,editingPlugin:this};for(e=0;e<o;e++)t=s[e],Ext.isDefined(this[t])&&(a[t]=this[t]);return a},initEditTriggers:function(){var e=this,t=e.view,i=1===e.clicksToMoveEditor?"click":"dblclick";e.callParent(arguments),e.clicksToMoveEditor!==e.clicksToEdit&&e.mon(t,"cell"+i,e.moveEditorByClick,e),t.on({render:function(){e.mon(e.grid.headerCt,{scope:e,columnresize:e.onColumnResize,columnhide:e.onColumnHide,columnshow:e.onColumnShow})},single:!0})},startEditByClick:function(){this.editing&&this.clicksToMoveEditor!==this.clicksToEdit||this.callParent(arguments)},moveEditorByClick:function(){this.editing&&this.superclass.onCellClick.apply(this,arguments)},onColumnAdd:function(e,t){if(t.isHeader){var i;this.initFieldAccessors(t),(i=this.editor)&&i.onColumnAdd(t)}},onColumnRemove:function(e,t){if(t.isHeader){var i=this.getEditor();i&&i.onColumnRemove(e,t),this.removeFieldAccessors(t)}},onColumnResize:function(e,t,i){if(t.isHeader){var n=this.getEditor();n&&n.onColumnResize(t,i)}},onColumnHide:function(e,t){var i=this.getEditor();i&&i.onColumnHide(t)},onColumnShow:function(e,t){var i=this.getEditor();i&&i.onColumnShow(t)},onColumnMove:function(e,t,i,n){var r=this.getEditor();this.initFieldAccessors(t),r&&r.onColumnMove(t,i,n)},setColumnField:function(e,t){var i=this.getEditor();i&&i.removeColumnEditor(e,!0),this.callParent(arguments),i&&i.insertColumnEditor(e)},createColumnField:function(e,t){var i,n=this.editor;return n&&(i=n.getDefaultFieldCfg()),this.callParent([e,t||i])}}),Ext.define("Ext.grid.plugin.RowExpander",{extend:Ext.AbstractPlugin,lockableScope:"normal",alias:"plugin.rowexpander",rowBodyTpl:null,expandOnEnter:!0,expandOnDblClick:!0,selectRowOnExpand:!1,rowBodyTrSelector:"."+Ext.baseCSSPrefix+"grid-rowbody-tr",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowCollapsedCls:Ext.baseCSSPrefix+"grid-row-collapsed",addCollapsedCls:{before:function(e,t){var i=this.rowExpander;i.recordsExpanded[e.record.internalId]||e.itemClasses.push(i.rowCollapsedCls)},priority:500},setCmp:function(e){var t,i;this.callParent(arguments),this.recordsExpanded={},this.rowBodyTpl=Ext.XTemplate.getTpl(this,"rowBodyTpl"),t=this.rowBodyTpl,i=[{ftype:"rowbody",lockableScope:"normal",recordsExpanded:this.recordsExpanded,rowBodyHiddenCls:this.rowBodyHiddenCls,rowCollapsedCls:this.rowCollapsedCls,setupRowData:this.getRowBodyFeatureData,setup:this.setup,getRowBodyContents:function(e){return t.applyTemplate(e.getData())}},{ftype:"rowwrap",lockableScope:"normal"}],e.features?e.features=Ext.Array.push(i,e.features):e.features=i},init:function(e){var t,i,n=this,r=e;e.lockable&&(e=e.lockedGrid),n.callParent(arguments),n.grid=e,t=n.view=e.getView(),n.addExpander(),n.bindView(t),t.addRowTpl(n.addCollapsedCls).rowExpander=n,e.ownerLockable&&((r=e.ownerLockable).syncRowHeight=!1,i=r.lockedGrid.getView(),n.bindView(i),i.addRowTpl(n.addCollapsedCls).rowExpander=n,r.mon(r,"columnschanged",n.refreshRowHeights,n),r.mon(r.store,"datachanged",n.refreshRowHeights,n)),r.on("beforereconfigure",n.beforeReconfigure,n),e.ownerLockable&&!e.rowLines&&t.on("rowfocus",n.refreshRowHeights,n)},beforeReconfigure:function(e,t,i,n,r){var s=this.getHeaderConfig();s.locked=!0,i.unshift(s)},addExpander:function(){var e=this.grid,t=this.getHeaderConfig();e.ownerLockable&&((e=e.ownerLockable.lockedGrid).width+=t.width),e.headerCt.insert(0,t),e.getSelectionModel().injectCheckbox=1},getRowBodyFeatureData:function(e,t,i){this.self.prototype.setupRowData.apply(this,arguments),i.rowBody=this.getRowBodyContents(e),i.rowBodyCls=this.recordsExpanded[e.internalId]?"":this.rowBodyHiddenCls},setup:function(e,t){this.self.prototype.setup.apply(this,arguments),this.grid.ownerLockable||(t.rowBodyColspan-=1)},bindView:function(e){this.expandOnEnter&&e.on("itemkeydown",this.onKeyDown,this),this.expandOnDblClick&&e.on("itemdblclick",this.onDblClick,this)},onKeyDown:function(e,t,i,n,r){if(r.getKey()==r.ENTER)for(var s=e.store,o=e.getSelectionModel().getSelection(),a=o.length,l=0;l<a;l++)n=s.indexOf(o[l]),this.toggleRow(n,o[l])},onDblClick:function(e,t,i,n,r){this.toggleRow(n,t)},toggleRow:function(e,t){var i,n,r,s=this.view,o=s.getNode(e),a=Ext.fly(o,"_rowExpander"),l=a.down(this.rowBodyTrSelector,!0),d=a.hasCls(this.rowCollapsedCls),h=d?"removeCls":"addCls";Ext.suspendLayouts(),a[h](this.rowCollapsedCls),Ext.fly(l)[h](this.rowBodyHiddenCls),this.recordsExpanded[t.internalId]=d,s.refreshSize(),this.grid.ownerLockable?(r=(i=this.grid.ownerLockable).getView(),s=i.lockedGrid.view,n=a.getHeight(),a.setHeight(d?n:""),(a=Ext.fly(s.getNode(e),"_rowExpander")).setHeight(d?n:""),a[h](this.rowCollapsedCls),s.refreshSize()):r=s,r.fireEvent(d?"expandbody":"collapsebody",a.dom,t,l),Ext.resumeLayouts(!0)},refreshRowHeights:function(){Ext.globalEvents.on({idle:this.doRefreshRowHeights,scope:this,single:!0})},doRefreshRowHeights:function(){var e,t,i,n,r,s,o=this.recordsExpanded,a=this.grid.ownerLockable.lockedGrid.view,l=this.grid.ownerLockable.normalGrid.view;for(e in o)o.hasOwnProperty(e)&&(t=this.view.store.data.get(e),n=a.getNode(t,!1),i=l.getNode(t,!1),n.style.height=i.style.height="",(r=n.offsetHeight)<(s=i.offsetHeight)?n.style.height=s+"px":s<r&&(i.style.height=r+"px"))},getHeaderConfig:function(){var a=this;return{width:24,lockable:!1,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(e,t){return a.grid.ownerLockable||(t.tdAttr+=' rowspan="2"'),'<div class="'+Ext.baseCSSPrefix+'grid-row-expander" role="presentation"></div>'},processEvent:function(e,t,i,n,r,s,o){if("mousedown"==e&&s.getTarget("."+Ext.baseCSSPrefix+"grid-row-expander"))return a.toggleRow(n,o),a.selectRowOnExpand}}}}),Ext.define("Ext.grid.property.Grid",{extend:Ext.grid.Panel,alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var i=this;i.source=i.source||{},i.addCls(i.gridCls),i.plugins=i.plugins||[],i.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:i.clicksToEdit,startEdit:function(e,t){return this.self.prototype.startEdit.call(this,e,i.valueColumn)}})),i.selModel={selType:"cellmodel",onCellSelect:function(e){return e.columnHeader=i.valueColumn,e.column=i.valueColumn.getVisibleIndex(),this.self.prototype.onCellSelect.call(this,e)}},i.sourceConfig=Ext.apply({},i.sourceConfig),i.store||(i.propStore=i.store=new Ext.grid.property.Store(i,i.source)),i.configure(i.sourceConfig),i.sortableColumns&&i.store.sort("name","ASC"),i.columns=new Ext.grid.property.HeaderContainer(i,i.store),i.addEvents("beforepropertychange","propertychange"),i.callParent(),i.getView().walkCells=this.walkCells,i.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:!0})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:!0})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:!0})}),boolean:new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,i.headerCt.trueText],[!1,i.headerCt.falseText]]})})},i.store.on("update",i.onUpdate,i)},configure:function(e){var t,i,n,r,s=this.store,o=0,a=this.store.getCount(),l=this.nameField,d=this.valueField;if(this.configureLegacy(e),this.inferTypes)for(;o<a;++o)t=(n=s.getAt(o)).get(l),this.getConfig(t,"type")||(i=n.get(d),r=Ext.isDate(i)?"date":Ext.isNumber(i)?"number":Ext.isBoolean(i)?"boolean":"string",this.setConfig(t,"type",r))},getConfig:function(e,t,i){var n,r=this.sourceConfig[e];return r&&(n=r[t]),n||i},setConfig:function(e,t,i){var n=this.sourceConfig,r=n[e];return r?r.__copied||(r=Ext.apply({__copied:!0},r),n[e]=r):r=n[e]={__copied:!0},r[t]=i},configureLegacy:function(e){this.copyLegacyObject(e,this.customRenderers,"renderer"),this.copyLegacyObject(e,this.customEditors,"editor"),this.copyLegacyObject(e,this.propertyNames,"displayName")},copyLegacyObject:function(e,t,i){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]||(e[n]={}),e[n][i]=t[n])},onUpdate:function(e,t,i){var n,r;this.rendered&&i==Ext.data.Model.EDIT&&(n=t.get(this.valueField),r=t.modified.value,!1!==this.fireEvent("beforepropertychange",this.source,t.getId(),n,r)?(this.source&&(this.source[t.getId()]=n),t.commit(),this.fireEvent("propertychange",this.source,t.getId(),n,r)):t.reject())},walkCells:function(e,t,i,n,r,s){var o=this.ownerCt.valueColumn;return"left"==t?t="up":"right"==t&&(t="down"),(e=Ext.view.Table.prototype.walkCells.call(this,e,t,i,n,r,s)).columnHeader=o,e.column=o.getVisibleIndex(),e},getCellEditor:function(e,t){var i=e.get(this.nameField),n=e.get(this.valueField),r=this.getConfig(i,"editor"),s=this.getConfig(i,"type"),o=this.editors;if(r)r instanceof Ext.grid.CellEditor||(r instanceof Ext.form.field.Base||(r=Ext.ComponentManager.create(r,"textfield")),r=this.setConfig(i,"editor",new Ext.grid.CellEditor({field:r})));else if(s)switch(s){case"date":r=o.date;break;case"number":r=o.number;break;case"boolean":r=this.editors.boolean;break;default:r=o.string}else r=Ext.isDate(n)?o.date:Ext.isNumber(n)?o.number:Ext.isBoolean(n)?o.boolean:o.string;return r.editorId=i,r},beforeDestroy:function(){this.callParent(),this.destroyEditors(this.editors),this.destroyEditors(this.customEditors),delete this.source},destroyEditors:function(e){for(var t in e)e.hasOwnProperty(t)&&Ext.destroy(e[t])},setSource:function(e,t){this.source=e,void 0!==t&&(this.sourceConfig=Ext.apply({},t),this.configure(this.sourceConfig)),this.propStore.setSource(e)},getSource:function(){return this.propStore.getSource()},setProperty:function(e,t,i){this.propStore.setValue(e,t,i)},removeProperty:function(e){this.propStore.remove(e)}}),Ext.define("Ext.grid.property.HeaderContainer",{extend:Ext.grid.header.Container,alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(e,t){var i=this;i.grid=e,i.store=t,i.callParent([{isRootHeader:!0,enableColumnResize:Ext.isDefined(e.enableColumnResize)?e.enableColumnResize:i.enableColumnResize,enableColumnMove:Ext.isDefined(e.enableColumnMove)?e.enableColumnMove:i.enableColumnMove,items:[{header:i.nameText,width:e.nameColumnWidth||i.nameWidth,sortable:e.sortableColumns,dataIndex:e.nameField,renderer:Ext.Function.bind(i.renderProp,i),itemId:e.nameField,menuDisabled:!0,tdCls:i.nameColumnCls,innerCls:i.nameColumnInnerCls},{header:i.valueText,renderer:Ext.Function.bind(i.renderCell,i),getEditor:Ext.Function.bind(i.getCellEditor,i),sortable:e.sortableColumns,flex:1,fixed:!0,dataIndex:e.valueField,itemId:e.valueField,menuDisabled:!0}]}]),i.grid.valueColumn=i.items.items[1]},getCellEditor:function(e){return this.grid.getCellEditor(e,this)},renderProp:function(e){return this.getPropertyName(e)},renderCell:function(e,t,i){var n=this.grid,r=n.getConfig(i.get(n.nameField),"renderer"),s=e;return r?r.apply(this,arguments):(Ext.isDate(e)?s=this.renderDate(e):Ext.isBoolean(e)&&(s=this.renderBool(e)),Ext.util.Format.htmlEncode(s))},renderDate:Ext.util.Format.date,renderBool:function(e){return this[e?"trueText":"falseText"]},getPropertyName:function(e){return this.grid.getConfig(e,"displayName",e)}}),Ext.define("Ext.grid.property.Property",{extend:Ext.data.Model,alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"}),Ext.define("Ext.grid.property.Store",{extend:Ext.data.Store,alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:!1,constructor:function(e,t){this.grid=e,this.source=t,this.callParent([{data:t,model:Ext.grid.property.Property,proxy:this.getProxy()}])},getProxy:function(){return this.proxy||(Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),this.proxy},getReader:function(){return this.reader||(Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(e){return this.readRecords(e)},readRecords:function(e){var t,i,n={records:[],success:!0};for(i in e)e.hasOwnProperty(i)&&(t=e[i],this.isEditableValue(t)&&n.records.push(new Ext.grid.property.Property({name:i,value:t},i)));return n.total=n.count=n.records.length,new Ext.data.ResultSet(n)},isEditableValue:function(e){return Ext.isPrimitive(e)||Ext.isDate(e)||null===e}})),this.reader},setSource:function(e){var t=this;t.source=e,t.suspendEvents(),t.removeAll(),t.proxy.data=e,t.load(),t.resumeEvents(),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)},getProperty:function(e){return Ext.isNumber(e)?this.getAt(e):this.getById(e)},setValue:function(e,t,i){var n=this.getRec(e);n?(n.set("value",t),this.source[e]=t):i&&(this.source[e]=t,n=new Ext.grid.property.Property({name:e,value:t},e),this.add(n))},remove:function(e){var t=this.getRec(e);t&&(this.callParent([t]),delete this.source[e])},getRec:function(e){return this.getById(e)},getSource:function(){return this.source}}),Ext.define("Ext.layout.ClassList",(zdf=Ext.String.splitWords,Adf=Ext.Array.toMap,{dirty:!1,constructor:function(e){this.owner=e,this.map=Adf(this.classes=zdf(e.el.className))},add:function(e){this.map[e]||(this.map[e]=!0,this.classes.push(e),this.dirty||(this.dirty=!0,this.owner.markDirty()))},addMany:function(e){Ext.each(zdf(e),this.add,this)},contains:function(e){return this.map[e]},flush:function(){this.owner.el.className=this.classes.join(" "),this.dirty=!1},remove:function(t){this.map[t]&&(delete this.map[t],this.classes=Ext.Array.filter(this.classes,function(e){return e!=t}),this.dirty||(this.dirty=!0,this.owner.markDirty()))},removeMany:function(e){var t=this,i=Adf(zdf(e));t.classes=Ext.Array.filter(t.classes,function(e){return!i[e]||(delete t.map[e],t.dirty||(t.dirty=!0,t.owner.markDirty()),!1)})}})),Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(e){var t=this.getKey(e);return this.map[t]||(++this.length,this.items.push(e),this.map[t]=e),e},clear:function(){var e=this.items;return this.items=[],this.map={},this.length=0,e},contains:function(e){var t=this.getKey(e);return this.map.hasOwnProperty(t)},getCount:function(){return this.length},getKey:function(e){return e.id},remove:function(e){var t,i=this.getKey(e),n=this.items;return this.map[i]&&(t=Ext.Array.indexOf(n,e),Ext.Array.erase(n,t,1),delete this.map[i],--this.length),e}}),Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,isBorderBoxValue:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(e){var t,i,n,r,s,o,a,l,d,h,c,u,f,g,p=this,m=Ext.layout.SizeModel.sizeModels,x=m.configured,y=m.shrinkWrap;Ext.apply(p,e),t=p.el,p.id=t.id,p.flushedProps={},p.props=s={},p.styles={},(a=p.target).isComponent?(p.wrapsComponent=!0,p.framing=a.frameSize||null,p.isComponentChild=a.ownerLayout&&a.ownerLayout.isComponentLayout,i=a.lastBox,(n=a.ownerCt)&&(r=n.el&&p.context.items[n.el.id])&&(p.ownerCtContext=r),p.sizeModel=o=a.getSizeModel(r&&r.widthModel.pairsByHeightOrdinal[r.heightModel.ordinal]),p.widthModel=u=o.width,p.heightModel=f=o.height,i&&!1===i.invalid&&(h=a.width===(l=i.width),c=a.height===(d=i.height),u===y&&f===y?g=!0:u===x&&h&&(g=f===y||f===x&&c),g&&(p.optOut=!0,s.width=l,s.height=d))):i=t.lastBox,p.lastBox=i},init:function(e,t){var i,n,r,s,o,a,l,d,h=this,c=h.props,u=h.dirty,f=h.ownerCtContext,g=h.target.ownerLayout,p=!h.state,m=e||p,x=h.heightModel,y=h.widthModel,E=0;if(h.dirty=h.invalid=!1,h.props={},h.remainingChildDimensions=0,h.boxChildren&&(h.boxChildren.length=0),p||(h.clearAllBlocks("blocks"),h.clearAllBlocks("domBlocks")),!h.wrapsComponent)return m;if(a=h.target,h.state={},p)a.beforeLayout&&a.beforeLayout!==Ext.emptyFn&&a.beforeLayout(),!f&&(s=a.ownerCt)&&(f=h.context.items[s.el.id]),f?(h.ownerCtContext=f,h.isBoxParent=a.ownerLayout.isItemBoxParent(h)):h.isTopLevel=!0,h.frameBodyContext=h.getEl("frameBody");else for(f=h.ownerCtContext,h.isTopLevel=!f,n=0,r=(i=h.children).length;n<r;++n)i[n].init(!0);return h.hasRawContent=!(a.isContainer&&0<a.items.items.length),e?(h.widthModel=h.heightModel=null,o=a.getSizeModel(f&&f.widthModel.pairsByHeightOrdinal[f.heightModel.ordinal]),p&&(h.sizeModel=o),h.widthModel=o.width,h.heightModel=o.height,f&&!h.isComponentChild&&(f.remainingChildDimensions+=2)):c&&(h.recoverProp("x",c,u),h.recoverProp("y",c,u),h.widthModel.calculated?h.recoverProp("width",c,u):"width"in c&&++E,h.heightModel.calculated?h.recoverProp("height",c,u):"height"in c&&++E,f&&!h.isComponentChild&&(f.remainingChildDimensions+=E)),c&&g&&g.manageMargins&&(h.recoverProp("margin-top",c,u),h.recoverProp("margin-right",c,u),h.recoverProp("margin-bottom",c,u),h.recoverProp("margin-left",c,u)),t&&(l=t.heightModel,(d=t.widthModel)&&l&&y&&x&&y.shrinkWrap&&x.shrinkWrap&&d.constrainedMax&&l.constrainedMin&&(l=null),d&&(h.widthModel=d),l&&(h.heightModel=l),t.state&&Ext.apply(h.state,t.state)),m},initContinue:function(e){var t,i=this.ownerCtContext,n=this.target,r=this.widthModel,s=n.getHierarchyState();return r.fixed?s.inShrinkWrapTable=!1:delete s.inShrinkWrapTable,e&&(i&&r.shrinkWrap?(t=i.isBoxParent?i:i.boxParent)&&t.addBoxChild(this):r.natural&&(this.boxParent=i)),e},initDone:function(e){var t=this.props,i=this.state;0===this.remainingChildDimensions&&(t.containerChildrenSizeDone=!0),e&&(t.containerLayoutDone=!0),this.boxChildren&&this.boxChildren.length&&this.widthModel.shrinkWrap&&(this.el.setWidth(1e4),i.blocks=(i.blocks||0)+1)},initAnimation:function(){var e=this.target,t=this.ownerCtContext;t&&t.isTopLevel?this.animatePolicy=e.ownerLayout.getAnimatePolicy(this):!t&&e.isCollapsingOrExpanding&&e.animCollapse&&(this.animatePolicy=e.componentLayout.getAnimatePolicy(this)),this.animatePolicy&&this.context.queueAnimation(this)},addCls:function(e){this.getClassList().addMany(e)},removeCls:function(e){this.getClassList().removeMany(e)},addBlock:function(e,t,i){var n=this[e]||(this[e]={}),r=n[i]||(n[i]={});r[t.id]||(++(r[t.id]=t).blockCount,++this.context.blockCount)},addBoxChild:function(e){var t,i=e.widthModel;e.boxParent=this,e.measuresBox=i.shrinkWrap?e.hasRawContent:i.natural,e.measuresBox&&((t=this.boxChildren)?t.push(e):this.boxChildren=[e])},addPositionStyles:function(e,t){var i=t.x,n=t.y,r=0;return void 0!==i&&(e.left=i+"px",++r),void 0!==n&&(e.top=n+"px",++r),r},addTrigger:function(e,t){var i=t?"domTriggers":"triggers",n=this[i]||(this[i]={}),r=this.context,s=r.currentLayout,o=n[e]||(n[e]={});o[s.id]||(++(o[s.id]=s).triggerCount,((o=r.triggers[t?"dom":"data"])[s.id]||(o[s.id]=[])).push({item:this,prop:e}),void 0!==this.props[e]&&(t&&this.dirty&&e in this.dirty||++s.firedTriggers))},boxChildMeasured:function(){var e=this.state;(e.boxesMeasured=(e.boxesMeasured||0)+1)==this.boxChildren.length&&(e.clearBoxWidth=1,++this.context.progressCount,this.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(e){var t=e.getStyles(e.borderNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},marginInfo:function(e){var t=e.getStyles(e.marginNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},paddingInfo:function(e){var t=(e.frameBodyContext||e).getStyles(e.paddingNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}},checkCache:function(e){return this.cacheMissHandlers[e](this)},clearAllBlocks:function(e){var t,i=this[e];if(i)for(t in i)this.clearBlocks(e,t)},clearBlocks:function(e,t){var i,n,r,s=this[e],o=s&&s[t];if(o)for(r in delete s[t],i=this.context,o)n=o[r],--i.blockCount,--n.blockCount||n.pending||n.done||i.queueLayout(n)},block:function(e,t){this.addBlock("blocks",e,t)},domBlock:function(e,t){this.addBlock("domBlocks",e,t)},fireTriggers:function(e,t){var i,n,r=this[e],s=r&&r[t],o=this.context;if(s)for(n in s)++(i=s[n]).firedTriggers,i.done||i.blockCount||i.pending||o.queueLayout(i)},flush:function(){var e=this,t=e.dirty,i=e.state,n=e.el;e.dirtyCount=0,e.classList&&e.classList.dirty&&e.classList.flush(),"attributes"in e&&(n.set(e.attributes),delete e.attributes),"innerHTML"in e&&(n.innerHTML=e.innerHTML,delete e.innerHTML),i&&i.clearBoxWidth&&(i.clearBoxWidth=0,e.el.setStyle("width",null),--i.blocks||e.context.queueItemLayouts(e)),t&&(delete e.dirty,e.writeProps(t,!0))},flushAnimations:function(){var e,t,i,n,r,s,o,a,l,d,h,c=this,u=c.previousSize;if(u){for((t=(e=c.target).layout&&e.layout.animate)&&(i=Ext.isNumber(t)?t:t.duration),n=Ext.Object.getKeys(c.animatePolicy),r=Ext.apply({},{from:{},to:{},duration:i||Ext.fx.Anim.prototype.duration},t),o=s=0,a=n.length;o<a;o++)(d=u[l=n[o]])!=(h=c.peek(l))&&(l=c.translateProps[l]||l,r.from[l]=d,r.to[l]=h,++s);s&&(1===c.isCollapsingOrExpanding?e.componentLayout.undoLayout(c):c.writeProps(r.from),c.el.animate(r),Ext.fx.Manager.getFxQueue(c.el.id)[0].on({afteranimate:function(){1===c.isCollapsingOrExpanding?(e.componentLayout.redoLayout(c),e.afterCollapse(!0)):2===c.isCollapsingOrExpanding&&e.afterExpand(!0)}}))}},getBorderInfo:function(){var e=this.borderInfo;return e||(this.borderInfo=e=this.checkCache("borderInfo")),e},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(e,t){var i,n,r;if(e){if(e.dom)n=e;else if(i=this.target,t&&(i=t),"function"==typeof(n=i[e])&&(n=n.call(i))===this.el)return this;n&&(r=this.context.getEl(this,n))}return r||null},getFrameInfo:function(){var e,t,i=this.frameInfo;return i||(e=this.framing,t=this.getBorderInfo(),this.frameInfo=i=e?{top:e.top+t.top,right:e.right+t.right,bottom:e.bottom+t.bottom,left:e.left+t.left,width:e.width+t.width,height:e.height+t.height}:t),i},getMarginInfo:function(){var e,t,i,n,r,s=this,o=s.marginInfo;return o||(s.wrapsComponent?(r=(n=(e=s.target).ownerLayout)?n.id:null,t=n&&n.manageMargins,(o=e.margin$)&&o.ownerId!==r&&(o=null),o||(o=s.parseMargins(e,e.margin)||s.checkCache("marginInfo"),t&&((i=s.parseMargins(e,e.margins,n.defaultMargins))&&(o={top:o.top+i.top,right:o.right+i.right,bottom:o.bottom+i.bottom,left:o.left+i.left}),s.setProp("margin-top",0),s.setProp("margin-right",0),s.setProp("margin-bottom",0),s.setProp("margin-left",0)),o.ownerId=r,e.margin$=o),o.width=o.left+o.right,o.height=o.top+o.bottom):o=s.checkCache("marginInfo"),s.marginInfo=o),o},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var e=this.paddingInfo;return e||(this.paddingInfo=e=this.checkCache("paddingInfo")),e},getProp:function(e){var t=this.props[e];return this.addTrigger(e),t},getDomProp:function(e){var t=this.dirty&&e in this.dirty?void 0:this.props[e];return this.addTrigger(e,!0),t},getStyle:function(e){var t,i,n=this.styles;return e in n?i=n[e]:(t=this.styleInfo[e],i=this.el.getStyle(e),t&&t.parseInt&&(i=parseInt(i,10)||0),n[e]=i),i},getStyles:function(e,t){var i,n,r,s,o,a,l,d,h=this.styles,c={},u=0,f=e.length;for(t=t||e,i=0;i<f;++i)(s=e[i])in h?(c[t[i]]=h[s],++u,i&&1==u&&(n=e.slice(0,i),r=t.slice(0,i))):u&&((n=n||[]).push(s),(r=r||[]).push(t[i]));if(u<f)for(n=n||e,r=r||t,a=this.styleInfo,l=this.el.getStyle(n),i=n.length;i--;)o=a[s=n[i]],d=l[s],o&&o.parseInt&&(d=parseInt(d,10)||0),c[r[i]]=d,h[s]=d;return c},hasProp:function(e){return null!=this.getProp(e)},hasDomProp:function(e){return null!=this.getDomProp(e)},invalidate:function(e){this.context.queueInvalidate(this,e)},markDirty:function(){1==++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var e=this.boxParent,t=this.state;e&&e.widthModel.shrinkWrap&&!t.boxMeasured&&this.measuresBox&&(t.boxMeasured=1,e.boxChildMeasured())},parseMargins:function(e,t,i){!0===t&&(t=5);var n,r=typeof t;return"string"==r||"number"==r?n=e.parseBox(t):(t||i)&&(n={top:0,right:0,bottom:0,left:0},i&&Ext.apply(n,this.parseMargins(e,i)),t=t&&Ext.apply(n,e.parseBox(t))),n},peek:function(e){return this.props[e]},recoverProp:function(e,t,i){var n=this.props;e in t&&(n[e]=t[e],i&&e in i&&((this.dirty||(this.dirty={}))[e]=i[e]))},redo:function(e){var t,i,n;if(this.revertProps(this.props),e&&this.wrapsComponent){if(this.childItems)for(n=0,i=(t=this.childItems).length;n<i;n++)t[n].redo(e);for(n=0,i=(t=this.children).length;n<i;n++)t[n].redo()}},removeEl:function(e,t){var i,n;if(e){if(e.dom)n=e;else if(i=this.target,t&&(i=t),"function"==typeof(n=i[e])&&(n=n.call(i))===this.el)return this;n&&this.context.removeEl(this,n)}},revertProps:function(e){var t,i=this.flushedProps,n={};for(t in e)i.hasOwnProperty(t)&&(n[t]=e[t]);this.writeProps(n)},setAttribute:function(e,t){this.attributes||(this.attributes={}),this.attributes[e]=t,this.markDirty()},setBox:function(e){"left"in e&&this.setProp("x",e.left),"top"in e&&this.setProp("y",e.top),this.setSize(e.width,e.height)},setContentHeight:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentHeight",e)},setContentWidth:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentWidth",e)},setContentSize:function(e,t,i){return this.setContentWidth(e,i)+this.setContentHeight(t,i)==2},setProp:function(e,t,i){var n,r=this,s=typeof t;return"undefined"==s||"number"==s&&isNaN(t)?0:(r.props[e]===t||(r.props[e]=t,++r.context.progressCount,!1===i?(r.fireTriggers("domTriggers",e),r.clearBlocks("domBlocks",e)):r.styleInfo[e]&&(r.dirty||(r.dirty={}),"width"!=e&&"height"!=e||(null===(n=r.isBorderBoxValue)&&(r.isBorderBoxValue=n=!!r.el.isBorderBox()),n||(r.borderInfo||r.getBorderInfo(),r.paddingInfo||r.getPaddingInfo())),r.dirty[e]=t,r.markDirty()),r.fireTriggers("triggers",e),r.clearBlocks("blocks",e)),1)},setHeight:function(e,t){var i,n,r,s,o=this,a=o.target,l=o.ownerCtContext;if(e<0&&(e=0),o.wrapsComponent){if(r=o.collapsedVert?0:a.minHeight||0,e=Ext.Number.constrain(e,r,a.maxHeight),s=o.props.height,!o.setProp("height",e,t))return NaN;l&&!o.isComponentChild&&isNaN(s)&&(--l.remainingChildDimensions||l.setProp("containerChildrenSizeDone",!0)),(i=o.frameBodyContext)&&(n=o.getFrameInfo(),i.setHeight(e-n.height,t))}else if(!o.setProp("height",e,t))return NaN;return e},setWidth:function(e,t){var i,n,r,s,o=this,a=o.target,l=o.ownerCtContext;if(e<0&&(e=0),o.wrapsComponent){if(r=o.collapsedHorz?0:a.minWidth||0,e=Ext.Number.constrain(e,r,a.maxWidth),s=o.props.width,!o.setProp("width",e,t))return NaN;l&&!o.isComponentChild&&isNaN(s)&&(--l.remainingChildDimensions||l.setProp("containerChildrenSizeDone",!0)),(i=o.frameBodyContext)&&(n=o.getFrameInfo(),i.setWidth(e-n.width,t))}else if(!o.setProp("width",e,t))return NaN;return e},setSize:function(e,t,i){this.setWidth(e,i),this.setHeight(t,i)},translateProps:{x:"left",y:"top"},undo:function(e){var t,i,n;if(this.revertProps(this.lastBox),e&&this.wrapsComponent){if(this.childItems)for(n=0,i=(t=this.childItems).length;n<i;n++)t[n].undo(e);for(n=0,i=(t=this.children).length;n<i;n++)t[n].undo()}},unsetProp:function(e){var t=this.dirty;delete this.props[e],t&&delete t[e]},writeProps:function(e,t){if(e&&"object"==typeof e){var i,n,r,s=this,o=s.el,a={},l=0,d=s.styleInfo,h=e.width,c=e.height,u=s.isBorderBoxValue,f=s.target,g=Math.max,p=0,m=0;for(n in"displayed"in e&&o.setDisplayed(e.displayed),e)t&&(s.fireTriggers("domTriggers",n),s.clearBlocks("domBlocks",n),s.flushedProps[n]=1),(i=d[n])&&i.dom&&(i.suffix&&(r=parseInt(e[n],10))?a[n]=r+i.suffix:a[n]=e[n],++l);("x"in e||"y"in e)&&(f.isComponent?f.setPosition(e.x,e.y):l+=s.addPositionStyles(a,e)),!u&&(0<h||0<c)&&(s.frameBodyContext||(p=s.paddingInfo.width,m=s.paddingInfo.height),h&&(h=g(parseInt(h,10)-(s.borderInfo.width+p),0),a.width=h+"px",++l),c&&(c=g(parseInt(c,10)-(s.borderInfo.height+m),0),a.height=c+"px",++l)),l&&o.setStyle(a)}}},function(){var e={dom:!0,parseInt:!0,suffix:"px"},t={dom:!0},i={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:i,containerLayoutDone:i,displayed:i,done:i,x:i,y:i,columnWidthsDone:i,left:e,top:e,right:e,bottom:e,width:e,height:e,"border-top-width":e,"border-right-width":e,"border-bottom-width":e,"border-left-width":e,"margin-top":e,"margin-right":e,"margin-bottom":e,"margin-left":e,"padding-top":e,"padding-right":e,"padding-bottom":e,"padding-left":e,"line-height":t,display:t}}),Ext.define("Ext.layout.Context",{remainingLayouts:0,state:0,constructor:function(e){var t=this;Ext.apply(t,e),t.items={},t.layouts={},t.blockCount=0,t.cycleCount=0,t.flushCount=0,t.calcCount=0,t.animateQueue=t.newQueue(),t.completionQueue=t.newQueue(),t.finalizeQueue=t.newQueue(),t.finishQueue=t.newQueue(),t.flushQueue=t.newQueue(),t.invalidateData={},t.layoutQueue=t.newQueue(),t.invalidQueue=[],t.triggers={data:{},dom:{}}},callLayout:function(e,t){(this.currentLayout=e)[t](this.getCmp(e.owner))},cancelComponent:function(e,t,i){var n,r,s,o,a,l,d,h,c,u,f=e,g=!e.isComponent,p=g?f.length:1;for(n=0;n<p;++n){if(g&&(e=f[n]),i&&e.ownerCt&&(u=this.items[e.ownerCt.el.id])&&Ext.Array.remove(u.childItems,this.getCmp(e)),!t&&(s=(d=this.invalidQueue).length))for(this.invalidQueue=l=[],r=0;r<s;++r)(c=(h=d[r]).item.target)==e||c.isDescendant(e)||l.push(h);a=e.componentLayout,this.cancelLayout(a),a.getLayoutItems&&(o=a.getLayoutItems()).length&&this.cancelComponent(o,!0),e.isContainer&&!e.collapsed&&(a=e.layout,this.cancelLayout(a),(o=a.getVisibleItems()).length&&this.cancelComponent(o,!0))}},cancelLayout:function(e){this.completionQueue.remove(e),this.finalizeQueue.remove(e),this.finishQueue.remove(e),this.layoutQueue.remove(e),e.running&&this.layoutDone(e),e.ownerContext=null},clearTriggers:function(e,t){var i,n,r,s=e.id,o=this.triggers[t?"dom":"data"],a=o&&o[s],l=a&&a.length||0;for(i=0;i<l;++i)n=(r=a[i]).item,delete(o=t?n.domTriggers:n.triggers)[r.prop][s]},flush:function(){var e,t=this.flushQueue.clear(),i=t.length;if(i)for(++this.flushCount,e=0;e<i;++e)t[e].flush()},flushAnimations:function(){var e,t=this.animateQueue.clear(),i=t.length;if(i){for(e=0;e<i;e++)!1!==t[e].target.animate&&t[e].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var e,t,i,n,r=this.invalidQueue,s=r&&r.length;if(this.invalidQueue=[],s){for(t=[],n=0;n<s;++n)(e=(i=r[n]).item.target).container.isDetachedBody||(t.push(e),i.options&&(this.invalidateData[e.id]=i.options));this.invalidate(t,null)}},flushLayouts:function(e,t,i){var n,r,s=i?this[e].items:this[e].clear(),o=s.length;if(o){for(n=0;n<o;++n)(r=s[n]).running||this.callLayout(r,t);this.currentLayout=null}},getCmp:function(e){return this.getItem(e,e.el)},getEl:function(e,t){var i=this.getItem(t,t);return i.parent||((i.parent=e).children.length?e.children.push(i):e.children=[i]),i},getItem:function(e,t){var i=t.id,n=this.items;return n[i]||(n[i]=new Ext.layout.ContextItem({context:this,target:e,el:t}))},handleFailure:function(){var e,t,i=this.layouts;for(t in Ext.failedLayouts=(Ext.failedLayouts||0)+1,i)e=i[t],i.hasOwnProperty(t)&&(e.running=!1,e.ownerContext=null)},invalidate:function(e,t){var i,n,r,s,o,a,l,d,h,c,u,f=this,g=!e.isComponent;for(r=0,l=g?e.length:1;r<l;++r)(s=g?e[r]:e).rendered&&!s.hidden&&(o=f.getCmp(s),n=!(d=s.componentLayout).ownerContext,h=s.isContainer&&!s.collapsed?s.layout:null,c=f.invalidateData[o.id],delete f.invalidateData[o.id],u=o.init(t,c),c&&f.processInvalidate(c,o,"before"),d.beforeLayoutCycle&&d.beforeLayoutCycle(o),h&&h.beforeLayoutCycle&&h.beforeLayoutCycle(o),u=o.initContinue(u),i=!0,d.getLayoutItems&&(d.renderChildren(),(a=d.getLayoutItems()).length&&f.invalidate(a,!0)),h&&(i=!1,h.renderChildren(),(a=h.getVisibleItems()).length&&f.invalidate(a,!0)),o.initDone(i),f.resetLayout(d,o,n),h&&f.resetLayout(h,o,n),o.initAnimation(),c&&f.processInvalidate(c,o,"after"));f.currentLayout=null},layoutDone:function(e){var t=e.ownerContext;e.running=!1,e.isComponentLayout?(t.measuresBox&&t.onBoxMeasured(),t.setProp("done",!0)):t.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(e,t,i){if(e[i]){var n=this.currentLayout;this.currentLayout=e.layout||null,e[i](t,e),this.currentLayout=n}},queueAnimation:function(e){this.animateQueue.add(e)},queueCompletion:function(e){this.completionQueue.add(e)},queueFinalize:function(e){this.finalizeQueue.add(e)},queueFlush:function(e){this.flushQueue.add(e)},chainFns:function(i,n,e){var r=this,s=i.layout,o=n.layout,a=i[e],l=n[e];return function(e){var t=r.currentLayout;a&&(r.currentLayout=s,a.call(i.scope||i,e,i)),r.currentLayout=o,l.call(n.scope||n,e,n),r.currentLayout=t}},queueInvalidate:function(e,t){var i,n,r,s,o,a=[],l=this.invalidQueue,d=l.length;for(e.isComponent?e=this.getCmp(i=e):i=e.target,e.invalid=!0;d--;){if(r=(n=l[d]).item.target,i.isDescendant(r))return;if(r==i)return void((s=n.options)?t&&(t.widthModel&&(s.widthModel=t.widthModel),t.heightModel&&(s.heightModel=t.heightModel),(o=s.state)?t.state&&Ext.apply(o,t.state):s.state=t.state,t.before&&(s.before=this.chainFns(s,t,"before")),t.after&&(s.after=this.chainFns(s,t,"after"))):n.options=t);r.isDescendant(i)||a.push(n)}a.push({item:e,options:t}),this.invalidQueue=a},queueItemLayouts:function(e){var t=e.isComponent?e:e.target,i=t.componentLayout;i.pending||i.invalid||i.done||this.queueLayout(i),!(i=t.layout)||i.pending||i.invalid||i.done||this.queueLayout(i)},queueLayout:function(e){this.layoutQueue.add(e),e.pending=!0},removeEl:function(e,t){var i=t.id,n=e.children,r=this.items;n&&Ext.Array.remove(n,r[i]),delete r[i]},resetLayout:function(e,t,i){(this.currentLayout=e).done=!1,e.pending=!0,e.firedTriggers=0,this.layoutQueue.add(e),i?((this.layouts[e.id]=e).running=!0,e.finishedLayout&&this.finishQueue.add(e),++this.remainingLayouts,++e.layoutCount,e.ownerContext=t,e.beginCount=0,e.blockCount=0,e.calcCount=0,e.triggerCount=0,e.initialized||e.initLayout(),e.beginLayout(t)):(++e.beginCount,e.running||(++this.remainingLayouts,e.running=!0,e.isComponentLayout&&t.unsetProp("done"),this.completionQueue.remove(e),this.finalizeQueue.remove(e))),e.beginLayoutCycle(t,i)},run:function(){var e=this,t=!1,i=100;for(e.flushInvalidates(),e.state=1,e.totalCount=e.layoutQueue.getCount(),e.flush();(e.remainingLayouts||e.invalidQueue.length)&&i--;){if(e.invalidQueue.length&&e.flushInvalidates(),e.runCycle())t=!1;else if(t){if(!e.invalidQueue.length){e.state=2;break}}else e.flush(),t=!0,e.flushLayouts("completionQueue","completeLayout");e.remainingLayouts||e.invalidQueue.length||(e.flush(),e.flushLayouts("completionQueue","completeLayout"),e.flushLayouts("finalizeQueue","finalizeLayout"))}return e.runComplete()},runComplete:function(){return this.state=2,this.remainingLayouts?(this.handleFailure(),!1):(this.flush(),this.flushLayouts("finishQueue","finishedLayout",!0),this.flushLayouts("finishQueue","notifyOwner"),this.flush(),this.flushAnimations(),!0)},runCycle:function(){var e,t=this.layoutQueue.clear(),i=t.length;for(++this.cycleCount,e=this.progressCount=0;e<i;++e)this.runLayout(this.currentLayout=t[e]);return this.currentLayout=null,0<this.progressCount},runLayout:function(e){var t=this.getCmp(e.owner);e.pending=!1,t.state.blocks||(e.done=!0,++e.calcCount,++this.calcCount,e.calculate(t),e.done?(this.layoutDone(e),e.completeLayout&&this.queueCompletion(e),e.finalizeLayout&&this.queueFinalize(e)):e.pending||e.invalid||e.blockCount+e.triggerCount-e.firedTriggers||this.queueLayout(e))},setItemSize:function(e,t,i){var n,r=e,s=1;for(e.isComposite?(s=(r=e.elements).length,e=r[0]):e.dom||e.el||(s=r.length,e=r[0]),n=0;n<s;)this.get(e).setSize(t,i),e=r[++n]}}),Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:Ext.layout.component.Auto,type:"body",beginLayout:function(e){this.callParent(arguments),e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e,t){var i=this.lastWidthModel,n=this.lastHeightModel,r=this.owner.body;this.callParent(arguments),i&&i.fixed&&e.widthModel.shrinkWrap&&r.setWidth(null),n&&n.fixed&&e.heightModel.shrinkWrap&&r.setHeight(null)},calculateOwnerHeightFromContentHeight:function(e,t){var i=this.callParent(arguments);return e.targetContext!=e&&(i+=e.getPaddingInfo().height),i},calculateOwnerWidthFromContentWidth:function(e,t){var i=this.callParent(arguments);return e.targetContext!=e&&(i+=e.getPaddingInfo().width),i},measureContentWidth:function(e){return e.bodyContext.setWidth(e.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(e){return e.bodyContext.setHeight(e.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(e,t){var i=t-e.getFrameInfo().height;return e.targetContext!=e&&(i-=e.getPaddingInfo().height),e.bodyContext.setHeight(i,!e.heightModel.natural)},publishInnerWidth:function(e,t){var i=t-e.getFrameInfo().width;e.targetContext!=e&&(i-=e.getPaddingInfo().width),e.bodyContext.setWidth(i,!e.widthModel.natural)}}),Ext.define("Ext.layout.component.FieldSet",{extend:Ext.layout.component.Body,alias:["layout.fieldset"],type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(e){e.target.collapsed&&(e.heightModel=this.sizeModels.shrinkWrap)},beginLayoutCycle:function(e){var t,i=e.target;this.callParent(arguments),i.collapsed&&(e.setContentHeight(0),e.restoreMinHeight=i.minHeight,delete i.minHeight,e.widthModel.shrinkWrap&&(t=i.lastComponentSize,e.setContentWidth(t&&t.contentWidth||this.defaultCollapsedWidth)))},finishedLayout:function(e){var t=this.owner,i=e.restoreMinHeight;this.callParent(arguments),i&&(t.minHeight=i)},calculateOwnerHeightFromContentHeight:function(e,t){var i=e.getBorderInfo(),n=e.target.legend;return e.getProp("contentHeight")+e.getPaddingInfo().height+(n?n.getHeight():i.top)+i.bottom},publishInnerHeight:function(e,t){var i=e.target.legend;i&&(t-=i.getHeight()),this.callParent([e,t])},getLayoutItems:function(){var e=this.owner.legend;return e?[e]:[]}}),Ext.define("Ext.layout.component.field.Slider",{alias:["layout.sliderfield"],extend:Ext.layout.component.field.Field,type:"sliderfield",beginLayout:function(e){this.callParent(arguments),e.endElContext=e.getEl("endEl"),e.innerElContext=e.getEl("innerEl"),e.bodyElContext=e.getEl("bodyEl")},publishInnerHeight:function(e,t){var i,n,r=t-this.measureLabelErrorHeight(e);this.owner.vertical?(i=e.endElContext.getPaddingInfo(),n=e.inputContext.getPaddingInfo(),e.innerElContext.setHeight(r-n.height-i.height)):e.bodyElContext.setHeight(r)},publishInnerWidth:function(e,t){if(!this.owner.vertical){var i=e.endElContext.getPaddingInfo(),n=e.inputContext.getPaddingInfo();e.innerElContext.setWidth(t-n.left-i.right-e.labelContext.getProp("width"))}},beginLayoutFixed:function(e,t,i){var n=this.ieInputWidthAdjustment;n&&this.owner.bodyEl.setStyle("padding-right",n+"px"),this.callParent(arguments)}}),Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:Ext.layout.container.Anchor,alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:!0,type:"absolute",adjustWidthAnchor:function(e,t){var i=this.targetPadding;return e-t.getStyle("left")+i.left},adjustHeightAnchor:function(e,t){var i=this.targetPadding;return e-t.getStyle("top")+i.top},isItemLayoutRoot:function(e){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(e){return!0},beginLayout:function(e){var t=this.getTarget();this.callParent(arguments),t.dom!==document.body&&t.position(),this.targetPadding=e.targetContext.getPaddingInfo()},isItemBoxParent:function(e){return!0},onContentChange:function(){return!this.ignoreOnContentChange&&this.callParent(arguments)},calculateContentSize:function(e,t){var i,n,r,s,o,a,l,d=(t||0)|(e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0),h=1&d||void 0,c=2&d||void 0,u=e.childItems,f=u.length,g=0,p=0,m=0,x=e.props;if(h&&(isNaN(x.contentWidth)?++m:h=void 0),c&&(isNaN(x.contentHeight)?++m:c=void 0),m){for(o=0;o<f;++o)if(n=(r=u[o]).target,s=c&&r.getProp("height"),l=h&&r.getProp("width"),s+=(a=r.getMarginInfo()).bottom,l+=a.right,g=Math.max(g,(n.y||0)+s),p=Math.max(p,(n.x||0)+l),isNaN(g)&&isNaN(p))return void(this.done=!1);(h||c)&&(i=e.targetContext.getPaddingInfo()),h&&!e.setContentWidth(p+i.width)&&(this.done=!1),c&&!e.setContentHeight(g+i.height)&&(this.done=!1)}}}),Ext.define("Ext.layout.container.Accordion",{extend:Ext.layout.container.VBox,alias:["layout.accordion"],alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:void 0,animate:!0,activeOnTop:!1,multi:!1,defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){this.callParent(arguments),!this.multi&&this.animate?this.animatePolicy=Ext.apply({},this.defaultAnimatePolicy):this.animatePolicy=null},beforeRenderItems:function(e){for(var t,i=this,n=e.length,r=0,s=i.owner,o=i.collapseFirst,a=Ext.isDefined(o),l=i.getExpanded(!0)[0],d=i.multi;r<n;r++)(t=e[r]).rendered||(d&&!1===t.collapsible||(t.collapsible=!0),t.collapsible&&(a&&(t.collapseFirst=o),i.hideCollapseTool?(t.hideCollapseTool=i.hideCollapseTool,t.titleCollapse=!0):i.titleCollapse&&void 0===t.titleCollapse&&(t.titleCollapse=i.titleCollapse)),delete t.hideHeader,delete t.width,t.title=t.title||"&#160;",t.addBodyCls(Ext.baseCSSPrefix+"accordion-body"),d||(l?t.collapsed=l!==t:t.hasOwnProperty("collapsed")&&!1===t.collapsed?l=t:t.collapsed=!0,s.mon(t,"show",i.onComponentShow,i)),t.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over");i.processing||d||(l?i.activeOnTop&&(l.collapsed=!1,i.configureItem(l),0<s.items.indexOf(l)&&s.insert(0,l)):n&&(e[0].collapsed=!1))},getItemsRenderTree:function(e){return this.beforeRenderItems(e),this.callParent(arguments)},renderItems:function(e,t){this.beforeRenderItems(e),this.callParent(arguments)},configureItem:function(e){this.callParent(arguments),e.animCollapse=e.border=!1,this.fill&&(e.flex=1)},beginLayout:function(e){this.callParent(arguments),this.updatePanelClasses(e)},updatePanelClasses:function(e){var t,i,n,r=e.visibleItems,s=r.length,o=!0;for(t=0;t<s;t++)(n=(i=r[t]).header).addCls(Ext.baseCSSPrefix+"accordion-hd"),o?n.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"):n.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"),t+1==s&&i.collapsed?n.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"):n.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"),o=i.collapsed},onBeforeComponentExpand:function(e){var t,i,n=this.owner,r=this.multi,s=(this.animate,!r&&!this.animate&&this.activeOnTop);this.processing||(this.processing=!0,i=n.deferLayouts,n.deferLayouts=!0,r||(t=this.getExpanded()[0])&&t!==e&&t.collapse(),s&&(Ext.suspendLayouts(),n.insert(0,e),Ext.resumeLayouts()),n.deferLayouts=i,this.processing=!1)},onBeforeComponentCollapse:function(e){var t,i,n=this.owner;if(1===this.owner.items.getCount())return!1;this.processing||(this.processing=!0,i=n.deferLayouts,n.deferLayouts=!0,t=e.next()||e.prev(),this.multi?1===this.getExpanded().length&&t.expand():t&&t.expand(),n.deferLayouts=i,this.processing=!1)},onComponentShow:function(e){this.onBeforeComponentExpand(e)},onRemove:function(e,t){var i;this.callParent(arguments),this.owner.destroying||this.multi||e.collapsed||(i=this.owner.items.first())&&i.expand()},getExpanded:function(e){for(var t,i=this.owner.items.items,n=i.length,r=0,s=[];r<n;++r)(t=i[r]).hidden||(e?t.hasOwnProperty("collapsed")&&!1===t.collapsed:!t.collapsed)&&s.push(t);return s}}),Ext.define("Ext.resizer.Splitter",{extend:Ext.Component,alias:"widget.splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" role="presentation" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:!1,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,size:5,ariaRole:"separator",getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var e=this,t=e.getCollapseTarget();e.callParent(),t.collapsed&&e.addCls(e.collapsedClsInternal),e.canResize||e.addCls(e.baseCls+"-noresize"),Ext.applyIf(e.renderData,{collapseDir:e.getCollapseDirection(),collapsible:e.collapsible||t.collapsible}),e.protoEl.unselectable()},onRender:function(){var e,t=this;t.callParent(arguments),!1!==t.performCollapse&&(t.renderData.collapsible&&t.mon(t.collapseEl,"click",t.toggleTargetCmp,t),t.collapseOnDblClick&&t.mon(t.el,"dblclick",t.toggleTargetCmp,t)),t.mon(t.getCollapseTarget(),{collapse:t.onTargetCollapse,expand:t.onTargetExpand,beforeexpand:t.onBeforeTargetExpand,beforecollapse:t.onBeforeTargetCollapse,scope:t}),t.canResize&&(t.tracker=Ext.create(t.getTrackerConfig()),t.relayEvents(t.tracker,["beforedragstart","dragstart","dragend"])),(e=t.collapseEl)&&(e.lastCollapseDirCls=t.collapseDirProps[t.collapseDirection].cls)},getCollapseDirection:function(){var e,t,i,n=this.collapseDirection;return n||((e=this.collapseTarget).isComponent&&(n=e.collapseDirection),n||(i=this.ownerCt.layout.type,n=["bottom","right","top","left"][e.isComponent?(t=this.ownerCt.items,Number(t.indexOf(e)===t.indexOf(this)-1)<<1|Number("hbox"===i)):Number("prev"===this.collapseTarget)<<1|Number("hbox"===i)]),this.collapseDirection=n),this.setOrientation("top"===n||"bottom"===n?"horizontal":"vertical"),n},getCollapseTarget:function(){return this.collapseTarget.isComponent?this.collapseTarget:"prev"===this.collapseTarget?this.previousSibling():this.nextSibling()},setCollapseEl:function(e){var t=this.collapseEl;t&&t.setDisplayed(e)},onBeforeTargetExpand:function(e){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(e){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},onTargetExpand:function(e){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var e,t=this.collapseEl,i=this.collapseDirProps[this.collapseDirection];t&&((e=t.lastCollapseDirCls)&&t.removeCls(e),t.addCls(t.lastCollapseDirCls=i.cls))},applyOrientation:function(){var e=this,t=e.orientation,i=e.orientationProps[t],n=e.size,r=i.fixedAxis,s=i.stretchedAxis,o=e.baseCls+"-";e[t]=!0,e[i.opposite]=!1,e.hasOwnProperty(r)&&"100%"!==e[r]||(e[r]=n),e.hasOwnProperty(s)&&e[s]!==n||(e[s]="100%"),e.removeCls(o+i.opposite),e.addCls(o+t)},setOrientation:function(e){this.orientation!==e&&(this.orientation=e,this.applyOrientation())},updateOrientation:function(){delete this.collapseDirection,this.getCollapseDirection(),this.applyCollapseDirection()},toggleTargetCmp:function(e,t){var i=this.getCollapseTarget(),n=i.placeholder;!Ext.isFunction(i.expand)||!Ext.isFunction(i.collapse)||(!n||n.hidden)&&i.hidden||(i.collapsed?i.expand():i.collapseDirection?i.collapse():i.collapse(this.renderData.collapseDir))},setSize:function(){this.callParent(arguments)},beforeDestroy:function(){Ext.destroy(this.tracker),this.callParent()}}),Ext.define("Ext.resizer.BorderSplitter",{extend:Ext.resizer.Splitter,alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var e=this.callParent();return e.xclass="Ext.resizer.BorderSplitterTracker",e}}),Ext.define("Ext.layout.container.Border",{extend:Ext.layout.container.Container,alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(e,t,i){var n,r,s,o,a,l,d,h,c,u,f,g=this.axisProps[i],p=!g.horizontal,m=g.sizeProp,x=0,y=e.childItems,E=y.length;for(r=0;r<E;++r)if(a=(s=y[r]).target,s.layoutPos={},a.region){if(s.region=l=a.region,s.isCenter=a.isCenter,s.isHorz=a.isHorz,s.isVert=a.isVert,s.weight=a.weight||this.regionWeights[l]||0,t[a.id]=s,a.isCenter){n=s,o=a.flex,e.centerRegion=n;continue}if(p!==s.isVert)continue;s.reverseWeighting=l==g.borderEnd,c=typeof(h=a[m]),a.collapsed||("string"==c&&(d=this.percentageRe.exec(h))?s.percentage=parseInt(d[1],10):a.flex&&(x+=s.flex=a.flex))}return n&&((f=(u=n.target).placeholderFor)?o||p!==f.collapsedVertical()||(o=0,n.collapseAxis=i):u.collapsed&&p===u.collapsedVertical()&&(o=0,n.collapseAxis=i)),null==o&&(o=1),x+=o,Ext.apply({before:p?"top":"left",totalFlex:x},g)},beginLayout:function(e){var t,i,n,r,s,o,a,l,d,h=this,c=h.getLayoutItems(),u=h.padding,f=typeof u,g=!1;for(u?"string"!=f&&"number"!=f||(u=Ext.util.Format.parseBox(u)):(u=e.getEl("getTargetEl").getPaddingInfo(),g=!0),e.outerPad=u,e.padOnContainer=g,r=0,n=c.length;r<n;++r)i=c[r],(o=h.getSplitterTarget(i))&&(a=void 0,l=!!i.hidden,o.split?l!==o.hidden&&(a=!o.hidden):o.isCollapsingOrExpanding&&(a=!!o.collapsed),a?i.show():!1===a&&i.hide());for(h.callParent(arguments),n=(c=e.childItems).length,s={},e.borderAxisHorz=h.beginAxis(e,s,"horz"),e.borderAxisVert=h.beginAxis(e,s,"vert"),r=0;r<n;++r)t=c[r],(o=h.getSplitterTarget(t.target))&&((d=s[o.id])||((d=e.getEl(o.el,h)).region=o.region),t.collapseTarget=o=d,t.weight=o.weight,t.reverseWeighting=o.reverseWeighting,(o.splitter=t).isHorz=o.isHorz,t.isVert=o.isVert);h.sortWeightedItems(c,"reverseWeighting"),h.setupSplitterNeighbors(c)},calculate:function(e){var t,i,n,r,s,o,a=this,l=a.getContainerSize(e),d=e.childItems,h=d.length,c=e.borderAxisHorz,u=e.borderAxisVert,f=e.outerPad,g=e.padOnContainer;for(c.begin=f[a.padOnContainerProp],u.begin=f.top,s=c.end=c.flexSpace=l.width+(g?f[a.padOnContainerProp]:-f[a.padNotOnContainerProp]),o=u.end=u.flexSpace=l.height+(g?f.top:-f.bottom),t=0;t<h;++t)n=(i=d[t]).getMarginInfo(),(i.isHorz||i.isCenter)&&(c.addUnflexed(n.width),s-=n.width),(i.isVert||i.isCenter)&&(u.addUnflexed(n.height),o-=n.height),i.flex||i.percentage||(i.isHorz||i.isCenter&&"horz"===i.collapseAxis?(r=i.getProp("width"),c.addUnflexed(r),i.collapseTarget&&(s-=r)):(i.isVert||i.isCenter&&"vert"===i.collapseAxis)&&(r=i.getProp("height"),u.addUnflexed(r),i.collapseTarget&&(o-=r)));for(t=0;t<h;++t)n=(i=d[t]).getMarginInfo(),i.percentage&&(i.isHorz?(r=Math.ceil(s*i.percentage/100),r=i.setWidth(r),c.addUnflexed(r)):i.isVert&&(r=Math.ceil(o*i.percentage/100),r=i.setHeight(r),u.addUnflexed(r)));for(t=0;t<h;++t)(i=d[t]).isCenter||(a.calculateChildAxis(i,c),a.calculateChildAxis(i,u));a.finishAxis(e,u)+a.finishAxis(e,c)<2?a.done=!1:a.finishPositions(d)},calculateChildAxis:function(e,t){var i,n,r,s,o,a=e.collapseTarget,l="set"+t.sizePropCap,d=t.sizeProp,h=e.getMarginInfo()[d];a?i=a.region:(i=e.region,r=e.flex),(n=i==t.borderBegin)||i==t.borderEnd?(o=r?(o=Math.ceil(t.flexSpace*(r/t.totalFlex)),e[l](o)):e.percentage?e.peek(d):e.getProp(d),o+=h,n?(s=t.begin,t.begin+=o):t.end=s=t.end-o):(e[l](t.end-t.begin-h),s=t.begin),e.layoutPos[t.posProp]=s},finishAxis:function(e,t){var i=t.end-t.begin,n=e.centerRegion;return n&&(n["set"+t.sizePropCap](i-n.getMarginInfo()[t.sizeProp]),n.layoutPos[t.posProp]=t.begin),Ext.isNumber(i)?1:0},finishPositions:function(e){var t,i,n=e.length,r=this.horzPositionProp;for(t=0;t<n;++t)(i=e[t]).setProp("x",i.layoutPos.x+i.marginInfo[r]),i.setProp("y",i.layoutPos.y+i.marginInfo.top)},getLayoutItems:function(){for(var e,t,i=this.owner,n=i&&i.items&&i.items.items||[],r=n.length,s=[],o=0;o<r;o++)t=(e=n[o]).placeholderFor,!e.hidden&&(e.floated&&2!==e.isCollapsingOrExpanding||t&&2===t.isCollapsingOrExpanding)||s.push(e);return s},getPlaceholder:function(e){return e.getPlaceholder&&e.getPlaceholder()},getSplitterTarget:function(e){var t=e.collapseTarget;return t&&t.collapsed&&t.placeholder||t},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},insertSplitter:function(e,t,i,n){var r=e.region,s=Ext.apply({xtype:"bordersplitter",collapseTarget:e,id:e.id+"-splitter",hidden:i,canResize:!1!==e.splitterResize,splitterFor:e},n),o=t+("south"===r||"east"===r?0:1);"mini"===e.collapseMode&&(s.collapsedCls=e.collapsedCls),e.splitter=this.owner.add(o,s)},onAdd:function(e,t){var i,n,r,s=e.placeholderFor,o=e.region;this.callParent(arguments),o?(Ext.apply(e,this.regionFlags[o]),e.initBorderRegion&&e.initBorderRegion(),"center"===o?this.centerRegion=e:(i=e.split,n=!!e.hidden,"object"==typeof i&&(r=i,i=!0),!e.isHorz&&!e.isVert||!i&&"mini"!=e.collapseMode||this.insertSplitter(e,t,n||!i,r)),e.hasOwnProperty("collapseMode")||(e.collapseMode=this.panelCollapseMode),e.hasOwnProperty("animCollapse")||("placeholder"!==e.collapseMode?e.animCollapse=!1:e.animCollapse=this.panelCollapseAnimate)):s&&(Ext.apply(e,this.regionFlags[s.region]),e.region=s.region,e.weight=s.weight)},onDestroy:function(){this.centerRegion=null,this.callParent()},onRemove:function(e,t){var i,n=e.region,r=e.splitter,s=this.owner,o=s.destroying;n&&(e.isCenter&&(this.centerRegion=null),delete e.isCenter,delete e.isHorz,delete e.isVert,r&&!s.destroying&&s.doRemove(r,!0),delete e.splitter),this.callParent(arguments),o||t||!e.rendered||((i=e.getEl()).setStyle("top",""),i.setStyle(this.horzPositionProp,""))},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(e){var t,i,n,r,s,o,a,l,d,h={},c=e.length,u=this.touchedRegions;for(t=0;t<c;++t)if(a=(o=e[t].target).region,o.isCenter)n=o;else if(a){for(i=0,r=(d=u[a]).length;i<r;++i)(s=h[d[i]])&&s.neighbors.push(o);(l=o.placeholderFor?o.placeholderFor.splitter:o.splitter)&&(l.neighbors=[]),h[a]=l}if(n)for(i=0,r=(d=u.center).length;i<r;++i)(s=h[d[i]])&&s.neighbors.push(n)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e){var t,i,n,r,s=this.sizePolicies;return e.isCenter?(r=e.placeholderFor)?r.collapsedVertical()?s.vert:s.horz:e.collapsed?e.collapsedVertical()?s.vert:s.horz:s.flexAll:(t=e.collapseTarget)?t.isVert?s.vert:s.horz:e.region?(n=e.isVert?(i=e.height,s.vert):(i=e.width,s.horz),e.flex||"string"==typeof i&&this.percentageRe.test(i)?s.flexAll:n):this.autoSizePolicy}},function(){var e={addUnflexed:function(e){this.flexSpace=Math.max(this.flexSpace-e,0)}},t=this.prototype.axisProps;Ext.apply(t.horz,e),Ext.apply(t.vert,e)}),Ext.define("Ext.layout.container.Card",{extend:Ext.layout.container.Fit,alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var e=this.getActiveItem();if(e){if(e.hasListeners.beforeactivate&&!1===e.fireEvent("beforeactivate",e)?e=this.activeItem=this.owner.activeItem=null:e.hasListeners.activate&&e.on({boxready:function(){e.fireEvent("activate",e)},single:!0}),!this.deferredRender)return this.callParent(arguments);if(e)return this.getItemsRenderTree([e])}},renderChildren:function(){var e=this.getActiveItem();this.deferredRender?e&&this.renderItems([e],this.getRenderTarget()):this.callParent()},isValidParent:function(e,t,i){var n=e.el?e.el.dom:Ext.getDom(e);return n&&n.parentNode===(t.dom||t)||!1},getActiveItem:function(){var e=this.parseActiveItem(this.activeItem||this.owner&&this.owner.activeItem);return e&&-1!=this.owner.items.indexOf(e)?this.activeItem=e:this.activeItem=null,this.activeItem},parseActiveItem:function(e){return e&&e.isComponent?e:"number"==typeof e||void 0===e?this.getLayoutItems()[e||0]:this.owner.getComponent(e)},configureItem:function(e){e===this.getActiveItem()?e.hidden=!1:e.hidden=!0,this.callParent(arguments)},onRemove:function(e){this.callParent(arguments),e===this.activeItem&&(this.activeItem=null)},getAnimation:function(e,t){var i=(e||{}).cardSwitchAnimation;return!1!==i&&(i||t.cardSwitchAnimation)},getNext:function(){var e=arguments[0],t=this.getLayoutItems();return t[Ext.Array.indexOf(t,this.activeItem)+1]||!!e&&t[0]},next:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getNext(t),e)},getPrev:function(){var e=arguments[0],t=this.getLayoutItems();return t[Ext.Array.indexOf(t,this.activeItem)-1]||!!e&&t[t.length-1]},prev:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getPrev(t),e)},setActiveItem:function(e){var t=this.owner,i=this.activeItem,n=t.rendered;return e=this.parseActiveItem(e),-1==t.items.indexOf(e)&&(t.items.items.length,Ext.suspendLayouts(),e=t.add(e),Ext.resumeLayouts()),!(!e||i==e)&&(!1!==e.fireEvent("beforeactivate",e,i)&&((!i||!1!==i.fireEvent("beforedeactivate",i,e))&&(n?(Ext.suspendLayouts(),e.rendered||this.renderItem(e,this.getRenderTarget(),t.items.length),i&&(this.hideInactive&&(i.hide(),i.hiddenByLayout=!0),i.fireEvent("deactivate",i,e)),e.hidden&&e.show(),e.hidden||(this.activeItem=e),Ext.resumeLayouts(!0)):this.activeItem=e,e.fireEvent("activate",e,i),this.activeItem)))}}),Ext.define("Ext.layout.container.Column",{extend:Ext.layout.container.Auto,alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,isItemShrinkWrap:function(e){return!0},getItemSizePolicy:function(e,t){return e.columnWidth&&!(t=t||this.owner.getSizeModel()).width.shrinkWrap?this.columnWidthSizePolicy:this.autoSizePolicy},calculateItems:function(e,t){var i,n,r,s,o,a,l=e.targetContext,d=e.childItems,h=d.length,c=0,u=t.gotWidth;if(!1===u)l.domBlock(this,"width"),i=!0;else{if(!u)return!0;n=t.width}for(r=0;r<h;++r)o=(s=d[r]).getMarginInfo().width,s.widthModel.calculated||("number"!=typeof(a=s.getProp("width"))&&(s.block(this,"width"),i=!0),c+=a+o);if(!i){for(n=n<c?0:n-c,r=0;r<h;++r)(s=d[r]).widthModel.calculated&&(o=s.marginInfo.width,a=s.target.columnWidth,a=Math.floor(a*n)-o,c+=(a=s.setWidth(a))+o);e.setContentWidth(c+e.paddingContext.getPaddingInfo().width)}return!i},setCtSizeIfNeeded:function(e,t){e.paddingContext.getPaddingInfo();this.callParent(arguments)}}),Ext.define("Ext.layout.container.Form",{alias:"layout.form",extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FormLayout",tableCls:Ext.baseCSSPrefix+"form-layout-table",type:"form",createsInnerCt:!0,manageOverflow:!0,lastOverflowAdjust:{width:0,height:0},childEls:["formTable"],padRow:'<tr role="presentation"><td class="'+Ext.baseCSSPrefix+'form-item-pad" colspan="3" role="presentation"></td></tr>',renderTpl:['<table id="{ownerId}-formTable" class="{tableCls}" style="width:100%" cellpadding="0" role="presentation">',"{%this.renderBody(out,values)%}","</table>","{%this.renderPadder(out,values)%}"],getRenderData:function(){var e=this.callParent();return e.tableCls=this.tableCls,e},calculate:function(e){var t,i,n,r=this.getContainerSize(e,!0),s=0;if(e.sizeModel.height.shrinkWrap&&(e.hasDomProp("containerChildrenSizeDone")?e.setProp("contentHeight",this.formTable.dom.offsetHeight+e.targetContext.getPaddingInfo().height):this.done=!1),r.gotWidth)for(t=this.formTable.dom.offsetWidth,n=(i=e.childItems).length;s<n;++s)i[s].setWidth(t,!1);else this.done=!1},getRenderTarget:function(){return this.formTable},getRenderTree:function(){var e,t,i=this.callParent(arguments);for(e=0,t=i.length;e<t;e++)i[e]=this.transformItemRenderTree(i[e]);return i},transformItemRenderTree:function(e){return e.tag&&"table"==e.tag?(e.tag="tbody",e.role="presentation",delete e.cellspacing,delete e.cellpadding,e):{tag:"tbody",role:"presentation",cn:{tag:"tr",role:"presentation",cn:{tag:"td",role:"presentation",colspan:3,style:"width:100%",cn:e}}}},isValidParent:function(e,t,i){return!0},isItemShrinkWrap:function(e){return 2&(!0===e.shrinkWrap?3:e.shrinkWrap||0)},getItemSizePolicy:function(e){return{setsWidth:1,setsHeight:0}},beginLayoutCycle:function(e,t){var i=this.overflowPadderEl;i&&i.setStyle("display","none"),e.state.overflowAdjust||(e.state.overflowAdjust=this.lastOverflowAdjust)},calculateOverflow:function(e,t,i){var n,r,s,o,a,l,d,h,c,u,f,g,p,m=this,x=e.targetContext,y=m.manageOverflow,E=e.state,v=E.overflowAdjust;!y||E.secondPass||m.reserveScrollbar||(g="auto"===m.getOverflowXStyle(e),p="auto"===m.getOverflowYStyle(e),t.gotWidth||(g=!1),t.gotHeight||(p=!1),(g||p)&&(l=Ext.getScrollbarSize(),d=e.peek("contentWidth"),h=e.peek("contentHeight"),d-=(o=x.getPaddingInfo()).width,h-=o.height,c=t.width,u=t.height,f=m.getScrollbarsNeeded(c,u,d,h),E.overflowState=f,"number"==typeof i&&(f&=~i),(v={width:g&&2&f?l.width:0,height:p&&1&f?l.height:0}).width===m.lastOverflowAdjust.width&&v.height===m.lastOverflowAdjust.height||(m.done=!1,e.invalidate({state:{overflowAdjust:v,overflowState:E.overflowState,secondPass:!0}})))),m.done&&(s=e.padElContext||(e.padElContext=e.getEl("overflowPadderEl",m)))&&(f=E.overflowState,n=e.peek("contentWidth"),r=1,f?(o=x.getPaddingInfo(),a=m.scrollRangeFlags,2&f&&1&a&&(r+=o.bottom),1&f&&4&a&&(n+=o.right),s.setProp("display",""),s.setSize(n,r)):s.setProp("display","none"))},completeLayout:function(e){this.lastOverflowAdjust=e.state.overflowAdjust},doRenderPadder:function(e,t){var i=t.$layout,n=i.owner,r=i.getScrollRangeFlags();i.manageOverflow&&5&r&&(e.push('<div id="',n.id,'-overflowPadderEl" role="presentation"','style="font-size: 1px; height: 1px; margin-top: -1px; position: relative; z-index: -99999'),e.push('"></div>'),i.scrollRangeFlags=r)},getContainerSize:function(e,t,i){var n,r,s,o,a=e.targetContext,l=a.getFrameInfo(),d=a.getPaddingInfo(),h=0,c=0,u=i?null:e.state.overflowAdjust;return e.widthModel.shrinkWrap||(++c,(n="number"==typeof(s=t?a.getDomProp("width"):a.getProp("width")))&&(++h,s-=l.width+d.width,u&&(s-=u.width))),e.heightModel.shrinkWrap||(++c,(r="number"==typeof(o=t?a.getDomProp("height"):a.getProp("height")))&&(++h,o-=l.height+d.height,u&&(o-=u.height))),{width:s,height:o,needed:c,got:h,gotAll:h==c,gotWidth:n,gotHeight:r}},getOverflowXStyle:function(e){return this.overflowXStyle||(this.overflowXStyle=this.owner.scrollFlags.overflowX||e.targetContext.getStyle("overflow-x"))},getOverflowYStyle:function(e){return this.overflowYStyle||(this.overflowYStyle=this.owner.scrollFlags.overflowY||e.targetContext.getStyle("overflow-y"))},getScrollRangeFlags:(Gtf=-1,function(){if(Gtf<0){var e=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",role:"presentation",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{role:"presentation",style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"}}]}),t=e.dom.scrollHeight,i=e.dom.scrollWidth;Gtf=({175:0,165:1,170:2,160:3}[t]||0)|({175:0,165:4,170:8,160:12}[i]||0),e.remove()}return Gtf}),initLayout:function(){var e=Ext.getScrollbarSize().width;this.callParent(),e&&this.manageOverflow&&!this.hasOwnProperty("lastOverflowAdjust")&&(this.owner.scrollFlags.y||this.reserveScrollbar)&&(this.lastOverflowAdjust={width:e,height:0})},setupRenderTpl:function(e){this.callParent(arguments),e.renderPadder=this.doRenderPadder}}),Ext.define("Ext.menu.Item",{extend:Ext.Component,alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",isMenuItem:!0,mixins:{queryable:Ext.Queryable},activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:0,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",baseIconCls:Ext.baseCSSPrefix+"menu-item-icon",textCls:Ext.baseCSSPrefix+"menu-item-text",indentCls:Ext.baseCSSPrefix+"menu-item-indent",indentNoSeparatorCls:Ext.baseCSSPrefix+"menu-item-indent-no-separator",indentRightIconCls:Ext.baseCSSPrefix+"menu-item-indent-right-icon",indentRightArrowCls:Ext.baseCSSPrefix+"menu-item-indent-right-arrow",linkCls:Ext.baseCSSPrefix+"menu-item-link",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl"',' class="{linkCls} {indentCls}{childElCls}"',' href="{href}" role="presentation" ','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'<span id="{id}-textEl" class="{textCls}{childElCls}" unselectable="on">{text}</span>','<tpl if="hasIcon">','<div role="presentation" id="{id}-iconEl" class="{baseIconCls}','{[values.rightIcon ? "-right" : ""]} {iconCls}','{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>","</tpl>",'<tpl if="showCheckbox">','<div role="presentation" id="{id}-checkEl" class="{baseIconCls}','{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} ','{groupCls} {checkboxCls}{childElCls}">',"</div>","</tpl>",'<tpl if="hasMenu">','<div role="presentation" id="{id}-arrowEl" class="{arrowCls}{childElCls}"></div>',"</tpl>","</a>","</tpl>"],maskOnDisable:!1,iconAlign:"left",activate:function(e){var t=this;(e||!t.activated&&t.canActivate&&t.rendered&&!t.isDisabled()&&t.isVisible())&&(t.plain||t.el.addCls(t.activeCls),t.focus(!1,!0),t.activated=!0,t.hasListeners.activate&&t.fireEvent("activate",t))},getFocusEl:function(){return this.itemEl},deactivate:function(){var e,t=this;t.activated&&(e=t.up(""),t.plain||t.el.removeCls(t.activeCls),e&&e.focus(!1,!0),t.hideMenu(),t.activated=!1,t.hasListeners.deactivate&&t.fireEvent("deactivate",t))},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var e;Ext.menu.Manager.hideAll(),Ext.Element.getActiveElement()||(e=this.up(":not([hidden])"))&&e.focus()},expandMenu:function(e){this.menu&&(this.cancelDeferHide(),0===e?this.doExpandMenu():(clearTimeout(this.expandMenuTimer),this.expandMenuTimer=Ext.defer(this.doExpandMenu,Ext.isNumber(e)?e:this.menuExpandDelay,this)))},doExpandMenu:function(){var e=this.menu;!this.activated||e.rendered&&e.isVisible()||((this.parentMenu.activeChild=e).parentItem=this,e.parentMenu=this.parentMenu,e.showBy(this,this.menuAlign))},getRefItems:function(e){var t,i=this.menu;return i&&(t=i.getRefItems(e)).unshift(i),t||[]},hideMenu:function(e){this.menu&&(clearTimeout(this.expandMenuTimer),this.hideMenuTimer=Ext.defer(this.deferHideMenu,Ext.isNumber(e)?e:this.menuHideDelay,this))},initComponent:function(){var e,t=this,i=Ext.baseCSSPrefix,n=[i+"menu-item"];t.addEvents("activate","click","deactivate","textchange","iconchange"),t.plain&&n.push(i+"menu-item-plain"),t.cls&&n.push(t.cls),t.cls=n.join(" "),t.menu&&(e=t.menu,delete t.menu,t.setMenu(e)),t.callParent(arguments)},onClick:function(e){var t=this,i=t.clickHideDelay;t.href||e.stopEvent(),t.disabled||(t.hideOnClick&&(i?t.deferHideParentMenusTimer=Ext.defer(t.deferHideParentMenus,i,t):t.deferHideParentMenus()),Ext.callback(t.handler,t.scope||t,[t,e]),t.fireEvent("click",t,e),t.hideOnClick||t.focus())},onRemoved:function(){this.activated&&this.parentMenu.activeItem===this&&this.parentMenu.deactivateActiveItem(),this.callParent(arguments),this.parentMenu=this.ownerButton=null},beforeDestroy:function(){this.rendered&&this.clearTip(),this.callParent()},onDestroy:function(){clearTimeout(this.expandMenuTimer),this.cancelDeferHide(),clearTimeout(this.deferHideParentMenusTimer),this.setMenu(null),this.callParent(arguments)},beforeRender:function(){var e,t=this,i=t.glyph,n=Ext._glyphFontFamily,r=!!(t.icon||t.iconCls||i),s=!!t.menu,o="right"===t.iconAlign&&!s,a=t.isMenuCheckItem,l=[],d=t.ownerCt,h=d.plain;t.callParent(),r&&s&&t.showCheckbox&&(r=!1),"string"==typeof i&&(i=(e=i.split("@"))[0],n=e[1]),(!h||r&&!o||a)&&(d.showSeparator&&!h?l.push(t.indentCls):l.push(t.indentNoSeparatorCls)),s?l.push(t.indentRightArrowCls):r&&(o||a)&&l.push(t.indentRightIconCls),Ext.applyIf(t.renderData,{href:t.href||"#",hrefTarget:t.hrefTarget,icon:t.icon,iconCls:t.iconCls,glyph:i,glyphCls:i?Ext.baseCSSPrefix+"menu-item-glyph":void 0,glyphFontFamily:n,hasIcon:r,hasMenu:s,indent:!h||r||a,isCheckItem:a,rightIcon:o,plain:t.plain,text:t.text,arrowCls:t.arrowCls,baseIconCls:t.baseIconCls,textCls:t.textCls,indentCls:l.join(" "),linkCls:t.linkCls,groupCls:t.group?t.groupCls:"",tabIndex:t.tabIndex})},onRender:function(){this.callParent(arguments),this.tooltip&&this.setTooltip(this.tooltip,!0)},setMenu:function(e,t){var i=this,n=i.menu,r=i.arrowEl;n&&(delete n.parentItem,delete n.parentMenu,delete n.ownerItem,(!0===t||!1!==t&&i.destroyMenu)&&Ext.destroy(n)),e?(i.menu=Ext.menu.Manager.get(e),i.menu.ownerItem=i):i.menu=null,i.rendered&&!i.destroying&&r&&r[i.menu?"addCls":"removeCls"](i.arrowCls)},setHandler:function(e,t){this.handler=e||null,this.scope=t},setIcon:function(e){var t=this.iconEl,i=this.icon;t&&(t.src=e||Ext.BLANK_IMAGE_URL),this.icon=e,this.fireEvent("iconchange",this,i,e)},setIconCls:function(e){var t=this.iconEl,i=this.iconCls;t&&(this.iconCls&&t.removeCls(this.iconCls),e&&t.addCls(e)),this.iconCls=e,this.fireEvent("iconchange",this,i,e)},setText:function(e){var t=this.textEl||this.el,i=this.text;this.text=e,this.rendered&&(t.update(e||""),this.ownerCt.updateLayout()),this.fireEvent("textchange",this,i,e)},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(e,t){return this.rendered?(t||this.clearTip(),Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:this.itemEl.id},e)),this.tooltip=e):this.itemEl.dom.setAttribute(this.getTipAttr(),e)):this.tooltip=e,this}}),Ext.define("Ext.menu.CheckItem",{extend:Ext.menu.Item,alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,ariaRole:"menuitemcheckbox",childEls:["itemEl","iconEl","textEl","checkEl"],showCheckbox:!0,isMenuCheckItem:!0,checkboxCls:Ext.baseCSSPrefix+"menu-item-checkbox",initComponent:function(){this.checked=!!this.checked,this.addEvents("beforecheckchange","checkchange"),this.callParent(arguments),Ext.menu.Manager.registerCheckable(this),this.group&&!1!==this.initialConfig.hideOnClick&&(this.hideOnClick=!0)},beforeRender:function(){this.callParent(),Ext.apply(this.renderData,{checkboxCls:this.checkboxCls,showCheckbox:this.showCheckbox})},afterRender:function(){this.callParent(),this.checked=!this.checked,this.setChecked(!this.checked,!0),this.checkChangeDisabled&&this.disableCheckChange()},disableCheckChange:function(){var e=this.checkEl;e&&e.addCls(this.disabledCls),Ext.isIE10p||Ext.isIE9&&Ext.isStrict||!this.rendered||this.el.repaint(),this.checkChangeDisabled=!0},enableCheckChange:function(){var e=this.checkEl;e&&e.removeCls(this.disabledCls),this.checkChangeDisabled=!1},onClick:function(e){this.disabled||this.checkChangeDisabled||this.checked&&this.group||this.setChecked(!this.checked),this.callParent([e])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),this.callParent(arguments)},setChecked:function(e,t){var i=this,n=i.checkedCls,r=i.uncheckedCls,s=i.el;i.checked===e||!t&&!1===i.fireEvent("beforecheckchange",i,e)||(s&&(e?(s.addCls(n),s.removeCls(r)):(s.addCls(r),s.removeCls(n))),i.checked=e,Ext.menu.Manager.onCheckChange(i,e),t||(Ext.callback(i.checkHandler,i.scope||i,[i,e]),i.fireEvent("checkchange",i,e)))}}),Ext.define("Ext.menu.KeyNav",{extend:Ext.util.KeyNav,constructor:function(e){var t=this;t.menu=e.target,t.callParent([Ext.apply({down:t.down,enter:t.enter,esc:t.escape,left:t.left,right:t.right,space:t.enter,tab:t.tab,up:t.up},e)])},down:function(e){var t=this.menu.focusedItem;if(t&&e.getKey()==Ext.EventObject.DOWN&&this.isWhitelisted(t))return!0;this.focusNextItem(1)},enter:function(e){var t=this.menu,i=t.focusedItem;if(t.activeItem)t.onClick(e);else if(i&&i.isFormField)return!0},escape:function(e){Ext.menu.Manager.hideAll()},focusNextItem:function(e){for(var t,i=this.menu,n=i.items,r=i.focusedItem,s=r?n.indexOf(r):-1,o=s+e,a=n.length,l=0;l<a&&o!==s;){if(o<0?o=a-1:a<=o&&(o=0),t=n.getAt(o),i.canActivateItem(t)){i.setActiveItem(t);break}o+=e,++l}},isWhitelisted:function(e){return Ext.FocusManager.isWhitelisted(e)},left:function(e){var t=this.menu,i=t.focusedItem;if(i&&this.isWhitelisted(i))return!0;t.hide(),t.parentMenu&&t.parentMenu.focus()},right:function(e){var t,i=this.menu,n=i.focusedItem,r=i.activeItem;if(n&&this.isWhitelisted(n))return!0;r&&(t=i.activeItem.menu)&&(r.expandMenu(0),t.setActiveItem(t.child(":focusable")))},tab:function(e){e.shiftKey?this.up(e):this.down(e)},up:function(e){var t=this.menu.focusedItem;if(t&&e.getKey()==Ext.EventObject.UP&&this.isWhitelisted(t))return!0;this.focusNextItem(-1)}}),Ext.define("Ext.menu.Separator",{extend:Ext.menu.Item,alias:"widget.menuseparator",canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(e,t){this.callParent(),this.addCls(this.separatorCls)}}),Ext.define("Ext.menu.Menu",{extend:Ext.panel.Panel,alias:"widget.menu",enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,initComponent:function(){var e=this,t=Ext.baseCSSPrefix,i=[t+"menu"],n=e.bodyCls?[e.bodyCls]:[],r=!1!==e.floating;e.addEvents("click","mouseenter","mouseleave","mouseover"),Ext.menu.Manager.register(e),e.plain&&i.push(t+"menu-plain"),e.cls=i.join(" "),n.push(t+"menu-body",Ext.dom.Element.unselectableCls),e.bodyCls=n.join(" "),e.layout||(e.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}),r?void 0===e.minWidth&&(e.minWidth=e.defaultMinWidth):(e.hidden=!!e.initialConfig.hidden,e.constrain=!1),e.callParent(arguments)},registerWithOwnerCt:function(){this.floating&&(this.ownerCt=null,Ext.WindowManager.register(this))},initHierarchyEvents:Ext.emptyFn,isVisible:function(){return this.callParent()},getHierarchyState:function(){var e=this.callParent();return e.hidden=this.hidden,e},beforeRender:function(){this.callParent(arguments),this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch")},onBoxReady:function(){var e=this;e.callParent(arguments),e.showSeparator&&(e.iconSepEl=e.layout.getElementTarget().insertFirst({role:"presentation",cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"})),e.mon(e.el,{click:e.onClick,mouseover:e.onMouseOver,scope:e}),e.mouseMonitor=e.el.monitorMouseLeave(100,e.onMouseLeave,e),e.enableKeyNav&&(e.keyNav=new Ext.menu.KeyNav({target:e,keyMap:e.getKeyMap()}))},getRefOwner:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(e){return e&&!e.isDisabled()&&e.isVisible()&&(e.canActivate||!e.isMenuItem)},deactivateActiveItem:function(e){var t=this.activeItem,i=this.focusedItem;t&&(t.deactivate(),t.activated||delete this.activeItem),i&&e&&(i.blur(),delete this.focusedItem)},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(!0),this.callParent(arguments)},getItemFromEvent:function(e){for(var t=this.layout.getRenderTarget().dom,i=e.getTarget();i.parentNode!==t;)if(!(i=i.parentNode))return;return Ext.getCmp(i.id)},lookupComponent:function(e){return"string"==typeof e?e=this.lookupItemFromString(e):Ext.isObject(e)&&(e=this.lookupItemFromObject(e)),e.minWidth=e.minWidth||this.minWidth,e},lookupItemFromObject:function(e){var t,i=Ext.baseCSSPrefix;return e.isComponent||(e=e.xtype?Ext.ComponentManager.create(e,e.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(e.checked)?"Check":"")+"Item",e)),e.isMenuItem&&(e.parentMenu=this),e.isMenuItem||e.dock||(t=[i+"menu-item-cmp"],this.plain||!1===e.indent&&"no-icon"!==e.iconCls||t.push(i+"menu-item-indent"),e.rendered?e.el.addCls(t):e.cls=(e.cls||"")+" "+t.join(" ")),e},lookupItemFromString:function(e){return"separator"==e||"-"==e?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:e})},onClick:function(e){var t;this.disabled?e.stopEvent():((t="click"===e.type?this.getItemFromEvent(e):this.activeItem)&&t.isMenuItem&&(t.menu&&this.ignoreParentClicks?e.stopEvent():t.onClick(e)),t&&!t.disabled||(t=void 0),this.fireEvent("click",this,t,e))},onDestroy:function(){Ext.menu.Manager.unregister(this),this.parentMenu=this.ownerButton=null,this.rendered&&(this.el.un(this.mouseMonitor),Ext.destroy(this.keyNav),this.keyNav=null),this.callParent(arguments)},onMouseLeave:function(e){this.deactivateActiveItem(),this.disabled||this.fireEvent("mouseleave",this,e)},onMouseOver:function(e){var t=this,i=e.getRelatedTarget(),n=!t.el.contains(i),r=t.getItemFromEvent(e),s=t.parentMenu,o=t.parentItem;n&&s&&(s.setActiveItem(o),o.cancelDeferHide(),s.mouseMonitor.mouseenter()),t.disabled||(r&&!r.activated&&(t.setActiveItem(r),r.activated&&r.expandMenu&&r.expandMenu()),n&&t.fireEvent("mouseenter",t,e),t.fireEvent("mouseover",t,r,e))},setActiveItem:function(e){e&&e!=this.activeItem&&(this.deactivateActiveItem(),this.canActivateItem(e)&&(e.activate?(e.activate(!0),e.activated&&(this.activeItem=e,this.focusedItem=e)):(e.focus(),this.focusedItem=e)))},showBy:function(e,t,i){return this.callParent(arguments),this.hidden||this.setVerticalPosition(),this},beforeShow:function(){var e;this.floating&&(this.savedMaxHeight=this.maxHeight,e=this.container.getViewSize().height,this.maxHeight=Math.min(this.maxHeight||e,e)),this.callParent(arguments)},afterShow:function(){this.callParent(arguments),this.floating&&(this.maxHeight=this.savedMaxHeight)},setVerticalPosition:function(){var e,t=this.getY(),i=t,n=this.getHeight(),r=Ext.Element.getViewportHeight().height,s=this.el.parent(),o=s.getViewSize().height,a=t-s.getScroll().top;s=null,this.floating&&(e=this.maxHeight?this.maxHeight:o-a,o<n?i=t-a:e<n?i=t-(n-e):r<t+n&&(i=r-n)),this.setY(i)}}),Ext.define("Ext.menu.ColorPicker",{extend:Ext.menu.Menu,alias:"widget.colormenu",hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{plain:!0,showSeparator:!1,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",margin:0,id:e.pickerId,xtype:"colorpicker"},t)}),e.callParent(arguments),e.picker=e.down("colorpicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.menu.DatePicker",{extend:Ext.menu.Menu,alias:"widget.datemenu",hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{showSeparator:!1,plain:!0,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",margin:0,border:!1,id:e.pickerId,xtype:"datepicker"},t)}),e.callParent(arguments),e.picker=e.down("datepicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.panel.Tool",{extend:Ext.Component,alias:"widget.tool",isTool:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,height:15,width:15,initComponent:function(){var e=this;e.addEvents("click"),e.type=e.type||e.id,Ext.applyIf(e.renderData,{baseCls:e.baseCls,blank:Ext.BLANK_IMAGE_URL,type:e.type}),e.tooltip=e.tooltip||e.qtip,e.callParent()},afterRender:function(){var e,t=this;t.callParent(arguments),t.el.on({click:t.onClick,mousedown:t.onMouseDown,mouseover:t.onMouseOver,mouseout:t.onMouseOut,scope:t}),t.tooltip&&(Ext.quickTipsActive&&Ext.isObject(t.tooltip)?Ext.tip.QuickTipManager.register(Ext.apply({target:t.id},t.tooltip)):(e="qtip"==t.tooltipType?"data-qtip":"title",t.el.dom.setAttribute(e,t.tooltip)))},getFocusEl:function(){return this.el},setType:function(e){var t=this.type;return this.type=e,this.rendered?(t&&this.toolEl.removeCls(this.baseCls+"-"+t),this.toolEl.addCls(this.baseCls+"-"+e)):this.renderData.type=e,this},onClick:function(e,t){var i=this;return!i.disabled&&(i.el.removeCls(i.toolPressedCls),i.el.removeCls(i.toolOverCls),!1!==i.stopEvent&&e.stopEvent(),i.handler?Ext.callback(i.handler,i.scope||i,[e,t,i.ownerCt,i]):i.callback&&Ext.callback(i.callback,i.scope||i,[i.toolOwner||i.ownerCt,i,e]),i.fireEvent("click",i,e),!0)},onDestroy:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.id),this.keyMap&&this.keyMap.destroy(),this.callParent()},onMouseDown:function(){if(this.disabled)return!1;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return!1;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}),Ext.define("Ext.resizer.SplitterTracker",{extend:Ext.dd.DragTracker,enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var e;(e=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"})).unselectable(),e.setSize(Ext.Element.getViewWidth(!0),Ext.Element.getViewHeight(!0)),e.show()},getPrevCmp:function(){return this.getSplitter().previousSibling(":not([hidden])")},getNextCmp:function(){return this.getSplitter().nextSibling(":not([hidden])")},onBeforeStart:function(e){var t,i=this.getPrevCmp(),n=this.getNextCmp(),r=this.getSplitter().collapseEl,s=e.getTarget();return!(!i||!n)&&((!r||s!==this.getSplitter().collapseEl.dom)&&(!n.collapsed&&!i.collapsed&&(this.prevBox=i.getEl().getBox(),this.nextBox=n.getEl().getBox(),this.constrainTo=t=this.calculateConstrainRegion(),t||!1)))},onStart:function(e){var t=this.getSplitter();this.createDragOverlay(),t.addCls(t.baseCls+"-active")},calculateConstrainRegion:function(){var e,t,i,n=this.getSplitter(),r=n.getWidth(),s=n.defaultSplitMin,o=n.orientation,a=this.prevBox,l=this.getPrevCmp(),d=this.nextBox,h=this.getNextCmp();return t="vertical"===o?(i={prevCmp:l,nextCmp:h,prevBox:a,nextBox:d,defaultMin:s,splitWidth:r},e=new Ext.util.Region(a.y,this.getVertPrevConstrainRight(i),a.bottom,this.getVertPrevConstrainLeft(i)),new Ext.util.Region(d.y,this.getVertNextConstrainRight(i),d.bottom,this.getVertNextConstrainLeft(i))):(e=new Ext.util.Region(a.y+(l.minHeight||s),a.right,(l.maxHeight?a.y+l.maxHeight:d.bottom-(h.minHeight||s))+r,a.x),new Ext.util.Region((h.maxHeight?d.bottom-h.maxHeight:a.y+(l.minHeight||s))-r,d.right,d.bottom-(h.minHeight||s),d.x)),e.intersect(t)},performResize:function(e,t){for(var i,n,r=this.getSplitter(),s=r.orientation,o=this.getPrevCmp(),a=this.getNextCmp(),l=r.ownerCt,d=l.query(">[flex]"),h=d.length,c="vertical"===s,u=0,f=c?"width":"height";u<h;u++)i=d[u],n=c?i.getWidth():i.getHeight(),i.flex=n;t=c?t[0]:t[1],o&&(n=this.prevBox[f]+t,o.flex?o.flex=n:o[f]=n),a&&(n=this.nextBox[f]-t,a.flex?a.flex=n:a[f]=n),l.updateLayout()},endDrag:function(){this.overlay&&(this.overlay.remove(),delete this.overlay),this.callParent(arguments)},onEnd:function(e){var t=this.getSplitter();t.removeCls(t.baseCls+"-active"),this.performResize(e,this.getResizeOffset())},onDrag:function(e){var t=this.getOffset("dragTarget"),i=this.getSplitter(),n=i.getEl();"vertical"===i.orientation?n.setX(this.startRegion.left+t[0]):n.setY(this.startRegion.top+t[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(e){return(e.prevCmp.maxWidth?e.prevBox.x+e.prevCmp.maxWidth:e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin))+e.splitWidth},getVertPrevConstrainLeft:function(e){return e.prevBox.x+(e.prevCmp.minWidth||e.defaultMin)},getVertNextConstrainRight:function(e){return e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin)},getVertNextConstrainLeft:function(e){return(e.nextCmp.maxWidth?e.nextBox.right-e.nextCmp.maxWidth:e.prevBox.x+(e.prevBox.minWidth||e.defaultMin))-e.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}}),Ext.define("Ext.resizer.BorderSplitterTracker",{extend:Ext.resizer.SplitterTracker,getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var e,t,i,n,r,s,o,a=this.splitter,l=a.collapseTarget,d=a.defaultSplitMin,h=a.vertical?"Width":"Height",c="min"+h,u="max"+h,f="get"+h,g=a.neighbors,p=g.length,m=l.el.getBox(),x=m.x,y=m.y,E=m.right,v=m.bottom,b=a.vertical?E-x:v-y;for(i=(l[c]||Math.min(b,d))-b,(n=l[u])?n-=b:n=1e9,o=b,e=0;e<p;++e)r=(b=(t=g[e])[f]())-t[u],s=b-(t[c]||Math.min(b,d)),isNaN(r)||i<r&&(i=r),s<n&&(n=s);return n-i<2?null:(m=new Ext.util.Region(y,E,v,x),this.constraintAdjusters[this.getCollapseDirection()](m,i,n,a),this.dragInfo={minRange:i,maxRange:n,targetSize:o},m)},constraintAdjusters:{left:function(e,t,i,n){e[0]=e.x=e.left=e.right+t,e.right+=i+n.getWidth()},top:function(e,t,i,n){e[1]=e.y=e.top=e.bottom+t,e.bottom+=i+n.getHeight()},bottom:function(e,t,i,n){e.bottom=e.top-t,e.top-=i+n.getHeight()},right:function(e,t,i,n){e.right=e.left-t,e[0]=e.x=e.left=e.x-i+n.getWidth()}},onBeforeStart:function(e){var t,i,n=this.splitter,r=n.collapseTarget,s=n.neighbors,o=this.getSplitter().collapseEl,a=e.getTarget(),l=s.length;if(o&&a===n.collapseEl.dom)return!1;if(r.collapsed)return!1;for(t=0;t<l;++t)if((i=s[t]).collapsed&&i.isHorz===r.isHorz)return!1;return!!(this.constrainTo=this.calculateConstrainRegion())},performResize:function(e,t){var i,n=this.splitter,r=n.getCollapseDirection(),s=n.collapseTarget,o=this.splitAdjusters[n.vertical?"horz":"vert"],a=t[o.index],l=this.dragInfo;"right"!=r&&"bottom"!=r||(a=-a),(a=Math.min(Math.max(l.minRange,a),l.maxRange))&&((i=n.ownerCt).suspendLayouts(),o.adjustTarget(s,l.targetSize,a),i.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(e,t,i){e.flex=null,e.setSize(t+i)}},vert:{index:1,adjustTarget:function(e,t,i){e.flex=null,e.setSize(void 0,t+i)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}}),Ext.define("Ext.resizer.Handle",{extend:Ext.Component,handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",ariaRole:"presentation",beforeRender:function(){this.callParent(),this.protoEl.unselectable(),this.addCls(this.baseHandleCls,this.baseHandleCls+"-"+this.region,this.handleCls)}}),Ext.define("Ext.resizer.ResizeTracker",{extend:Ext.dd.DragTracker,dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(e){var t,i,n,r=this;e.el||(e.target.isComponent?r.el=e.target.getEl():r.el=e.target),this.callParent(arguments),r.preserveRatio&&r.minWidth&&r.minHeight&&((t=r.minWidth/r.el.getWidth())<(i=r.minHeight/r.el.getHeight())?r.minWidth=r.el.getWidth()*i:r.minHeight=r.el.getHeight()*t),r.throttle&&(n=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments)},r.throttle),r.resize=function(e,t,i){i?Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments):n.apply(null,arguments)})},onBeforeStart:function(e){this.startBox=this.target.getBox()},getDynamicTarget:function(){var e=this.target;return this.dynamic?e:(this.proxy||(this.proxy=this.createProxy(e)),this.proxy.show(),this.proxy)},createProxy:function(e){var t,i=this.proxyCls;return(t=e.isComponent?e.getProxy().addCls(i):e.createProxy({tag:"div",role:"presentation",cls:i,id:e.id+"-rzproxy"},Ext.getBody())).removeCls(Ext.baseCSSPrefix+"proxy-el"),t},onStart:function(e){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox,{horizontal:"none",vertical:"none"})},onDrag:function(e){(this.dynamic||this.proxy)&&this.updateDimensions(e)},updateDimensions:function(e,t){var i,n,r,s,o,a,l,d,h=this,c=h.activeResizeHandle.region,u=h.getOffset(h.constrainTo?"dragTarget":null),f=h.startBox,g=0,p=0,m=0,x=0,y=u[0]<0?"right":"left",E=u[1]<0?"down":"up";switch(c=h.convertRegionName(c)){case"south":p=u[1],o=2;break;case"north":x=-(p=-u[1]),o=2;break;case"east":g=u[0],o=1;break;case"west":m=-(g=-u[0]),o=1;break;case"northeast":x=-(p=-u[1]),g=u[0],s=[f.x,f.y+f.height],o=3;break;case"southeast":p=u[1],g=u[0],s=[f.x,f.y],o=3;break;case"southwest":m=-(g=-u[0]),p=u[1],s=[f.x+f.width,f.y],o=3;break;case"northwest":x=-(p=-u[1]),m=-(g=-u[0]),s=[f.x+f.width,f.y+f.height],o=3}if(a={width:f.width+g,height:f.height+p,x:f.x+m,y:f.y+x},n=Ext.Number.snap(a.width,h.widthIncrement),r=Ext.Number.snap(a.height,h.heightIncrement),n!=a.width||r!=a.height){switch(c){case"northeast":case"north":a.y-=r-a.height;break;case"southwest":case"west":a.x-=n-a.width;break;case"northwest":a.x-=n-a.width,a.y-=r-a.height}a.width=n,a.height=r}a.width<h.minWidth||a.width>h.maxWidth?(a.width=Ext.Number.constrain(a.width,h.minWidth,h.maxWidth),m&&(a.x=f.x+(f.width-a.width))):h.lastX=a.x,a.height<h.minHeight||a.height>h.maxHeight?(a.height=Ext.Number.constrain(a.height,h.minHeight,h.maxHeight),x&&(a.y=f.y+(f.height-a.height))):h.lastY=a.y,(h.preserveRatio||e.shiftKey)&&(i=h.startBox.width/h.startBox.height,l=Math.min(Math.max(h.minHeight,a.width/i),h.maxHeight),d=Math.min(Math.max(h.minWidth,a.height*i),h.maxWidth),1==o?a.height=l:2==o?a.width=d:(i<Math.abs(s[0]-this.lastXY[0])/Math.abs(s[1]-this.lastXY[1])?a.height=l:a.width=d,"northeast"==c?a.y=f.y-(a.height-f.height):"northwest"==c?(a.y=f.y-(a.height-f.height),a.x=f.x-(a.width-f.width)):"southwest"==c&&(a.x=f.x-(a.width-f.width)))),0===p&&(E="none"),0===g&&(y="none"),h.resize(a,{horizontal:y,vertical:E},t)},getResizeTarget:function(e){return e?this.target:this.getDynamicTarget()},resize:function(e,t,i){this.getResizeTarget(i).setBox(e),this.originalTarget&&(this.dynamic||i)&&this.originalTarget.setBox(e)},onEnd:function(e){this.updateDimensions(e,!0),this.proxy&&this.proxy.hide()},convertRegionName:function(e){return e}}),Ext.define("Ext.resizer.Resizer",{mixins:{observable:Ext.util.Observable},alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},ariaRole:"presentation",constructor:function(e){var t,i,n,r,s,o,a,l,d,h,c,u=this,f=u.handles,g=0,p=[],m=Ext.dom.Element.unselectableCls;for(u.addEvents("beforeresize","resizedrag","resize"),(Ext.isString(e)||Ext.isElement(e)||e.dom)&&(t=e,(e=arguments[1]||{}).target=t),u.mixins.observable.constructor.call(u,e),(t=u.target)?t.isComponent?(t.addClsWithUI("resizable"),u.el=t.getEl(),t.minWidth&&(u.minWidth=t.minWidth),t.minHeight&&(u.minHeight=t.minHeight),t.maxWidth&&(u.maxWidth=t.maxWidth),t.maxHeight&&(u.maxHeight=t.maxHeight),t.floating&&(u.hasOwnProperty("handles")||(u.handles="n ne e se s sw w nw"))):u.el=u.target=Ext.get(t):u.target=u.el=Ext.get(u.el),"TEXTAREA"!=(n=u.el.dom.tagName.toUpperCase())&&"IMG"!=n&&"TABLE"!=n||(u.originalTarget=u.target,h=(i=u.el).getBox(),u.target=u.el=u.el.wrap({role:"presentation",cls:u.wrapCls,id:u.el.id+"-rzwrap",style:i.getStyles("margin-top","margin-bottom")}),u.el.setPositioning(i.getPositioning()),i.clearPositioning(),u.el.setBox(h),i.setStyle("position","absolute")),u.el.position(),u.pinned&&u.el.addCls(u.pinnedCls),u.resizeTracker=new Ext.resizer.ResizeTracker({disabled:u.disabled,target:u.target,constrainTo:u.constrainTo,overCls:u.overCls,throttle:u.throttle,originalTarget:u.originalTarget,delegate:"."+u.handleCls,dynamic:u.dynamic,preserveRatio:u.preserveRatio,heightIncrement:u.heightIncrement,widthIncrement:u.widthIncrement,minHeight:u.minHeight,maxHeight:u.maxHeight,minWidth:u.minWidth,maxWidth:u.maxWidth}),u.resizeTracker.on({mousedown:u.onBeforeResize,drag:u.onResize,dragend:u.onResizeEnd,scope:u}),"all"==u.handles&&(u.handles="n s e w ne nw se sw"),f=u.handles=u.handles.split(u.delimiterRe),s=u.possiblePositions,o=f.length,r=u.handleCls+" "+u.handleCls+"-{0}",u.target.isComponent&&(r+=" "+(c=u.target.baseCls)+"-handle "+c+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(r+=" "+c+"-handle-{0}-br")),l=Ext.isIE6?' style="height:'+u.el.getHeight()+'px"':"";g<o;g++)f[g]&&s[f[g]]&&(d="east"===(a=s[f[g]])||"west"===a?l:"",p.push('<div id="',u.el.id,"-",a,'-handle"',' class="',Ext.String.format(r,a)," ",m,'"',' unselectable="on" role="presentation"',d,"></div>"));for(Ext.DomHelper.append(u.el,p.join("")),g=0;g<o;g++)f[g]&&s[f[g]]&&(u[a=s[f[g]]]=u.el.getById(u.el.id+"-"+a+"-handle"),u[a].region=a,u.transparent&&u[a].setOpacity(0));Ext.isNumber(u.width)&&(u.width=Ext.Number.constrain(u.width,u.minWidth,u.maxWidth)),Ext.isNumber(u.height)&&(u.height=Ext.Number.constrain(u.height,u.minHeight,u.maxHeight)),null===u.width&&null===u.height||(u.originalTarget&&(u.originalTarget.setWidth(u.width),u.originalTarget.setHeight(u.height)),u.resizeTo(u.width,u.height)),u.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(e,t){var i=this.el.getBox();return this.fireEvent("beforeresize",this,i.width,i.height,t)},onResize:function(e,t){var i=this.el.getBox();return this.forceHandlesHeight(),this.fireEvent("resizedrag",this,i.width,i.height,t)},onResizeEnd:function(e,t){var i=this.el.getBox();return this.forceHandlesHeight(),this.fireEvent("resize",this,i.width,i.height,t)},resizeTo:function(e,t){this.target.setSize(e,t),this.fireEvent("resize",this,e,t,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var e,t,i=this.handles,n=i.length,r=this.possiblePositions;for(this.resizeTracker.destroy(),e=0;e<n;e++)(t=this[r[i[e]]])&&t.remove()},forceHandlesHeight:function(){}}),Ext.define("Ext.selection.CellModel",{extend:Ext.selection.Model,alias:"selection.cellmodel",isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select"),this.callParent(arguments)},bindComponent:function(e){var t=this,i=e.ownerCt;t.primaryView=e,t.views=t.views||[],t.views.push(e),t.bindStore(e.getStore(),!0),e.on({cellclick:t.onCellClick,refresh:t.onViewRefresh,scope:t}),!1!==i.optimizedColumnMove&&i.on("columnmove",t.onColumnMove,t),t.enableKeyNav&&t.initKeyNav(e)},initKeyNav:function(e){var t=this;e.rendered?(e.el.set({tabIndex:-1}),t.keyNav=new Ext.util.KeyNav({target:e.el,ignoreInputFields:!0,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,tab:t.onKeyTab,scope:t})):e.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0})},getHeaderCt:function(){var e=this.getCurrentPosition();return(e?e.view:this.primaryView).headerCt},onKeyUp:function(e){this.doMove("up",e)},onKeyDown:function(e){this.doMove("down",e)},onKeyLeft:function(e){this.doMove("left",e)},onKeyRight:function(e){this.doMove("right",e)},doMove:function(e,t){this.keyNavigation=!0,this.move(e,t),this.keyNavigation=!1},select:function(e,t,i){var n,r=this.getCurrentPosition(),s=this.view.store;!e&&0!==e||(e.isModel?e=-1!==(n=s.indexOf(e))?{row:n,column:r?r.column:0}:null:"number"==typeof e&&(e={row:e,column:0})),e?this.selectByPosition(e,i):this.deselect()},deselect:function(e,t){this.selectByPosition(null,t)},move:function(e,t){var i,n=this.getCurrentPosition();if(n&&(i=n.view.walkCells(n,e,t,this.preventWrap)))return this.setCurrentPosition(i)},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(e,t,i){var n=this,r=n.selection;if(n.lastSelection=r,e=e&&(e.isCellContext?e:new Ext.grid.CellContext(n.primaryView).setPosition(e)),!i&&r&&(e&&e.record===r.record&&e.columnHeader===r.columnHeader&&e.view===r.view?e=null:n.onCellDeselect(n.selection,t)),e)return n.nextSelection=e,n.selecting=!0,n.onCellSelect(n.nextSelection,t),n.selecting=!1,n.selection=e},isCellSelected:function(e,t,i){var n,r=this.getCurrentPosition();if(r&&r.view===e)return(n=new Ext.grid.CellContext(e).setPosition({row:t,column:i})).record===r.record&&n.columnHeader===r.columnHeader},onStoreRemove:function(e,t,i){var n=this.getCurrentPosition();this.callParent(arguments),n&&e.getCount()&&-1!==e.indexOf(n.record)?this.setCurrentPosition({row:n.record,column:n.columnHeader},!0,!0):this.selection=null},onStoreAdd:function(){var e=this.getCurrentPosition();this.callParent(arguments),e?this.setCurrentPosition({row:e.record,column:e.columnHeader},!0,!0):this.selection=null},onCellClick:function(e,t,i,n,r,s,o){var a;-1!==s&&(a=new Ext.grid.CellContext(e).setPosition({view:e,row:r,column:e.ownerCt.getColumnManager().getHeaderAtIndex(i)}),this.setCurrentPosition(a))},onCellSelect:function(e,t){e&&void 0!==e.row&&-1<e.row&&this.doSelect(e.record,!1,t)},onCellDeselect:function(e,t){e&&void 0!==e.row&&this.doDeselect(e.record,t)},onSelectChange:function(e,t,i,n){var r,s,o,a=this;s=t?(r=a.nextSelection,"select"):(r=a.lastSelection||a.noSelection,"deselect"),o=r.view||a.primaryView,!1!==(i||a.fireEvent("before"+s,a,e,r.row,r.column))&&!1!==n()&&(t?(a.preventFocus||o.focusCell(r,!0),o.onCellSelect(r)):(o.onCellDeselect(r),delete a.selection),i||a.fireEvent(s,a,e,r.row,r.column))},onKeyTab:function(e,t){var i,n=this.getCurrentPosition();n&&((i=n.view.editingPlugin)&&this.wasEditing?this.onEditorTab(i,e):this.move(e.shiftKey?"left":"right",e))},onEditorTab:function(e,t){var i=t.shiftKey?"left":"right",n=this.move(i,t);n&&(e.startEdit(n.record,n.columnHeader)?this.wasEditing=!1:(n.view.scrollCellIntoView(n),this.wasEditing=!0))},refresh:function(){var e,t=this.getCurrentPosition();t&&-1!==(e=this.store.indexOf(this.selected.last()))&&(t.row=e)},onColumnMove:function(e,t,i,n){var r=e.up("tablepanel");r&&this.onViewRefresh(r.view)},onUpdate:function(e){var t;this.isSelected(e)&&(t=this.selecting?this.nextSelection:this.selection,this.view.onCellSelect(t))},onViewRefresh:function(e){var t,i,n,r=this.getCurrentPosition(),s=e.headerCt;r&&r.view===e&&(i=r.record,(n=r.columnHeader).isDescendantOf(s)||(n=s.queryById(n.id)||s.down('[text="'+n.text+'"]')||s.down('[dataIndex="'+n.dataIndex+'"]')),r.record?n&&-1!==e.store.indexOfId(i.getId())&&(t=new Ext.grid.CellContext(e).setPosition({row:i,column:n}),this.setCurrentPosition(t)):this.selection=null)},selectByPosition:function(e,t){this.setCurrentPosition(e,t)}}),Ext.define("Ext.selection.RowModel",{extend:Ext.selection.Model,alias:"selection.rowmodel",deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,isRowModel:!0,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.views=[],this.callParent(arguments)},bindComponent:function(e){e.on({itemcontextmenu:this.onRowClick,itemclick:this.onRowClick,scope:this}),this.enableKeyNav&&this.initKeyNav(e)},initKeyNav:function(e){var t=this;e.rendered?(e.el.set({tabIndex:-1}),t.keyNav=new Ext.util.KeyNav({target:e,ignoreInputFields:!0,eventName:"itemkeydown",processEvent:function(e,t,i,n,r){return r.record=t,r.recordIndex=n,r},up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,space:t.onKeySpace,enter:t.onKeyEnter,scope:t})):e.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0})},onUpdate:function(e){var t,i=this.view;i&&this.isSelected(e)&&(t=i.indexOf(e),i.onRowSelect(t),e===this.lastFocused&&i.onRowFocus(t,!0))},getRowsVisible:function(){var e,t,i=!1,n=this.views[0],r=n.all.first();return r&&(e=r.getHeight(),t=n.el.getHeight(),i=Math.floor(t/e)),i},onKeyEnd:function(i){var n=this,e=n.views[0];e.bufferedRenderer?e.bufferedRenderer.scrollTo(n.store.getCount()-1,!1,function(e,t){n.afterKeyNavigate(i,t)}):n.afterKeyNavigate(i,e.getRecord(e.all.getCount()-1))},onKeyHome:function(i){var n=this,e=n.views[0];e.bufferedRenderer?e.bufferedRenderer.scrollTo(0,!1,function(e,t){n.afterKeyNavigate(i,t)}):n.afterKeyNavigate(i,e.getRecord(0))},onKeyPageUp:function(e){var t,i,n=this.views[0],r=this.getRowsVisible();r&&(n.bufferedRenderer?(t=Math.max(e.recordIndex-r,0),(this.lastKeyEvent||(this.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(e.browserEvent),n.bufferedRenderer.scrollTo(t,!1,this.afterBufferedScrollTo,this)):(i=n.walkRecs(e.record,-r),this.afterKeyNavigate(e,i)))},onKeyPageDown:function(e){var t,i,n=this.views[0],r=this.getRowsVisible();r&&(n.bufferedRenderer?(t=Math.min(e.recordIndex+r,this.store.getCount()-1),(this.lastKeyEvent||(this.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(e.browserEvent),n.bufferedRenderer.scrollTo(t,!1,this.afterBufferedScrollTo,this)):(i=n.walkRecs(e.record,r),this.afterKeyNavigate(e,i)))},onKeySpace:function(e){var t=this.lastFocused;t&&this.afterKeyNavigate(e,t)},onKeyEnter:Ext.emptyFn,onKeyUp:function(e){var t=this.views[0].walkRecs(e.record,-1);t&&this.afterKeyNavigate(e,t)},onKeyDown:function(e){var t=e.record.isExpandingOrCollapsing?null:this.views[0].walkRecs(e.record,1);t&&this.afterKeyNavigate(e,t)},afterBufferedScrollTo:function(e,t){this.afterKeyNavigate(this.lastKeyEvent,t)},scrollByDeltaX:function(e){var t=this.views[0].up().horizontalScroller;t&&t.scrollByDeltaX(e)},onKeyLeft:function(e){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(e){this.scrollByDeltaX(this.deltaScroll)},onRowClick:function(e,t,i,n,r){if(-1!==n){if(!this.allowRightMouseSelection(r))return;this.processSelection(e,t,i,n,r)}},processSelection:function(e,t,i,n,r){this.selectWithEvent(t,r)},allowRightMouseSelection:function(e){var t=this.ignoreRightMouseSelection&&0!==e.button;return!(t=t&&this.hasSelection())},onSelectChange:function(e,t,i,n){var r=this.views,s=r.length,o=r[0].indexOf(e),a=t?"select":"deselect",l=0;if(!1!==(i||this.fireEvent("before"+a,this,e,o))&&!1!==n()){for(;l<s;l++)t?r[l].onRowSelect(o,i):r[l].onRowDeselect(o,i);i||this.fireEvent(a,this,e,o)}},onLastFocusChanged:function(e,t,i){var n,r=this.views,s=r.length,o=0;if(e&&-1!=(n=r[0].indexOf(e)))for(;o<s;o++)r[o].onRowFocus(n,!1,!0);if(t&&-1!=(n=r[0].indexOf(t)))for(o=0;o<s;o++)r[o].onRowFocus(n,!0,i);this.callParent(arguments)},onEditorTab:function(e,t){var i,n=e.context.view,r=e.getActiveRecord(),s=e.getActiveColumn(),o=n.getPosition(r,s),a=t.shiftKey?"left":"right";do{if(i=o,o=n.walkCells(o,a,t,this.preventWrap),i&&i.isEqual(o))return}while(o&&(!o.columnHeader.getEditor(r)||!e.startEditByPosition(o)))},getCurrentPosition:function(){var e=this.selected.getAt(0);if(e)return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(e),0)},selectByPosition:function(e){var t=new Ext.grid.CellContext(this.view);t.setPosition(e.row,e.column),this.select(t.record)},selectNext:function(e,t){var i=this.store,n=this.getSelection(),r=n[n.length-1],s=this.views[0].indexOf(r)+1;return s!==i.getCount()&&0!==s&&(this.doSelect(s,e,t),!0)},selectPrevious:function(e,t){var i=this.getSelection()[0],n=this.views[0].indexOf(i)-1;return!(n<0)&&(this.doSelect(n,e,t),!0)},isRowSelected:function(e){return this.isSelected(e)},isCellSelected:function(e,t,i){return this.isSelected(t)}}),Ext.define("Ext.selection.TreeModel",{extend:Ext.selection.RowModel,alias:"selection.treemodel",constructor:function(e){this.callParent(arguments),this.pruneRemoved&&(this.pruneRemoved=!1,this.pruneRemovedNodes=!0)},bindStore:function(e,t){this.callParent(arguments),this.pruneRemovedNodes&&this.view.mon(this.treeStore,{remove:this.onNodeRemove,scope:this})},onNodeRemove:function(e,t,i){i||this.deselectDeletedRecords([t])},onKeyRight:function(e,t){this.navExpand(e,t)},navExpand:function(e,t){var i=this.getLastFocused(),n=this.view;i&&(i.isExpanded()?this.onKeyDown(e,t):i.isExpandable()&&(n.isTreeView||(n=n.lockingPartner),n.expand(i)))},onKeyLeft:function(e,t){this.navCollapse(e,t)},navCollapse:function(e,t){var i,n=this.getLastFocused(),r=this.view;n&&(i=n.parentNode,n.isExpanded()?(r.isTreeView||(r=r.lockingPartner),r.collapse(n)):i&&!i.isRoot()&&(e.shiftKey?(this.selectRange(i,n,e.ctrlKey,"up"),this.setLastFocused(i)):e.ctrlKey?this.setLastFocused(i):this.select(i)))},onKeySpace:function(e,t){null!=e.record.data.checked?this.toggleCheck(e):this.callParent(arguments)},onKeyEnter:function(e,t){null!=e.record.data.checked?this.toggleCheck(e):this.callParent(arguments)},toggleCheck:function(e){var t=this.view,i=this.getLastSelected();e.stopEvent(),i&&(t.isTreeView||(t=t.lockingPartner),t.onCheckChange(i))}}),Ext.define("Ext.slider.Thumb",{topZIndex:1e4,constructor:function(e){Ext.apply(this,e||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:!1}),this.callParent([e])},render:function(){this.el=this.slider.innerEl.insertFirst(this.getElConfig()),this.onRender()},onRender:function(){this.disabled&&this.disable(),this.initEvents()},getElConfig:function(){var e=this.slider,t={};return t[e.vertical?"bottom":e.horizontalProp]=e.calculateThumbPosition(e.normalizeValue(this.value))+"%",{style:t,id:this.id,cls:this.cls,role:"presentation"}},move:function(e,t){var i,n,r=this.el,s=this.slider,o=s.vertical?"bottom":s.horizontalProp;e+="%",t?((i={})[o]=e,Ext.supports.GetPositionPercentage||((n={})[o]=r.dom.style[o]),new Ext.fx.Anim({target:r,duration:350,from:n,to:i})):r.dom.style[o]=e},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){this.disabled=!1,this.el&&this.el.removeCls(this.slider.disabledCls)},disable:function(){this.disabled=!0,this.el&&this.el.addCls(this.slider.disabledCls)},initEvents:function(){var e=this,t=e.el;e.tracker=new Ext.dd.DragTracker({onBeforeStart:Ext.Function.bind(e.onBeforeDragStart,e),onStart:Ext.Function.bind(e.onDragStart,e),onDrag:Ext.Function.bind(e.onDrag,e),onEnd:Ext.Function.bind(e.onDragEnd,e),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"}),e.tracker.initEl(t)},onBeforeDragStart:function(e){return!this.disabled&&(this.slider.promoteThumb(this),!0)},onDragStart:function(e){var t=this.slider;t.onDragStart(this,e),this.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag"),this.dragging=this.slider.dragging=!0,this.dragStartValue=this.value,t.fireEvent("dragstart",t,e,this)},onDrag:function(e){var t,i,n=this.slider,r=this.index,s=this.getValueFromTracker();void 0!==s&&(this.constrain&&(t=n.thumbs[r+1],void 0!==(i=n.thumbs[r-1])&&s<=i.value&&(s=i.value),void 0!==t&&s>=t.value&&(s=t.value)),n.setValue(r,s,!1),n.fireEvent("drag",n,e,this))},getValueFromTracker:function(){var e=this.slider,t=e.getTrackpoint(this.tracker.getXY());if(void 0!==t)return e.reversePixelValue(t)},onDragEnd:function(e){var t=this.slider,i=this.value;t.onDragEnd(this,e),this.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag"),this.dragging=t.dragging=!1,t.fireEvent("dragend",t,e),this.dragStartValue!=i&&t.fireEvent("changecomplete",t,i,this)},destroy:function(){Ext.destroy(this.tracker)}}),Ext.define("Ext.slider.Tip",{extend:Ext.tip.Tip,minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(e){var t,i,n=this;switch(n.position||(n.position=e.vertical?n.defaultVerticalPosition:n.defaultHorizontalPosition),n.position){case"top":i=[0,-10],t="b-t?";break;case"bottom":i=[0,10],t="t-b?";break;case"left":i=[-10,0],t="r-l?";break;case"right":i=[10,0],t="l-r?"}n.align||(n.align=t),n.offsets||(n.offsets=i),e.on({scope:n,dragstart:n.onSlide,drag:n.onSlide,dragend:n.hide,destroy:n.destroy})},onSlide:function(e,t,i){this.show(),this.update(this.getText(i)),this.el.alignTo(i.el,this.align,this.offsets)},getText:function(e){return String(e.value)}}),Ext.define("Ext.slider.Multi",{extend:Ext.form.field.Base,alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl} class="'+Ext.baseCSSPrefix+"slider {fieldCls} {vertical}",'{childElCls}"','<tpl if="tabIdx != null"> tabIndex="{tabIdx}"</tpl>','<tpl if="isVertical"> aria-orientation="vertical"<tpl else> aria-orientation="horizontal"</tpl>',">",'<div id="{cmpId}-endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(e,t){for(var i,n=t.$comp,r=0,s=n.thumbs,o=s.length;r<o;r++)(i=s[r].getElConfig()).id=n.id+"-thumb-"+r,Ext.DomHelper.generateMarkup(i,e)},disableFormats:!0}],horizontalProp:"left",vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,componentLayout:"sliderfield",useTips:!0,tipText:null,ariaRole:"slider",initValue:function(){var e=Ext.value,t=e(this.values,[e(this.value,e(this.minValue,0))]),i=0,n=t.length;for(this.originalValue=t;i<n;i++)this.addThumb(t[i])},initComponent:function(){var e,t,i,n,r,s=this;if(s.thumbs=[],s.keyIncrement=Math.max(s.increment,s.keyIncrement),s.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend"),s.callParent(),s.useTips){for(e=Ext.isObject(s.useTips)?Ext.apply({},s.useTips):s.tipText?{getText:s.tipText}:{},n=(r=s.plugins=s.plugins||[]).length,i=0;i<n;i++)if(r[i].isSliderTip){t=!0;break}t||s.plugins.push(new Ext.slider.Tip(e))}},addThumb:function(e){var t=new Ext.slider.Thumb({ownerCt:this,ownerLayout:this.getComponentLayout(),value:e,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs,disabled:!!this.readOnly});return this.thumbs.push(t),this.rendered&&t.render(),t},promoteThumb:function(e){var t,i,n=this.thumbs,r=n.length;for(i=0;i<r;i++)(t=n[i])==e?t.bringToFront():t.sendToBack()},getSubTplData:function(){return Ext.apply(this.callParent(),{$comp:this,isVertical:this.vertical,vertical:this.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:this.minValue,maxValue:this.maxValue,value:this.value,tabIdx:this.tabIndex,childElCls:""})},onRender:function(){var e,t=this.thumbs,i=t.length,n=0;for(this.callParent(arguments),n=0;n<i;n++)(e=t[n]).el=this.el.getById(this.id+"-thumb-"+n),e.onRender()},initEvents:function(){this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(e){var t,i,n,r=this.vertical,s=this.innerEl;return t=r?(n="top",s.getHeight()):(n=this.horizontalProp,s.getWidth()),e=this.transformTrackPoints(s.translatePoints(e)),i=Ext.Number.constrain(e[n],0,t),r?t-i:i},transformTrackPoints:Ext.identityFn,onMouseDown:function(e){var t,i=!1,n=0,r=this.thumbs,s=r.length;if(!this.disabled){for(;n<s;n++)i=i||e.target==r[n].el.dom;this.clickToChange&&!i&&void 0!==(t=this.getTrackpoint(e.getXY()))&&this.onClickChange(t),this.focus()}},onClickChange:function(e){var t,i;(t=this.getNearest(e)).disabled||(i=t.index,this.setValue(i,Ext.util.Format.round(this.reversePixelValue(e),this.decimalPrecision),void 0,!0))},getNearest:function(e){for(var t,i,n,r=this.reversePixelValue(e),s=this.getRange()+5,o=null,a=0,l=this.thumbs.length;a<l;a++)i=(t=this.thumbs[a]).value,n=Math.abs(i-r),Math.abs(n<=s)&&(o=t,s=n);return o},onKeyDown:function(e){var t,i=this;if(i.disabled||1!==i.thumbs.length)e.preventDefault();else switch(e.getKey()){case e.UP:case e.RIGHT:e.stopEvent(),t=e.ctrlKey?i.maxValue:i.getValue(0)+i.keyIncrement,i.setValue(0,t,void 0,!0);break;case e.DOWN:case e.LEFT:e.stopEvent(),t=e.ctrlKey?i.minValue:i.getValue(0)-i.keyIncrement,i.setValue(0,t,void 0,!0);break;default:e.preventDefault()}},normalizeValue:function(e){var t=this.zeroBasedSnapping?"snap":"snapInRange";return e=Ext.Number[t](e,this.increment,this.minValue,this.maxValue),e=Ext.util.Format.round(e,this.decimalPrecision),e=Ext.Number.constrain(e,this.minValue,this.maxValue)},setMinValue:function(e){var t,i=this.thumbs,n=i.length;for(this.minValue=e,t=0;t<n;++t)i[t].value<e&&this.setValue(t,e,!1);this.syncThumbs()},setMaxValue:function(e){var t,i=this.thumbs,n=i.length;for(this.maxValue=e,t=0;t<n;++t)i[t].value>e&&this.setValue(t,e,!1);this.syncThumbs()},setValue:function(e,t,i,n){var r,s,o,a,l=this,d=l.thumbs;if(Ext.isArray(e)){for(i=t,o=0,s=(a=e).length;o<s;++o)(r=d[o])&&l.setValue(o,a[o],i);return l}return r=l.thumbs[e],(t=l.normalizeValue(t))!==r.value&&!1!==l.fireEvent("beforechange",l,t,r.value,r)&&(r.value=t,l.rendered&&(r.move(l.calculateThumbPosition(t),Ext.isDefined(i)?!1!==i:l.animate),l.fireEvent("change",l,t,r),l.checkDirty(),n&&l.fireEvent("changecomplete",l,t,r))),l},calculateThumbPosition:function(e){var t=this.minValue,i=(e-t)/this.getRange()*100;return isNaN(i)&&(i=t),i},getRatio:function(){var e=this.innerEl,t=this.vertical?e.getHeight():e.getWidth(),i=this.getRange();return 0===i?t:t/i},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(e){return this.minValue+e/this.getRatio()},reversePercentageValue:function(e){return this.minValue+this.getRange()*(e/100)},onDisable:function(){var e,t,i,n=0,r=this.thumbs,s=r.length;for(this.callParent();n<s;n++)t=(e=r[n]).el,e.disable(),Ext.isIE&&(i=t.getXY(),t.hide(),this.innerEl.addCls(this.disabledCls).dom.disabled=!0,this.thumbHolder||(this.thumbHolder=this.endEl.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"slider-thumb "+this.disabledCls})),this.thumbHolder.show().setXY(i))},onEnable:function(){var e,t,i=0,n=this.thumbs,r=n.length;for(this.callParent();i<r;i++)t=(e=n[i]).el,e.enable(),Ext.isIE&&(this.innerEl.removeCls(this.disabledCls).dom.disabled=!1,this.thumbHolder&&this.thumbHolder.hide(),t.show(),this.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var e=this.thumbs,t=e.length,i=0;i<t;i++)e[i].move(this.calculateThumbPosition(e[i].value))},getValue:function(e){return Ext.isNumber(e)?this.thumbs[e].value:this.getValues()},getValues:function(){for(var e=[],t=0,i=this.thumbs,n=i.length;t<n;t++)e.push(i[t].value);return e},getSubmitValue:function(){return this.disabled||!this.submitValue?null:this.getValue()},reset:function(){for(var e,t=[].concat(this.originalValue),i=0,n=t.length;i<n;i++)e=t[i],this.setValue(i,e);this.clearInvalid(),delete this.wasValid},setReadOnly:function(e){var t=this.thumbs,i=t.length,n=0;for(this.callParent(arguments),e=this.readOnly;n<i;++n)e?t[n].disable():t[n].enable()},beforeDestroy:function(){var e,t=this.thumbs,i=0,n=t.length;for(Ext.destroy(this.innerEl,this.endEl,this.focusEl);i<n;i++)e=t[i],Ext.destroy(e);this.callParent()}}),Ext.define("Ext.tab.Tab",{extend:Ext.button.Button,alias:"widget.tab",isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",activeCls:"active",closableCls:"closable",closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,position:"top",ariaRole:"tab",initComponent:function(){this.addEvents("activate","deactivate","beforeclose","close"),this.callParent(arguments),this.card&&this.setCard(this.card),this.overCls=["over",this.position+"-over"]},getTemplateArgs:function(){var e=this.callParent();return e.closable=this.closable,e.closeText=this.closeText,e},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},beforeRender:function(){var e=this,t=e.up("tabbar"),i=e.up("tabpanel");e.callParent(),e.addClsWithUI(e.position),e.active&&e.addClsWithUI([e.activeCls,e.position+"-"+e.activeCls]),e.syncClosableUI(),e.minWidth||(e.minWidth=t?t.minTabWidth:e.minWidth,!e.minWidth&&i&&(e.minWidth=i.minTabWidth),e.minWidth&&e.iconCls&&(e.minWidth+=25)),e.maxWidth||(e.maxWidth=t?t.maxTabWidth:e.maxWidth,!e.maxWidth&&i&&(e.maxWidth=i.maxTabWidth))},onRender:function(){this.setElOrientation(),this.callParent(arguments),this.closable&&this.closeEl.addClsOnOver(this.closeElOverCls),this.initKeyNav()},initKeyNav:function(){this.keyNav=new Ext.util.KeyNav(this.el,{enter:this.onEnterKey,del:this.onDeleteKey,scope:this})},setElOrientation:function(){var e=this.position;"left"!==e&&"right"!==e||this.el.setVertical("right"===e?90:270)},enable:function(e){return this.callParent(arguments),this.removeClsWithUI(this.position+"-disabled"),this},disable:function(e){return this.callParent(arguments),this.addClsWithUI(this.position+"-disabled"),this},onDestroy:function(){Ext.destroy(this.keyNav),delete this.keyNav,this.callParent(arguments)},setClosable:function(e){e=!arguments.length||!!e,this.closable!=e&&(this.closable=e,this.card&&(this.card.closable=e),this.syncClosableUI(),this.rendered&&(this.syncClosableElements(),this.updateLayout()))},syncClosableElements:function(){var e=this.closeEl;this.closable?(e=e||(this.closeEl=this.btnWrap.insertSibling({tag:"a",role:"presentation",cls:this.baseCls+"-close-btn",href:"#",title:this.closeText},"after"))).addClsOnOver(this.closeElOverCls):e&&(e.remove(),delete this.closeEl)},syncClosableUI:function(){var e=[this.closableCls,this.closableCls+"-"+this.position];this.closable?this.addClsWithUI(e):this.removeClsWithUI(e)},setCard:function(e){this.card=e,this.setText(this.title||e.title),this.setIconCls(this.iconCls||e.iconCls),this.setIcon(this.icon||e.icon),this.setGlyph(this.glyph||e.glyph)},onCloseClick:function(){if(!1!==this.fireEvent("beforeclose",this))if(this.tabBar){if(!1===this.tabBar.closeTab(this))return}else this.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(e){this.tabBar&&this.tabBar.onClick(e,this.el)},onDeleteKey:function(e){this.closable&&this.onCloseClick()},activate:function(e){this.active=!0,this.addClsWithUI([this.activeCls,this.position+"-"+this.activeCls]),!0!==e&&this.fireEvent("activate",this)},deactivate:function(e){this.active=!1,this.removeClsWithUI([this.activeCls,this.position+"-"+this.activeCls]),!0!==e&&this.fireEvent("deactivate",this)}}),Ext.define("Ext.util.Point",{extend:Ext.util.Region,statics:{fromEvent:function(e){return new this((e=(e=e.browserEvent||e).changedTouches&&0<e.changedTouches.length?e.changedTouches[0]:e).pageX,e.pageY)}},constructor:function(e,t){this.callParent([t,e,t,e])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(e){return this.x==e.x&&this.y==e.y},isWithin:function(e,t){return Ext.isObject(t)||(t={x:t,y:t}),this.x<=e.x+t.x&&this.x>=e.x-t.x&&this.y<=e.y+t.y&&this.y>=e.y-t.y},isContainedBy:function(e){return e instanceof Ext.util.Region||(e=Ext.get(e.el||e).getRegion()),e.contains(this)},roundedEquals:function(e){return Math.round(this.x)==Math.round(e.x)&&Math.round(this.y)==Math.round(e.y)}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy}),Ext.define("Ext.tab.Bar",{extend:Ext.panel.Header,alias:"widget.tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",isTabBar:!0,defaultType:"tab",plain:!1,ariaRole:"tablist",childEls:["body","strip"],renderTpl:['<div id="{id}-body" role="presentation" class="{baseCls}-body {bodyCls} {bodyTargetCls}{childElCls}','<tpl if="ui"> {baseCls}-body-{ui}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>",'<div id="{id}-strip" role="presentation" class="{baseCls}-strip {baseCls}-strip-{dock}{childElCls}','<tpl if="ui"> {baseCls}-strip-{ui}','<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl>','</tpl>">',"</div>"],_reverseDockNames:{left:"right",right:"left"},initComponent:function(){var e=this;e.plain&&e.addCls(e.baseCls+"-plain"),e.addClsWithUI(e.orientation),e.addEvents("change"),e.callParent(arguments),Ext.merge(e.layout,e.initialConfig.layout),e.layout.align="vertical"==e.orientation?"left":"top",e.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(e.layout),e.remove(e.titleCmp),delete e.titleCmp,Ext.apply(e.renderData,{bodyCls:e.bodyCls,dock:e.dock})},onRender:function(){this.callParent()},afterRender:function(){this.layout;this.callParent()},afterLayout:function(){this.adjustTabPositions(),this.callParent(arguments)},adjustTabPositions:function(){var e,t=this.items.items,i=t.length;if(!Ext.isIE9m)if("right"===this.dock)for(;i--;)(e=t[i]).isVisible()&&e.el.setStyle("left",e.lastBox.width+"px");else if("left"===this.dock)for(;i--;)(e=t[i]).isVisible()&&e.el.setStyle("left",-e.lastBox.height+"px")},getLayout:function(){return this.layout.type="horizontal"===this.orientation?"hbox":"vbox",this.callParent(arguments)},onAdd:function(e){e.position=this.dock,this.callParent(arguments)},onRemove:function(e){e===this.previousTab&&(this.previousTab=null),this.callParent(arguments)},afterComponentLayout:function(e){var t=this.needsScroll;this.callParent(arguments),t&&this.layout.overflowHandler.scrollToItem(this.activeTab),delete this.needsScroll},onClick:function(e,t){var i,n,r,s=this.tabPanel;e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||((r=(n=(i=e.getTarget("."+Ext.tab.Tab.prototype.baseCls))&&Ext.getCmp(i.id))&&n.closeEl&&t===n.closeEl.dom)&&e.preventDefault(),n&&n.isDisabled&&!n.isDisabled()&&(n.closable&&r?n.onCloseClick():(s?s.setActiveTab(n.card):this.setActiveTab(n),n.focus())))},onMouseMove:function(e){var t,i=this._overTab;e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||(t=this.getTabInfoFromPoint(e.getXY()).tab)!==i&&(i&&i.rendered&&(i.onMouseLeave(e),this._overTab=null),t?(t.onMouseEnter(e),(this._overTab=t).disabled||this.el.setStyle("cursor","pointer")):this.el.setStyle("cursor","default"))},onMouseLeave:function(e){var t=this._overTab;t&&t.rendered&&t.onMouseLeave(e)},getTabInfoFromPoint:function(e){for(var t,i,n,r,s,o,a,l,d,h,c,u,f,g,p,m=this.items.items,x=m.length,y=this.layout.innerCt,E=y.getXY(),v=new Ext.util.Point(e[0],e[1]),b=0;b<x;b++)if(t=m[b].lastBox,d=E[0]+t.x,h=E[1]-y.dom.scrollTop+t.y,c=t.width,u=t.height,new Ext.util.Region(h,d+c,h+u,d).contains(v)){(i=(p=m[b]).closeEl)&&(void 0===this._isTabReversed&&(this._isTabReversed=f=-1!==p.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")),g=f?this._reverseDockNames[this.dock]:this.dock,a=i.getWidth(),l=i.getHeight(),s=(r=this.getCloseXY(i,d,h,c,u,a,l,g))[0],o=r[1],n=new Ext.util.Region(o,s+a,o+l,s).contains(v));break}return{tab:p,close:n}},getCloseXY:function(e,t,i,n,r,s,o,a){var l,d,h=e.getXY();return d="right"===a?(l=t+n-(h[1]-i+o),i+(h[0]-t)):(l=t+(h[1]-i),i+t+r-h[0]-s),[l,d]},closeTab:function(e){var t,i=e.card,n=this.tabPanel;if(i&&!1===i.fireEvent("beforeclose",i))return!1;if(t=this.findNextActivatable(e),Ext.suspendLayouts(),n&&i){if(delete e.ownerCt,i.fireEvent("close",i),n.remove(i),n.getComponent(i))return e.ownerCt=this,Ext.resumeLayouts(!0),!1;e.fireClose(),this.remove(e)}t&&(n?n.setActiveTab(t.card):this.setActiveTab(t),t.focus()),Ext.resumeLayouts(!0)},findNextActivatable:function(e){if(e.active&&1<this.items.getCount())return this.previousTab&&this.previousTab!==e&&!this.previousTab.disabled?this.previousTab:e.next("tab[disabled=false]")||e.prev("tab[disabled=false]")},setActiveTab:function(e,t){var i=this;e.disabled||e===i.activeTab||(i.activeTab&&(i.activeTab.isDestroyed?i.previousTab=null:(i.previousTab=i.activeTab,i.activeTab.deactivate())),e.activate(),i.activeTab=e,i.needsScroll=!0,t||(i.fireEvent("change",i,e,e.card),i.updateLayout()))}}),Ext.define("Ext.tree.Column",{extend:Ext.grid.column.Column,alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",isTreeColumn:!0,cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"/>','<tpl if="checked !== null">','<input type="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"/>',"</tpl>",'<img src="{blankUrl}" role="presentation" class="{childCls} {baseIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else>parent</tpl> {iconCls}"','<tpl if="icon">style="background-image:url({icon})"</tpl>/>','<tpl if="href">','<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],initComponent:function(){var e=this.renderer;"string"==typeof e&&(e=Ext.util.Format[e]),this.origRenderer=e,this.origScope=this.scope||window,this.renderer=this.treeRenderer,(this.scope=this).callParent()},treeRenderer:function(e,t,i,n,r,s,o){var a,l=i.get("cls");return l&&(t.tdCls+=" "+l),a=this.initTemplateRendererData(e,t,i,n,r,s,o),this.getTpl("cellTpl").apply(a)},initTemplateRendererData:function(e,t,i,n,r,s,o){for(var a,l=this.origRenderer,d=i.data,h=i.parentNode,c=o.rootVisible,u=[];h&&(c||0<h.data.depth);)a=h.data,u[c?a.depth:a.depth-1]=a.isLast?0:1,h=h.parentNode;return{record:i,baseIconCls:this.iconCls,iconCls:d.iconCls,icon:d.icon,checkboxCls:this.checkboxCls,checked:d.checked,elbowCls:this.elbowCls,expanderCls:this.expanderCls,textCls:this.textCls,leaf:d.leaf,expandable:i.isExpandable(),isLast:d.isLast,blankUrl:Ext.BLANK_IMAGE_URL,href:d.href,hrefTarget:d.hrefTarget,lines:u,metaData:t,childCls:this.getChildCls?this.getChildCls()+" ":"",value:l?l.apply(this.origScope,arguments):e}}}),Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:Ext.selection.RowModel,mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",constructor:function(){this.callParent(arguments),"SINGLE"===this.mode&&!0!==this.showHeaderCheckbox&&(this.showHeaderCheckbox=!1)},beforeViewRender:function(e){var t;this.callParent(arguments),this.hasLockedHeader()&&!e.headerCt.lockedCt||(!1!==this.showHeaderCheckbox&&e.headerCt.on("headerclick",this.onHeaderClick,this),this.addCheckbox(e,!0),t=e.ownerCt,e.headerCt.lockedCt&&(t=t.ownerCt),this.mon(t,"reconfigure",this.onReconfigure,this))},bindComponent:function(e){this.sortable=!1,this.callParent(arguments)},hasLockedHeader:function(){var e,t=this.views,i=t.length;for(e=0;e<i;e++)if(t[e].headerCt.lockedCt)return!0;return!1},addCheckbox:function(e,t){var i=this.injectCheckbox,n=e.headerCt;!1!==i&&("first"==i?i=0:"last"==i&&(i=n.getColumnCount()),Ext.suspendLayouts(),e.getStore().buffered&&(this.showHeaderCheckbox=!1),n.add(i,this.getHeaderConfig()),Ext.resumeLayouts()),!0!==t&&e.refresh()},onReconfigure:function(e,t,i){i&&this.addCheckbox(this.views[0])},toggleUiHeader:function(e){var t=this.views[0].headerCt.child("gridcolumn[isCheckerHd]"),i=this.checkerOnCls;t&&(e?t.addCls(i):t.removeCls(i))},onHeaderClick:function(e,t,i){if(t.isCheckerHd){i.stopEvent();var n=t.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");this.preventFocus=!0,n?this.deselectAll():this.selectAll(),delete this.preventFocus}},getHeaderConfig:function(){var e=!1!==this.showHeaderCheckbox;return{isCheckerHd:e,text:"&#160;",clickTargetName:"el",width:this.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:e?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(this.renderer,this),editRenderer:this.editRenderer||this.renderEmpty,locked:this.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments),this.updateHeaderState()},renderer:function(e,t,i,n,r,s,o){var a=Ext.baseCSSPrefix;return t.tdCls=a+"grid-cell-special "+a+"grid-cell-row-checker",'<div class="'+a+'grid-row-checker" role="presentation">&#160;</div>'},processSelection:function(e,t,i,n,r){var s,o=r.getTarget(this.checkSelector);this.checkOnly&&!o||(o?("SINGLE"!==(s=this.getSelectionMode())&&this.setSelectionMode("SIMPLE"),this.selectWithEvent(t,r),this.setSelectionMode(s)):this.selectWithEvent(t,r))},onSelectChange:function(){this.callParent(arguments),this.suspendChange||this.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments),this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments),this.updateHeaderState()},maybeFireSelectionChange:function(e){e&&!this.suspendChange&&this.updateHeaderState(),this.callParent(arguments)},resumeChanges:function(){this.callParent(),this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var e,t,i,n=this.store,r=n.getCount(),s=this.views,o=!1,a=0;if(!n.buffered&&0<r){for(o=!0,i=0,t=(e=this.selected).getCount();i<t&&this.storeHasSelected(e.getAt(i));++i)++a;o=r===a}s&&s.length&&this.toggleUiHeader(o)}}),Ext.define("Ext.slider.Single",{extend:Ext.slider.Multi,alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(e,t){var i=arguments,n=i.length;return(1==n||n<=3&&"number"!=typeof i[1])&&(i=Ext.toArray(i)).unshift(0),this.callParent(i)},getNearest:function(){return this.thumbs[0]}}),Ext.define("Ext.state.CookieProvider",{extend:Ext.state.Provider,constructor:function(e){this.path="/",this.expires=new Date(Ext.Date.now()+6048e5),this.domain=null,this.secure=!1,this.callParent(arguments),this.state=this.readCookies()},set:function(e,t){null!=t?(this.setCookie(e,t),this.callParent(arguments)):this.clear(e)},clear:function(e){this.clearCookie(e),this.callParent(arguments)},readCookies:function(){for(var e,t,i,n={},r=document.cookie+";",s=/\s?(.*?)=(.*?);/g,o=this.prefix,a=o.length;null!=(e=s.exec(r));)t=e[1],i=e[2],t&&t.substring(0,a)==o&&(n[t.substr(a)]=this.decodeValue(i));return n},setCookie:function(e,t){document.cookie=this.prefix+e+"="+this.encodeValue(t)+(null==this.expires?"":"; expires="+this.expires.toGMTString())+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(1==this.secure?"; secure":"")},clearCookie:function(e){document.cookie=this.prefix+e+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(1==this.secure?"; secure":"")}}),Ext.define("Ext.util.LocalStorage",{id:null,destroyed:!1,lazyKeys:!0,prefix:"",session:!1,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(e){var t,i=this.cache,n={_users:1};return Ext.isString(e)?n.id=e:Ext.apply(n,e),(t=i[n.id])?++t._users:t=new this(n),t},supported:!0},constructor:function(e){Ext.apply(this,e),this._users&&(Ext.util.LocalStorage.cache[this.id]=this),this.init()},init:function(){var e=this.id;!this.prefix&&e&&(this.prefix=e+"-"),this._store=this.session?window.sessionStorage:window.localStorage},destroy:function(){delete Ext.util.LocalStorage.cache[this.id],this._store=this._keys=null,this.destroyed=!0,this.destroy=Ext.emptyFn},getKeys:function(){var e,t,i=this._store,n=this.prefix,r=this._keys,s=n.length;if(!r)for(this._keys=r=[],e=i.length;e--;)(t=i.key(e)).length>s&&n===t.substring(0,s)&&r.push(t.substring(s));return r},release:function(){--this._users||this.destroy()},save:Ext.emptyFn,clear:function(){var e,t=this._store,i=this.prefix,n=this._keys||this.getKeys();for(e=n.length;e--;)t.removeItem(i+n[e]);n.length=0},key:function(e){var t=this._keys||this.getKeys();return 0<=e&&e<t.length?t[e]:null},getItem:function(e){var t=this.prefix+e;return this._store.getItem(t)},removeItem:function(e){var t=this.prefix+e,i=this._store,n=this._keys,r=i.length;i.removeItem(t),n&&r!==i.length&&(this.lazyKeys?this._keys=null:Ext.Array.remove(n,e))},setItem:function(e,t){var i=this.prefix+e,n=this._store,r=n.length,s=this._keys;n.setItem(i,t),s&&r!==n.length&&s.push(e)}},function(){"localStorage"in window||(Ext.isIE?this.override({data:null,flushDelay:1,init:function(){var e,t=this,i=t.data;t.el=e=document.createElement("div"),e.id=t.id||(t.id="extjs-localstore"),e.addBehavior("#default#userdata"),Ext.getHead().dom.appendChild(e),e.load(t.id),i=e.getAttribute("xdata"),t.data=i=i?Ext.decode(i):{},t._flushFn=function(){t._timer=null,t.save(0)}},destroy:function(){var e=this.el;e&&(this._timer&&this.save(),e.parentNode.removeChild(e),this.data=this.el=null,this.callParent())},getKeys:function(){var e=this._keys;return e||(this._keys=e=Ext.Object.getKeys(this.data)),e},save:function(e){var t=this;e?t._timer||(t._timer=setTimeout(t._flushFn,e)):(t._timer&&(clearTimeout(t._timer),t._timer=null),t.el.setAttribute("xdata",Ext.encode(t.data)),t.el.save(t.id))},clear:function(){this.data={},this._keys=null,this.save(this.flushDelay)},getItem:function(e){var t=this.data;return e in t?t[e]:null},removeItem:function(e){var t=this._keys,i=this.data;e in i&&(delete i[e],t&&(this.lazyKeys?this._keys=null:Ext.Array.remove(t,e)),this.save(this.flushDelay))},setItem:function(e,t){var i=this.data,n=this._keys;!n||e in i||n.push(e),i[e]=t,this.save(this.flushDelay)}}):this.supported=!1)}),Ext.define("Ext.state.LocalStorageProvider",{extend:Ext.state.Provider,alias:"state.localstorage",constructor:function(){this.callParent(arguments),this.store=this.getStorageObject(),this.store?this.state=this.readLocalStorage():this.state={}},readLocalStorage:function(){for(var e,t=this.store,i={},n=t.getKeys(),r=n.length;r--;)i[e=n[r]]=this.decodeValue(t.getItem(e));return i},set:function(e,t){this.clear(e),null!=t&&(this.store.setItem(e,this.encodeValue(t)),this.callParent(arguments))},clear:function(e){this.store.removeItem(e),this.callParent(arguments)},getStorageObject:function(){var e=this.prefix,t=e,i=t.length-1;return"-"===t.charAt(i)&&(t=t.substring(0,i)),new Ext.util.LocalStorage({id:t,prefix:e})}}),Ext.define("Ext.tab.Panel",{extend:Ext.panel.Panel,alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],tabPosition:"top",removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,initComponent:function(){var e=this,t=[].concat(e.dockedItems||[]),i=e.activeTab||(e.activeTab=0),n=e.tabPosition;e.layout=new Ext.layout.container.Card(Ext.apply({owner:e,deferredRender:e.deferredRender,itemCls:e.itemCls,activeItem:i},e.layout)),e.tabBar=new Ext.tab.Bar(Ext.apply({ui:e.ui,dock:e.tabPosition,orientation:"top"==n||"bottom"==n?"horizontal":"vertical",plain:e.plain,cardLayout:e.layout,tabPanel:e},e.tabBar)),t.push(e.tabBar),e.dockedItems=t,e.addEvents("beforetabchange","tabchange"),e.callParent(arguments),(i=e.activeTab=e.getComponent(i))&&e.tabBar.setActiveTab(i.tab,!0)},setActiveTab:function(e){var t,i=this;if(e=i.getComponent(e))return(t=i.getActiveTab())!==e&&!1!==i.fireEvent("beforetabchange",i,e,t)&&(e.isComponent||(Ext.suspendLayouts(),e=i.add(e),Ext.resumeLayouts()),i.activeTab=e,Ext.suspendLayouts(),i.layout.setActiveItem(e),(e=i.activeTab=i.layout.getActiveItem())&&e!==t?(i.tabBar.setActiveTab(e.tab),Ext.resumeLayouts(!0),t!==e&&i.fireEvent("tabchange",i,e,t)):Ext.resumeLayouts(!0),e)},getActiveTab:function(){var e=this.getComponent(this.activeTab);return e&&-1!=this.items.indexOf(e)?this.activeTab=e:this.activeTab=null,this.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(e,t){var i=this,n=e.tabConfig||{},r={xtype:"tab",ui:i.tabBar.ui,card:e,disabled:e.disabled,closable:e.closable,hidden:e.hidden&&!e.hiddenByLayout,tooltip:e.tooltip,tabBar:i.tabBar,position:i.tabPosition};void 0!==e.closeText&&(r.closeText=e.closeText),n=Ext.applyIf(n,r),e.tab=i.tabBar.insert(t,n),e.on({scope:i,enable:i.onItemEnable,disable:i.onItemDisable,beforeshow:i.onItemBeforeShow,iconchange:i.onItemIconChange,iconclschange:i.onItemIconClsChange,titlechange:i.onItemTitleChange}),e.isPanel&&(i.removePanelHeader&&(e.rendered?e.header&&e.header.hide():e.header=!1),e.isPanel&&i.border&&e.setBorder(!1))},onItemEnable:function(e){e.tab.enable()},onItemDisable:function(e){e.tab.disable()},onItemBeforeShow:function(e){if(e!==this.activeTab)return this.setActiveTab(e),!1},onItemIconChange:function(e,t){e.tab.setIcon(t)},onItemIconClsChange:function(e,t){e.tab.setIconCls(t)},onItemTitleChange:function(e,t){e.tab.setText(t)},doRemove:function(e,t){var i;this.destroying||1==this.items.getCount()?this.activeTab=null:-1!==(i=this.tabBar.items.indexOf(this.tabBar.findNextActivatable(e.tab)))&&this.setActiveTab(i),this.callParent(arguments),delete e.tab.card,delete e.tab},onRemove:function(e,t){e.un({scope:this,enable:this.onItemEnable,disable:this.onItemDisable,beforeshow:this.onItemBeforeShow}),this.destroying||e.tab.ownerCt!==this.tabBar||this.tabBar.remove(e.tab)}}),Ext.define("Ext.toolbar.Spacer",{extend:Ext.Component,alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:!1,ariaRole:"presentation"}),Ext.define("Ext.tree.Panel",{extend:Ext.panel.Table,alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:!1,rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(e){void 0===(e=e||{}).animate&&(e.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=e.animate,delete e.animate,this.callParent([e])},initComponent:function(){var e,t=this,i=[t.treeCls],n=t.store;t.useArrows&&(i.push(t.arrowCls),t.lines=!1),t.lines?i.push(t.linesCls):t.useArrows||i.push(t.noLinesCls),Ext.isString(n)?n=t.store=Ext.StoreMgr.lookup(n):n&&n.isStore?t.root&&((n=t.store=Ext.data.StoreManager.lookup(n)).setRootNode(t.root),void 0!==t.folderSort&&(n.folderSort=t.folderSort,n.sort())):(n=Ext.apply({type:"tree",root:t.root,fields:t.fields,model:t.model,folderSort:t.folderSort},n),n=t.store=Ext.StoreMgr.lookup(n)),t.viewConfig=Ext.apply({rootVisible:t.rootVisible,animate:t.enableAnimations,singleExpand:t.singleExpand,node:n.getRootNode(),hideHeaders:t.hideHeaders},t.viewConfig),t.columns||(void 0===t.initialConfig.hideHeaders&&(t.hideHeaders=!0),t.addCls(t.autoWidthCls),t.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?"100%":1e4,dataIndex:t.displayField}]),t.cls&&i.push(t.cls),t.cls=i.join(" "),t.callParent(),t.selModel.treeStore=t.store,e=t.getView(),t.relayEvents(e,["checkchange","afteritemexpand","afteritemcollapse"]),e.isLockingView||e.rootVisible||t.getRootNode()||t.setRootNode({expanded:!0})},bindStore:function(e,t){var i=this;i.store=e,i.storeListeners=i.mon(e,{destroyable:!0,load:i.onStoreLoad,rootchange:i.onRootChange,clear:i.onClear,scope:i}),i.storeRelayers=i.relayEvents(e,["beforeload","load"]),i.storeRelayers1=i.mon(e,{destroyable:!0,append:i.createRelayer("itemappend"),remove:i.createRelayer("itemremove"),move:i.createRelayer("itemmove",[0,4]),insert:i.createRelayer("iteminsert"),beforeappend:i.createRelayer("beforeitemappend"),beforeremove:i.createRelayer("beforeitemremove"),beforemove:i.createRelayer("beforeitemmove"),beforeinsert:i.createRelayer("beforeiteminsert"),expand:i.createRelayer("itemexpand",[0,1]),collapse:i.createRelayer("itemcollapse",[0,1]),beforeexpand:i.createRelayer("beforeitemexpand",[0,1]),beforecollapse:i.createRelayer("beforeitemcollapse",[0,1])}),e.ownerTree=i,t||i.view.setRootNode(i.getRootNode())},unbindStore:function(){var e=this.store;e&&(Ext.destroy(this.storeListeners,this.storeRelayers,this.storeRelayers1),delete e.ownerTree)},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(e){this.view.setRootNode(e)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(e){return e.get("checked")},expandNode:function(e,t,i,n){return this.getView().expand(e,t,i,n||this)},collapseNode:function(e,t,i,n){return this.getView().collapse(e,t,i,n||this)},expandAll:function(e,t){var i=this.getRootNode(),n=this.enableAnimations;i&&(n||Ext.suspendLayouts(),i.expand(!0,e,t||this),n||Ext.resumeLayouts(!0))},collapseAll:function(e,t){var i=this.getRootNode(),n=this.enableAnimations,r=this.getView();i&&(n||Ext.suspendLayouts(),t=t||this,r.rootVisible?i.collapse(!0,e,t):i.collapseChildren(!0,e,t),n||Ext.resumeLayouts(!0))},expandPath:function(e,t,i,n,r){var s,o,a=this,l=a.getRootNode(),d=1;a.getView();t=t||a.getRootNode().idProperty,i=i||"/",Ext.isEmpty(e)?Ext.callback(n,r||a,[!1,null]):(s=e.split(i),l.get(t)==s[1]?(o=function(){if(++d!==s.length){var e=l.findChild(t,s[d]);e?(l=e).expand(!1,o):Ext.callback(n,r||a,[!1,l])}else Ext.callback(n,r||a,[!0,l])},l.expand(!1,o)):Ext.callback(n,r||a,[!1,l]))},selectPath:function(e,n,t,r,s){var i,o,a,l=this;n=n||l.getRootNode().idProperty,t=t||"/",o=e.split(t),a=o.pop(),1<o.length?l.expandPath(o.join(t),n,t,function(e,t){var i=t;if(e&&t&&(t=t.findChild(n,a)))return l.getSelectionModel().select(t),void Ext.callback(r,s||l,[!0,t]);Ext.callback(r,s||l,[!1,i])},l):(i=l.getRootNode()).getId()===a?(l.getSelectionModel().select(i),Ext.callback(r,s||l,[!0,i])):Ext.callback(r,s||l,[!1,null])}}),Ext.define("Ext.view.DragZone",{extend:Ext.dd.DragZone,containerScroll:!1,constructor:function(e){var t,i,n;Ext.apply(this,e),this.ddGroup||(this.ddGroup="view-dd-zone-"+this.view.id),n=(i=(t=this.view).ownerCt)?i.getTargetEl().dom:t.el.dom.parentNode,this.callParent([n]),this.ddel=Ext.get(document.createElement("div")),this.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(e,t,i){this.initTarget(e,t,i),this.view.on("itemmousedown",this.onItemMouseDown,this)},onValidDrop:function(e,t,i){this.callParent(),e.el.focus()},onItemMouseDown:function(e,t,i,n,r){this.isPreventDrag(r,t,i,n)||(e.focusRow&&e.focusRow(t),this.handleMouseDown(r))},isPreventDrag:function(e){return!1},getDragData:function(e){var t=this.view,i=e.getTarget(t.getItemSelector());if(i)return{copy:t.copy||t.allowCopy&&e.ctrlKey,event:new Ext.EventObjectImpl(e),view:t,ddel:this.ddel,item:i,records:t.getSelectionModel().getSelection(),fromPosition:Ext.fly(i).getXY()}},onInitDrag:function(e,t){var i=this.dragData,n=i.view,r=n.getSelectionModel(),s=n.getRecord(i.item);return r.isSelected(s)||r.selectWithEvent(s,this.DDMInstance.mousedownEvent),i.records=r.getSelection(),this.ddel.update(this.getDragText()),this.proxy.update(this.ddel.dom),this.onStartDrag(e,t),!0},getDragText:function(){var e=this.dragData.records.length;return Ext.String.format(this.dragText,e,1==e?"":"s")},getRepairXY:function(e,t){return!!t&&t.fromPosition}}),Ext.define("Ext.tree.ViewDragZone",{extend:Ext.view.DragZone,isPreventDrag:function(e,t){return!1===t.get("allowDrag")||!!e.getTarget(this.view.expanderSelector)},getDragText:function(){var e=this.dragData.records,t=e.length,i=e[0].get(this.displayField),n="s";return 1===t&&i?i:(i||(n=""),Ext.String.format(this.dragText,t,n))},afterRepair:function(){var e,t,i=this.view,n=i.selectedItemCls,r=this.dragData.records,s=r.length,o=Ext.fly;if(Ext.enableFx&&this.repairHighlight)for(e=0;e<s;e++)t=i.getNode(r[e]),o(t.firstChild).highlight(this.repairHighlightColor,{listeners:{beforeanimate:function(){i.isSelected(t)&&o(t).removeCls(n)},afteranimate:function(){i.isSelected(t)&&o(t).addCls(n)}}});this.dragging=!1}}),Ext.define("Ext.tree.ViewDropZone",{extend:Ext.view.DropZone,allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(e){var t=this.view;this.expandProcId=!1,e.isLeaf()||e.isExpanded()||(t.expand(e),this.expandProcId=!1)},queueExpand:function(e){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[e])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(e,t){var i,n=this.view.getRecord(t),r=e.getPageY(),s=n.isLeaf(),o=!1,a=Ext.fly(t).getRegion();return n.isRoot()?"append":this.appendOnly?!s&&"append":(this.allowParentInserts||(o=n.hasChildNodes()&&n.isExpanded()),i=(a.bottom-a.top)/(s?2:3),r>=a.top&&r<a.top+i?"before":!o&&(s||r>=a.bottom-i&&r<=a.bottom)?"after":"append")},isValidDropPoint:function(e,t,i,n,r){if(!e||!r.item)return!1;var s,o,a=this.view,l=a.getRecord(e),d=r.records,h=d.length,c=d.length;if(!(l&&t&&h))return!1;for(s=0;s<c;s++)if((o=d[s]).isNode&&o.contains(l))return!1;return("append"!==t||!1!==l.get("allowDrop"))&&(("append"==t||!1!==l.parentNode.get("allowDrop"))&&(!Ext.Array.contains(d,l)&&!1!==a.fireEvent("nodedragover",l,t,r,n)))},onNodeOver:function(e,t,i,n){var r=this.getPosition(i,e),s=this.dropNotAllowed,o=this.view,a=o.getRecord(e),l=this.getIndicator(),d=0;return this.cancelExpand(),"append"!=r||this.expandProcId||Ext.Array.contains(n.records,a)||a.isLeaf()||a.isExpanded()||this.queueExpand(a),this.isValidDropPoint(e,r,t,i,n)?(this.valid=!0,this.currentPosition=r,this.overRecord=a,l.setWidth(Ext.fly(e).getWidth()),d=Ext.fly(e).getY()-Ext.fly(o.el).getY()-1,"before"==r?(s=a.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between",l.showAt(0,d),t.proxy.show()):"after"==r?(s=a.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between",d+=Ext.fly(e).getHeight(),l.showAt(0,d),t.proxy.show()):(s=Ext.baseCSSPrefix+"tree-drop-ok-append",l.hide())):this.valid=!1,this.currentCls=s},onNodeOut:function(e,t,i,n){this.valid=!1,this.getIndicator().hide()},onContainerOver:function(e,t,i){return t.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments),this.cancelExpand()},handleNodeDrop:function(i,n,e){var t,r,s,o,a,l,d,h,c=this,u=c.view,f=n?n.parentNode:u.panel.getRootNode(),g=u.getStore().treeStore.model;if(i.copy)for(t=i.records,i.records=[],r=0,s=t.length;r<s;r++)(o=t[r]).isNode?i.records.push(o.copy(void 0,!0)):i.records.push(new g(o.data,o.getId()));c.cancelExpand(),"before"==e?(a=f.insertBefore,l=[null,n],n=f):"after"==e?(l=n.nextSibling?(a=f.insertBefore,[null,n.nextSibling]):(a=f.appendChild,[null]),n=f):(n.isExpanded()||n.isLoading()||(d=!0),a=n.appendChild,l=[null]),h=function(){var e,t;for(Ext.suspendLayouts(),r=0,s=i.records.length;r<s;r++)(o=i.records[r]).isNode||(o=o.isModel?new g(o.data,o.getId()):new g(o),i.records[r]=o),l[0]=o,a.apply(n,l);if(c.sortOnDrop&&n.sort(n.getOwnerTree().store.generateComparator()),Ext.resumeLayouts(!0),Ext.enableFx&&c.dropHighlight)for(e=c.dropHighlightColor,r=0;r<s;r++)(t=u.getNode(i.records[r]))&&Ext.fly(t).highlight(e)},d?n.expand(!1,h):n.isLoading()?n.on({expand:h,delay:1,single:!0}):h()}}),Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:Ext.AbstractPlugin,alias:"plugin.treeviewdragdrop",dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",containerScroll:!1,expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,nodeHighlightOnRepair:Ext.enableFx,displayField:"text",init:function(e){e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(e){var t,i=this;i.enableDrag&&(i.containerScroll&&(t=e.getEl()),i.dragZone=new Ext.tree.ViewDragZone({view:e,ddGroup:i.dragGroup||i.ddGroup,dragText:i.dragText,displayField:i.displayField,repairHighlightColor:i.nodeHighlightColor,repairHighlight:i.nodeHighlightOnRepair,scrollEl:t})),i.enableDrop&&(i.dropZone=new Ext.tree.ViewDropZone({view:e,ddGroup:i.dropGroup||i.ddGroup,allowContainerDrops:i.allowContainerDrops,appendOnly:i.appendOnly,allowParentInserts:i.allowParentInserts,expandDelay:i.expandDelay,dropHighlightColor:i.nodeHighlightColor,dropHighlight:i.nodeHighlightOnDrop,sortOnDrop:i.sortOnDrop,containerScroll:i.containerScroll}))}},function(){var e=this.prototype;e.nodeHighlightOnDrop=e.nodeHighlightOnRepair=Ext.enableFx}),Ext.define("Ext.util.Cookies",{singleton:!0,set:function(e,t){var i=arguments,n=arguments.length,r=2<n?i[2]:null,s=3<n?i[3]:"/",o=4<n?i[4]:null,a=5<n&&i[5];document.cookie=e+"="+escape(t)+(null===r?"":"; expires="+r.toGMTString())+(null===s?"":"; path="+s)+(null===o?"":"; domain="+o)+(!0===a?"; secure":"")},get:function(e){for(var t=e+"=",i=t.length,n=document.cookie.length,r=0,s=0;r<n;){if(s=r+i,document.cookie.substring(r,s)==t)return this.getCookieVal(s);if(0===(r=document.cookie.indexOf(" ",r)+1))break}return null},clear:function(e,t){this.get(e)&&(t=t||"/",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+t)},getCookieVal:function(e){var t=document.cookie.indexOf(";",e);return-1==t&&(t=document.cookie.length),unescape(document.cookie.substring(e,t))}}),Ext.define("Ext.util.Grouper",{extend:Ext.util.Sorter,isGrouper:!0,getGroupString:function(e){return e.get(this.property)}}),Ext.define("Ext.util.History",{singleton:!0,alternateClassName:"Ext.History",mixins:{observable:Ext.util.Observable},useTopWindow:!0,fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",constructor:function(){this.oldIEMode=Ext.isIE7m||!Ext.isStrict&&Ext.isIE8,this.iframe=null,this.hiddenField=null,this.ready=!1,this.currentToken=null,this.mixins.observable.constructor.call(this)},getHash:function(){var e=window.location.href,t=e.indexOf("#");return 0<=t?e.substr(t+1):null},setHash:function(e){var t=this.useTopWindow?window.top:window;try{t.location.hash=e}catch(e){}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(e){this.currentToken=e,this.fireEvent("change",e)},updateIFrame:function(e){var t,i='<html><body><div id="state" role="presentation">'+Ext.util.Format.htmlEncode(e)+"</div></body></html>";try{return(t=this.iframe.contentWindow.document).open(),t.write(i),t.close(),!0}catch(e){return!1}},checkIFrame:function(){var e,n,r,s=this,o=s.iframe.contentWindow;o&&o.document?(e=o.document.getElementById("state"),n=e?e.innerText:null,r=s.getHash(),Ext.TaskManager.start({run:function(){var e=o.document.getElementById("state"),t=e?e.innerText:null,i=s.getHash();t!==n?(n=t,s.handleStateChange(t),s.setHash(t),r=t,s.doSave()):i!==r&&(r=i,s.updateIFrame(i))},interval:50,scope:s}),s.ready=!0,s.fireEvent("ready",s)):Ext.Function.defer(this.checkIFrame,10,this)},startUp:function(){var t,i=this;i.currentToken=i.hiddenField.value||this.getHash(),t=i.getHash(),Ext.TaskManager.start({run:function(){var e=i.getHash();e!==t&&(t=e,i.handleStateChange(t),i.doSave())},interval:50,scope:i}),i.ready=!0,i.fireEvent("ready",i)},init:function(e,t){var i=this;Ext.DomHelper;i.ready?Ext.callback(e,t,[i]):Ext.isReady?(i.hiddenField=Ext.getDom(i.fieldId),i.hiddenField||(i.hiddenField=Ext.getBody().createChild({id:Ext.id(),tag:"form",role:"presentation",cls:Ext.baseCSSPrefix+"hide-display",children:[{tag:"input",type:"hidden",id:i.fieldId}]},!1,!0).firstChild),i.addEvents("ready","change"),e&&i.on("ready",e,t,{single:!0}),i.startUp()):Ext.onReady(function(){i.init(e,t)})},add:function(e,t){return!1!==t&&this.getToken()===e||this.setHash(e),!0},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}}),Ext});