(self.webpackChunkadminUI=self.webpackChunkadminUI||[]).push([[411],{1411:function(e,t,n){n(7873),n(5172),n(3561),n(6916),n(9906),n(4214),n(4181),n(6428),n(2749),n(7683),n(199),n(4464),n(1861),n(1258),n(608),n(6571),n(862),n(7844),n(2855),n(3947),n(8585),n(7211),n(5079),n(6510),n(2220),n(9875),n(2118),n(923),n(9061)},9061:function(){tinymce.PluginManager.add("templateEditor",(function(e,t){function n(){let t=e.dom,n={},i=t.getParent(e.selection.getStart(),"tr");if(i||(i=t.getParent(e.selection.getStart(),"p")||t.getParent(e.selection.getStart(),"div")||e.selection.getStart()),i){if(i.previousSibling&&"#comment"===i.previousSibling.nodeName&&i.previousSibling.nodeValue&&/^{{[#/]{0,1}?\w*?}}$/.test(i.previousSibling.nodeValue)){let e=i.previousSibling.nodeValue.match(/^{{[#/]{0,1}?(\w*?)}}$/);e&&e.length>1&&(n.templateType=e[1])}e.windowManager.open({title:"Section",data:n,body:{type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,items:[{type:"textbox",label:"Key",name:"templateType"},{type:"checkbox",label:"Remove section",name:"removeSection"}]}]},onsubmit:function(){n=this.toJSON(),e.undoManager.transact((function(){let t,o,a=n.templateType?n.templateType.trim():null;!0!==n.removeSection&&a?(e.dom.setAttribs(i,{templateType:a}),e.dom.addClass(i,"tinymce_templated"),i.dataset.iterateOver=a,a&&(i.insertAdjacentHTML("beforebegin","\x3c!--{{#"+a+"}}--\x3e"),i.insertAdjacentHTML("afterend","\x3c!--{{/"+a+"}}--\x3e"))):(e.dom.removeClass(i,"tinymce_templated"),i.dataset.iterateOver="",i.previousSibling&&"#comment"===i.previousSibling.nodeName&&(t=i.previousSibling.nodeValue),i.nextSibling&&"#comment"===i.nextSibling.nodeName&&(o=i.nextSibling.nodeValue),t&&o&&t.substr(3)===o.substr(3)&&(i.parentNode.removeChild(i.previousSibling),i.parentNode.removeChild(i.nextSibling)))})),e.save()}})}}e.addMenuItem("rowTemplate",{text:"Section",shortcut:"Ctrl+Alt+T",icon:"row-template-icon",context:"edit",onPostRender:function(){},onclick:n}),e.addButton("rowTemplate",{text:"Section",shortcut:"Ctrl+Alt+T",icon:"row-template-icon",onclick:n}),e.addButton("pageOrientation",{type:"menubutton",title:"Page orientation",text:"Page orientation",menu:[{text:"Portrait",onclick:function(){e.settings.reportEditor.setOrientation("portrait")}},{text:"Landscape",onclick:function(){e.settings.reportEditor.setOrientation("landscape")}}]}),e.on("init",(function(){e.dom.addStyle(".tinymce_templated{border-style: dashed; border-width: 2px; border-color: #8bd689;}");const t="p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img";e.formatter.register({alignleftTe:{selector:t,styles:{align:"left"}},aligncenterTe:{selector:t,styles:{align:"center"}},alignrightTe:{selector:t,styles:{align:"right"}},alignjustifyTe:{selector:t,styles:{align:"justify"}}})})),e.on("dblclick",n)}))}}]);